(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function sy(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Pc={exports:{}},Os={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function ly(){if(Tp)return Os;Tp=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,o,u){var p=null;if(u!==void 0&&(p=""+u),o.key!==void 0&&(p=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:s,type:i,key:p,ref:o!==void 0?o:null,props:u}}return Os.Fragment=t,Os.jsx=n,Os.jsxs=n,Os}var wp;function ry(){return wp||(wp=1,Pc.exports=ly()),Pc.exports}var r=ry(),$c={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function oy(){if(Cp)return Re;Cp=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),T=Symbol.iterator;function _(j){return j===null||typeof j!="object"?null:(j=T&&j[T]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function U(j,$,ue){this.props=j,this.context=$,this.refs=E,this.updater=ue||S}U.prototype.isReactComponent={},U.prototype.setState=function(j,$){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,$,"setState")},U.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function R(){}R.prototype=U.prototype;function M(j,$,ue){this.props=j,this.context=$,this.refs=E,this.updater=ue||S}var H=M.prototype=new R;H.constructor=M,w(H,U.prototype),H.isPureReactComponent=!0;var O=Array.isArray;function Q(){}var D={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function I(j,$,ue){var ve=ue.ref;return{$$typeof:s,type:j,key:$,ref:ve!==void 0?ve:null,props:ue}}function B(j,$){return I(j.type,$,j.props)}function te(j){return typeof j=="object"&&j!==null&&j.$$typeof===s}function Y(j){var $={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ue){return $[ue]})}var de=/\/+/g;function F(j,$){return typeof j=="object"&&j!==null&&j.key!=null?Y(""+j.key):$.toString(36)}function pe(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Q,Q):(j.status="pending",j.then(function($){j.status==="pending"&&(j.status="fulfilled",j.value=$)},function($){j.status==="pending"&&(j.status="rejected",j.reason=$)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function q(j,$,ue,ve,ke){var ce=typeof j;(ce==="undefined"||ce==="boolean")&&(j=null);var he=!1;if(j===null)he=!0;else switch(ce){case"bigint":case"string":case"number":he=!0;break;case"object":switch(j.$$typeof){case s:case t:he=!0;break;case y:return he=j._init,q(he(j._payload),$,ue,ve,ke)}}if(he)return ke=ke(j),he=ve===""?"."+F(j,0):ve,O(ke)?(ue="",he!=null&&(ue=he.replace(de,"$&/")+"/"),q(ke,$,ue,"",function(we){return we})):ke!=null&&(te(ke)&&(ke=B(ke,ue+(ke.key==null||j&&j.key===ke.key?"":(""+ke.key).replace(de,"$&/")+"/")+he)),$.push(ke)),1;he=0;var Ce=ve===""?".":ve+":";if(O(j))for(var P=0;P<j.length;P++)ve=j[P],ce=Ce+F(ve,P),he+=q(ve,$,ue,ce,ke);else if(P=_(j),typeof P=="function")for(j=P.call(j),P=0;!(ve=j.next()).done;)ve=ve.value,ce=Ce+F(ve,P++),he+=q(ve,$,ue,ce,ke);else if(ce==="object"){if(typeof j.then=="function")return q(pe(j),$,ue,ve,ke);throw $=String(j),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return he}function V(j,$,ue){if(j==null)return j;var ve=[],ke=0;return q(j,ve,"","",function(ce){return $.call(ue,ce,ke++)}),ve}function ne(j){if(j._status===-1){var $=j._result;$=$(),$.then(function(ue){(j._status===0||j._status===-1)&&(j._status=1,j._result=ue)},function(ue){(j._status===0||j._status===-1)&&(j._status=2,j._result=ue)}),j._status===-1&&(j._status=0,j._result=$)}if(j._status===1)return j._result.default;throw j._result}var K=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},me={map:V,forEach:function(j,$,ue){V(j,function(){$.apply(this,arguments)},ue)},count:function(j){var $=0;return V(j,function(){$++}),$},toArray:function(j){return V(j,function($){return $})||[]},only:function(j){if(!te(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Re.Activity=b,Re.Children=me,Re.Component=U,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=M,Re.StrictMode=i,Re.Suspense=v,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Re.__COMPILER_RUNTIME={__proto__:null,c:function(j){return D.H.useMemoCache(j)}},Re.cache=function(j){return function(){return j.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(j,$,ue){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ve=w({},j.props),ke=j.key;if($!=null)for(ce in $.key!==void 0&&(ke=""+$.key),$)!L.call($,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&$.ref===void 0||(ve[ce]=$[ce]);var ce=arguments.length-2;if(ce===1)ve.children=ue;else if(1<ce){for(var he=Array(ce),Ce=0;Ce<ce;Ce++)he[Ce]=arguments[Ce+2];ve.children=he}return I(j.type,ke,ve)},Re.createContext=function(j){return j={$$typeof:p,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},Re.createElement=function(j,$,ue){var ve,ke={},ce=null;if($!=null)for(ve in $.key!==void 0&&(ce=""+$.key),$)L.call($,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(ke[ve]=$[ve]);var he=arguments.length-2;if(he===1)ke.children=ue;else if(1<he){for(var Ce=Array(he),P=0;P<he;P++)Ce[P]=arguments[P+2];ke.children=Ce}if(j&&j.defaultProps)for(ve in he=j.defaultProps,he)ke[ve]===void 0&&(ke[ve]=he[ve]);return I(j,ce,ke)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(j){return{$$typeof:g,render:j}},Re.isValidElement=te,Re.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:ne}},Re.memo=function(j,$){return{$$typeof:x,type:j,compare:$===void 0?null:$}},Re.startTransition=function(j){var $=D.T,ue={};D.T=ue;try{var ve=j(),ke=D.S;ke!==null&&ke(ue,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(Q,K)}catch(ce){K(ce)}finally{$!==null&&ue.types!==null&&($.types=ue.types),D.T=$}},Re.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Re.use=function(j){return D.H.use(j)},Re.useActionState=function(j,$,ue){return D.H.useActionState(j,$,ue)},Re.useCallback=function(j,$){return D.H.useCallback(j,$)},Re.useContext=function(j){return D.H.useContext(j)},Re.useDebugValue=function(){},Re.useDeferredValue=function(j,$){return D.H.useDeferredValue(j,$)},Re.useEffect=function(j,$){return D.H.useEffect(j,$)},Re.useEffectEvent=function(j){return D.H.useEffectEvent(j)},Re.useId=function(){return D.H.useId()},Re.useImperativeHandle=function(j,$,ue){return D.H.useImperativeHandle(j,$,ue)},Re.useInsertionEffect=function(j,$){return D.H.useInsertionEffect(j,$)},Re.useLayoutEffect=function(j,$){return D.H.useLayoutEffect(j,$)},Re.useMemo=function(j,$){return D.H.useMemo(j,$)},Re.useOptimistic=function(j,$){return D.H.useOptimistic(j,$)},Re.useReducer=function(j,$,ue){return D.H.useReducer(j,$,ue)},Re.useRef=function(j){return D.H.useRef(j)},Re.useState=function(j){return D.H.useState(j)},Re.useSyncExternalStore=function(j,$,ue){return D.H.useSyncExternalStore(j,$,ue)},Re.useTransition=function(){return D.H.useTransition()},Re.version="19.2.3",Re}var Sp;function xu(){return Sp||(Sp=1,$c.exports=oy()),$c.exports}var k=xu();const zi=sy(k);var Fc={exports:{}},Vs={},Yc={exports:{}},Zc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function cy(){return _p||(_p=1,(function(s){function t(q,V){var ne=q.length;q.push(V);e:for(;0<ne;){var K=ne-1>>>1,me=q[K];if(0<o(me,V))q[K]=V,q[ne]=me,ne=K;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var V=q[0],ne=q.pop();if(ne!==V){q[0]=ne;e:for(var K=0,me=q.length,j=me>>>1;K<j;){var $=2*(K+1)-1,ue=q[$],ve=$+1,ke=q[ve];if(0>o(ue,ne))ve<me&&0>o(ke,ue)?(q[K]=ke,q[ve]=ne,K=ve):(q[K]=ue,q[$]=ne,K=$);else if(ve<me&&0>o(ke,ne))q[K]=ke,q[ve]=ne,K=ve;else break e}}return V}function o(q,V){var ne=q.sortIndex-V.sortIndex;return ne!==0?ne:q.id-V.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var p=Date,g=p.now();s.unstable_now=function(){return p.now()-g}}var v=[],x=[],y=1,b=null,T=3,_=!1,S=!1,w=!1,E=!1,U=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function H(q){for(var V=n(x);V!==null;){if(V.callback===null)i(x);else if(V.startTime<=q)i(x),V.sortIndex=V.expirationTime,t(v,V);else break;V=n(x)}}function O(q){if(w=!1,H(q),!S)if(n(v)!==null)S=!0,Q||(Q=!0,Y());else{var V=n(x);V!==null&&pe(O,V.startTime-q)}}var Q=!1,D=-1,L=5,I=-1;function B(){return E?!0:!(s.unstable_now()-I<L)}function te(){if(E=!1,Q){var q=s.unstable_now();I=q;var V=!0;try{e:{S=!1,w&&(w=!1,R(D),D=-1),_=!0;var ne=T;try{t:{for(H(q),b=n(v);b!==null&&!(b.expirationTime>q&&B());){var K=b.callback;if(typeof K=="function"){b.callback=null,T=b.priorityLevel;var me=K(b.expirationTime<=q);if(q=s.unstable_now(),typeof me=="function"){b.callback=me,H(q),V=!0;break t}b===n(v)&&i(v),H(q)}else i(v);b=n(v)}if(b!==null)V=!0;else{var j=n(x);j!==null&&pe(O,j.startTime-q),V=!1}}break e}finally{b=null,T=ne,_=!1}V=void 0}}finally{V?Y():Q=!1}}}var Y;if(typeof M=="function")Y=function(){M(te)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,F=de.port2;de.port1.onmessage=te,Y=function(){F.postMessage(null)}}else Y=function(){U(te,0)};function pe(q,V){D=U(function(){q(s.unstable_now())},V)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return T},s.unstable_next=function(q){switch(T){case 1:case 2:case 3:var V=3;break;default:V=T}var ne=T;T=V;try{return q()}finally{T=ne}},s.unstable_requestPaint=function(){E=!0},s.unstable_runWithPriority=function(q,V){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ne=T;T=q;try{return V()}finally{T=ne}},s.unstable_scheduleCallback=function(q,V,ne){var K=s.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?K+ne:K):ne=K,q){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ne+me,q={id:y++,callback:V,priorityLevel:q,startTime:ne,expirationTime:me,sortIndex:-1},ne>K?(q.sortIndex=ne,t(x,q),n(v)===null&&q===n(x)&&(w?(R(D),D=-1):w=!0,pe(O,ne-K))):(q.sortIndex=me,t(v,q),S||_||(S=!0,Q||(Q=!0,Y()))),q},s.unstable_shouldYield=B,s.unstable_wrapCallback=function(q){var V=T;return function(){var ne=T;T=V;try{return q.apply(this,arguments)}finally{T=ne}}}})(Zc)),Zc}var kp;function uy(){return kp||(kp=1,Yc.exports=cy()),Yc.exports}var Jc={exports:{}},Mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function dy(){if(Ep)return Mt;Ep=1;var s=xu();function t(v){var x="https://react.dev/errors/"+v;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)x+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+v+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,x,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:v,containerInfo:x,implementation:y}}var p=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,x){if(v==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Mt.createPortal=function(v,x){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(t(299));return u(v,x,null,y)},Mt.flushSync=function(v){var x=p.T,y=i.p;try{if(p.T=null,i.p=2,v)return v()}finally{p.T=x,i.p=y,i.d.f()}},Mt.preconnect=function(v,x){typeof v=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(v,x))},Mt.prefetchDNS=function(v){typeof v=="string"&&i.d.D(v)},Mt.preinit=function(v,x){if(typeof v=="string"&&x&&typeof x.as=="string"){var y=x.as,b=g(y,x.crossOrigin),T=typeof x.integrity=="string"?x.integrity:void 0,_=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;y==="style"?i.d.S(v,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:_}):y==="script"&&i.d.X(v,{crossOrigin:b,integrity:T,fetchPriority:_,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Mt.preinitModule=function(v,x){if(typeof v=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var y=g(x.as,x.crossOrigin);i.d.M(v,{crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(v)},Mt.preload=function(v,x){if(typeof v=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var y=x.as,b=g(y,x.crossOrigin);i.d.L(v,y,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Mt.preloadModule=function(v,x){if(typeof v=="string")if(x){var y=g(x.as,x.crossOrigin);i.d.m(v,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(v)},Mt.requestFormReset=function(v){i.d.r(v)},Mt.unstable_batchedUpdates=function(v,x){return v(x)},Mt.useFormState=function(v,x,y){return p.H.useFormState(v,x,y)},Mt.useFormStatus=function(){return p.H.useHostTransitionStatus()},Mt.version="19.2.3",Mt}var jp;function fy(){if(jp)return Jc.exports;jp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Jc.exports=dy(),Jc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function my(){if(Ap)return Vs;Ap=1;var s=uy(),t=xu(),n=fy();function i(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,l=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(l=a.return),e=a.return;while(e)}return a.tag===3?l:null}function p(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function g(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function v(e){if(u(e)!==e)throw Error(i(188))}function x(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(i(188));return a!==e?null:e}for(var l=e,c=a;;){var m=l.return;if(m===null)break;var h=m.alternate;if(h===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===h.child){for(h=m.child;h;){if(h===l)return v(m),e;if(h===c)return v(m),a;h=h.sibling}throw Error(i(188))}if(l.return!==c.return)l=m,c=h;else{for(var N=!1,C=m.child;C;){if(C===l){N=!0,l=m,c=h;break}if(C===c){N=!0,c=m,l=h;break}C=C.sibling}if(!N){for(C=h.child;C;){if(C===l){N=!0,l=h,c=m;break}if(C===c){N=!0,c=h,l=m;break}C=C.sibling}if(!N)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?e:a}function y(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=y(e),a!==null)return a;e=e.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),M=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var de=Symbol.for("react.client.reference");function F(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===de?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case U:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case Q:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case M:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case H:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return a=e.displayName||null,a!==null?a:F(e.type)||"Memo";case L:a=e._payload,e=e._init;try{return F(e(a))}catch{}}return null}var pe=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},K=[],me=-1;function j(e){return{current:e}}function $(e){0>me||(e.current=K[me],K[me]=null,me--)}function ue(e,a){me++,K[me]=e.current,e.current=a}var ve=j(null),ke=j(null),ce=j(null),he=j(null);function Ce(e,a){switch(ue(ce,a),ue(ke,e),ue(ve,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?$m(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=$m(a),e=Fm(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(ve),ue(ve,e)}function P(){$(ve),$(ke),$(ce)}function we(e){e.memoizedState!==null&&ue(he,e);var a=ve.current,l=Fm(a,e.type);a!==l&&(ue(ke,e),ue(ve,l))}function Oe(e){ke.current===e&&($(ve),$(ke)),he.current===e&&($(he),Is._currentValue=ne)}var ut,wt;function Ve(e){if(ut===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ut=a&&a[1]||"",wt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ut+e+wt}var Rt=!1;function qn(e,a){if(!e||Rt)return"";Rt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ee){var X=ee}Reflect.construct(e,[],oe)}else{try{oe.call()}catch(ee){X=ee}e.call(oe.prototype)}}else{try{throw Error()}catch(ee){X=ee}(oe=e())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ee){if(ee&&X&&typeof ee.stack=="string")return[ee.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),N=h[0],C=h[1];if(N&&C){var A=N.split(`
`),J=C.split(`
`);for(m=c=0;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;for(;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;if(c===A.length||m===J.length)for(c=A.length-1,m=J.length-1;1<=c&&0<=m&&A[c]!==J[m];)m--;for(;1<=c&&0<=m;c--,m--)if(A[c]!==J[m]){if(c!==1||m!==1)do if(c--,m--,0>m||A[c]!==J[m]){var se=`
`+A[c].replace(" at new "," at ");return e.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",e.displayName)),se}while(1<=c&&0<=m);break}}}finally{Rt=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Ve(l):""}function Zs(e,a){switch(e.tag){case 26:case 27:case 5:return Ve(e.type);case 16:return Ve("Lazy");case 13:return e.child!==a&&a!==null?Ve("Suspense Fallback"):Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return qn(e.type,!1);case 11:return qn(e.type.render,!1);case 1:return qn(e.type,!0);case 31:return Ve("Activity");default:return""}}function Js(e){try{var a="",l=null;do a+=Zs(e,l),l=e,e=e.return;while(e);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ie=Object.prototype.hasOwnProperty,ae=s.unstable_scheduleCallback,le=s.unstable_cancelCallback,fe=s.unstable_shouldYield,gt=s.unstable_requestPaint,Xe=s.unstable_now,qa=s.unstable_getCurrentPriorityLevel,ba=s.unstable_ImmediatePriority,hn=s.unstable_UserBlockingPriority,Pa=s.unstable_NormalPriority,Ar=s.unstable_LowPriority,Cu=s.unstable_IdlePriority,Bx=s.log,Gx=s.unstable_setDisableYieldValue,Fi=null,Pt=null;function Pn(e){if(typeof Bx=="function"&&Gx(e),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Fi,e)}catch{}}var $t=Math.clz32?Math.clz32:$x,qx=Math.log,Px=Math.LN2;function $x(e){return e>>>=0,e===0?32:31-(qx(e)/Px|0)|0}var Ks=256,Xs=262144,Qs=4194304;function Na(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ws(e,a,l){var c=e.pendingLanes;if(c===0)return 0;var m=0,h=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var C=c&134217727;return C!==0?(c=C&~h,c!==0?m=Na(c):(N&=C,N!==0?m=Na(N):l||(l=C&~e,l!==0&&(m=Na(l))))):(C=c&~h,C!==0?m=Na(C):N!==0?m=Na(N):l||(l=c&~e,l!==0&&(m=Na(l)))),m===0?0:a!==0&&a!==m&&(a&h)===0&&(h=m&-m,l=a&-a,h>=l||h===32&&(l&4194048)!==0)?a:m}function Yi(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function Fx(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Su(){var e=Qs;return Qs<<=1,(Qs&62914560)===0&&(Qs=4194304),e}function Dr(e){for(var a=[],l=0;31>l;l++)a.push(e);return a}function Zi(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yx(e,a,l,c,m,h){var N=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var C=e.entanglements,A=e.expirationTimes,J=e.hiddenUpdates;for(l=N&~l;0<l;){var se=31-$t(l),oe=1<<se;C[se]=0,A[se]=-1;var X=J[se];if(X!==null)for(J[se]=null,se=0;se<X.length;se++){var ee=X[se];ee!==null&&(ee.lane&=-536870913)}l&=~oe}c!==0&&_u(e,c,0),h!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=h&~(N&~a))}function _u(e,a,l){e.pendingLanes|=a,e.suspendedLanes&=~a;var c=31-$t(a);e.entangledLanes|=a,e.entanglements[c]=e.entanglements[c]|1073741824|l&261930}function ku(e,a){var l=e.entangledLanes|=a;for(e=e.entanglements;l;){var c=31-$t(l),m=1<<c;m&a|e[c]&a&&(e[c]|=a),l&=~m}}function Eu(e,a){var l=a&-a;return l=(l&42)!==0?1:Mr(l),(l&(e.suspendedLanes|a))!==0?0:l}function Mr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Rr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ju(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:hp(e.type))}function Au(e,a){var l=V.p;try{return V.p=e,a()}finally{V.p=l}}var $n=Math.random().toString(36).slice(2),kt="__reactFiber$"+$n,Lt="__reactProps$"+$n,$a="__reactContainer$"+$n,Ir="__reactEvents$"+$n,Zx="__reactListeners$"+$n,Jx="__reactHandles$"+$n,Du="__reactResources$"+$n,Ji="__reactMarker$"+$n;function Ur(e){delete e[kt],delete e[Lt],delete e[Ir],delete e[Zx],delete e[Jx]}function Fa(e){var a=e[kt];if(a)return a;for(var l=e.parentNode;l;){if(a=l[$a]||l[kt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(e=Wm(e);e!==null;){if(l=e[kt])return l;e=Wm(e)}return a}e=l,l=e.parentNode}return null}function Ya(e){if(e=e[kt]||e[$a]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function Ki(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(i(33))}function Za(e){var a=e[Du];return a||(a=e[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function St(e){e[Ji]=!0}var Mu=new Set,Ru={};function Ta(e,a){Ja(e,a),Ja(e+"Capture",a)}function Ja(e,a){for(Ru[e]=a,e=0;e<a.length;e++)Mu.add(a[e])}var Kx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Iu={},Uu={};function Xx(e){return ie.call(Uu,e)?!0:ie.call(Iu,e)?!1:Kx.test(e)?Uu[e]=!0:(Iu[e]=!0,!1)}function el(e,a,l){if(Xx(a))if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+l)}}function tl(e,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+l)}}function wn(e,a,l,c){if(c===null)e.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(a,l,""+c)}}function Wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zu(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Qx(e,a,l){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,h=c.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return m.call(this)},set:function(N){l=""+N,h.call(this,N)}}),Object.defineProperty(e,a,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(N){l=""+N},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function zr(e){if(!e._valueTracker){var a=zu(e)?"checked":"value";e._valueTracker=Qx(e,a,""+e[a])}}function Lu(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return e&&(c=zu(e)?e.checked?"true":"false":e.value),e=c,e!==l?(a.setValue(e),!0):!1}function nl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Wx=/[\n"\\]/g;function en(e){return e.replace(Wx,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Lr(e,a,l,c,m,h,N,C){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),a!=null?N==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Wt(a)):e.value!==""+Wt(a)&&(e.value=""+Wt(a)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),a!=null?Or(e,N,Wt(a)):l!=null?Or(e,N,Wt(l)):c!=null&&e.removeAttribute("value"),m==null&&h!=null&&(e.defaultChecked=!!h),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Wt(C):e.removeAttribute("name")}function Ou(e,a,l,c,m,h,N,C){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),a!=null||l!=null){if(!(h!=="submit"&&h!=="reset"||a!=null)){zr(e);return}l=l!=null?""+Wt(l):"",a=a!=null?""+Wt(a):l,C||a===e.value||(e.value=a),e.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=C?e.checked:!!c,e.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N),zr(e)}function Or(e,a,l){a==="number"&&nl(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ka(e,a,l,c){if(e=e.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<e.length;l++)m=a.hasOwnProperty("$"+e[l].value),e[l].selected!==m&&(e[l].selected=m),m&&c&&(e[l].defaultSelected=!0)}else{for(l=""+Wt(l),a=null,m=0;m<e.length;m++){if(e[m].value===l){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}a!==null||e[m].disabled||(a=e[m])}a!==null&&(a.selected=!0)}}function Vu(e,a,l){if(a!=null&&(a=""+Wt(a),a!==e.value&&(e.value=a),l==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=l!=null?""+Wt(l):""}function Hu(e,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(pe(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Wt(a),e.defaultValue=l,c=e.textContent,c===l&&c!==""&&c!==null&&(e.value=c),zr(e)}function Xa(e,a){if(a){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=a;return}}e.textContent=a}var eg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bu(e,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":c?e.setProperty(a,l):typeof l!="number"||l===0||eg.has(a)?a==="float"?e.cssFloat=l:e[a]=(""+l).trim():e[a]=l+"px"}function Gu(e,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(e=e.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&Bu(e,m,c)}else for(var h in a)a.hasOwnProperty(h)&&Bu(e,h,a[h])}function Vr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ng=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(e){return ng.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Cn(){}var Hr=null;function Br(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qa=null,Wa=null;function qu(e){var a=Ya(e);if(a&&(e=a.stateNode)){var l=e[Lt]||null;e:switch(e=a.stateNode,a.type){case"input":if(Lr(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+en(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==e&&c.form===e.form){var m=c[Lt]||null;if(!m)throw Error(i(90));Lr(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===e.form&&Lu(c)}break e;case"textarea":Vu(e,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ka(e,!!l.multiple,a,!1)}}}var Gr=!1;function Pu(e,a,l){if(Gr)return e(a,l);Gr=!0;try{var c=e(a);return c}finally{if(Gr=!1,(Qa!==null||Wa!==null)&&(Pl(),Qa&&(a=Qa,e=Wa,Wa=Qa=null,qu(a),e)))for(a=0;a<e.length;a++)qu(e[a])}}function Xi(e,a){var l=e.stateNode;if(l===null)return null;var c=l[Lt]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qr=!1;if(Sn)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){qr=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{qr=!1}var Fn=null,Pr=null,il=null;function $u(){if(il)return il;var e,a=Pr,l=a.length,c,m="value"in Fn?Fn.value:Fn.textContent,h=m.length;for(e=0;e<l&&a[e]===m[e];e++);var N=l-e;for(c=1;c<=N&&a[l-c]===m[h-c];c++);return il=m.slice(e,1<c?1-c:void 0)}function sl(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function ll(){return!0}function Fu(){return!1}function Ot(e){function a(l,c,m,h,N){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=h,this.target=N,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(l=e[C],this[C]=l?l(h):h[C]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ll:Fu,this.isPropagationStopped=Fu,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),a}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=Ot(wa),Wi=b({},wa,{view:0,detail:0}),ag=Ot(Wi),$r,Fr,es,ol=b({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==es&&(es&&e.type==="mousemove"?($r=e.screenX-es.screenX,Fr=e.screenY-es.screenY):Fr=$r=0,es=e),$r)},movementY:function(e){return"movementY"in e?e.movementY:Fr}}),Yu=Ot(ol),ig=b({},ol,{dataTransfer:0}),sg=Ot(ig),lg=b({},Wi,{relatedTarget:0}),Yr=Ot(lg),rg=b({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),og=Ot(rg),cg=b({},wa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ug=Ot(cg),dg=b({},wa,{data:0}),Zu=Ot(dg),fg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hg(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=pg[e])?!!a[e]:!1}function Zr(){return hg}var xg=b({},Wi,{key:function(e){if(e.key){var a=fg[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(e){return e.type==="keypress"?sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gg=Ot(xg),vg=b({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ju=Ot(vg),yg=b({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),bg=Ot(yg),Ng=b({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tg=Ot(Ng),wg=b({},ol,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cg=Ot(wg),Sg=b({},wa,{newState:0,oldState:0}),_g=Ot(Sg),kg=[9,13,27,32],Jr=Sn&&"CompositionEvent"in window,ts=null;Sn&&"documentMode"in document&&(ts=document.documentMode);var Eg=Sn&&"TextEvent"in window&&!ts,Ku=Sn&&(!Jr||ts&&8<ts&&11>=ts),Xu=" ",Qu=!1;function Wu(e,a){switch(e){case"keyup":return kg.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ei=!1;function jg(e,a){switch(e){case"compositionend":return ed(a);case"keypress":return a.which!==32?null:(Qu=!0,Xu);case"textInput":return e=a.data,e===Xu&&Qu?null:e;default:return null}}function Ag(e,a){if(ei)return e==="compositionend"||!Jr&&Wu(e,a)?(e=$u(),il=Pr=Fn=null,ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ku&&a.locale!=="ko"?null:a.data;default:return null}}var Dg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function td(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!Dg[e.type]:a==="textarea"}function nd(e,a,l,c){Qa?Wa?Wa.push(c):Wa=[c]:Qa=c,a=Xl(a,"onChange"),0<a.length&&(l=new rl("onChange","change",null,l,c),e.push({event:l,listeners:a}))}var ns=null,as=null;function Mg(e){Vm(e,0)}function cl(e){var a=Ki(e);if(Lu(a))return e}function ad(e,a){if(e==="change")return a}var id=!1;if(Sn){var Kr;if(Sn){var Xr="oninput"in document;if(!Xr){var sd=document.createElement("div");sd.setAttribute("oninput","return;"),Xr=typeof sd.oninput=="function"}Kr=Xr}else Kr=!1;id=Kr&&(!document.documentMode||9<document.documentMode)}function ld(){ns&&(ns.detachEvent("onpropertychange",rd),as=ns=null)}function rd(e){if(e.propertyName==="value"&&cl(as)){var a=[];nd(a,as,e,Br(e)),Pu(Mg,a)}}function Rg(e,a,l){e==="focusin"?(ld(),ns=a,as=l,ns.attachEvent("onpropertychange",rd)):e==="focusout"&&ld()}function Ig(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cl(as)}function Ug(e,a){if(e==="click")return cl(a)}function zg(e,a){if(e==="input"||e==="change")return cl(a)}function Lg(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var Ft=typeof Object.is=="function"?Object.is:Lg;function is(e,a){if(Ft(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var l=Object.keys(e),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!ie.call(a,m)||!Ft(e[m],a[m]))return!1}return!0}function od(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cd(e,a){var l=od(e);e=0;for(var c;l;){if(l.nodeType===3){if(c=e+l.textContent.length,e<=a&&c>=a)return{node:l,offset:a-e};e=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=od(l)}}function ud(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?ud(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function dd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=nl(e.document);a instanceof e.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)e=a.contentWindow;else break;a=nl(e.document)}return a}function Qr(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var Og=Sn&&"documentMode"in document&&11>=document.documentMode,ti=null,Wr=null,ss=null,eo=!1;function fd(e,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;eo||ti==null||ti!==nl(c)||(c=ti,"selectionStart"in c&&Qr(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ss&&is(ss,c)||(ss=c,c=Xl(Wr,"onSelect"),0<c.length&&(a=new rl("onSelect","select",null,a,l),e.push({event:a,listeners:c}),a.target=ti)))}function Ca(e,a){var l={};return l[e.toLowerCase()]=a.toLowerCase(),l["Webkit"+e]="webkit"+a,l["Moz"+e]="moz"+a,l}var ni={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},to={},md={};Sn&&(md=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function Sa(e){if(to[e])return to[e];if(!ni[e])return e;var a=ni[e],l;for(l in a)if(a.hasOwnProperty(l)&&l in md)return to[e]=a[l];return e}var pd=Sa("animationend"),hd=Sa("animationiteration"),xd=Sa("animationstart"),Vg=Sa("transitionrun"),Hg=Sa("transitionstart"),Bg=Sa("transitioncancel"),gd=Sa("transitionend"),vd=new Map,no="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");no.push("scrollEnd");function dn(e,a){vd.set(e,a),Ta(a,[e])}var ul=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},tn=[],ai=0,ao=0;function dl(){for(var e=ai,a=ao=ai=0;a<e;){var l=tn[a];tn[a++]=null;var c=tn[a];tn[a++]=null;var m=tn[a];tn[a++]=null;var h=tn[a];if(tn[a++]=null,c!==null&&m!==null){var N=c.pending;N===null?m.next=m:(m.next=N.next,N.next=m),c.pending=m}h!==0&&yd(l,m,h)}}function fl(e,a,l,c){tn[ai++]=e,tn[ai++]=a,tn[ai++]=l,tn[ai++]=c,ao|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function io(e,a,l,c){return fl(e,a,l,c),ml(e)}function _a(e,a){return fl(e,null,null,a),ml(e)}function yd(e,a,l){e.lanes|=l;var c=e.alternate;c!==null&&(c.lanes|=l);for(var m=!1,h=e.return;h!==null;)h.childLanes|=l,c=h.alternate,c!==null&&(c.childLanes|=l),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(m=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,m&&a!==null&&(m=31-$t(l),e=h.hiddenUpdates,c=e[m],c===null?e[m]=[a]:c.push(a),a.lane=l|536870912),h):null}function ml(e){if(50<ks)throw ks=0,pc=null,Error(i(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var ii={};function Gg(e,a,l,c){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,a,l,c){return new Gg(e,a,l,c)}function so(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _n(e,a){var l=e.alternate;return l===null?(l=Yt(e.tag,a,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=a,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,a=e.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function bd(e,a){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,a=l.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function pl(e,a,l,c,m,h){var N=0;if(c=e,typeof e=="function")so(e)&&(N=1);else if(typeof e=="string")N=Yv(e,l,ve.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case I:return e=Yt(31,l,a,m),e.elementType=I,e.lanes=h,e;case w:return ka(l.children,m,h,a);case E:N=8,m|=24;break;case U:return e=Yt(12,l,a,m|2),e.elementType=U,e.lanes=h,e;case O:return e=Yt(13,l,a,m),e.elementType=O,e.lanes=h,e;case Q:return e=Yt(19,l,a,m),e.elementType=Q,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:N=10;break e;case R:N=9;break e;case H:N=11;break e;case D:N=14;break e;case L:N=16,c=null;break e}N=29,l=Error(i(130,e===null?"null":typeof e,"")),c=null}return a=Yt(N,l,a,m),a.elementType=e,a.type=c,a.lanes=h,a}function ka(e,a,l,c){return e=Yt(7,e,c,a),e.lanes=l,e}function lo(e,a,l){return e=Yt(6,e,null,a),e.lanes=l,e}function Nd(e){var a=Yt(18,null,null,0);return a.stateNode=e,a}function ro(e,a,l){return a=Yt(4,e.children!==null?e.children:[],e.key,a),a.lanes=l,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var Td=new WeakMap;function nn(e,a){if(typeof e=="object"&&e!==null){var l=Td.get(e);return l!==void 0?l:(a={value:e,source:a,stack:Js(a)},Td.set(e,a),a)}return{value:e,source:a,stack:Js(a)}}var si=[],li=0,hl=null,ls=0,an=[],sn=0,Yn=null,xn=1,gn="";function kn(e,a){si[li++]=ls,si[li++]=hl,hl=e,ls=a}function wd(e,a,l){an[sn++]=xn,an[sn++]=gn,an[sn++]=Yn,Yn=e;var c=xn;e=gn;var m=32-$t(c)-1;c&=~(1<<m),l+=1;var h=32-$t(a)+m;if(30<h){var N=m-m%5;h=(c&(1<<N)-1).toString(32),c>>=N,m-=N,xn=1<<32-$t(a)+m|l<<m|c,gn=h+e}else xn=1<<h|l<<m|c,gn=e}function oo(e){e.return!==null&&(kn(e,1),wd(e,1,0))}function co(e){for(;e===hl;)hl=si[--li],si[li]=null,ls=si[--li],si[li]=null;for(;e===Yn;)Yn=an[--sn],an[sn]=null,gn=an[--sn],an[sn]=null,xn=an[--sn],an[sn]=null}function Cd(e,a){an[sn++]=xn,an[sn++]=gn,an[sn++]=Yn,xn=a.id,gn=a.overflow,Yn=e}var Et=null,rt=null,Pe=!1,Zn=null,ln=!1,uo=Error(i(519));function Jn(e){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rs(nn(a,e)),uo}function Sd(e){var a=e.stateNode,l=e.type,c=e.memoizedProps;switch(a[kt]=e,a[Lt]=c,l){case"dialog":Be("cancel",a),Be("close",a);break;case"iframe":case"object":case"embed":Be("load",a);break;case"video":case"audio":for(l=0;l<js.length;l++)Be(js[l],a);break;case"source":Be("error",a);break;case"img":case"image":case"link":Be("error",a),Be("load",a);break;case"details":Be("toggle",a);break;case"input":Be("invalid",a),Ou(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Be("invalid",a);break;case"textarea":Be("invalid",a),Hu(a,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||qm(a.textContent,l)?(c.popover!=null&&(Be("beforetoggle",a),Be("toggle",a)),c.onScroll!=null&&Be("scroll",a),c.onScrollEnd!=null&&Be("scrollend",a),c.onClick!=null&&(a.onclick=Cn),a=!0):a=!1,a||Jn(e,!0)}function _d(e){for(Et=e.return;Et;)switch(Et.tag){case 5:case 31:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:Et=Et.return}}function ri(e){if(e!==Et)return!1;if(!Pe)return _d(e),Pe=!0,!1;var a=e.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||jc(e.type,e.memoizedProps)),l=!l),l&&rt&&Jn(e),_d(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));rt=Qm(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));rt=Qm(e)}else a===27?(a=rt,ca(e.type)?(e=Ic,Ic=null,rt=e):rt=a):rt=Et?on(e.stateNode.nextSibling):null;return!0}function Ea(){rt=Et=null,Pe=!1}function fo(){var e=Zn;return e!==null&&(Gt===null?Gt=e:Gt.push.apply(Gt,e),Zn=null),e}function rs(e){Zn===null?Zn=[e]:Zn.push(e)}var mo=j(null),ja=null,En=null;function Kn(e,a,l){ue(mo,a._currentValue),a._currentValue=l}function jn(e){e._currentValue=mo.current,$(mo)}function po(e,a,l){for(;e!==null;){var c=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),e===l)break;e=e.return}}function ho(e,a,l,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var h=m.dependencies;if(h!==null){var N=m.child;h=h.firstContext;e:for(;h!==null;){var C=h;h=m;for(var A=0;A<a.length;A++)if(C.context===a[A]){h.lanes|=l,C=h.alternate,C!==null&&(C.lanes|=l),po(h.return,l,e),c||(N=null);break e}h=C.next}}else if(m.tag===18){if(N=m.return,N===null)throw Error(i(341));N.lanes|=l,h=N.alternate,h!==null&&(h.lanes|=l),po(N,l,e),N=null}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===e){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}}function oi(e,a,l,c){e=null;for(var m=a,h=!1;m!==null;){if(!h){if((m.flags&524288)!==0)h=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var N=m.alternate;if(N===null)throw Error(i(387));if(N=N.memoizedProps,N!==null){var C=m.type;Ft(m.pendingProps.value,N.value)||(e!==null?e.push(C):e=[C])}}else if(m===he.current){if(N=m.alternate,N===null)throw Error(i(387));N.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Is):e=[Is])}m=m.return}e!==null&&ho(a,e,l,c),a.flags|=262144}function xl(e){for(e=e.firstContext;e!==null;){if(!Ft(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Aa(e){ja=e,En=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jt(e){return kd(ja,e)}function gl(e,a){return ja===null&&Aa(e),kd(e,a)}function kd(e,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},En===null){if(e===null)throw Error(i(308));En=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else En=En.next=a;return l}var qg=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(l,c){e.push(c)}};this.abort=function(){a.aborted=!0,e.forEach(function(l){return l()})}},Pg=s.unstable_scheduleCallback,$g=s.unstable_NormalPriority,vt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xo(){return{controller:new qg,data:new Map,refCount:0}}function os(e){e.refCount--,e.refCount===0&&Pg($g,function(){e.controller.abort()})}var cs=null,go=0,ci=0,ui=null;function Fg(e,a){if(cs===null){var l=cs=[];go=0,ci=bc(),ui={status:"pending",value:void 0,then:function(c){l.push(c)}}}return go++,a.then(Ed,Ed),a}function Ed(){if(--go===0&&cs!==null){ui!==null&&(ui.status="fulfilled");var e=cs;cs=null,ci=0,ui=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function Yg(e,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return e.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var jd=q.S;q.S=function(e,a){mm=Xe(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Fg(e,a),jd!==null&&jd(e,a)};var Da=j(null);function vo(){var e=Da.current;return e!==null?e:st.pooledCache}function vl(e,a){a===null?ue(Da,Da.current):ue(Da,a.pool)}function Ad(){var e=vo();return e===null?null:{parent:vt._currentValue,pool:e}}var di=Error(i(460)),yo=Error(i(474)),yl=Error(i(542)),bl={then:function(){}};function Dd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Md(e,a,l){switch(l=e[l],l===void 0?e.push(a):l!==a&&(a.then(Cn,Cn),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Id(e),e;default:if(typeof a.status=="string")a.then(Cn,Cn);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=a,e.status="pending",e.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Id(e),e}throw Ra=a,di}}function Ma(e){try{var a=e._init;return a(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ra=l,di):l}}var Ra=null;function Rd(){if(Ra===null)throw Error(i(459));var e=Ra;return Ra=null,e}function Id(e){if(e===di||e===yl)throw Error(i(483))}var fi=null,us=0;function Nl(e){var a=us;return us+=1,fi===null&&(fi=[]),Md(fi,e,a)}function ds(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Tl(e,a){throw a.$$typeof===T?Error(i(525)):(e=Object.prototype.toString.call(a),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function Ud(e){function a(G,z){if(e){var Z=G.deletions;Z===null?(G.deletions=[z],G.flags|=16):Z.push(z)}}function l(G,z){if(!e)return null;for(;z!==null;)a(G,z),z=z.sibling;return null}function c(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function m(G,z){return G=_n(G,z),G.index=0,G.sibling=null,G}function h(G,z,Z){return G.index=Z,e?(Z=G.alternate,Z!==null?(Z=Z.index,Z<z?(G.flags|=67108866,z):Z):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function N(G){return e&&G.alternate===null&&(G.flags|=67108866),G}function C(G,z,Z,re){return z===null||z.tag!==6?(z=lo(Z,G.mode,re),z.return=G,z):(z=m(z,Z),z.return=G,z)}function A(G,z,Z,re){var Ee=Z.type;return Ee===w?se(G,z,Z.props.children,re,Z.key):z!==null&&(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===L&&Ma(Ee)===z.type)?(z=m(z,Z.props),ds(z,Z),z.return=G,z):(z=pl(Z.type,Z.key,Z.props,null,G.mode,re),ds(z,Z),z.return=G,z)}function J(G,z,Z,re){return z===null||z.tag!==4||z.stateNode.containerInfo!==Z.containerInfo||z.stateNode.implementation!==Z.implementation?(z=ro(Z,G.mode,re),z.return=G,z):(z=m(z,Z.children||[]),z.return=G,z)}function se(G,z,Z,re,Ee){return z===null||z.tag!==7?(z=ka(Z,G.mode,re,Ee),z.return=G,z):(z=m(z,Z),z.return=G,z)}function oe(G,z,Z){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=lo(""+z,G.mode,Z),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case _:return Z=pl(z.type,z.key,z.props,null,G.mode,Z),ds(Z,z),Z.return=G,Z;case S:return z=ro(z,G.mode,Z),z.return=G,z;case L:return z=Ma(z),oe(G,z,Z)}if(pe(z)||Y(z))return z=ka(z,G.mode,Z,null),z.return=G,z;if(typeof z.then=="function")return oe(G,Nl(z),Z);if(z.$$typeof===M)return oe(G,gl(G,z),Z);Tl(G,z)}return null}function X(G,z,Z,re){var Ee=z!==null?z.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ee!==null?null:C(G,z,""+Z,re);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:return Z.key===Ee?A(G,z,Z,re):null;case S:return Z.key===Ee?J(G,z,Z,re):null;case L:return Z=Ma(Z),X(G,z,Z,re)}if(pe(Z)||Y(Z))return Ee!==null?null:se(G,z,Z,re,null);if(typeof Z.then=="function")return X(G,z,Nl(Z),re);if(Z.$$typeof===M)return X(G,z,gl(G,Z),re);Tl(G,Z)}return null}function ee(G,z,Z,re,Ee){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return G=G.get(Z)||null,C(z,G,""+re,Ee);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case _:return G=G.get(re.key===null?Z:re.key)||null,A(z,G,re,Ee);case S:return G=G.get(re.key===null?Z:re.key)||null,J(z,G,re,Ee);case L:return re=Ma(re),ee(G,z,Z,re,Ee)}if(pe(re)||Y(re))return G=G.get(Z)||null,se(z,G,re,Ee,null);if(typeof re.then=="function")return ee(G,z,Z,Nl(re),Ee);if(re.$$typeof===M)return ee(G,z,Z,gl(z,re),Ee);Tl(z,re)}return null}function Ne(G,z,Z,re){for(var Ee=null,Ze=null,Se=z,ze=z=0,qe=null;Se!==null&&ze<Z.length;ze++){Se.index>ze?(qe=Se,Se=null):qe=Se.sibling;var Je=X(G,Se,Z[ze],re);if(Je===null){Se===null&&(Se=qe);break}e&&Se&&Je.alternate===null&&a(G,Se),z=h(Je,z,ze),Ze===null?Ee=Je:Ze.sibling=Je,Ze=Je,Se=qe}if(ze===Z.length)return l(G,Se),Pe&&kn(G,ze),Ee;if(Se===null){for(;ze<Z.length;ze++)Se=oe(G,Z[ze],re),Se!==null&&(z=h(Se,z,ze),Ze===null?Ee=Se:Ze.sibling=Se,Ze=Se);return Pe&&kn(G,ze),Ee}for(Se=c(Se);ze<Z.length;ze++)qe=ee(Se,G,ze,Z[ze],re),qe!==null&&(e&&qe.alternate!==null&&Se.delete(qe.key===null?ze:qe.key),z=h(qe,z,ze),Ze===null?Ee=qe:Ze.sibling=qe,Ze=qe);return e&&Se.forEach(function(pa){return a(G,pa)}),Pe&&kn(G,ze),Ee}function je(G,z,Z,re){if(Z==null)throw Error(i(151));for(var Ee=null,Ze=null,Se=z,ze=z=0,qe=null,Je=Z.next();Se!==null&&!Je.done;ze++,Je=Z.next()){Se.index>ze?(qe=Se,Se=null):qe=Se.sibling;var pa=X(G,Se,Je.value,re);if(pa===null){Se===null&&(Se=qe);break}e&&Se&&pa.alternate===null&&a(G,Se),z=h(pa,z,ze),Ze===null?Ee=pa:Ze.sibling=pa,Ze=pa,Se=qe}if(Je.done)return l(G,Se),Pe&&kn(G,ze),Ee;if(Se===null){for(;!Je.done;ze++,Je=Z.next())Je=oe(G,Je.value,re),Je!==null&&(z=h(Je,z,ze),Ze===null?Ee=Je:Ze.sibling=Je,Ze=Je);return Pe&&kn(G,ze),Ee}for(Se=c(Se);!Je.done;ze++,Je=Z.next())Je=ee(Se,G,ze,Je.value,re),Je!==null&&(e&&Je.alternate!==null&&Se.delete(Je.key===null?ze:Je.key),z=h(Je,z,ze),Ze===null?Ee=Je:Ze.sibling=Je,Ze=Je);return e&&Se.forEach(function(iy){return a(G,iy)}),Pe&&kn(G,ze),Ee}function it(G,z,Z,re){if(typeof Z=="object"&&Z!==null&&Z.type===w&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:e:{for(var Ee=Z.key;z!==null;){if(z.key===Ee){if(Ee=Z.type,Ee===w){if(z.tag===7){l(G,z.sibling),re=m(z,Z.props.children),re.return=G,G=re;break e}}else if(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===L&&Ma(Ee)===z.type){l(G,z.sibling),re=m(z,Z.props),ds(re,Z),re.return=G,G=re;break e}l(G,z);break}else a(G,z);z=z.sibling}Z.type===w?(re=ka(Z.props.children,G.mode,re,Z.key),re.return=G,G=re):(re=pl(Z.type,Z.key,Z.props,null,G.mode,re),ds(re,Z),re.return=G,G=re)}return N(G);case S:e:{for(Ee=Z.key;z!==null;){if(z.key===Ee)if(z.tag===4&&z.stateNode.containerInfo===Z.containerInfo&&z.stateNode.implementation===Z.implementation){l(G,z.sibling),re=m(z,Z.children||[]),re.return=G,G=re;break e}else{l(G,z);break}else a(G,z);z=z.sibling}re=ro(Z,G.mode,re),re.return=G,G=re}return N(G);case L:return Z=Ma(Z),it(G,z,Z,re)}if(pe(Z))return Ne(G,z,Z,re);if(Y(Z)){if(Ee=Y(Z),typeof Ee!="function")throw Error(i(150));return Z=Ee.call(Z),je(G,z,Z,re)}if(typeof Z.then=="function")return it(G,z,Nl(Z),re);if(Z.$$typeof===M)return it(G,z,gl(G,Z),re);Tl(G,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,z!==null&&z.tag===6?(l(G,z.sibling),re=m(z,Z),re.return=G,G=re):(l(G,z),re=lo(Z,G.mode,re),re.return=G,G=re),N(G)):l(G,z)}return function(G,z,Z,re){try{us=0;var Ee=it(G,z,Z,re);return fi=null,Ee}catch(Se){if(Se===di||Se===yl)throw Se;var Ze=Yt(29,Se,null,G.mode);return Ze.lanes=re,Ze.return=G,Ze}finally{}}}var Ia=Ud(!0),zd=Ud(!1),Xn=!1;function bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function No(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wn(e,a,l){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Qe&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=ml(e),yd(e,null,l),a}return fl(e,c,a,l),ml(e)}function fs(e,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=e.pendingLanes,l|=c,a.lanes=l,ku(e,l)}}function To(e,a){var l=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,h=null;if(l=l.firstBaseUpdate,l!==null){do{var N={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};h===null?m=h=N:h=h.next=N,l=l.next}while(l!==null);h===null?m=h=a:h=h.next=a}else m=h=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=a:e.next=a,l.lastBaseUpdate=a}var wo=!1;function ms(){if(wo){var e=ui;if(e!==null)throw e}}function ps(e,a,l,c){wo=!1;var m=e.updateQueue;Xn=!1;var h=m.firstBaseUpdate,N=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var A=C,J=A.next;A.next=null,N===null?h=J:N.next=J,N=A;var se=e.alternate;se!==null&&(se=se.updateQueue,C=se.lastBaseUpdate,C!==N&&(C===null?se.firstBaseUpdate=J:C.next=J,se.lastBaseUpdate=A))}if(h!==null){var oe=m.baseState;N=0,se=J=A=null,C=h;do{var X=C.lane&-536870913,ee=X!==C.lane;if(ee?(Ge&X)===X:(c&X)===X){X!==0&&X===ci&&(wo=!0),se!==null&&(se=se.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ne=e,je=C;X=a;var it=l;switch(je.tag){case 1:if(Ne=je.payload,typeof Ne=="function"){oe=Ne.call(it,oe,X);break e}oe=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=je.payload,X=typeof Ne=="function"?Ne.call(it,oe,X):Ne,X==null)break e;oe=b({},oe,X);break e;case 2:Xn=!0}}X=C.callback,X!==null&&(e.flags|=64,ee&&(e.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[X]:ee.push(X))}else ee={lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},se===null?(J=se=ee,A=oe):se=se.next=ee,N|=X;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);se===null&&(A=oe),m.baseState=A,m.firstBaseUpdate=J,m.lastBaseUpdate=se,h===null&&(m.shared.lanes=0),ia|=N,e.lanes=N,e.memoizedState=oe}}function Ld(e,a){if(typeof e!="function")throw Error(i(191,e));e.call(a)}function Od(e,a){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Ld(l[e],a)}var mi=j(null),wl=j(0);function Vd(e,a){e=On,ue(wl,e),ue(mi,a),On=e|a.baseLanes}function Co(){ue(wl,On),ue(mi,mi.current)}function So(){On=wl.current,$(mi),$(wl)}var Zt=j(null),rn=null;function ea(e){var a=e.alternate;ue(ht,ht.current&1),ue(Zt,e),rn===null&&(a===null||mi.current!==null||a.memoizedState!==null)&&(rn=e)}function _o(e){ue(ht,ht.current),ue(Zt,e),rn===null&&(rn=e)}function Hd(e){e.tag===22?(ue(ht,ht.current),ue(Zt,e),rn===null&&(rn=e)):ta()}function ta(){ue(ht,ht.current),ue(Zt,Zt.current)}function Jt(e){$(Zt),rn===e&&(rn=null),$(ht)}var ht=j(0);function Cl(e){for(var a=e;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Mc(l)||Rc(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var An=0,Ue=null,nt=null,yt=null,Sl=!1,pi=!1,Ua=!1,_l=0,hs=0,hi=null,Zg=0;function mt(){throw Error(i(321))}function ko(e,a){if(a===null)return!1;for(var l=0;l<a.length&&l<e.length;l++)if(!Ft(e[l],a[l]))return!1;return!0}function Eo(e,a,l,c,m,h){return An=h,Ue=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,q.H=e===null||e.memoizedState===null?Cf:qo,Ua=!1,h=l(c,m),Ua=!1,pi&&(h=Gd(a,l,c,m)),Bd(e),h}function Bd(e){q.H=vs;var a=nt!==null&&nt.next!==null;if(An=0,yt=nt=Ue=null,Sl=!1,hs=0,hi=null,a)throw Error(i(300));e===null||bt||(e=e.dependencies,e!==null&&xl(e)&&(bt=!0))}function Gd(e,a,l,c){Ue=e;var m=0;do{if(pi&&(hi=null),hs=0,pi=!1,25<=m)throw Error(i(301));if(m+=1,yt=nt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}q.H=Sf,h=a(l,c)}while(pi);return h}function Jg(){var e=q.H,a=e.useState()[0];return a=typeof a.then=="function"?xs(a):a,e=e.useState()[0],(nt!==null?nt.memoizedState:null)!==e&&(Ue.flags|=1024),a}function jo(){var e=_l!==0;return _l=0,e}function Ao(e,a,l){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~l}function Do(e){if(Sl){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}Sl=!1}An=0,yt=nt=Ue=null,pi=!1,hs=_l=0,hi=null}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ue.memoizedState=yt=e:yt=yt.next=e,yt}function xt(){if(nt===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var a=yt===null?Ue.memoizedState:yt.next;if(a!==null)yt=a,nt=e;else{if(e===null)throw Ue.alternate===null?Error(i(467)):Error(i(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},yt===null?Ue.memoizedState=yt=e:yt=yt.next=e}return yt}function kl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xs(e){var a=hs;return hs+=1,hi===null&&(hi=[]),e=Md(hi,e,a),a=Ue,(yt===null?a.memoizedState:yt.next)===null&&(a=a.alternate,q.H=a===null||a.memoizedState===null?Cf:qo),e}function El(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xs(e);if(e.$$typeof===M)return jt(e)}throw Error(i(438,String(e)))}function Mo(e){var a=null,l=Ue.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ue.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=kl(),Ue.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(e),c=0;c<e;c++)l[c]=B;return a.index++,l}function Dn(e,a){return typeof a=="function"?a(e):a}function jl(e){var a=xt();return Ro(a,nt,e)}function Ro(e,a,l){var c=e.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var m=e.baseQueue,h=c.pending;if(h!==null){if(m!==null){var N=m.next;m.next=h.next,h.next=N}a.baseQueue=m=h,c.pending=null}if(h=e.baseState,m===null)e.memoizedState=h;else{a=m.next;var C=N=null,A=null,J=a,se=!1;do{var oe=J.lane&-536870913;if(oe!==J.lane?(Ge&oe)===oe:(An&oe)===oe){var X=J.revertLane;if(X===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),oe===ci&&(se=!0);else if((An&X)===X){J=J.next,X===ci&&(se=!0);continue}else oe={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},A===null?(C=A=oe,N=h):A=A.next=oe,Ue.lanes|=X,ia|=X;oe=J.action,Ua&&l(h,oe),h=J.hasEagerState?J.eagerState:l(h,oe)}else X={lane:oe,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},A===null?(C=A=X,N=h):A=A.next=X,Ue.lanes|=oe,ia|=oe;J=J.next}while(J!==null&&J!==a);if(A===null?N=h:A.next=C,!Ft(h,e.memoizedState)&&(bt=!0,se&&(l=ui,l!==null)))throw l;e.memoizedState=h,e.baseState=N,e.baseQueue=A,c.lastRenderedState=h}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Io(e){var a=xt(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=e;var c=l.dispatch,m=l.pending,h=a.memoizedState;if(m!==null){l.pending=null;var N=m=m.next;do h=e(h,N.action),N=N.next;while(N!==m);Ft(h,a.memoizedState)||(bt=!0),a.memoizedState=h,a.baseQueue===null&&(a.baseState=h),l.lastRenderedState=h}return[h,c]}function qd(e,a,l){var c=Ue,m=xt(),h=Pe;if(h){if(l===void 0)throw Error(i(407));l=l()}else l=a();var N=!Ft((nt||m).memoizedState,l);if(N&&(m.memoizedState=l,bt=!0),m=m.queue,Lo(Fd.bind(null,c,m,e),[e]),m.getSnapshot!==a||N||yt!==null&&yt.memoizedState.tag&1){if(c.flags|=2048,xi(9,{destroy:void 0},$d.bind(null,c,m,l,a),null),st===null)throw Error(i(349));h||(An&127)!==0||Pd(c,a,l)}return l}function Pd(e,a,l){e.flags|=16384,e={getSnapshot:a,value:l},a=Ue.updateQueue,a===null?(a=kl(),Ue.updateQueue=a,a.stores=[e]):(l=a.stores,l===null?a.stores=[e]:l.push(e))}function $d(e,a,l,c){a.value=l,a.getSnapshot=c,Yd(a)&&Zd(e)}function Fd(e,a,l){return l(function(){Yd(a)&&Zd(e)})}function Yd(e){var a=e.getSnapshot;e=e.value;try{var l=a();return!Ft(e,l)}catch{return!0}}function Zd(e){var a=_a(e,2);a!==null&&qt(a,e,2)}function Uo(e){var a=It();if(typeof e=="function"){var l=e;if(e=l(),Ua){Pn(!0);try{l()}finally{Pn(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:e},a}function Jd(e,a,l,c){return e.baseState=l,Ro(e,nt,typeof c=="function"?c:Dn)}function Kg(e,a,l,c,m){if(Ml(e))throw Error(i(485));if(e=a.action,e!==null){var h={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){h.listeners.push(N)}};q.T!==null?l(!0):h.isTransition=!1,c(h),l=a.pending,l===null?(h.next=a.pending=h,Kd(a,h)):(h.next=l.next,a.pending=l.next=h)}}function Kd(e,a){var l=a.action,c=a.payload,m=e.state;if(a.isTransition){var h=q.T,N={};q.T=N;try{var C=l(m,c),A=q.S;A!==null&&A(N,C),Xd(e,a,C)}catch(J){zo(e,a,J)}finally{h!==null&&N.types!==null&&(h.types=N.types),q.T=h}}else try{h=l(m,c),Xd(e,a,h)}catch(J){zo(e,a,J)}}function Xd(e,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Qd(e,a,c)},function(c){return zo(e,a,c)}):Qd(e,a,l)}function Qd(e,a,l){a.status="fulfilled",a.value=l,Wd(a),e.state=l,a=e.pending,a!==null&&(l=a.next,l===a?e.pending=null:(l=l.next,a.next=l,Kd(e,l)))}function zo(e,a,l){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,Wd(a),a=a.next;while(a!==c)}e.action=null}function Wd(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function ef(e,a){return a}function tf(e,a){if(Pe){var l=st.formState;if(l!==null){e:{var c=Ue;if(Pe){if(rt){t:{for(var m=rt,h=ln;m.nodeType!==8;){if(!h){m=null;break t}if(m=on(m.nextSibling),m===null){m=null;break t}}h=m.data,m=h==="F!"||h==="F"?m:null}if(m){rt=on(m.nextSibling),c=m.data==="F!";break e}}Jn(c)}c=!1}c&&(a=l[0])}}return l=It(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ef,lastRenderedState:a},l.queue=c,l=Nf.bind(null,Ue,c),c.dispatch=l,c=Uo(!1),h=Go.bind(null,Ue,!1,c.queue),c=It(),m={state:a,dispatch:null,action:e,pending:null},c.queue=m,l=Kg.bind(null,Ue,m,h,l),m.dispatch=l,c.memoizedState=e,[a,l,!1]}function nf(e){var a=xt();return af(a,nt,e)}function af(e,a,l){if(a=Ro(e,a,ef)[0],e=jl(Dn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=xs(a)}catch(N){throw N===di?yl:N}else c=a;a=xt();var m=a.queue,h=m.dispatch;return l!==a.memoizedState&&(Ue.flags|=2048,xi(9,{destroy:void 0},Xg.bind(null,m,l),null)),[c,h,e]}function Xg(e,a){e.action=a}function sf(e){var a=xt(),l=nt;if(l!==null)return af(a,l,e);xt(),a=a.memoizedState,l=xt();var c=l.queue.dispatch;return l.memoizedState=e,[a,c,!1]}function xi(e,a,l,c){return e={tag:e,create:l,deps:c,inst:a,next:null},a=Ue.updateQueue,a===null&&(a=kl(),Ue.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=e.next=e:(c=l.next,l.next=e,e.next=c,a.lastEffect=e),e}function lf(){return xt().memoizedState}function Al(e,a,l,c){var m=It();Ue.flags|=e,m.memoizedState=xi(1|a,{destroy:void 0},l,c===void 0?null:c)}function Dl(e,a,l,c){var m=xt();c=c===void 0?null:c;var h=m.memoizedState.inst;nt!==null&&c!==null&&ko(c,nt.memoizedState.deps)?m.memoizedState=xi(a,h,l,c):(Ue.flags|=e,m.memoizedState=xi(1|a,h,l,c))}function rf(e,a){Al(8390656,8,e,a)}function Lo(e,a){Dl(2048,8,e,a)}function Qg(e){Ue.flags|=4;var a=Ue.updateQueue;if(a===null)a=kl(),Ue.updateQueue=a,a.events=[e];else{var l=a.events;l===null?a.events=[e]:l.push(e)}}function of(e){var a=xt().memoizedState;return Qg({ref:a,nextImpl:e}),function(){if((Qe&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function cf(e,a){return Dl(4,2,e,a)}function uf(e,a){return Dl(4,4,e,a)}function df(e,a){if(typeof a=="function"){e=e();var l=a(e);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function ff(e,a,l){l=l!=null?l.concat([e]):null,Dl(4,4,df.bind(null,a,e),l)}function Oo(){}function mf(e,a){var l=xt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&ko(a,c[1])?c[0]:(l.memoizedState=[e,a],e)}function pf(e,a){var l=xt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&ko(a,c[1]))return c[0];if(c=e(),Ua){Pn(!0);try{e()}finally{Pn(!1)}}return l.memoizedState=[c,a],c}function Vo(e,a,l){return l===void 0||(An&1073741824)!==0&&(Ge&261930)===0?e.memoizedState=a:(e.memoizedState=l,e=hm(),Ue.lanes|=e,ia|=e,l)}function hf(e,a,l,c){return Ft(l,a)?l:mi.current!==null?(e=Vo(e,l,c),Ft(e,a)||(bt=!0),e):(An&42)===0||(An&1073741824)!==0&&(Ge&261930)===0?(bt=!0,e.memoizedState=l):(e=hm(),Ue.lanes|=e,ia|=e,a)}function xf(e,a,l,c,m){var h=V.p;V.p=h!==0&&8>h?h:8;var N=q.T,C={};q.T=C,Go(e,!1,a,l);try{var A=m(),J=q.S;if(J!==null&&J(C,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var se=Yg(A,c);gs(e,a,se,Qt(e))}else gs(e,a,c,Qt(e))}catch(oe){gs(e,a,{then:function(){},status:"rejected",reason:oe},Qt())}finally{V.p=h,N!==null&&C.types!==null&&(N.types=C.types),q.T=N}}function Wg(){}function Ho(e,a,l,c){if(e.tag!==5)throw Error(i(476));var m=gf(e).queue;xf(e,m,a,ne,l===null?Wg:function(){return vf(e),l(c)})}function gf(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:ne},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:l},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function vf(e){var a=gf(e);a.next===null&&(a=e.alternate.memoizedState),gs(e,a.next.queue,{},Qt())}function Bo(){return jt(Is)}function yf(){return xt().memoizedState}function bf(){return xt().memoizedState}function ev(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var l=Qt();e=Qn(l);var c=Wn(a,e,l);c!==null&&(qt(c,a,l),fs(c,a,l)),a={cache:xo()},e.payload=a;return}a=a.return}}function tv(e,a,l){var c=Qt();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ml(e)?Tf(a,l):(l=io(e,a,l,c),l!==null&&(qt(l,e,c),wf(l,a,c)))}function Nf(e,a,l){var c=Qt();gs(e,a,l,c)}function gs(e,a,l,c){var m={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ml(e))Tf(a,m);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=a.lastRenderedReducer,h!==null))try{var N=a.lastRenderedState,C=h(N,l);if(m.hasEagerState=!0,m.eagerState=C,Ft(C,N))return fl(e,a,m,0),st===null&&dl(),!1}catch{}finally{}if(l=io(e,a,m,c),l!==null)return qt(l,e,c),wf(l,a,c),!0}return!1}function Go(e,a,l,c){if(c={lane:2,revertLane:bc(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ml(e)){if(a)throw Error(i(479))}else a=io(e,l,c,2),a!==null&&qt(a,e,2)}function Ml(e){var a=e.alternate;return e===Ue||a!==null&&a===Ue}function Tf(e,a){pi=Sl=!0;var l=e.pending;l===null?a.next=a:(a.next=l.next,l.next=a),e.pending=a}function wf(e,a,l){if((l&4194048)!==0){var c=a.lanes;c&=e.pendingLanes,l|=c,a.lanes=l,ku(e,l)}}var vs={readContext:jt,use:El,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};vs.useEffectEvent=mt;var Cf={readContext:jt,use:El,useCallback:function(e,a){return It().memoizedState=[e,a===void 0?null:a],e},useContext:jt,useEffect:rf,useImperativeHandle:function(e,a,l){l=l!=null?l.concat([e]):null,Al(4194308,4,df.bind(null,a,e),l)},useLayoutEffect:function(e,a){return Al(4194308,4,e,a)},useInsertionEffect:function(e,a){Al(4,2,e,a)},useMemo:function(e,a){var l=It();a=a===void 0?null:a;var c=e();if(Ua){Pn(!0);try{e()}finally{Pn(!1)}}return l.memoizedState=[c,a],c},useReducer:function(e,a,l){var c=It();if(l!==void 0){var m=l(a);if(Ua){Pn(!0);try{l(a)}finally{Pn(!1)}}}else m=a;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=tv.bind(null,Ue,e),[c.memoizedState,e]},useRef:function(e){var a=It();return e={current:e},a.memoizedState=e},useState:function(e){e=Uo(e);var a=e.queue,l=Nf.bind(null,Ue,a);return a.dispatch=l,[e.memoizedState,l]},useDebugValue:Oo,useDeferredValue:function(e,a){var l=It();return Vo(l,e,a)},useTransition:function(){var e=Uo(!1);return e=xf.bind(null,Ue,e.queue,!0,!1),It().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,l){var c=Ue,m=It();if(Pe){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),st===null)throw Error(i(349));(Ge&127)!==0||Pd(c,a,l)}m.memoizedState=l;var h={value:l,getSnapshot:a};return m.queue=h,rf(Fd.bind(null,c,h,e),[e]),c.flags|=2048,xi(9,{destroy:void 0},$d.bind(null,c,h,l,a),null),l},useId:function(){var e=It(),a=st.identifierPrefix;if(Pe){var l=gn,c=xn;l=(c&~(1<<32-$t(c)-1)).toString(32)+l,a="_"+a+"R_"+l,l=_l++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Zg++,a="_"+a+"r_"+l.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:Bo,useFormState:tf,useActionState:tf,useOptimistic:function(e){var a=It();a.memoizedState=a.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Go.bind(null,Ue,!0,l),l.dispatch=a,[e,a]},useMemoCache:Mo,useCacheRefresh:function(){return It().memoizedState=ev.bind(null,Ue)},useEffectEvent:function(e){var a=It(),l={impl:e};return a.memoizedState=l,function(){if((Qe&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},qo={readContext:jt,use:El,useCallback:mf,useContext:jt,useEffect:Lo,useImperativeHandle:ff,useInsertionEffect:cf,useLayoutEffect:uf,useMemo:pf,useReducer:jl,useRef:lf,useState:function(){return jl(Dn)},useDebugValue:Oo,useDeferredValue:function(e,a){var l=xt();return hf(l,nt.memoizedState,e,a)},useTransition:function(){var e=jl(Dn)[0],a=xt().memoizedState;return[typeof e=="boolean"?e:xs(e),a]},useSyncExternalStore:qd,useId:yf,useHostTransitionStatus:Bo,useFormState:nf,useActionState:nf,useOptimistic:function(e,a){var l=xt();return Jd(l,nt,e,a)},useMemoCache:Mo,useCacheRefresh:bf};qo.useEffectEvent=of;var Sf={readContext:jt,use:El,useCallback:mf,useContext:jt,useEffect:Lo,useImperativeHandle:ff,useInsertionEffect:cf,useLayoutEffect:uf,useMemo:pf,useReducer:Io,useRef:lf,useState:function(){return Io(Dn)},useDebugValue:Oo,useDeferredValue:function(e,a){var l=xt();return nt===null?Vo(l,e,a):hf(l,nt.memoizedState,e,a)},useTransition:function(){var e=Io(Dn)[0],a=xt().memoizedState;return[typeof e=="boolean"?e:xs(e),a]},useSyncExternalStore:qd,useId:yf,useHostTransitionStatus:Bo,useFormState:sf,useActionState:sf,useOptimistic:function(e,a){var l=xt();return nt!==null?Jd(l,nt,e,a):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Mo,useCacheRefresh:bf};Sf.useEffectEvent=of;function Po(e,a,l,c){a=e.memoizedState,l=l(c,a),l=l==null?a:b({},a,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var $o={enqueueSetState:function(e,a,l){e=e._reactInternals;var c=Qt(),m=Qn(c);m.payload=a,l!=null&&(m.callback=l),a=Wn(e,m,c),a!==null&&(qt(a,e,c),fs(a,e,c))},enqueueReplaceState:function(e,a,l){e=e._reactInternals;var c=Qt(),m=Qn(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Wn(e,m,c),a!==null&&(qt(a,e,c),fs(a,e,c))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var l=Qt(),c=Qn(l);c.tag=2,a!=null&&(c.callback=a),a=Wn(e,c,l),a!==null&&(qt(a,e,l),fs(a,e,l))}};function _f(e,a,l,c,m,h,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,h,N):a.prototype&&a.prototype.isPureReactComponent?!is(l,c)||!is(m,h):!0}function kf(e,a,l,c){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==e&&$o.enqueueReplaceState(a,a.state,null)}function za(e,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(e=e.defaultProps){l===a&&(l=b({},l));for(var m in e)l[m]===void 0&&(l[m]=e[m])}return l}function Ef(e){ul(e)}function jf(e){console.error(e)}function Af(e){ul(e)}function Rl(e,a){try{var l=e.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Df(e,a,l){try{var c=e.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Fo(e,a,l){return l=Qn(l),l.tag=3,l.payload={element:null},l.callback=function(){Rl(e,a)},l}function Mf(e){return e=Qn(e),e.tag=3,e}function Rf(e,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var h=c.value;e.payload=function(){return m(h)},e.callback=function(){Df(a,l,c)}}var N=l.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){Df(a,l,c),typeof m!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function nv(e,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&oi(a,l,m,!0),l=Zt.current,l!==null){switch(l.tag){case 31:case 13:return rn===null?$l():l.alternate===null&&pt===0&&(pt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===bl?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),gc(e,c,m)),!1;case 22:return l.flags|=65536,c===bl?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),gc(e,c,m)),!1}throw Error(i(435,l.tag))}return gc(e,c,m),$l(),!1}if(Pe)return a=Zt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==uo&&(e=Error(i(422),{cause:c}),rs(nn(e,l)))):(c!==uo&&(a=Error(i(423),{cause:c}),rs(nn(a,l))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=nn(c,l),m=Fo(e.stateNode,c,m),To(e,m),pt!==4&&(pt=2)),!1;var h=Error(i(520),{cause:c});if(h=nn(h,l),_s===null?_s=[h]:_s.push(h),pt!==4&&(pt=2),a===null)return!0;c=nn(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,e=m&-m,l.lanes|=e,e=Fo(l.stateNode,c,e),To(l,e),!1;case 1:if(a=l.type,h=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(sa===null||!sa.has(h))))return l.flags|=65536,m&=-m,l.lanes|=m,m=Mf(m),Rf(m,e,l,c),To(l,m),!1}l=l.return}while(l!==null);return!1}var Yo=Error(i(461)),bt=!1;function At(e,a,l,c){a.child=e===null?zd(a,null,l,c):Ia(a,e.child,l,c)}function If(e,a,l,c,m){l=l.render;var h=a.ref;if("ref"in c){var N={};for(var C in c)C!=="ref"&&(N[C]=c[C])}else N=c;return Aa(a),c=Eo(e,a,l,N,h,m),C=jo(),e!==null&&!bt?(Ao(e,a,m),Mn(e,a,m)):(Pe&&C&&oo(a),a.flags|=1,At(e,a,c,m),a.child)}function Uf(e,a,l,c,m){if(e===null){var h=l.type;return typeof h=="function"&&!so(h)&&h.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=h,zf(e,a,h,c,m)):(e=pl(l.type,null,c,a,a.mode,m),e.ref=a.ref,e.return=a,a.child=e)}if(h=e.child,!tc(e,m)){var N=h.memoizedProps;if(l=l.compare,l=l!==null?l:is,l(N,c)&&e.ref===a.ref)return Mn(e,a,m)}return a.flags|=1,e=_n(h,c),e.ref=a.ref,e.return=a,a.child=e}function zf(e,a,l,c,m){if(e!==null){var h=e.memoizedProps;if(is(h,c)&&e.ref===a.ref)if(bt=!1,a.pendingProps=c=h,tc(e,m))(e.flags&131072)!==0&&(bt=!0);else return a.lanes=e.lanes,Mn(e,a,m)}return Zo(e,a,l,c,m)}function Lf(e,a,l,c){var m=c.children,h=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(h=h!==null?h.baseLanes|l:l,e!==null){for(c=a.child=e.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~h}else c=0,a.child=null;return Of(e,a,h,l,c)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&vl(a,h!==null?h.cachePool:null),h!==null?Vd(a,h):Co(),Hd(a);else return c=a.lanes=536870912,Of(e,a,h!==null?h.baseLanes|l:l,l,c)}else h!==null?(vl(a,h.cachePool),Vd(a,h),ta(),a.memoizedState=null):(e!==null&&vl(a,null),Co(),ta());return At(e,a,m,l),a.child}function ys(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Of(e,a,l,c,m){var h=vo();return h=h===null?null:{parent:vt._currentValue,pool:h},a.memoizedState={baseLanes:l,cachePool:h},e!==null&&vl(a,null),Co(),Hd(a),e!==null&&oi(e,a,c,!0),a.childLanes=m,null}function Il(e,a){return a=zl({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function Vf(e,a,l){return Ia(a,e.child,null,l),e=Il(a,a.pendingProps),e.flags|=2,Jt(a),a.memoizedState=null,e}function av(e,a,l){var c=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(Pe){if(c.mode==="hidden")return e=Il(a,c),a.lanes=536870912,ys(null,e);if(_o(a),(e=rt)?(e=Xm(e,ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Yn!==null?{id:xn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},l=Nd(e),l.return=a,a.child=l,Et=a,rt=null)):e=null,e===null)throw Jn(a);return a.lanes=536870912,null}return Il(a,c)}var h=e.memoizedState;if(h!==null){var N=h.dehydrated;if(_o(a),m)if(a.flags&256)a.flags&=-257,a=Vf(e,a,l);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(i(558));else if(bt||oi(e,a,l,!1),m=(l&e.childLanes)!==0,bt||m){if(c=st,c!==null&&(N=Eu(c,l),N!==0&&N!==h.retryLane))throw h.retryLane=N,_a(e,N),qt(c,e,N),Yo;$l(),a=Vf(e,a,l)}else e=h.treeContext,rt=on(N.nextSibling),Et=a,Pe=!0,Zn=null,ln=!1,e!==null&&Cd(a,e),a=Il(a,c),a.flags|=4096;return a}return e=_n(e.child,{mode:c.mode,children:c.children}),e.ref=a.ref,a.child=e,e.return=a,e}function Ul(e,a){var l=a.ref;if(l===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(e===null||e.ref!==l)&&(a.flags|=4194816)}}function Zo(e,a,l,c,m){return Aa(a),l=Eo(e,a,l,c,void 0,m),c=jo(),e!==null&&!bt?(Ao(e,a,m),Mn(e,a,m)):(Pe&&c&&oo(a),a.flags|=1,At(e,a,l,m),a.child)}function Hf(e,a,l,c,m,h){return Aa(a),a.updateQueue=null,l=Gd(a,c,l,m),Bd(e),c=jo(),e!==null&&!bt?(Ao(e,a,h),Mn(e,a,h)):(Pe&&c&&oo(a),a.flags|=1,At(e,a,l,h),a.child)}function Bf(e,a,l,c,m){if(Aa(a),a.stateNode===null){var h=ii,N=l.contextType;typeof N=="object"&&N!==null&&(h=jt(N)),h=new l(c,h),a.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=$o,a.stateNode=h,h._reactInternals=a,h=a.stateNode,h.props=c,h.state=a.memoizedState,h.refs={},bo(a),N=l.contextType,h.context=typeof N=="object"&&N!==null?jt(N):ii,h.state=a.memoizedState,N=l.getDerivedStateFromProps,typeof N=="function"&&(Po(a,l,N,c),h.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(N=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),N!==h.state&&$o.enqueueReplaceState(h,h.state,null),ps(a,c,h,m),ms(),h.state=a.memoizedState),typeof h.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(e===null){h=a.stateNode;var C=a.memoizedProps,A=za(l,C);h.props=A;var J=h.context,se=l.contextType;N=ii,typeof se=="object"&&se!==null&&(N=jt(se));var oe=l.getDerivedStateFromProps;se=typeof oe=="function"||typeof h.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,se||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(C||J!==N)&&kf(a,h,c,N),Xn=!1;var X=a.memoizedState;h.state=X,ps(a,c,h,m),ms(),J=a.memoizedState,C||X!==J||Xn?(typeof oe=="function"&&(Po(a,l,oe,c),J=a.memoizedState),(A=Xn||_f(a,l,A,c,X,J,N))?(se||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(a.flags|=4194308)):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=J),h.props=c,h.state=J,h.context=N,c=A):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{h=a.stateNode,No(e,a),N=a.memoizedProps,se=za(l,N),h.props=se,oe=a.pendingProps,X=h.context,J=l.contextType,A=ii,typeof J=="object"&&J!==null&&(A=jt(J)),C=l.getDerivedStateFromProps,(J=typeof C=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(N!==oe||X!==A)&&kf(a,h,c,A),Xn=!1,X=a.memoizedState,h.state=X,ps(a,c,h,m),ms();var ee=a.memoizedState;N!==oe||X!==ee||Xn||e!==null&&e.dependencies!==null&&xl(e.dependencies)?(typeof C=="function"&&(Po(a,l,C,c),ee=a.memoizedState),(se=Xn||_f(a,l,se,c,X,ee,A)||e!==null&&e.dependencies!==null&&xl(e.dependencies))?(J||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,ee,A),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,ee,A)),typeof h.componentDidUpdate=="function"&&(a.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof h.componentDidUpdate!="function"||N===e.memoizedProps&&X===e.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&X===e.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ee),h.props=c,h.state=ee,h.context=A,c=se):(typeof h.componentDidUpdate!="function"||N===e.memoizedProps&&X===e.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&X===e.memoizedState||(a.flags|=1024),c=!1)}return h=c,Ul(e,a),c=(a.flags&128)!==0,h||c?(h=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:h.render(),a.flags|=1,e!==null&&c?(a.child=Ia(a,e.child,null,m),a.child=Ia(a,null,l,m)):At(e,a,l,m),a.memoizedState=h.state,e=a.child):e=Mn(e,a,m),e}function Gf(e,a,l,c){return Ea(),a.flags|=256,At(e,a,l,c),a.child}var Jo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ko(e){return{baseLanes:e,cachePool:Ad()}}function Xo(e,a,l){return e=e!==null?e.childLanes&~l:0,a&&(e|=Xt),e}function qf(e,a,l){var c=a.pendingProps,m=!1,h=(a.flags&128)!==0,N;if((N=h)||(N=e!==null&&e.memoizedState===null?!1:(ht.current&2)!==0),N&&(m=!0,a.flags&=-129),N=(a.flags&32)!==0,a.flags&=-33,e===null){if(Pe){if(m?ea(a):ta(),(e=rt)?(e=Xm(e,ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Yn!==null?{id:xn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},l=Nd(e),l.return=a,a.child=l,Et=a,rt=null)):e=null,e===null)throw Jn(a);return Rc(e)?a.lanes=32:a.lanes=536870912,null}var C=c.children;return c=c.fallback,m?(ta(),m=a.mode,C=zl({mode:"hidden",children:C},m),c=ka(c,m,l,null),C.return=a,c.return=a,C.sibling=c,a.child=C,c=a.child,c.memoizedState=Ko(l),c.childLanes=Xo(e,N,l),a.memoizedState=Jo,ys(null,c)):(ea(a),Qo(a,C))}var A=e.memoizedState;if(A!==null&&(C=A.dehydrated,C!==null)){if(h)a.flags&256?(ea(a),a.flags&=-257,a=Wo(e,a,l)):a.memoizedState!==null?(ta(),a.child=e.child,a.flags|=128,a=null):(ta(),C=c.fallback,m=a.mode,c=zl({mode:"visible",children:c.children},m),C=ka(C,m,l,null),C.flags|=2,c.return=a,C.return=a,c.sibling=C,a.child=c,Ia(a,e.child,null,l),c=a.child,c.memoizedState=Ko(l),c.childLanes=Xo(e,N,l),a.memoizedState=Jo,a=ys(null,c));else if(ea(a),Rc(C)){if(N=C.nextSibling&&C.nextSibling.dataset,N)var J=N.dgst;N=J,c=Error(i(419)),c.stack="",c.digest=N,rs({value:c,source:null,stack:null}),a=Wo(e,a,l)}else if(bt||oi(e,a,l,!1),N=(l&e.childLanes)!==0,bt||N){if(N=st,N!==null&&(c=Eu(N,l),c!==0&&c!==A.retryLane))throw A.retryLane=c,_a(e,c),qt(N,e,c),Yo;Mc(C)||$l(),a=Wo(e,a,l)}else Mc(C)?(a.flags|=192,a.child=e.child,a=null):(e=A.treeContext,rt=on(C.nextSibling),Et=a,Pe=!0,Zn=null,ln=!1,e!==null&&Cd(a,e),a=Qo(a,c.children),a.flags|=4096);return a}return m?(ta(),C=c.fallback,m=a.mode,A=e.child,J=A.sibling,c=_n(A,{mode:"hidden",children:c.children}),c.subtreeFlags=A.subtreeFlags&65011712,J!==null?C=_n(J,C):(C=ka(C,m,l,null),C.flags|=2),C.return=a,c.return=a,c.sibling=C,a.child=c,ys(null,c),c=a.child,C=e.child.memoizedState,C===null?C=Ko(l):(m=C.cachePool,m!==null?(A=vt._currentValue,m=m.parent!==A?{parent:A,pool:A}:m):m=Ad(),C={baseLanes:C.baseLanes|l,cachePool:m}),c.memoizedState=C,c.childLanes=Xo(e,N,l),a.memoizedState=Jo,ys(e.child,c)):(ea(a),l=e.child,e=l.sibling,l=_n(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,e!==null&&(N=a.deletions,N===null?(a.deletions=[e],a.flags|=16):N.push(e)),a.child=l,a.memoizedState=null,l)}function Qo(e,a){return a=zl({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function zl(e,a){return e=Yt(22,e,null,a),e.lanes=0,e}function Wo(e,a,l){return Ia(a,e.child,null,l),e=Qo(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function Pf(e,a,l){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a),po(e.return,a,l)}function ec(e,a,l,c,m,h){var N=e.memoizedState;N===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m,treeForkCount:h}:(N.isBackwards=a,N.rendering=null,N.renderingStartTime=0,N.last=c,N.tail=l,N.tailMode=m,N.treeForkCount=h)}function $f(e,a,l){var c=a.pendingProps,m=c.revealOrder,h=c.tail;c=c.children;var N=ht.current,C=(N&2)!==0;if(C?(N=N&1|2,a.flags|=128):N&=1,ue(ht,N),At(e,a,c,l),c=Pe?ls:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pf(e,l,a);else if(e.tag===19)Pf(e,l,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(l=a.child,m=null;l!==null;)e=l.alternate,e!==null&&Cl(e)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),ec(a,!1,m,l,h,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(e=m.alternate,e!==null&&Cl(e)===null){a.child=m;break}e=m.sibling,m.sibling=l,l=m,m=e}ec(a,!0,l,null,h,c);break;case"together":ec(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function Mn(e,a,l){if(e!==null&&(a.dependencies=e.dependencies),ia|=a.lanes,(l&a.childLanes)===0)if(e!==null){if(oi(e,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(i(153));if(a.child!==null){for(e=a.child,l=_n(e,e.pendingProps),a.child=l,l.return=a;e.sibling!==null;)e=e.sibling,l=l.sibling=_n(e,e.pendingProps),l.return=a;l.sibling=null}return a.child}function tc(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&xl(e)))}function iv(e,a,l){switch(a.tag){case 3:Ce(a,a.stateNode.containerInfo),Kn(a,vt,e.memoizedState.cache),Ea();break;case 27:case 5:we(a);break;case 4:Ce(a,a.stateNode.containerInfo);break;case 10:Kn(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,_o(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ea(a),a.flags|=128,null):(l&a.child.childLanes)!==0?qf(e,a,l):(ea(a),e=Mn(e,a,l),e!==null?e.sibling:null);ea(a);break;case 19:var m=(e.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(oi(e,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return $f(e,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ue(ht,ht.current),c)break;return null;case 22:return a.lanes=0,Lf(e,a,l,a.pendingProps);case 24:Kn(a,vt,e.memoizedState.cache)}return Mn(e,a,l)}function Ff(e,a,l){if(e!==null)if(e.memoizedProps!==a.pendingProps)bt=!0;else{if(!tc(e,l)&&(a.flags&128)===0)return bt=!1,iv(e,a,l);bt=(e.flags&131072)!==0}else bt=!1,Pe&&(a.flags&1048576)!==0&&wd(a,ls,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(e=Ma(a.elementType),a.type=e,typeof e=="function")so(e)?(c=za(e,c),a.tag=1,a=Bf(null,a,e,c,l)):(a.tag=0,a=Zo(null,a,e,c,l));else{if(e!=null){var m=e.$$typeof;if(m===H){a.tag=11,a=If(null,a,e,c,l);break e}else if(m===D){a.tag=14,a=Uf(null,a,e,c,l);break e}}throw a=F(e)||e,Error(i(306,a,""))}}return a;case 0:return Zo(e,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=za(c,a.pendingProps),Bf(e,a,c,m,l);case 3:e:{if(Ce(a,a.stateNode.containerInfo),e===null)throw Error(i(387));c=a.pendingProps;var h=a.memoizedState;m=h.element,No(e,a),ps(a,c,null,l);var N=a.memoizedState;if(c=N.cache,Kn(a,vt,c),c!==h.cache&&ho(a,[vt],l,!0),ms(),c=N.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:N.cache},a.updateQueue.baseState=h,a.memoizedState=h,a.flags&256){a=Gf(e,a,c,l);break e}else if(c!==m){m=nn(Error(i(424)),a),rs(m),a=Gf(e,a,c,l);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(rt=on(e.firstChild),Et=a,Pe=!0,Zn=null,ln=!0,l=zd(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ea(),c===m){a=Mn(e,a,l);break e}At(e,a,c,l)}a=a.child}return a;case 26:return Ul(e,a),e===null?(l=ap(a.type,null,a.pendingProps,null))?a.memoizedState=l:Pe||(l=a.type,e=a.pendingProps,c=Ql(ce.current).createElement(l),c[kt]=a,c[Lt]=e,Dt(c,l,e),St(c),a.stateNode=c):a.memoizedState=ap(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return we(a),e===null&&Pe&&(c=a.stateNode=ep(a.type,a.pendingProps,ce.current),Et=a,ln=!0,m=rt,ca(a.type)?(Ic=m,rt=on(c.firstChild)):rt=m),At(e,a,a.pendingProps.children,l),Ul(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&Pe&&((m=c=rt)&&(c=Iv(c,a.type,a.pendingProps,ln),c!==null?(a.stateNode=c,Et=a,rt=on(c.firstChild),ln=!1,m=!0):m=!1),m||Jn(a)),we(a),m=a.type,h=a.pendingProps,N=e!==null?e.memoizedProps:null,c=h.children,jc(m,h)?c=null:N!==null&&jc(m,N)&&(a.flags|=32),a.memoizedState!==null&&(m=Eo(e,a,Jg,null,null,l),Is._currentValue=m),Ul(e,a),At(e,a,c,l),a.child;case 6:return e===null&&Pe&&((e=l=rt)&&(l=Uv(l,a.pendingProps,ln),l!==null?(a.stateNode=l,Et=a,rt=null,e=!0):e=!1),e||Jn(a)),null;case 13:return qf(e,a,l);case 4:return Ce(a,a.stateNode.containerInfo),c=a.pendingProps,e===null?a.child=Ia(a,null,c,l):At(e,a,c,l),a.child;case 11:return If(e,a,a.type,a.pendingProps,l);case 7:return At(e,a,a.pendingProps,l),a.child;case 8:return At(e,a,a.pendingProps.children,l),a.child;case 12:return At(e,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Kn(a,a.type,c.value),At(e,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Aa(a),m=jt(m),c=c(m),a.flags|=1,At(e,a,c,l),a.child;case 14:return Uf(e,a,a.type,a.pendingProps,l);case 15:return zf(e,a,a.type,a.pendingProps,l);case 19:return $f(e,a,l);case 31:return av(e,a,l);case 22:return Lf(e,a,l,a.pendingProps);case 24:return Aa(a),c=jt(vt),e===null?(m=vo(),m===null&&(m=st,h=xo(),m.pooledCache=h,h.refCount++,h!==null&&(m.pooledCacheLanes|=l),m=h),a.memoizedState={parent:c,cache:m},bo(a),Kn(a,vt,m)):((e.lanes&l)!==0&&(No(e,a),ps(a,null,null,l),ms()),m=e.memoizedState,h=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Kn(a,vt,c)):(c=h.cache,Kn(a,vt,c),c!==m.cache&&ho(a,[vt],l,!0))),At(e,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Rn(e){e.flags|=4}function nc(e,a,l,c,m){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(ym())e.flags|=8192;else throw Ra=bl,yo}else e.flags&=-16777217}function Yf(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!op(a))if(ym())e.flags|=8192;else throw Ra=bl,yo}function Ll(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?Su():536870912,e.lanes|=a,bi|=a)}function bs(e,a){if(!Pe)switch(e.tailMode){case"hidden":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function ot(e){var a=e.alternate!==null&&e.alternate.child===e.child,l=0,c=0;if(a)for(var m=e.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=l,a}function sv(e,a,l){var c=a.pendingProps;switch(co(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(a),null;case 1:return ot(a),null;case 3:return l=a.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),jn(vt),P(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(ri(a)?Rn(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,fo())),ot(a),null;case 26:var m=a.type,h=a.memoizedState;return e===null?(Rn(a),h!==null?(ot(a),Yf(a,h)):(ot(a),nc(a,m,null,c,l))):h?h!==e.memoizedState?(Rn(a),ot(a),Yf(a,h)):(ot(a),a.flags&=-16777217):(e=e.memoizedProps,e!==c&&Rn(a),ot(a),nc(a,m,e,c,l)),null;case 27:if(Oe(a),l=ce.current,m=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==c&&Rn(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return ot(a),null}e=ve.current,ri(a)?Sd(a):(e=ep(m,c,l),a.stateNode=e,Rn(a))}return ot(a),null;case 5:if(Oe(a),m=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==c&&Rn(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return ot(a),null}if(h=ve.current,ri(a))Sd(a);else{var N=Ql(ce.current);switch(h){case 1:h=N.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:h=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":h=N.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":h=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":h=N.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof c.is=="string"?N.createElement("select",{is:c.is}):N.createElement("select"),c.multiple?h.multiple=!0:c.size&&(h.size=c.size);break;default:h=typeof c.is=="string"?N.createElement(m,{is:c.is}):N.createElement(m)}}h[kt]=a,h[Lt]=c;e:for(N=a.child;N!==null;){if(N.tag===5||N.tag===6)h.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===a)break e;for(;N.sibling===null;){if(N.return===null||N.return===a)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}a.stateNode=h;e:switch(Dt(h,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Rn(a)}}return ot(a),nc(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,l),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==c&&Rn(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(e=ce.current,ri(a)){if(e=a.stateNode,l=a.memoizedProps,c=null,m=Et,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[kt]=a,e=!!(e.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||qm(e.nodeValue,l)),e||Jn(a,!0)}else e=Ql(e).createTextNode(c),e[kt]=a,a.stateNode=e}return ot(a),null;case 31:if(l=a.memoizedState,e===null||e.memoizedState!==null){if(c=ri(a),l!==null){if(e===null){if(!c)throw Error(i(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[kt]=a}else Ea(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ot(a),e=!1}else l=fo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return a.flags&256?(Jt(a),a):(Jt(a),null);if((a.flags&128)!==0)throw Error(i(558))}return ot(a),null;case 13:if(c=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=ri(a),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[kt]=a}else Ea(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ot(a),m=!1}else m=fo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Jt(a),a):(Jt(a),null)}return Jt(a),(a.flags&128)!==0?(a.lanes=l,a):(l=c!==null,e=e!==null&&e.memoizedState!==null,l&&(c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),h=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==m&&(c.flags|=2048)),l!==e&&l&&(a.child.flags|=8192),Ll(a,a.updateQueue),ot(a),null);case 4:return P(),e===null&&Cc(a.stateNode.containerInfo),ot(a),null;case 10:return jn(a.type),ot(a),null;case 19:if($(ht),c=a.memoizedState,c===null)return ot(a),null;if(m=(a.flags&128)!==0,h=c.rendering,h===null)if(m)bs(c,!1);else{if(pt!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(h=Cl(e),h!==null){for(a.flags|=128,bs(c,!1),e=h.updateQueue,a.updateQueue=e,Ll(a,e),a.subtreeFlags=0,e=l,l=a.child;l!==null;)bd(l,e),l=l.sibling;return ue(ht,ht.current&1|2),Pe&&kn(a,c.treeForkCount),a.child}e=e.sibling}c.tail!==null&&Xe()>Gl&&(a.flags|=128,m=!0,bs(c,!1),a.lanes=4194304)}else{if(!m)if(e=Cl(h),e!==null){if(a.flags|=128,m=!0,e=e.updateQueue,a.updateQueue=e,Ll(a,e),bs(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Pe)return ot(a),null}else 2*Xe()-c.renderingStartTime>Gl&&l!==536870912&&(a.flags|=128,m=!0,bs(c,!1),a.lanes=4194304);c.isBackwards?(h.sibling=a.child,a.child=h):(e=c.last,e!==null?e.sibling=h:a.child=h,c.last=h)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Xe(),e.sibling=null,l=ht.current,ue(ht,m?l&1|2:l&1),Pe&&kn(a,c.treeForkCount),e):(ot(a),null);case 22:case 23:return Jt(a),So(),c=a.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(ot(a),a.subtreeFlags&6&&(a.flags|=8192)):ot(a),l=a.updateQueue,l!==null&&Ll(a,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),e!==null&&$(Da),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),jn(vt),ot(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function lv(e,a){switch(co(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return jn(vt),P(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return Oe(a),null;case 31:if(a.memoizedState!==null){if(Jt(a),a.alternate===null)throw Error(i(340));Ea()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(Jt(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ea()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return $(ht),null;case 4:return P(),null;case 10:return jn(a.type),null;case 22:case 23:return Jt(a),So(),e!==null&&$(Da),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return jn(vt),null;case 25:return null;default:return null}}function Zf(e,a){switch(co(a),a.tag){case 3:jn(vt),P();break;case 26:case 27:case 5:Oe(a);break;case 4:P();break;case 31:a.memoizedState!==null&&Jt(a);break;case 13:Jt(a);break;case 19:$(ht);break;case 10:jn(a.type);break;case 22:case 23:Jt(a),So(),e!==null&&$(Da);break;case 24:jn(vt)}}function Ns(e,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&e)===e){c=void 0;var h=l.create,N=l.inst;c=h(),N.destroy=c}l=l.next}while(l!==m)}}catch(C){tt(a,a.return,C)}}function na(e,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var h=m.next;c=h;do{if((c.tag&e)===e){var N=c.inst,C=N.destroy;if(C!==void 0){N.destroy=void 0,m=a;var A=l,J=C;try{J()}catch(se){tt(m,A,se)}}}c=c.next}while(c!==h)}}catch(se){tt(a,a.return,se)}}function Jf(e){var a=e.updateQueue;if(a!==null){var l=e.stateNode;try{Od(a,l)}catch(c){tt(e,e.return,c)}}}function Kf(e,a,l){l.props=za(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(c){tt(e,a,c)}}function Ts(e,a){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof l=="function"?e.refCleanup=l(c):l.current=c}}catch(m){tt(e,a,m)}}function vn(e,a){var l=e.ref,c=e.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){tt(e,a,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){tt(e,a,m)}else l.current=null}function Xf(e){var a=e.type,l=e.memoizedProps,c=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){tt(e,e.return,m)}}function ac(e,a,l){try{var c=e.stateNode;Ev(c,e.type,l,a),c[Lt]=a}catch(m){tt(e,e.return,m)}}function Qf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ca(e.type)||e.tag===4}function ic(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ca(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sc(e,a,l){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(e),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Cn));else if(c!==4&&(c===27&&ca(e.type)&&(l=e.stateNode,a=null),e=e.child,e!==null))for(sc(e,a,l),e=e.sibling;e!==null;)sc(e,a,l),e=e.sibling}function Ol(e,a,l){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?l.insertBefore(e,a):l.appendChild(e);else if(c!==4&&(c===27&&ca(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Ol(e,a,l),e=e.sibling;e!==null;)Ol(e,a,l),e=e.sibling}function Wf(e){var a=e.stateNode,l=e.memoizedProps;try{for(var c=e.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Dt(a,c,l),a[kt]=e,a[Lt]=l}catch(h){tt(e,e.return,h)}}var In=!1,Nt=!1,lc=!1,em=typeof WeakSet=="function"?WeakSet:Set,_t=null;function rv(e,a){if(e=e.containerInfo,kc=sr,e=dd(e),Qr(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{l.nodeType,h.nodeType}catch{l=null;break e}var N=0,C=-1,A=-1,J=0,se=0,oe=e,X=null;t:for(;;){for(var ee;oe!==l||m!==0&&oe.nodeType!==3||(C=N+m),oe!==h||c!==0&&oe.nodeType!==3||(A=N+c),oe.nodeType===3&&(N+=oe.nodeValue.length),(ee=oe.firstChild)!==null;)X=oe,oe=ee;for(;;){if(oe===e)break t;if(X===l&&++J===m&&(C=N),X===h&&++se===c&&(A=N),(ee=oe.nextSibling)!==null)break;oe=X,X=oe.parentNode}oe=ee}l=C===-1||A===-1?null:{start:C,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ec={focusedElem:e,selectionRange:l},sr=!1,_t=a;_t!==null;)if(a=_t,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,_t=e;else for(;_t!==null;){switch(a=_t,h=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)m=e[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,l=a,m=h.memoizedProps,h=h.memoizedState,c=l.stateNode;try{var Ne=za(l.type,m);e=c.getSnapshotBeforeUpdate(Ne,h),c.__reactInternalSnapshotBeforeUpdate=e}catch(je){tt(l,l.return,je)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,l=e.nodeType,l===9)Dc(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Dc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=a.sibling,e!==null){e.return=a.return,_t=e;break}_t=a.return}}function tm(e,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:zn(e,l),c&4&&Ns(5,l);break;case 1:if(zn(e,l),c&4)if(e=l.stateNode,a===null)try{e.componentDidMount()}catch(N){tt(l,l.return,N)}else{var m=za(l.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(m,a,e.__reactInternalSnapshotBeforeUpdate)}catch(N){tt(l,l.return,N)}}c&64&&Jf(l),c&512&&Ts(l,l.return);break;case 3:if(zn(e,l),c&64&&(e=l.updateQueue,e!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Od(e,a)}catch(N){tt(l,l.return,N)}}break;case 27:a===null&&c&4&&Wf(l);case 26:case 5:zn(e,l),a===null&&c&4&&Xf(l),c&512&&Ts(l,l.return);break;case 12:zn(e,l);break;case 31:zn(e,l),c&4&&im(e,l);break;case 13:zn(e,l),c&4&&sm(e,l),c&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=xv.bind(null,l),zv(e,l))));break;case 22:if(c=l.memoizedState!==null||In,!c){a=a!==null&&a.memoizedState!==null||Nt,m=In;var h=Nt;In=c,(Nt=a)&&!h?Ln(e,l,(l.subtreeFlags&8772)!==0):zn(e,l),In=m,Nt=h}break;case 30:break;default:zn(e,l)}}function nm(e){var a=e.alternate;a!==null&&(e.alternate=null,nm(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&Ur(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var dt=null,Vt=!1;function Un(e,a,l){for(l=l.child;l!==null;)am(e,a,l),l=l.sibling}function am(e,a,l){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Fi,l)}catch{}switch(l.tag){case 26:Nt||vn(l,a),Un(e,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Nt||vn(l,a);var c=dt,m=Vt;ca(l.type)&&(dt=l.stateNode,Vt=!1),Un(e,a,l),Ds(l.stateNode),dt=c,Vt=m;break;case 5:Nt||vn(l,a);case 6:if(c=dt,m=Vt,dt=null,Un(e,a,l),dt=c,Vt=m,dt!==null)if(Vt)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(l.stateNode)}catch(h){tt(l,a,h)}else try{dt.removeChild(l.stateNode)}catch(h){tt(l,a,h)}break;case 18:dt!==null&&(Vt?(e=dt,Jm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Ei(e)):Jm(dt,l.stateNode));break;case 4:c=dt,m=Vt,dt=l.stateNode.containerInfo,Vt=!0,Un(e,a,l),dt=c,Vt=m;break;case 0:case 11:case 14:case 15:na(2,l,a),Nt||na(4,l,a),Un(e,a,l);break;case 1:Nt||(vn(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Kf(l,a,c)),Un(e,a,l);break;case 21:Un(e,a,l);break;case 22:Nt=(c=Nt)||l.memoizedState!==null,Un(e,a,l),Nt=c;break;default:Un(e,a,l)}}function im(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ei(e)}catch(l){tt(a,a.return,l)}}}function sm(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ei(e)}catch(l){tt(a,a.return,l)}}function ov(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new em),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new em),a;default:throw Error(i(435,e.tag))}}function Vl(e,a){var l=ov(e);a.forEach(function(c){if(!l.has(c)){l.add(c);var m=gv.bind(null,e,c);c.then(m,m)}})}function Ht(e,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],h=e,N=a,C=N;e:for(;C!==null;){switch(C.tag){case 27:if(ca(C.type)){dt=C.stateNode,Vt=!1;break e}break;case 5:dt=C.stateNode,Vt=!1;break e;case 3:case 4:dt=C.stateNode.containerInfo,Vt=!0;break e}C=C.return}if(dt===null)throw Error(i(160));am(h,N,m),dt=null,Vt=!1,h=m.alternate,h!==null&&(h.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)lm(a,e),a=a.sibling}var fn=null;function lm(e,a){var l=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ht(a,e),Bt(e),c&4&&(na(3,e,e.return),Ns(3,e),na(5,e,e.return));break;case 1:Ht(a,e),Bt(e),c&512&&(Nt||l===null||vn(l,l.return)),c&64&&In&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=fn;if(Ht(a,e),Bt(e),c&512&&(Nt||l===null||vn(l,l.return)),c&4){var h=l!==null?l.memoizedState:null;if(c=e.memoizedState,l===null)if(c===null)if(e.stateNode===null){e:{c=e.type,l=e.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":h=m.getElementsByTagName("title")[0],(!h||h[Ji]||h[kt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=m.createElement(c),m.head.insertBefore(h,m.querySelector("head > title"))),Dt(h,c,l),h[kt]=e,St(h),c=h;break e;case"link":var N=lp("link","href",m).get(c+(l.href||""));if(N){for(var C=0;C<N.length;C++)if(h=N[C],h.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&h.getAttribute("rel")===(l.rel==null?null:l.rel)&&h.getAttribute("title")===(l.title==null?null:l.title)&&h.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){N.splice(C,1);break t}}h=m.createElement(c),Dt(h,c,l),m.head.appendChild(h);break;case"meta":if(N=lp("meta","content",m).get(c+(l.content||""))){for(C=0;C<N.length;C++)if(h=N[C],h.getAttribute("content")===(l.content==null?null:""+l.content)&&h.getAttribute("name")===(l.name==null?null:l.name)&&h.getAttribute("property")===(l.property==null?null:l.property)&&h.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&h.getAttribute("charset")===(l.charSet==null?null:l.charSet)){N.splice(C,1);break t}}h=m.createElement(c),Dt(h,c,l),m.head.appendChild(h);break;default:throw Error(i(468,c))}h[kt]=e,St(h),c=h}e.stateNode=c}else rp(m,e.type,e.stateNode);else e.stateNode=sp(m,c,e.memoizedProps);else h!==c?(h===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):h.count--,c===null?rp(m,e.type,e.stateNode):sp(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&ac(e,e.memoizedProps,l.memoizedProps)}break;case 27:Ht(a,e),Bt(e),c&512&&(Nt||l===null||vn(l,l.return)),l!==null&&c&4&&ac(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Ht(a,e),Bt(e),c&512&&(Nt||l===null||vn(l,l.return)),e.flags&32){m=e.stateNode;try{Xa(m,"")}catch(Ne){tt(e,e.return,Ne)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,ac(e,m,l!==null?l.memoizedProps:m)),c&1024&&(lc=!0);break;case 6:if(Ht(a,e),Bt(e),c&4){if(e.stateNode===null)throw Error(i(162));c=e.memoizedProps,l=e.stateNode;try{l.nodeValue=c}catch(Ne){tt(e,e.return,Ne)}}break;case 3:if(tr=null,m=fn,fn=Wl(a.containerInfo),Ht(a,e),fn=m,Bt(e),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Ei(a.containerInfo)}catch(Ne){tt(e,e.return,Ne)}lc&&(lc=!1,rm(e));break;case 4:c=fn,fn=Wl(e.stateNode.containerInfo),Ht(a,e),Bt(e),fn=c;break;case 12:Ht(a,e),Bt(e);break;case 31:Ht(a,e),Bt(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Vl(e,c)));break;case 13:Ht(a,e),Bt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Bl=Xe()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Vl(e,c)));break;case 22:m=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,J=In,se=Nt;if(In=J||m,Nt=se||A,Ht(a,e),Nt=se,In=J,Bt(e),c&8192)e:for(a=e.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||A||In||Nt||La(e)),l=null,a=e;;){if(a.tag===5||a.tag===26){if(l===null){A=l=a;try{if(h=A.stateNode,m)N=h.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{C=A.stateNode;var oe=A.memoizedProps.style,X=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;C.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Ne){tt(A,A.return,Ne)}}}else if(a.tag===6){if(l===null){A=a;try{A.stateNode.nodeValue=m?"":A.memoizedProps}catch(Ne){tt(A,A.return,Ne)}}}else if(a.tag===18){if(l===null){A=a;try{var ee=A.stateNode;m?Km(ee,!0):Km(A.stateNode,!1)}catch(Ne){tt(A,A.return,Ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=e.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Vl(e,l))));break;case 19:Ht(a,e),Bt(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Vl(e,c)));break;case 30:break;case 21:break;default:Ht(a,e),Bt(e)}}function Bt(e){var a=e.flags;if(a&2){try{for(var l,c=e.return;c!==null;){if(Qf(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,h=ic(e);Ol(e,h,m);break;case 5:var N=l.stateNode;l.flags&32&&(Xa(N,""),l.flags&=-33);var C=ic(e);Ol(e,C,N);break;case 3:case 4:var A=l.stateNode.containerInfo,J=ic(e);sc(e,J,A);break;default:throw Error(i(161))}}catch(se){tt(e,e.return,se)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function rm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;rm(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function zn(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)tm(e,a.alternate,a),a=a.sibling}function La(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:na(4,a,a.return),La(a);break;case 1:vn(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Kf(a,a.return,l),La(a);break;case 27:Ds(a.stateNode);case 26:case 5:vn(a,a.return),La(a);break;case 22:a.memoizedState===null&&La(a);break;case 30:La(a);break;default:La(a)}e=e.sibling}}function Ln(e,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=e,h=a,N=h.flags;switch(h.tag){case 0:case 11:case 15:Ln(m,h,l),Ns(4,h);break;case 1:if(Ln(m,h,l),c=h,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(J){tt(c,c.return,J)}if(c=h,m=c.updateQueue,m!==null){var C=c.stateNode;try{var A=m.shared.hiddenCallbacks;if(A!==null)for(m.shared.hiddenCallbacks=null,m=0;m<A.length;m++)Ld(A[m],C)}catch(J){tt(c,c.return,J)}}l&&N&64&&Jf(h),Ts(h,h.return);break;case 27:Wf(h);case 26:case 5:Ln(m,h,l),l&&c===null&&N&4&&Xf(h),Ts(h,h.return);break;case 12:Ln(m,h,l);break;case 31:Ln(m,h,l),l&&N&4&&im(m,h);break;case 13:Ln(m,h,l),l&&N&4&&sm(m,h);break;case 22:h.memoizedState===null&&Ln(m,h,l),Ts(h,h.return);break;case 30:break;default:Ln(m,h,l)}a=a.sibling}}function rc(e,a){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&os(l))}function oc(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&os(e))}function mn(e,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)om(e,a,l,c),a=a.sibling}function om(e,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:mn(e,a,l,c),m&2048&&Ns(9,a);break;case 1:mn(e,a,l,c);break;case 3:mn(e,a,l,c),m&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&os(e)));break;case 12:if(m&2048){mn(e,a,l,c),e=a.stateNode;try{var h=a.memoizedProps,N=h.id,C=h.onPostCommit;typeof C=="function"&&C(N,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){tt(a,a.return,A)}}else mn(e,a,l,c);break;case 31:mn(e,a,l,c);break;case 13:mn(e,a,l,c);break;case 23:break;case 22:h=a.stateNode,N=a.alternate,a.memoizedState!==null?h._visibility&2?mn(e,a,l,c):ws(e,a):h._visibility&2?mn(e,a,l,c):(h._visibility|=2,gi(e,a,l,c,(a.subtreeFlags&10256)!==0||!1)),m&2048&&rc(N,a);break;case 24:mn(e,a,l,c),m&2048&&oc(a.alternate,a);break;default:mn(e,a,l,c)}}function gi(e,a,l,c,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var h=e,N=a,C=l,A=c,J=N.flags;switch(N.tag){case 0:case 11:case 15:gi(h,N,C,A,m),Ns(8,N);break;case 23:break;case 22:var se=N.stateNode;N.memoizedState!==null?se._visibility&2?gi(h,N,C,A,m):ws(h,N):(se._visibility|=2,gi(h,N,C,A,m)),m&&J&2048&&rc(N.alternate,N);break;case 24:gi(h,N,C,A,m),m&&J&2048&&oc(N.alternate,N);break;default:gi(h,N,C,A,m)}a=a.sibling}}function ws(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=e,c=a,m=c.flags;switch(c.tag){case 22:ws(l,c),m&2048&&rc(c.alternate,c);break;case 24:ws(l,c),m&2048&&oc(c.alternate,c);break;default:ws(l,c)}a=a.sibling}}var Cs=8192;function vi(e,a,l){if(e.subtreeFlags&Cs)for(e=e.child;e!==null;)cm(e,a,l),e=e.sibling}function cm(e,a,l){switch(e.tag){case 26:vi(e,a,l),e.flags&Cs&&e.memoizedState!==null&&Zv(l,fn,e.memoizedState,e.memoizedProps);break;case 5:vi(e,a,l);break;case 3:case 4:var c=fn;fn=Wl(e.stateNode.containerInfo),vi(e,a,l),fn=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Cs,Cs=16777216,vi(e,a,l),Cs=c):vi(e,a,l));break;default:vi(e,a,l)}}function um(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function Ss(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];_t=c,fm(c,e)}um(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dm(e),e=e.sibling}function dm(e){switch(e.tag){case 0:case 11:case 15:Ss(e),e.flags&2048&&na(9,e,e.return);break;case 3:Ss(e);break;case 12:Ss(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,Hl(e)):Ss(e);break;default:Ss(e)}}function Hl(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];_t=c,fm(c,e)}um(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:na(8,a,a.return),Hl(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Hl(a));break;default:Hl(a)}e=e.sibling}}function fm(e,a){for(;_t!==null;){var l=_t;switch(l.tag){case 0:case 11:case 15:na(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:os(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,_t=c;else e:for(l=e;_t!==null;){c=_t;var m=c.sibling,h=c.return;if(nm(c),c===l){_t=null;break e}if(m!==null){m.return=h,_t=m;break e}_t=h}}}var cv={getCacheForType:function(e){var a=jt(vt),l=a.data.get(e);return l===void 0&&(l=e(),a.data.set(e,l)),l},cacheSignal:function(){return jt(vt).controller.signal}},uv=typeof WeakMap=="function"?WeakMap:Map,Qe=0,st=null,He=null,Ge=0,et=0,Kt=null,aa=!1,yi=!1,cc=!1,On=0,pt=0,ia=0,Oa=0,uc=0,Xt=0,bi=0,_s=null,Gt=null,dc=!1,Bl=0,mm=0,Gl=1/0,ql=null,sa=null,Ct=0,la=null,Ni=null,Vn=0,fc=0,mc=null,pm=null,ks=0,pc=null;function Qt(){return(Qe&2)!==0&&Ge!==0?Ge&-Ge:q.T!==null?bc():ju()}function hm(){if(Xt===0)if((Ge&536870912)===0||Pe){var e=Xs;Xs<<=1,(Xs&3932160)===0&&(Xs=262144),Xt=e}else Xt=536870912;return e=Zt.current,e!==null&&(e.flags|=32),Xt}function qt(e,a,l){(e===st&&(et===2||et===9)||e.cancelPendingCommit!==null)&&(Ti(e,0),ra(e,Ge,Xt,!1)),Zi(e,l),((Qe&2)===0||e!==st)&&(e===st&&((Qe&2)===0&&(Oa|=l),pt===4&&ra(e,Ge,Xt,!1)),yn(e))}function xm(e,a,l){if((Qe&6)!==0)throw Error(i(327));var c=!l&&(a&127)===0&&(a&e.expiredLanes)===0||Yi(e,a),m=c?mv(e,a):xc(e,a,!0),h=c;do{if(m===0){yi&&!c&&ra(e,a,0,!1);break}else{if(l=e.current.alternate,h&&!dv(l)){m=xc(e,a,!1),h=!1;continue}if(m===2){if(h=a,e.errorRecoveryDisabledLanes&h)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){a=N;e:{var C=e;m=_s;var A=C.current.memoizedState.isDehydrated;if(A&&(Ti(C,N).flags|=256),N=xc(C,N,!1),N!==2){if(cc&&!A){C.errorRecoveryDisabledLanes|=h,Oa|=h,m=4;break e}h=Gt,Gt=m,h!==null&&(Gt===null?Gt=h:Gt.push.apply(Gt,h))}m=N}if(h=!1,m!==2)continue}}if(m===1){Ti(e,0),ra(e,a,0,!0);break}e:{switch(c=e,h=m,h){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ra(c,a,Xt,!aa);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=Bl+300-Xe(),10<m)){if(ra(c,a,Xt,!aa),Ws(c,0,!0)!==0)break e;Vn=a,c.timeoutHandle=Ym(gm.bind(null,c,l,Gt,ql,dc,a,Xt,Oa,bi,aa,h,"Throttled",-0,0),m);break e}gm(c,l,Gt,ql,dc,a,Xt,Oa,bi,aa,h,null,-0,0)}}break}while(!0);yn(e)}function gm(e,a,l,c,m,h,N,C,A,J,se,oe,X,ee){if(e.timeoutHandle=-1,oe=a.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},cm(a,h,oe);var Ne=(h&62914560)===h?Bl-Xe():(h&4194048)===h?mm-Xe():0;if(Ne=Jv(oe,Ne),Ne!==null){Vn=h,e.cancelPendingCommit=Ne(Sm.bind(null,e,a,h,l,c,m,N,C,A,se,oe,null,X,ee)),ra(e,h,N,!J);return}}Sm(e,a,h,l,c,m,N,C,A)}function dv(e){for(var a=e;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],h=m.getSnapshot;m=m.value;try{if(!Ft(h(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ra(e,a,l,c){a&=~uc,a&=~Oa,e.suspendedLanes|=a,e.pingedLanes&=~a,c&&(e.warmLanes|=a),c=e.expirationTimes;for(var m=a;0<m;){var h=31-$t(m),N=1<<h;c[h]=-1,m&=~N}l!==0&&_u(e,l,a)}function Pl(){return(Qe&6)===0?(Es(0),!1):!0}function hc(){if(He!==null){if(et===0)var e=He.return;else e=He,En=ja=null,Do(e),fi=null,us=0,e=He;for(;e!==null;)Zf(e.alternate,e),e=e.return;He=null}}function Ti(e,a){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Dv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Vn=0,hc(),st=e,He=l=_n(e.current,null),Ge=a,et=0,Kt=null,aa=!1,yi=Yi(e,a),cc=!1,bi=Xt=uc=Oa=ia=pt=0,Gt=_s=null,dc=!1,(a&8)!==0&&(a|=a&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=a;0<c;){var m=31-$t(c),h=1<<m;a|=e[m],c&=~h}return On=a,dl(),l}function vm(e,a){Ue=null,q.H=vs,a===di||a===yl?(a=Rd(),et=3):a===yo?(a=Rd(),et=4):et=a===Yo?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Kt=a,He===null&&(pt=1,Rl(e,nn(a,e.current)))}function ym(){var e=Zt.current;return e===null?!0:(Ge&4194048)===Ge?rn===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?e===rn:!1}function bm(){var e=q.H;return q.H=vs,e===null?vs:e}function Nm(){var e=q.A;return q.A=cv,e}function $l(){pt=4,aa||(Ge&4194048)!==Ge&&Zt.current!==null||(yi=!0),(ia&134217727)===0&&(Oa&134217727)===0||st===null||ra(st,Ge,Xt,!1)}function xc(e,a,l){var c=Qe;Qe|=2;var m=bm(),h=Nm();(st!==e||Ge!==a)&&(ql=null,Ti(e,a)),a=!1;var N=pt;e:do try{if(et!==0&&He!==null){var C=He,A=Kt;switch(et){case 8:hc(),N=6;break e;case 3:case 2:case 9:case 6:Zt.current===null&&(a=!0);var J=et;if(et=0,Kt=null,wi(e,C,A,J),l&&yi){N=0;break e}break;default:J=et,et=0,Kt=null,wi(e,C,A,J)}}fv(),N=pt;break}catch(se){vm(e,se)}while(!0);return a&&e.shellSuspendCounter++,En=ja=null,Qe=c,q.H=m,q.A=h,He===null&&(st=null,Ge=0,dl()),N}function fv(){for(;He!==null;)Tm(He)}function mv(e,a){var l=Qe;Qe|=2;var c=bm(),m=Nm();st!==e||Ge!==a?(ql=null,Gl=Xe()+500,Ti(e,a)):yi=Yi(e,a);e:do try{if(et!==0&&He!==null){a=He;var h=Kt;t:switch(et){case 1:et=0,Kt=null,wi(e,a,h,1);break;case 2:case 9:if(Dd(h)){et=0,Kt=null,wm(a);break}a=function(){et!==2&&et!==9||st!==e||(et=7),yn(e)},h.then(a,a);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Dd(h)?(et=0,Kt=null,wm(a)):(et=0,Kt=null,wi(e,a,h,7));break;case 5:var N=null;switch(He.tag){case 26:N=He.memoizedState;case 5:case 27:var C=He;if(N?op(N):C.stateNode.complete){et=0,Kt=null;var A=C.sibling;if(A!==null)He=A;else{var J=C.return;J!==null?(He=J,Fl(J)):He=null}break t}}et=0,Kt=null,wi(e,a,h,5);break;case 6:et=0,Kt=null,wi(e,a,h,6);break;case 8:hc(),pt=6;break e;default:throw Error(i(462))}}pv();break}catch(se){vm(e,se)}while(!0);return En=ja=null,q.H=c,q.A=m,Qe=l,He!==null?0:(st=null,Ge=0,dl(),pt)}function pv(){for(;He!==null&&!fe();)Tm(He)}function Tm(e){var a=Ff(e.alternate,e,On);e.memoizedProps=e.pendingProps,a===null?Fl(e):He=a}function wm(e){var a=e,l=a.alternate;switch(a.tag){case 15:case 0:a=Hf(l,a,a.pendingProps,a.type,void 0,Ge);break;case 11:a=Hf(l,a,a.pendingProps,a.type.render,a.ref,Ge);break;case 5:Do(a);default:Zf(l,a),a=He=bd(a,On),a=Ff(l,a,On)}e.memoizedProps=e.pendingProps,a===null?Fl(e):He=a}function wi(e,a,l,c){En=ja=null,Do(a),fi=null,us=0;var m=a.return;try{if(nv(e,m,a,l,Ge)){pt=1,Rl(e,nn(l,e.current)),He=null;return}}catch(h){if(m!==null)throw He=m,h;pt=1,Rl(e,nn(l,e.current)),He=null;return}a.flags&32768?(Pe||c===1?e=!0:yi||(Ge&536870912)!==0?e=!1:(aa=e=!0,(c===2||c===9||c===3||c===6)&&(c=Zt.current,c!==null&&c.tag===13&&(c.flags|=16384))),Cm(a,e)):Fl(a)}function Fl(e){var a=e;do{if((a.flags&32768)!==0){Cm(a,aa);return}e=a.return;var l=sv(a.alternate,a,On);if(l!==null){He=l;return}if(a=a.sibling,a!==null){He=a;return}He=a=e}while(a!==null);pt===0&&(pt=5)}function Cm(e,a){do{var l=lv(e.alternate,e);if(l!==null){l.flags&=32767,He=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(e=e.sibling,e!==null)){He=e;return}He=e=l}while(e!==null);pt=6,He=null}function Sm(e,a,l,c,m,h,N,C,A){e.cancelPendingCommit=null;do Yl();while(Ct!==0);if((Qe&6)!==0)throw Error(i(327));if(a!==null){if(a===e.current)throw Error(i(177));if(h=a.lanes|a.childLanes,h|=ao,Yx(e,l,h,N,C,A),e===st&&(He=st=null,Ge=0),Ni=a,la=e,Vn=l,fc=h,mc=m,pm=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vv(Pa,function(){return Am(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,m=V.p,V.p=2,N=Qe,Qe|=4;try{rv(e,a,l)}finally{Qe=N,V.p=m,q.T=c}}Ct=1,_m(),km(),Em()}}function _m(){if(Ct===1){Ct=0;var e=la,a=Ni,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=q.T,q.T=null;var c=V.p;V.p=2;var m=Qe;Qe|=4;try{lm(a,e);var h=Ec,N=dd(e.containerInfo),C=h.focusedElem,A=h.selectionRange;if(N!==C&&C&&C.ownerDocument&&ud(C.ownerDocument.documentElement,C)){if(A!==null&&Qr(C)){var J=A.start,se=A.end;if(se===void 0&&(se=J),"selectionStart"in C)C.selectionStart=J,C.selectionEnd=Math.min(se,C.value.length);else{var oe=C.ownerDocument||document,X=oe&&oe.defaultView||window;if(X.getSelection){var ee=X.getSelection(),Ne=C.textContent.length,je=Math.min(A.start,Ne),it=A.end===void 0?je:Math.min(A.end,Ne);!ee.extend&&je>it&&(N=it,it=je,je=N);var G=cd(C,je),z=cd(C,it);if(G&&z&&(ee.rangeCount!==1||ee.anchorNode!==G.node||ee.anchorOffset!==G.offset||ee.focusNode!==z.node||ee.focusOffset!==z.offset)){var Z=oe.createRange();Z.setStart(G.node,G.offset),ee.removeAllRanges(),je>it?(ee.addRange(Z),ee.extend(z.node,z.offset)):(Z.setEnd(z.node,z.offset),ee.addRange(Z))}}}}for(oe=[],ee=C;ee=ee.parentNode;)ee.nodeType===1&&oe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<oe.length;C++){var re=oe[C];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}sr=!!kc,Ec=kc=null}finally{Qe=m,V.p=c,q.T=l}}e.current=a,Ct=2}}function km(){if(Ct===2){Ct=0;var e=la,a=Ni,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=q.T,q.T=null;var c=V.p;V.p=2;var m=Qe;Qe|=4;try{tm(e,a.alternate,a)}finally{Qe=m,V.p=c,q.T=l}}Ct=3}}function Em(){if(Ct===4||Ct===3){Ct=0,gt();var e=la,a=Ni,l=Vn,c=pm;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ct=5:(Ct=0,Ni=la=null,jm(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(sa=null),Rr(l),a=a.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Fi,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=q.T,m=V.p,V.p=2,q.T=null;try{for(var h=e.onRecoverableError,N=0;N<c.length;N++){var C=c[N];h(C.value,{componentStack:C.stack})}}finally{q.T=a,V.p=m}}(Vn&3)!==0&&Yl(),yn(e),m=e.pendingLanes,(l&261930)!==0&&(m&42)!==0?e===pc?ks++:(ks=0,pc=e):ks=0,Es(0)}}function jm(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,os(a)))}function Yl(){return _m(),km(),Em(),Am()}function Am(){if(Ct!==5)return!1;var e=la,a=fc;fc=0;var l=Rr(Vn),c=q.T,m=V.p;try{V.p=32>l?32:l,q.T=null,l=mc,mc=null;var h=la,N=Vn;if(Ct=0,Ni=la=null,Vn=0,(Qe&6)!==0)throw Error(i(331));var C=Qe;if(Qe|=4,dm(h.current),om(h,h.current,N,l),Qe=C,Es(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Fi,h)}catch{}return!0}finally{V.p=m,q.T=c,jm(e,a)}}function Dm(e,a,l){a=nn(l,a),a=Fo(e.stateNode,a,2),e=Wn(e,a,2),e!==null&&(Zi(e,2),yn(e))}function tt(e,a,l){if(e.tag===3)Dm(e,e,l);else for(;a!==null;){if(a.tag===3){Dm(a,e,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(sa===null||!sa.has(c))){e=nn(l,e),l=Mf(2),c=Wn(a,l,2),c!==null&&(Rf(l,c,a,e),Zi(c,2),yn(c));break}}a=a.return}}function gc(e,a,l){var c=e.pingCache;if(c===null){c=e.pingCache=new uv;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(cc=!0,m.add(l),e=hv.bind(null,e,a,l),a.then(e,e))}function hv(e,a,l){var c=e.pingCache;c!==null&&c.delete(a),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,st===e&&(Ge&l)===l&&(pt===4||pt===3&&(Ge&62914560)===Ge&&300>Xe()-Bl?(Qe&2)===0&&Ti(e,0):uc|=l,bi===Ge&&(bi=0)),yn(e)}function Mm(e,a){a===0&&(a=Su()),e=_a(e,a),e!==null&&(Zi(e,a),yn(e))}function xv(e){var a=e.memoizedState,l=0;a!==null&&(l=a.retryLane),Mm(e,l)}function gv(e,a){var l=0;switch(e.tag){case 31:case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),Mm(e,l)}function vv(e,a){return ae(e,a)}var Zl=null,Ci=null,vc=!1,Jl=!1,yc=!1,oa=0;function yn(e){e!==Ci&&e.next===null&&(Ci===null?Zl=Ci=e:Ci=Ci.next=e),Jl=!0,vc||(vc=!0,bv())}function Es(e,a){if(!yc&&Jl){yc=!0;do for(var l=!1,c=Zl;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var h=0;else{var N=c.suspendedLanes,C=c.pingedLanes;h=(1<<31-$t(42|e)+1)-1,h&=m&~(N&~C),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(l=!0,zm(c,h))}else h=Ge,h=Ws(c,c===st?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||Yi(c,h)||(l=!0,zm(c,h));c=c.next}while(l);yc=!1}}function yv(){Rm()}function Rm(){Jl=vc=!1;var e=0;oa!==0&&Av()&&(e=oa);for(var a=Xe(),l=null,c=Zl;c!==null;){var m=c.next,h=Im(c,a);h===0?(c.next=null,l===null?Zl=m:l.next=m,m===null&&(Ci=l)):(l=c,(e!==0||(h&3)!==0)&&(Jl=!0)),c=m}Ct!==0&&Ct!==5||Es(e),oa!==0&&(oa=0)}function Im(e,a){for(var l=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var N=31-$t(h),C=1<<N,A=m[N];A===-1?((C&l)===0||(C&c)!==0)&&(m[N]=Fx(C,a)):A<=a&&(e.expiredLanes|=C),h&=~C}if(a=st,l=Ge,l=Ws(e,e===a?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,l===0||e===a&&(et===2||et===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&le(c),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Yi(e,l)){if(a=l&-l,a===e.callbackPriority)return a;switch(c!==null&&le(c),Rr(l)){case 2:case 8:l=hn;break;case 32:l=Pa;break;case 268435456:l=Cu;break;default:l=Pa}return c=Um.bind(null,e),l=ae(l,c),e.callbackPriority=a,e.callbackNode=l,a}return c!==null&&c!==null&&le(c),e.callbackPriority=2,e.callbackNode=null,2}function Um(e,a){if(Ct!==0&&Ct!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Yl()&&e.callbackNode!==l)return null;var c=Ge;return c=Ws(e,e===st?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(xm(e,c,a),Im(e,Xe()),e.callbackNode!=null&&e.callbackNode===l?Um.bind(null,e):null)}function zm(e,a){if(Yl())return null;xm(e,a,!0)}function bv(){Mv(function(){(Qe&6)!==0?ae(ba,yv):Rm()})}function bc(){if(oa===0){var e=ci;e===0&&(e=Ks,Ks<<=1,(Ks&261888)===0&&(Ks=256)),oa=e}return oa}function Lm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:al(""+e)}function Om(e,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,e.id&&l.setAttribute("form",e.id),a.parentNode.insertBefore(l,a),e=new FormData(e),l.parentNode.removeChild(l),e}function Nv(e,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var h=Lm((m[Lt]||null).action),N=c.submitter;N&&(a=(a=N[Lt]||null)?Lm(a.formAction):N.getAttribute("formAction"),a!==null&&(h=a,N=null));var C=new rl("action","action",null,c,m);e.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(oa!==0){var A=N?Om(m,N):new FormData(m);Ho(l,{pending:!0,data:A,method:m.method,action:h},null,A)}}else typeof h=="function"&&(C.preventDefault(),A=N?Om(m,N):new FormData(m),Ho(l,{pending:!0,data:A,method:m.method,action:h},h,A))},currentTarget:m}]})}}for(var Nc=0;Nc<no.length;Nc++){var Tc=no[Nc],Tv=Tc.toLowerCase(),wv=Tc[0].toUpperCase()+Tc.slice(1);dn(Tv,"on"+wv)}dn(pd,"onAnimationEnd"),dn(hd,"onAnimationIteration"),dn(xd,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(Vg,"onTransitionRun"),dn(Hg,"onTransitionStart"),dn(Bg,"onTransitionCancel"),dn(gd,"onTransitionEnd"),Ja("onMouseEnter",["mouseout","mouseover"]),Ja("onMouseLeave",["mouseout","mouseover"]),Ja("onPointerEnter",["pointerout","pointerover"]),Ja("onPointerLeave",["pointerout","pointerover"]),Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(js));function Vm(e,a){a=(a&4)!==0;for(var l=0;l<e.length;l++){var c=e[l],m=c.event;c=c.listeners;e:{var h=void 0;if(a)for(var N=c.length-1;0<=N;N--){var C=c[N],A=C.instance,J=C.currentTarget;if(C=C.listener,A!==h&&m.isPropagationStopped())break e;h=C,m.currentTarget=J;try{h(m)}catch(se){ul(se)}m.currentTarget=null,h=A}else for(N=0;N<c.length;N++){if(C=c[N],A=C.instance,J=C.currentTarget,C=C.listener,A!==h&&m.isPropagationStopped())break e;h=C,m.currentTarget=J;try{h(m)}catch(se){ul(se)}m.currentTarget=null,h=A}}}}function Be(e,a){var l=a[Ir];l===void 0&&(l=a[Ir]=new Set);var c=e+"__bubble";l.has(c)||(Hm(a,e,2,!1),l.add(c))}function wc(e,a,l){var c=0;a&&(c|=4),Hm(l,e,c,a)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function Cc(e){if(!e[Kl]){e[Kl]=!0,Mu.forEach(function(l){l!=="selectionchange"&&(Cv.has(l)||wc(l,!1,e),wc(l,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[Kl]||(a[Kl]=!0,wc("selectionchange",!1,a))}}function Hm(e,a,l,c){switch(hp(a)){case 2:var m=Qv;break;case 8:m=Wv;break;default:m=Vc}l=m.bind(null,a,l,e),m=void 0,!qr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(a,l,{capture:!0,passive:m}):e.addEventListener(a,l,!0):m!==void 0?e.addEventListener(a,l,{passive:m}):e.addEventListener(a,l,!1)}function Sc(e,a,l,c,m){var h=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var C=c.stateNode.containerInfo;if(C===m)break;if(N===4)for(N=c.return;N!==null;){var A=N.tag;if((A===3||A===4)&&N.stateNode.containerInfo===m)return;N=N.return}for(;C!==null;){if(N=Fa(C),N===null)return;if(A=N.tag,A===5||A===6||A===26||A===27){c=h=N;continue e}C=C.parentNode}}c=c.return}Pu(function(){var J=h,se=Br(l),oe=[];e:{var X=vd.get(e);if(X!==void 0){var ee=rl,Ne=e;switch(e){case"keypress":if(sl(l)===0)break e;case"keydown":case"keyup":ee=gg;break;case"focusin":Ne="focus",ee=Yr;break;case"focusout":Ne="blur",ee=Yr;break;case"beforeblur":case"afterblur":ee=Yr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=sg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=bg;break;case pd:case hd:case xd:ee=og;break;case gd:ee=Tg;break;case"scroll":case"scrollend":ee=ag;break;case"wheel":ee=Cg;break;case"copy":case"cut":case"paste":ee=ug;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Ju;break;case"toggle":case"beforetoggle":ee=_g}var je=(a&4)!==0,it=!je&&(e==="scroll"||e==="scrollend"),G=je?X!==null?X+"Capture":null:X;je=[];for(var z=J,Z;z!==null;){var re=z;if(Z=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Z===null||G===null||(re=Xi(z,G),re!=null&&je.push(As(z,re,Z))),it)break;z=z.return}0<je.length&&(X=new ee(X,Ne,null,l,se),oe.push({event:X,listeners:je}))}}if((a&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",X&&l!==Hr&&(Ne=l.relatedTarget||l.fromElement)&&(Fa(Ne)||Ne[$a]))break e;if((ee||X)&&(X=se.window===se?se:(X=se.ownerDocument)?X.defaultView||X.parentWindow:window,ee?(Ne=l.relatedTarget||l.toElement,ee=J,Ne=Ne?Fa(Ne):null,Ne!==null&&(it=u(Ne),je=Ne.tag,Ne!==it||je!==5&&je!==27&&je!==6)&&(Ne=null)):(ee=null,Ne=J),ee!==Ne)){if(je=Yu,re="onMouseLeave",G="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(je=Ju,re="onPointerLeave",G="onPointerEnter",z="pointer"),it=ee==null?X:Ki(ee),Z=Ne==null?X:Ki(Ne),X=new je(re,z+"leave",ee,l,se),X.target=it,X.relatedTarget=Z,re=null,Fa(se)===J&&(je=new je(G,z+"enter",Ne,l,se),je.target=Z,je.relatedTarget=it,re=je),it=re,ee&&Ne)t:{for(je=Sv,G=ee,z=Ne,Z=0,re=G;re;re=je(re))Z++;re=0;for(var Ee=z;Ee;Ee=je(Ee))re++;for(;0<Z-re;)G=je(G),Z--;for(;0<re-Z;)z=je(z),re--;for(;Z--;){if(G===z||z!==null&&G===z.alternate){je=G;break t}G=je(G),z=je(z)}je=null}else je=null;ee!==null&&Bm(oe,X,ee,je,!1),Ne!==null&&it!==null&&Bm(oe,it,Ne,je,!0)}}e:{if(X=J?Ki(J):window,ee=X.nodeName&&X.nodeName.toLowerCase(),ee==="select"||ee==="input"&&X.type==="file")var Ze=ad;else if(td(X))if(id)Ze=zg;else{Ze=Ig;var Se=Rg}else ee=X.nodeName,!ee||ee.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?J&&Vr(J.elementType)&&(Ze=ad):Ze=Ug;if(Ze&&(Ze=Ze(e,J))){nd(oe,Ze,l,se);break e}Se&&Se(e,X,J),e==="focusout"&&J&&X.type==="number"&&J.memoizedProps.value!=null&&Or(X,"number",X.value)}switch(Se=J?Ki(J):window,e){case"focusin":(td(Se)||Se.contentEditable==="true")&&(ti=Se,Wr=J,ss=null);break;case"focusout":ss=Wr=ti=null;break;case"mousedown":eo=!0;break;case"contextmenu":case"mouseup":case"dragend":eo=!1,fd(oe,l,se);break;case"selectionchange":if(Og)break;case"keydown":case"keyup":fd(oe,l,se)}var ze;if(Jr)e:{switch(e){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else ei?Wu(e,l)&&(qe="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(qe="onCompositionStart");qe&&(Ku&&l.locale!=="ko"&&(ei||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&ei&&(ze=$u()):(Fn=se,Pr="value"in Fn?Fn.value:Fn.textContent,ei=!0)),Se=Xl(J,qe),0<Se.length&&(qe=new Zu(qe,e,null,l,se),oe.push({event:qe,listeners:Se}),ze?qe.data=ze:(ze=ed(l),ze!==null&&(qe.data=ze)))),(ze=Eg?jg(e,l):Ag(e,l))&&(qe=Xl(J,"onBeforeInput"),0<qe.length&&(Se=new Zu("onBeforeInput","beforeinput",null,l,se),oe.push({event:Se,listeners:qe}),Se.data=ze)),Nv(oe,e,J,l,se)}Vm(oe,a)})}function As(e,a,l){return{instance:e,listener:a,currentTarget:l}}function Xl(e,a){for(var l=a+"Capture",c=[];e!==null;){var m=e,h=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||h===null||(m=Xi(e,l),m!=null&&c.unshift(As(e,m,h)),m=Xi(e,a),m!=null&&c.push(As(e,m,h))),e.tag===3)return c;e=e.return}return[]}function Sv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bm(e,a,l,c,m){for(var h=a._reactName,N=[];l!==null&&l!==c;){var C=l,A=C.alternate,J=C.stateNode;if(C=C.tag,A!==null&&A===c)break;C!==5&&C!==26&&C!==27||J===null||(A=J,m?(J=Xi(l,h),J!=null&&N.unshift(As(l,J,A))):m||(J=Xi(l,h),J!=null&&N.push(As(l,J,A)))),l=l.return}N.length!==0&&e.push({event:a,listeners:N})}var _v=/\r\n?/g,kv=/\u0000|\uFFFD/g;function Gm(e){return(typeof e=="string"?e:""+e).replace(_v,`
`).replace(kv,"")}function qm(e,a){return a=Gm(a),Gm(e)===a}function at(e,a,l,c,m,h){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Xa(e,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Xa(e,""+c);break;case"className":tl(e,"class",c);break;case"tabIndex":tl(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":tl(e,l,c);break;case"style":Gu(e,c,h);break;case"data":if(a!=="object"){tl(e,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){e.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(l);break}c=al(""+c),e.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(l==="formAction"?(a!=="input"&&at(e,a,"name",m.name,m,null),at(e,a,"formEncType",m.formEncType,m,null),at(e,a,"formMethod",m.formMethod,m,null),at(e,a,"formTarget",m.formTarget,m,null)):(at(e,a,"encType",m.encType,m,null),at(e,a,"method",m.method,m,null),at(e,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(l);break}c=al(""+c),e.setAttribute(l,c);break;case"onClick":c!=null&&(e.onclick=Cn);break;case"onScroll":c!=null&&Be("scroll",e);break;case"onScrollEnd":c!=null&&Be("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));e.innerHTML=l}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}l=al(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(l,""+c):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":c===!0?e.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(l,c):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(l,c):e.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(l):e.setAttribute(l,c);break;case"popover":Be("beforetoggle",e),Be("toggle",e),el(e,"popover",c);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":el(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=tg.get(l)||l,el(e,l,c))}}function _c(e,a,l,c,m,h){switch(l){case"style":Gu(e,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));e.innerHTML=l}}break;case"children":typeof c=="string"?Xa(e,c):(typeof c=="number"||typeof c=="bigint")&&Xa(e,""+c);break;case"onScroll":c!=null&&Be("scroll",e);break;case"onScrollEnd":c!=null&&Be("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ru.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),h=e[Lt]||null,h=h!=null?h[l]:null,typeof h=="function"&&e.removeEventListener(a,h,m),typeof c=="function")){typeof h!="function"&&h!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(a,c,m);break e}l in e?e[l]=c:c===!0?e.setAttribute(l,""):el(e,l,c)}}}function Dt(e,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",e),Be("load",e);var c=!1,m=!1,h;for(h in l)if(l.hasOwnProperty(h)){var N=l[h];if(N!=null)switch(h){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:at(e,a,h,N,l,null)}}m&&at(e,a,"srcSet",l.srcSet,l,null),c&&at(e,a,"src",l.src,l,null);return;case"input":Be("invalid",e);var C=h=N=m=null,A=null,J=null;for(c in l)if(l.hasOwnProperty(c)){var se=l[c];if(se!=null)switch(c){case"name":m=se;break;case"type":N=se;break;case"checked":A=se;break;case"defaultChecked":J=se;break;case"value":h=se;break;case"defaultValue":C=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,a));break;default:at(e,a,c,se,l,null)}}Ou(e,h,C,A,J,N,m,!1);return;case"select":Be("invalid",e),c=N=h=null;for(m in l)if(l.hasOwnProperty(m)&&(C=l[m],C!=null))switch(m){case"value":h=C;break;case"defaultValue":N=C;break;case"multiple":c=C;default:at(e,a,m,C,l,null)}a=h,l=N,e.multiple=!!c,a!=null?Ka(e,!!c,a,!1):l!=null&&Ka(e,!!c,l,!0);return;case"textarea":Be("invalid",e),h=m=c=null;for(N in l)if(l.hasOwnProperty(N)&&(C=l[N],C!=null))switch(N){case"value":c=C;break;case"defaultValue":m=C;break;case"children":h=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:at(e,a,N,C,l,null)}Hu(e,c,m,h);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(c=l[A],c!=null))switch(A){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:at(e,a,A,c,l,null)}return;case"dialog":Be("beforetoggle",e),Be("toggle",e),Be("cancel",e),Be("close",e);break;case"iframe":case"object":Be("load",e);break;case"video":case"audio":for(c=0;c<js.length;c++)Be(js[c],e);break;case"image":Be("error",e),Be("load",e);break;case"details":Be("toggle",e);break;case"embed":case"source":case"link":Be("error",e),Be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in l)if(l.hasOwnProperty(J)&&(c=l[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:at(e,a,J,c,l,null)}return;default:if(Vr(a)){for(se in l)l.hasOwnProperty(se)&&(c=l[se],c!==void 0&&_c(e,a,se,c,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(c=l[C],c!=null&&at(e,a,C,c,l,null))}function Ev(e,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,h=null,N=null,C=null,A=null,J=null,se=null;for(ee in l){var oe=l[ee];if(l.hasOwnProperty(ee)&&oe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":A=oe;default:c.hasOwnProperty(ee)||at(e,a,ee,null,c,oe)}}for(var X in c){var ee=c[X];if(oe=l[X],c.hasOwnProperty(X)&&(ee!=null||oe!=null))switch(X){case"type":h=ee;break;case"name":m=ee;break;case"checked":J=ee;break;case"defaultChecked":se=ee;break;case"value":N=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:ee!==oe&&at(e,a,X,ee,c,oe)}}Lr(e,N,C,A,J,se,h,m);return;case"select":ee=N=C=X=null;for(h in l)if(A=l[h],l.hasOwnProperty(h)&&A!=null)switch(h){case"value":break;case"multiple":ee=A;default:c.hasOwnProperty(h)||at(e,a,h,null,c,A)}for(m in c)if(h=c[m],A=l[m],c.hasOwnProperty(m)&&(h!=null||A!=null))switch(m){case"value":X=h;break;case"defaultValue":C=h;break;case"multiple":N=h;default:h!==A&&at(e,a,m,h,c,A)}a=C,l=N,c=ee,X!=null?Ka(e,!!l,X,!1):!!c!=!!l&&(a!=null?Ka(e,!!l,a,!0):Ka(e,!!l,l?[]:"",!1));return;case"textarea":ee=X=null;for(C in l)if(m=l[C],l.hasOwnProperty(C)&&m!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:at(e,a,C,null,c,m)}for(N in c)if(m=c[N],h=l[N],c.hasOwnProperty(N)&&(m!=null||h!=null))switch(N){case"value":X=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==h&&at(e,a,N,m,c,h)}Vu(e,X,ee);return;case"option":for(var Ne in l)if(X=l[Ne],l.hasOwnProperty(Ne)&&X!=null&&!c.hasOwnProperty(Ne))switch(Ne){case"selected":e.selected=!1;break;default:at(e,a,Ne,null,c,X)}for(A in c)if(X=c[A],ee=l[A],c.hasOwnProperty(A)&&X!==ee&&(X!=null||ee!=null))switch(A){case"selected":e.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:at(e,a,A,X,c,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in l)X=l[je],l.hasOwnProperty(je)&&X!=null&&!c.hasOwnProperty(je)&&at(e,a,je,null,c,X);for(J in c)if(X=c[J],ee=l[J],c.hasOwnProperty(J)&&X!==ee&&(X!=null||ee!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:at(e,a,J,X,c,ee)}return;default:if(Vr(a)){for(var it in l)X=l[it],l.hasOwnProperty(it)&&X!==void 0&&!c.hasOwnProperty(it)&&_c(e,a,it,void 0,c,X);for(se in c)X=c[se],ee=l[se],!c.hasOwnProperty(se)||X===ee||X===void 0&&ee===void 0||_c(e,a,se,X,c,ee);return}}for(var G in l)X=l[G],l.hasOwnProperty(G)&&X!=null&&!c.hasOwnProperty(G)&&at(e,a,G,null,c,X);for(oe in c)X=c[oe],ee=l[oe],!c.hasOwnProperty(oe)||X===ee||X==null&&ee==null||at(e,a,oe,X,c,ee)}function Pm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var m=l[c],h=m.transferSize,N=m.initiatorType,C=m.duration;if(h&&C&&Pm(N)){for(N=0,C=m.responseEnd,c+=1;c<l.length;c++){var A=l[c],J=A.startTime;if(J>C)break;var se=A.transferSize,oe=A.initiatorType;se&&Pm(oe)&&(A=A.responseEnd,N+=se*(A<C?1:(C-J)/(A-J)))}if(--c,a+=8*(h+N)/(m.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var kc=null,Ec=null;function Ql(e){return e.nodeType===9?e:e.ownerDocument}function $m(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fm(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function jc(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ac=null;function Av(){var e=window.event;return e&&e.type==="popstate"?e===Ac?!1:(Ac=e,!0):(Ac=null,!1)}var Ym=typeof setTimeout=="function"?setTimeout:void 0,Dv=typeof clearTimeout=="function"?clearTimeout:void 0,Zm=typeof Promise=="function"?Promise:void 0,Mv=typeof queueMicrotask=="function"?queueMicrotask:typeof Zm<"u"?function(e){return Zm.resolve(null).then(e).catch(Rv)}:Ym;function Rv(e){setTimeout(function(){throw e})}function ca(e){return e==="head"}function Jm(e,a){var l=a,c=0;do{var m=l.nextSibling;if(e.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(c===0){e.removeChild(m),Ei(a);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")Ds(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Ds(l);for(var h=l.firstChild;h;){var N=h.nextSibling,C=h.nodeName;h[Ji]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&h.rel.toLowerCase()==="stylesheet"||l.removeChild(h),h=N}}else l==="body"&&Ds(e.ownerDocument.body);l=m}while(l);Ei(a)}function Km(e,a){var l=e;e=0;do{var c=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=c}while(l)}function Dc(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Dc(l),Ur(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Iv(e,a,l,c){for(;e.nodeType===1;){var m=l;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Ji])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var h=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=on(e.nextSibling),e===null)break}return null}function Uv(e,a,l){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=on(e.nextSibling),e===null))return null;return e}function Xm(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=on(e.nextSibling),e===null))return null;return e}function Mc(e){return e.data==="$?"||e.data==="$~"}function Rc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zv(e,a){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||l.readyState!=="loading")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function on(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var Ic=null;function Qm(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(a===0)return on(e.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}e=e.nextSibling}return null}function Wm(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return e;a--}else l!=="/$"&&l!=="/&"||a++}e=e.previousSibling}return null}function ep(e,a,l){switch(a=Ql(l),e){case"html":if(e=a.documentElement,!e)throw Error(i(452));return e;case"head":if(e=a.head,!e)throw Error(i(453));return e;case"body":if(e=a.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Ds(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);Ur(e)}var cn=new Map,tp=new Set;function Wl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hn=V.d;V.d={f:Lv,r:Ov,D:Vv,C:Hv,L:Bv,m:Gv,X:Pv,S:qv,M:$v};function Lv(){var e=Hn.f(),a=Pl();return e||a}function Ov(e){var a=Ya(e);a!==null&&a.tag===5&&a.type==="form"?vf(a):Hn.r(e)}var Si=typeof document>"u"?null:document;function np(e,a,l){var c=Si;if(c&&typeof a=="string"&&a){var m=en(a);m='link[rel="'+e+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),tp.has(m)||(tp.add(m),e={rel:e,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),Dt(a,"link",e),St(a),c.head.appendChild(a)))}}function Vv(e){Hn.D(e),np("dns-prefetch",e,null)}function Hv(e,a){Hn.C(e,a),np("preconnect",e,a)}function Bv(e,a,l){Hn.L(e,a,l);var c=Si;if(c&&e&&a){var m='link[rel="preload"][as="'+en(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+en(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+en(l.imageSizes)+'"]')):m+='[href="'+en(e)+'"]';var h=m;switch(a){case"style":h=_i(e);break;case"script":h=ki(e)}cn.has(h)||(e=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:e,as:a},l),cn.set(h,e),c.querySelector(m)!==null||a==="style"&&c.querySelector(Ms(h))||a==="script"&&c.querySelector(Rs(h))||(a=c.createElement("link"),Dt(a,"link",e),St(a),c.head.appendChild(a)))}}function Gv(e,a){Hn.m(e,a);var l=Si;if(l&&e){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+en(c)+'"][href="'+en(e)+'"]',h=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ki(e)}if(!cn.has(h)&&(e=b({rel:"modulepreload",href:e},a),cn.set(h,e),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Rs(h)))return}c=l.createElement("link"),Dt(c,"link",e),St(c),l.head.appendChild(c)}}}function qv(e,a,l){Hn.S(e,a,l);var c=Si;if(c&&e){var m=Za(c).hoistableStyles,h=_i(e);a=a||"default";var N=m.get(h);if(!N){var C={loading:0,preload:null};if(N=c.querySelector(Ms(h)))C.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":a},l),(l=cn.get(h))&&Uc(e,l);var A=N=c.createElement("link");St(A),Dt(A,"link",e),A._p=new Promise(function(J,se){A.onload=J,A.onerror=se}),A.addEventListener("load",function(){C.loading|=1}),A.addEventListener("error",function(){C.loading|=2}),C.loading|=4,er(N,a,c)}N={type:"stylesheet",instance:N,count:1,state:C},m.set(h,N)}}}function Pv(e,a){Hn.X(e,a);var l=Si;if(l&&e){var c=Za(l).hoistableScripts,m=ki(e),h=c.get(m);h||(h=l.querySelector(Rs(m)),h||(e=b({src:e,async:!0},a),(a=cn.get(m))&&zc(e,a),h=l.createElement("script"),St(h),Dt(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(m,h))}}function $v(e,a){Hn.M(e,a);var l=Si;if(l&&e){var c=Za(l).hoistableScripts,m=ki(e),h=c.get(m);h||(h=l.querySelector(Rs(m)),h||(e=b({src:e,async:!0,type:"module"},a),(a=cn.get(m))&&zc(e,a),h=l.createElement("script"),St(h),Dt(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(m,h))}}function ap(e,a,l,c){var m=(m=ce.current)?Wl(m):null;if(!m)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=_i(l.href),l=Za(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=_i(l.href);var h=Za(m).hoistableStyles,N=h.get(e);if(N||(m=m.ownerDocument||m,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,N),(h=m.querySelector(Ms(e)))&&!h._p&&(N.instance=h,N.state.loading=5),cn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},cn.set(e,l),h||Fv(m,e,l,N.state))),a&&c===null)throw Error(i(528,""));return N}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ki(l),l=Za(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function _i(e){return'href="'+en(e)+'"'}function Ms(e){return'link[rel="stylesheet"]['+e+"]"}function ip(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Fv(e,a,l,c){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=e.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Dt(a,"link",l),St(a),e.head.appendChild(a))}function ki(e){return'[src="'+en(e)+'"]'}function Rs(e){return"script[async]"+e}function sp(e,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=e.querySelector('style[data-href~="'+en(l.href)+'"]');if(c)return a.instance=c,St(c),c;var m=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),St(c),Dt(c,"style",m),er(c,l.precedence,e),a.instance=c;case"stylesheet":m=_i(l.href);var h=e.querySelector(Ms(m));if(h)return a.state.loading|=4,a.instance=h,St(h),h;c=ip(l),(m=cn.get(m))&&Uc(c,m),h=(e.ownerDocument||e).createElement("link"),St(h);var N=h;return N._p=new Promise(function(C,A){N.onload=C,N.onerror=A}),Dt(h,"link",c),a.state.loading|=4,er(h,l.precedence,e),a.instance=h;case"script":return h=ki(l.src),(m=e.querySelector(Rs(h)))?(a.instance=m,St(m),m):(c=l,(m=cn.get(h))&&(c=b({},l),zc(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),St(m),Dt(m,"link",c),e.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,er(c,l.precedence,e));return a.instance}function er(e,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,h=m,N=0;N<c.length;N++){var C=c[N];if(C.dataset.precedence===a)h=C;else if(h!==m)break}h?h.parentNode.insertBefore(e,h.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(e,a.firstChild))}function Uc(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function zc(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var tr=null;function lp(e,a,l){if(tr===null){var c=new Map,m=tr=new Map;m.set(l,c)}else m=tr,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(e))return c;for(c.set(e,null),l=l.getElementsByTagName(e),m=0;m<l.length;m++){var h=l[m];if(!(h[Ji]||h[kt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var N=h.getAttribute(a)||"";N=e+N;var C=c.get(N);C?C.push(h):c.set(N,[h])}}return c}function rp(e,a,l){e=e.ownerDocument||e,e.head.insertBefore(l,a==="title"?e.querySelector("head > title"):null)}function Yv(e,a,l){if(l===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function op(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Zv(e,a,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=_i(c.href),h=a.querySelector(Ms(m));if(h){a=h._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=nr.bind(e),a.then(e,e)),l.state.loading|=4,l.instance=h,St(h);return}h=a.ownerDocument||a,c=ip(c),(m=cn.get(m))&&Uc(c,m),h=h.createElement("link"),St(h);var N=h;N._p=new Promise(function(C,A){N.onload=C,N.onerror=A}),Dt(h,"link",c),l.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=nr.bind(e),a.addEventListener("load",l),a.addEventListener("error",l))}}var Lc=0;function Jv(e,a){return e.stylesheets&&e.count===0&&ir(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var c=setTimeout(function(){if(e.stylesheets&&ir(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+a);0<e.imgBytes&&Lc===0&&(Lc=62500*jv());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ir(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Lc?50:800)+a);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function nr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ir(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ar=null;function ir(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ar=new Map,a.forEach(Kv,e),ar=null,nr.call(e))}function Kv(e,a){if(!(a.state.loading&4)){var l=ar.get(e);if(l)var c=l.get(null);else{l=new Map,ar.set(e,l);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<m.length;h++){var N=m[h];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(l.set(N.dataset.precedence,N),c=N)}c&&l.set(null,c)}m=a.instance,N=m.getAttribute("data-precedence"),h=l.get(N)||c,h===c&&l.set(null,m),l.set(N,m),this.count++,c=nr.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),h?h.parentNode.insertBefore(m,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),a.state.loading|=4}}var Is={$$typeof:M,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Xv(e,a,l,c,m,h,N,C,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=h,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function cp(e,a,l,c,m,h,N,C,A,J,se,oe){return e=new Xv(e,a,l,N,A,J,se,oe,C),a=1,h===!0&&(a|=24),h=Yt(3,null,null,a),e.current=h,h.stateNode=e,a=xo(),a.refCount++,e.pooledCache=a,a.refCount++,h.memoizedState={element:c,isDehydrated:l,cache:a},bo(h),e}function up(e){return e?(e=ii,e):ii}function dp(e,a,l,c,m,h){m=up(m),c.context===null?c.context=m:c.pendingContext=m,c=Qn(a),c.payload={element:l},h=h===void 0?null:h,h!==null&&(c.callback=h),l=Wn(e,c,a),l!==null&&(qt(l,e,a),fs(l,e,a))}function fp(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<a?l:a}}function Oc(e,a){fp(e,a),(e=e.alternate)&&fp(e,a)}function mp(e){if(e.tag===13||e.tag===31){var a=_a(e,67108864);a!==null&&qt(a,e,67108864),Oc(e,67108864)}}function pp(e){if(e.tag===13||e.tag===31){var a=Qt();a=Mr(a);var l=_a(e,a);l!==null&&qt(l,e,a),Oc(e,a)}}var sr=!0;function Qv(e,a,l,c){var m=q.T;q.T=null;var h=V.p;try{V.p=2,Vc(e,a,l,c)}finally{V.p=h,q.T=m}}function Wv(e,a,l,c){var m=q.T;q.T=null;var h=V.p;try{V.p=8,Vc(e,a,l,c)}finally{V.p=h,q.T=m}}function Vc(e,a,l,c){if(sr){var m=Hc(c);if(m===null)Sc(e,a,c,lr,l),xp(e,c);else if(ty(m,e,a,l,c))c.stopPropagation();else if(xp(e,c),a&4&&-1<ey.indexOf(e)){for(;m!==null;){var h=Ya(m);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var N=Na(h.pendingLanes);if(N!==0){var C=h;for(C.pendingLanes|=2,C.entangledLanes|=2;N;){var A=1<<31-$t(N);C.entanglements[1]|=A,N&=~A}yn(h),(Qe&6)===0&&(Gl=Xe()+500,Es(0))}}break;case 31:case 13:C=_a(h,2),C!==null&&qt(C,h,2),Pl(),Oc(h,2)}if(h=Hc(c),h===null&&Sc(e,a,c,lr,l),h===m)break;m=h}m!==null&&c.stopPropagation()}else Sc(e,a,c,null,l)}}function Hc(e){return e=Br(e),Bc(e)}var lr=null;function Bc(e){if(lr=null,e=Fa(e),e!==null){var a=u(e);if(a===null)e=null;else{var l=a.tag;if(l===13){if(e=p(a),e!==null)return e;e=null}else if(l===31){if(e=g(a),e!==null)return e;e=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return lr=e,null}function hp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qa()){case ba:return 2;case hn:return 8;case Pa:case Ar:return 32;case Cu:return 268435456;default:return 32}default:return 32}}var Gc=!1,ua=null,da=null,fa=null,Us=new Map,zs=new Map,ma=[],ey="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xp(e,a){switch(e){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Us.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(a.pointerId)}}function Ls(e,a,l,c,m,h){return e===null||e.nativeEvent!==h?(e={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:h,targetContainers:[m]},a!==null&&(a=Ya(a),a!==null&&mp(a)),e):(e.eventSystemFlags|=c,a=e.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),e)}function ty(e,a,l,c,m){switch(a){case"focusin":return ua=Ls(ua,e,a,l,c,m),!0;case"dragenter":return da=Ls(da,e,a,l,c,m),!0;case"mouseover":return fa=Ls(fa,e,a,l,c,m),!0;case"pointerover":var h=m.pointerId;return Us.set(h,Ls(Us.get(h)||null,e,a,l,c,m)),!0;case"gotpointercapture":return h=m.pointerId,zs.set(h,Ls(zs.get(h)||null,e,a,l,c,m)),!0}return!1}function gp(e){var a=Fa(e.target);if(a!==null){var l=u(a);if(l!==null){if(a=l.tag,a===13){if(a=p(l),a!==null){e.blockedOn=a,Au(e.priority,function(){pp(l)});return}}else if(a===31){if(a=g(l),a!==null){e.blockedOn=a,Au(e.priority,function(){pp(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rr(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var l=Hc(e.nativeEvent);if(l===null){l=e.nativeEvent;var c=new l.constructor(l.type,l);Hr=c,l.target.dispatchEvent(c),Hr=null}else return a=Ya(l),a!==null&&mp(a),e.blockedOn=l,!1;a.shift()}return!0}function vp(e,a,l){rr(e)&&l.delete(a)}function ny(){Gc=!1,ua!==null&&rr(ua)&&(ua=null),da!==null&&rr(da)&&(da=null),fa!==null&&rr(fa)&&(fa=null),Us.forEach(vp),zs.forEach(vp)}function or(e,a){e.blockedOn===a&&(e.blockedOn=null,Gc||(Gc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ny)))}var cr=null;function yp(e){cr!==e&&(cr=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){cr===e&&(cr=null);for(var a=0;a<e.length;a+=3){var l=e[a],c=e[a+1],m=e[a+2];if(typeof c!="function"){if(Bc(c||l)===null)continue;break}var h=Ya(l);h!==null&&(e.splice(a,3),a-=3,Ho(h,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Ei(e){function a(A){return or(A,e)}ua!==null&&or(ua,e),da!==null&&or(da,e),fa!==null&&or(fa,e),Us.forEach(a),zs.forEach(a);for(var l=0;l<ma.length;l++){var c=ma[l];c.blockedOn===e&&(c.blockedOn=null)}for(;0<ma.length&&(l=ma[0],l.blockedOn===null);)gp(l),l.blockedOn===null&&ma.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],h=l[c+1],N=m[Lt]||null;if(typeof h=="function")N||yp(l);else if(N){var C=null;if(h&&h.hasAttribute("formAction")){if(m=h,N=h[Lt]||null)C=N.formAction;else if(Bc(m)!==null)continue}else C=N.action;typeof C=="function"?l[c+1]=C:(l.splice(c,3),c-=3),yp(l)}}}function bp(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(N){return m=N})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function qc(e){this._internalRoot=e}ur.prototype.render=qc.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=Qt();dp(l,c,e,a,null,null)},ur.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;dp(e.current,2,null,e,null,null),Pl(),a[$a]=null}};function ur(e){this._internalRoot=e}ur.prototype.unstable_scheduleHydration=function(e){if(e){var a=ju();e={blockedOn:null,target:e,priority:a};for(var l=0;l<ma.length&&a!==0&&a<ma[l].priority;l++);ma.splice(l,0,e),l===0&&gp(e)}};var Np=t.version;if(Np!=="19.2.3")throw Error(i(527,Np,"19.2.3"));V.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=x(a),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var ay={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dr.isDisabled&&dr.supportsFiber)try{Fi=dr.inject(ay),Pt=dr}catch{}}return Vs.createRoot=function(e,a){if(!o(e))throw Error(i(299));var l=!1,c="",m=Ef,h=jf,N=Af;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError)),a=cp(e,1,!1,null,null,l,c,null,m,h,N,bp),e[$a]=a.current,Cc(e),new qc(a)},Vs.hydrateRoot=function(e,a,l){if(!o(e))throw Error(i(299));var c=!1,m="",h=Ef,N=jf,C=Af,A=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(h=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),a=cp(e,1,!0,a,l??null,c,m,A,h,N,C,bp),a.context=up(null),l=a.current,c=Qt(),c=Mr(c),m=Qn(c),m.callback=null,Wn(l,m,c),l=c,a.current.lanes=l,Zi(a,l),yn(a),e[$a]=a.current,Cc(e),new ur(a)},Vs.version="19.2.3",Vs}var Dp;function py(){if(Dp)return Fc.exports;Dp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Fc.exports=my(),Fc.exports}var hy=py(),ge=(s=>(s.INBOX="INBOX",s.NEXT_ACTION="NEXT_ACTION",s.DOING="DOING",s.DONE="DONE",s.WAITING="WAITING",s.REFERENCE="REFERENCE",s))(ge||{}),We=(s=>(s.UI="UI",s.UNI="UNI",s.NUI="NUI",s.NUNI="NUNI",s))(We||{});const ox="12tr_gamified_engine_state",xy=s=>{try{localStorage.setItem(ox,JSON.stringify(s))}catch(t){console.error("Failed to save state to localStorage",t)}},gy=()=>{try{const s=localStorage.getItem(ox);return s?JSON.parse(s):null}catch(s){return console.error("Failed to load state from localStorage",s),null}},vy=()=>{const s=new Date().setHours(0,0,0,0),t=new Date().toISOString().split("T")[0],n=["","","","'",""].map(T=>({id:`tag-${Math.random().toString(36).substr(2,5)}`,name:T,color:T===""?"#ef4444":"#f97316"})),i=["","","","",""].map(T=>({id:`hobby-${Math.random().toString(36).substr(2,5)}`,name:T,color:"#6366f1"})),o="folder_insights",u=[{id:o,name:"",color:"#f97316",status:"active",progress:0,isStrategic:!1,description:"FOLDER_NOTE"},{id:"goal_1",name:" React Advanced",color:"#6366f1",status:"active",progress:30,isStrategic:!0,type:"goal",sphere:"education"},{id:"goal_2",name:" 42",color:"#ef4444",status:"active",progress:10,isStrategic:!0,type:"goal",sphere:"health"},{id:"sub_1",name:"Hooks Mastery",color:"#6366f1",parentFolderId:"goal_1",status:"active",progress:50,isStrategic:!1,type:"subproject"},{id:"sub_2",name:" ",color:"#ef4444",parentFolderId:"goal_2",status:"active",progress:0,isStrategic:!1,type:"subproject"}],p=[{id:"p1",name:" ",status:"friend",rating:85,birthDate:"1995-05-12",birthDateShowInCalendar:!0,birthDateRepeatYearly:!0,tags:[""],hobbies:[""],socials:{telegram:"elena_pro"},notes:[{id:"n1",text:"   ",date:t}],memories:[],interactions:[],importantDates:[{id:"id1",label:" ",date:"2020-09-15",showInCalendar:!0,repeatYearly:!0}],loop:"month",createdAt:Date.now()},{id:"p2",name:" ",status:"colleague",rating:40,tags:[""],hobbies:[""],socials:{linkedin:"max-dev"},notes:[],memories:[],interactions:[],importantDates:[],loop:"week",createdAt:Date.now()},{id:"p3",name:" ",status:"mentor",rating:95,tags:[""],hobbies:[""],socials:{},notes:[],memories:[],interactions:[],importantDates:[],loop:"quarter",createdAt:Date.now()},{id:"p4",name:" '",status:"family",rating:100,birthDate:"1970-01-01",importantDates:[{id:"id2",label:"",date:"2024-06-20",showInCalendar:!0,repeatYearly:!0}],loop:"month",tags:[],hobbies:[],socials:{},notes:[],memories:[],interactions:[],createdAt:Date.now()},{id:"p5",name:" ",status:"acquaintance",rating:20,tags:[""],hobbies:[],socials:{},notes:[],memories:[],interactions:[],importantDates:[],loop:"none",createdAt:Date.now()}],g=[];[0,1,2,3,4,5,6].forEach(T=>{g.push({id:`tb-${T}-1`,title:" ",startHour:7,endHour:9,type:"routine",dayOfWeek:T,color:"#10b981"},{id:`tb-${T}-2`,title:" ",startHour:10,endHour:13,type:"work",dayOfWeek:T,color:"#f97316"},{id:`tb-${T}-3`,title:"  ",startHour:13,endHour:14,type:"rest",dayOfWeek:T,color:"#06b6d4"},{id:`tb-${T}-4`,title:"/",startHour:15,endHour:18,type:"study",dayOfWeek:T,color:"#6366f1"},{id:`tb-${T}-5`,title:" ",startHour:21,endHour:22,type:"routine",dayOfWeek:T,color:"#ec4899"})});const x=["   .","   ,     .","   ,    .","     .","     ''  ."].map((T,_)=>({id:`note-ins-${_}`,title:T,status:ge.INBOX,priority:We.NUI,difficulty:1,xp:10,tags:["insight"],createdAt:Date.now(),category:"note",projectId:o})),y=[{id:"subt-1",title:" useMemo  useCallback",status:ge.NEXT_ACTION,priority:We.UI,difficulty:2,xp:100,tags:[""],createdAt:Date.now(),projectId:"sub_1"},{id:"subt-2",title:" custom hook  API",status:ge.INBOX,priority:We.UNI,difficulty:3,xp:150,tags:[""],createdAt:Date.now(),projectId:"sub_1"},{id:"subt-3",title:"   ",status:ge.NEXT_ACTION,priority:We.NUI,difficulty:1,xp:40,tags:[""],createdAt:Date.now(),projectId:"sub_2"},{id:"subt-4",title:"  ",status:ge.INBOX,priority:We.NUNI,difficulty:1,xp:30,tags:[""],createdAt:Date.now(),projectId:"sub_2"},{id:"in-1",title:"  ",status:ge.INBOX,priority:We.NUNI,difficulty:1,xp:20,tags:[],createdAt:Date.now(),category:"unsorted"},{id:"in-2",title:"   GPT-5",status:ge.INBOX,priority:We.NUI,difficulty:2,xp:50,tags:[""],createdAt:Date.now(),category:"unsorted"},{id:"in-3",title:": -  ",status:ge.INBOX,priority:We.NUI,difficulty:1,xp:100,tags:[],createdAt:Date.now(),category:"unsorted"},{id:"in-4",title:"  ",status:ge.INBOX,priority:We.UI,difficulty:1,xp:30,tags:[],createdAt:Date.now(),category:"unsorted"},{id:"in-5",title:" ",status:ge.INBOX,priority:We.NUNI,difficulty:2,xp:20,tags:[],createdAt:Date.now(),category:"unsorted"},{id:"nx-1",title:"   ",status:ge.NEXT_ACTION,priority:We.UI,difficulty:2,xp:60,tags:[""],createdAt:Date.now(),category:"tasks"},{id:"nx-2",title:"  ",status:ge.NEXT_ACTION,priority:We.UI,difficulty:1,xp:40,tags:[""],createdAt:Date.now(),category:"tasks",personId:"p3"},{id:"nx-3",title:"   ",status:ge.NEXT_ACTION,priority:We.UNI,difficulty:1,xp:30,tags:[],createdAt:Date.now(),category:"tasks"},{id:"nx-4",title:" LinkedIn",status:ge.NEXT_ACTION,priority:We.NUI,difficulty:2,xp:120,tags:[""],createdAt:Date.now(),category:"tasks"},{id:"nx-5",title:"   ",status:ge.NEXT_ACTION,priority:We.UI,difficulty:3,xp:150,tags:[""],createdAt:Date.now(),category:"tasks"},{id:"cal-1",title:"  ",status:ge.INBOX,isEvent:!0,scheduledDate:s+36e5*10,priority:We.UI,difficulty:2,xp:80,tags:[""],createdAt:Date.now()},{id:"cal-2",title:"  ",status:ge.INBOX,isEvent:!0,scheduledDate:s+36e5*19,priority:We.NUNI,difficulty:1,xp:50,tags:["'"],createdAt:Date.now(),personId:"p1"},{id:"cal-3",title:"",status:ge.INBOX,isEvent:!0,scheduledDate:s+864e5*2,priority:We.UI,difficulty:2,xp:100,tags:[],createdAt:Date.now()},{id:"cal-4",title:" ",status:ge.INBOX,isEvent:!0,scheduledDate:s+864e5*5,priority:We.UI,difficulty:3,xp:300,tags:[""],createdAt:Date.now()},{id:"cal-5",title:" ",status:ge.INBOX,isEvent:!0,scheduledDate:s+864e5*7,priority:We.UI,difficulty:1,xp:50,tags:[],createdAt:Date.now()},{id:"hab-1",title:" 10",status:ge.INBOX,priority:We.NUI,difficulty:1,xp:30,tags:["habit"],createdAt:Date.now(),projectSection:"habits",habitHistory:{[t]:{status:"completed"}}},{id:"hab-2",title:" 20 ",status:ge.INBOX,priority:We.NUI,difficulty:1,xp:40,tags:["habit"],createdAt:Date.now(),projectSection:"habits"},{id:"hab-3",title:" 2",status:ge.INBOX,priority:We.NUI,difficulty:1,xp:25,tags:["habit"],createdAt:Date.now(),projectSection:"habits"},{id:"hab-4",title:" 2",status:ge.INBOX,priority:We.NUI,difficulty:1,xp:20,tags:["habit"],createdAt:Date.now(),projectSection:"habits"},{id:"hab-5",title:"English 15m",status:ge.INBOX,priority:We.NUI,difficulty:1,xp:50,tags:["habit"],createdAt:Date.now(),projectSection:"habits"}],b=[{id:"d-1",date:t,content:JSON.stringify([{id:"b1",type:"heading",content:"  "},{id:"b2",type:"text",content:"   12TR.   ."}]),createdAt:Date.now(),updatedAt:Date.now()},{id:"d-2",date:new Date(s-864e5).toISOString().split("T")[0],content:JSON.stringify([{id:"b3",type:"text",content:"  ,   ."}]),createdAt:Date.now()-864e5,updatedAt:Date.now()-864e5},{id:"d-3",date:new Date(s-1728e5).toISOString().split("T")[0],content:JSON.stringify([{id:"b4",type:"quote",content:"   ,    ."}]),createdAt:Date.now()-1728e5,updatedAt:Date.now()-1728e5},{id:"d-4",date:new Date(s-2592e5).toISOString().split("T")[0],content:JSON.stringify([{id:"b5",type:"text",content:"    ."}]),createdAt:Date.now()-2592e5,updatedAt:Date.now()-2592e5},{id:"d-5",date:new Date(s-3456e5).toISOString().split("T")[0],content:JSON.stringify([{id:"b6",type:"heading",content:" "},{id:"b7",type:"task",content:"   ",checked:!0}]),createdAt:Date.now()-3456e5,updatedAt:Date.now()-3456e5}];return{tags:n,hobbies:i,projects:u,people:p,tasks:[...y,...x],diary:b,timeBlocks:g}},cx=k.createContext(void 0),yy=({children:s})=>{const t=gy(),[n,i]=k.useState((t==null?void 0:t.activeTab)||"dashboard"),[o,u]=k.useState((t==null?void 0:t.theme)||"classic"),[p,g]=k.useState((t==null?void 0:t.detailsWidth)||450),[v,x]=k.useState((t==null?void 0:t.isSidebarCollapsed)||!1),[y,b]=k.useState((t==null?void 0:t.sidebarSettings)||{}),[T,_]=k.useState((t==null?void 0:t.aiEnabled)??!1),[S,w]=k.useState(Date.now()),[E,U]=k.useState("month"),[R,M]=k.useState((t==null?void 0:t.cycle)||{id:"c1",startDate:Date.now(),endDate:Date.now()+1e3*60*60*24*84,currentWeek:1,globalExecutionScore:0}),[H,O]=k.useState((t==null?void 0:t.tasks)||[]),[Q,D]=k.useState((t==null?void 0:t.projects)||[]),[L,I]=k.useState((t==null?void 0:t.diary)||[]),[B,te]=k.useState((t==null?void 0:t.people)||[]),[Y,de]=k.useState((t==null?void 0:t.tags)||[]),[F,pe]=k.useState((t==null?void 0:t.hobbies)||[]),[q,V]=k.useState((t==null?void 0:t.shoppingStores)||[]),[ne,K]=k.useState((t==null?void 0:t.shoppingItems)||[]),[me,j]=k.useState((t==null?void 0:t.inboxCategories)||[{id:"pinned",title:"",icon:"fa-thumbtack",isPinned:!0,scope:"inbox"},{id:"unsorted",title:"",icon:"fa-inbox",isPinned:!1,scope:"inbox"},{id:"tasks",title:"",icon:"fa-bolt",isPinned:!1,scope:"actions"},{id:"notes",title:"",icon:"fa-note-sticky",isPinned:!1,scope:"inbox"}]),[$,ue]=k.useState((t==null?void 0:t.timeBlocks)||[]),[ve,ke]=k.useState((t==null?void 0:t.blockHistory)||{}),[ce,he]=k.useState((t==null?void 0:t.routinePresets)||[]),[Ce,P]=k.useState((t==null?void 0:t.reportTemplate)||[]),[we,Oe]=k.useState((t==null?void 0:t.relationshipTypes)||["friend","colleague","family","mentor","acquaintance"]),[ut,wt]=k.useState((t==null?void 0:t.character)||{name:"",race:"Human",archetype:"Strategist",role:"",level:1,xp:0,gold:0,bio:"   .",vision:"   .",avatarUrl:"https://api.dicebear.com/7.x/avataaars/svg?seed=Hero",energy:100,maxEnergy:100,focus:100,goals:[],views:[],beliefs:[],preferences:{focusBlockers:[]},skills:[],achievements:[],stats:{health:50,career:50,finance:50,education:50,relationships:50,rest:50}});k.useEffect(()=>{if(H.length===0&&Q.length===0&&B.length===0){const ae=vy();O(ae.tasks),D(ae.projects),te(ae.people),de(ae.tags),pe(ae.hobbies),I(ae.diary)}},[]),k.useEffect(()=>{document.documentElement.setAttribute("data-theme",o),xy({tasks:H,projects:Q,people:B,relationshipTypes:we,character:ut,tags:Y,hobbies:F,cycle:R,diary:L,inboxCategories:me,detailsWidth:p,sidebarSettings:y,isSidebarCollapsed:v,aiEnabled:T,timeBlocks:$,blockHistory:ve,routinePresets:ce,activeTab:n,theme:o,reportTemplate:Ce,shoppingStores:q,shoppingItems:ne})},[H,Q,B,we,ut,Y,F,R,L,me,p,y,v,T,$,ve,ce,n,o,Ce,q,ne]);const Ve=k.useCallback((ie,ae)=>{b(le=>({...le,[ie]:ae}))},[]),Rt=k.useCallback(ie=>{wt(ae=>({...ae,...ie}))},[]),qn=k.useCallback(ie=>{P(ie)},[]),Zs=k.useCallback((ie,ae,le)=>{let fe=le;return I(gt=>le?gt.map(Xe=>Xe.id===le?{...Xe,date:ie,content:ae,updatedAt:Date.now()}:Xe):(fe=Math.random().toString(36).substr(2,9),[{id:fe,date:ie,content:ae,createdAt:Date.now(),updatedAt:Date.now()},...gt])),fe||""},[]),Js=k.useMemo(()=>({tasks:H,projects:Q,people:B,relationshipTypes:we,cycle:R,character:ut,tags:Y,hobbies:F,diary:L,inboxCategories:me,timeBlocks:$,blockHistory:ve,routinePresets:ce,activeTab:n,setActiveTab:i,theme:o,setTheme:u,detailsWidth:p,setDetailsWidth:g,sidebarSettings:y,isSidebarCollapsed:v,setSidebarCollapsed:x,updateSidebarSetting:Ve,aiEnabled:T,setAiEnabled:_,updateCharacter:Rt,calendarDate:S,setCalendarDate:w,calendarViewMode:E,setCalendarViewMode:U,reportTemplate:Ce,updateReportTemplate:qn,shoppingStores:q,shoppingItems:ne,addTask:(ie,ae="unsorted",le,fe="actions",gt=!1,Xe,qa,ba=ge.INBOX)=>{const hn=Math.random().toString(36).substr(2,9),Pa={id:hn,title:ie,status:ba,priority:We.NUI,difficulty:1,xp:50,tags:[],createdAt:Date.now(),category:ae,projectId:le,projectSection:fe,isEvent:gt,scheduledDate:Xe,personId:qa};return O(Ar=>[Pa,...Ar]),hn},addProject:ie=>{const ae=Math.random().toString(36).substr(2,9);return D(le=>[...le,{...ie,id:ae,progress:0,status:"active"}]),ae},updateTask:ie=>O(ae=>ae.some(fe=>fe.id===ie.id)?ae.map(fe=>fe.id===ie.id?ie:fe):[ie,...ae]),updateProject:ie=>D(ae=>ae.map(le=>le.id===ie.id?ie:le)),deleteProject:ie=>D(ae=>ae.filter(le=>le.id!==ie)),deleteTask:(ie,ae=!1)=>O(le=>ae?le.filter(fe=>fe.id!==ie):le.map(fe=>fe.id===ie?{...fe,isDeleted:!0}:fe)),restoreTask:ie=>O(ae=>ae.map(le=>le.id===ie?{...le,isDeleted:!1}:le)),moveTaskToCategory:(ie,ae)=>O(le=>le.map(fe=>fe.id===ie?{...fe,category:ae}:fe)),moveTaskToProjectSection:(ie,ae)=>O(le=>le.map(fe=>fe.id===ie?{...fe,projectSection:ae}:fe)),setProjectParent:(ie,ae)=>D(le=>le.map(fe=>fe.id===ie?{...fe,parentFolderId:ae}:fe)),scheduleTask:(ie,ae)=>O(le=>le.map(fe=>fe.id===ie?{...fe,scheduledDate:ae}:fe)),toggleTaskStatus:ie=>{const ae=ie.status!==ge.DONE;O(le=>le.map(fe=>fe.id===ie.id?{...fe,status:ae?ge.DONE:ge.INBOX,completedAt:ae?Date.now():void 0}:fe))},toggleHabitStatus:(ie,ae,le,fe)=>O(gt=>gt.map(Xe=>{var qa,ba;if(Xe.id===ie){const hn={...Xe.habitHistory||{}};return hn[ae]={status:le||(((qa=hn[ae])==null?void 0:qa.status)==="completed"?"none":"completed"),note:fe||((ba=hn[ae])==null?void 0:ba.note)},{...Xe,habitHistory:hn}}return Xe})),toggleTaskPin:ie=>O(ae=>ae.map(le=>le.id===ie?{...le,isPinned:!le.isPinned}:le)),undoLastAction:()=>{},pendingUndo:!1,addTag:ie=>{const ae={id:Math.random().toString(36).substr(2,9),name:ie,color:"#f97316"};return de(le=>[...le,ae]),ae},renameTag:(ie,ae)=>de(le=>le.map(fe=>fe.name===ie?{...fe,name:ae}:fe)),deleteTag:ie=>de(ae=>ae.filter(le=>le.name!==ie)),addHobby:ie=>{const ae={id:Math.random().toString(36).substr(2,9),name:ie,color:"#f97316"};return pe(le=>[...le,ae]),ae},renameHobby:(ie,ae)=>pe(le=>le.map(fe=>fe.name===ie?{...fe,name:ae}:fe)),deleteHobby:ie=>pe(ae=>ae.filter(le=>le.name!==ie)),saveDiaryEntry:Zs,deleteDiaryEntry:ie=>I(ae=>ae.filter(le=>le.id!==ie)),addInboxCategory:(ie,ae,le)=>j(fe=>[...fe,{id:Math.random().toString(36).substr(2,9),title:ie,icon:"fa-folder",isPinned:!1,scope:ae,color:le}]),updateInboxCategory:(ie,ae)=>j(le=>le.map(fe=>fe.id===ie?{...fe,...ae}:fe)),deleteInboxCategory:ie=>j(ae=>ae.filter(le=>le.id!==ie)),addTimeBlock:ie=>ue(ae=>[...ae,{...ie,id:Math.random().toString(36).substr(2,9)}]),updateTimeBlock:ie=>ue(ae=>ae.map(le=>le.id===ie.id?ie:le)),deleteTimeBlock:ie=>ue(ae=>ae.filter(le=>le.id!==ie)),setBlockStatus:(ie,ae,le)=>ke(fe=>({...fe,[ie]:{...fe[ie]||{},[ae]:le}})),saveRoutineAsPreset:(ie,ae)=>{const le=$.filter(fe=>fe.dayOfWeek===ae);he(fe=>[...fe,{id:Math.random().toString(36).substr(2,9),name:ie,blocks:le}])},applyRoutinePreset:(ie,ae)=>{const le=ce.find(fe=>fe.id===ie);le&&ue(fe=>[...fe.filter(gt=>gt.dayOfWeek!==ae),...le.blocks.map(gt=>({...gt,id:Math.random().toString(36).substr(2,9),dayOfWeek:ae}))])},addChecklistItem:(ie,ae)=>O(le=>le.map(fe=>fe.id===ie?{...fe,checklist:[...fe.checklist||[],{id:Math.random().toString(36).substr(2,9),title:ae,completed:!1}]}:fe)),toggleChecklistItem:(ie,ae)=>O(le=>le.map(fe=>{var gt;return fe.id===ie?{...fe,checklist:(gt=fe.checklist)==null?void 0:gt.map(Xe=>Xe.id===ae?{...Xe,completed:!Xe.completed}:Xe)}:fe})),removeChecklistItem:(ie,ae)=>O(le=>le.map(fe=>{var gt;return fe.id===ie?{...fe,checklist:(gt=fe.checklist)==null?void 0:gt.filter(Xe=>Xe.id!==ae)}:fe})),addPerson:(ie,ae="acquaintance")=>{const le=`p-${Math.random().toString(36).substr(2,9)}`;return te(fe=>[...fe,{id:le,name:ie,status:ae,rating:5,tags:[],hobbies:[],socials:{},notes:[],memories:[],interactions:[],importantDates:[],loop:"month",createdAt:Date.now()}]),le},updatePerson:ie=>te(ae=>ae.map(le=>le.id===ie.id?ie:le)),deletePerson:ie=>te(ae=>ae.filter(le=>le.id!==ie)),addPersonMemory:(ie,ae)=>te(le=>le.map(fe=>fe.id===ie?{...fe,memories:[{...ae,id:Math.random().toString(36).substr(2,9)},...fe.memories]}:fe)),addPersonNote:(ie,ae)=>te(le=>le.map(fe=>fe.id===ie?{...fe,notes:[{id:Math.random().toString(36).substr(2,9),text:ae,date:new Date().toISOString()},...fe.notes]}:fe)),addInteraction:(ie,ae)=>te(le=>le.map(fe=>fe.id===ie?{...fe,lastInteractionAt:ae.date,interactions:[{...ae,id:Math.random().toString(36).substr(2,9)},...fe.interactions||[]]}:fe)),deleteInteraction:(ie,ae)=>te(le=>le.map(fe=>fe.id===ie?{...fe,interactions:(fe.interactions||[]).filter(gt=>gt.id!==ae)}:fe)),addRelationshipType:ie=>Oe(ae=>[...new Set([...ae,ie])]),deleteRelationshipType:ie=>Oe(ae=>ae.filter(le=>le!==ie)),updateCycle:ie=>M(ae=>({...ae,...ie})),toggleCycleDay:ie=>{},setWeeklyScore:(ie,ae)=>{},addStore:(ie,ae="fa-shop",le="#f97316")=>V(fe=>[...fe,{id:Math.random().toString(36).substr(2,9),name:ie,icon:ae,color:le}]),updateStore:ie=>V(ae=>ae.map(le=>le.id===ie.id?ie:le)),deleteStore:ie=>{V(ae=>ae.filter(le=>le.id!==ie)),K(ae=>ae.filter(le=>le.storeId!==ie))},addShoppingItem:(ie,ae)=>K(le=>[...le,{id:Math.random().toString(36).substr(2,9),name:ie,storeId:ae,isBought:!1}]),updateShoppingItem:ie=>K(ae=>ae.map(le=>le.id===ie.id?ie:le)),toggleShoppingItem:ie=>K(ae=>ae.map(le=>le.id===ie?{...le,isBought:!le.isBought}:le)),deleteShoppingItem:ie=>K(ae=>ae.filter(le=>le.id!==ie))}),[H,Q,B,we,R,ut,Y,F,L,me,$,ve,ce,n,o,p,y,v,T,S,E,Ce,q,ne,Zs,Ve,Rt,qn,_]);return r.jsx(cx.Provider,{value:Js,children:s})},Ye=()=>{const s=k.useContext(cx);if(!s)throw new Error("useApp must be used within an AppProvider");return s},W=({variant:s,children:t,className:n="",italic:i=!1,onDoubleClick:o,onClick:u})=>{const p=i?"italic":"",g={h1:"text-4xl font-black tracking-tighter font-heading",h2:"text-2xl font-black tracking-tight font-heading",h3:"text-lg font-bold font-heading",body:"text-sm font-medium leading-relaxed",caption:"text-xs font-bold uppercase tracking-widest opacity-60",tiny:"text-[10px] font-black uppercase tracking-widest"};return r.jsx("div",{className:`${g[s]} ${p} ${n}`,style:{color:"var(--text-main)"},onDoubleClick:o,onClick:u,children:t})},ux=()=>{const{tasks:s,people:t,setActiveTab:n,setCalendarDate:i,setCalendarViewMode:o}=Ye(),u=new Date,p=k.useMemo(()=>{const x=new Date(u),y=u.getDay(),b=u.getDate()-y+(y===0?-6:1);return x.setDate(b),Array.from({length:7},(T,_)=>{const S=new Date(x);return S.setDate(x.getDate()+_),S})},[]),g=x=>{const y=x.getFullYear(),b=String(x.getMonth()+1).padStart(2,"0"),T=String(x.getDate()).padStart(2,"0"),_=`${y}-${b}-${T}`,S=x.getMonth(),w=x.getDate(),E=x.getFullYear(),U={event:!1,quest:!1};return s.forEach(M=>{if(M.isDeleted||!M.scheduledDate)return;const H=new Date(M.scheduledDate),O=H.getFullYear(),Q=String(H.getMonth()+1).padStart(2,"0"),D=String(H.getDate()).padStart(2,"0");`${O}-${Q}-${D}`===_&&(M.isEvent?U.event=!0:U.quest=!0)}),t.some(M=>{var H;if(M.birthDate&&M.birthDateShowInCalendar!==!1){const O=new Date(M.birthDate);if(O.getMonth()===S&&O.getDate()===w&&(M.birthDateRepeatYearly!==!1||O.getFullYear()===E))return!0}return(H=M.importantDates)==null?void 0:H.some(O=>{if(!O.showInCalendar)return!1;const Q=new Date(O.date);return Q.getMonth()===S&&Q.getDate()===w&&(O.repeatYearly||Q.getFullYear()===E)})})&&(U.event=!0),U},v=x=>{i(x.getTime()),o("week"),n("calendar")};return r.jsx("div",{className:"bg-[var(--bg-main)]/50 p-1 rounded-xl border border-[var(--border-color)] shadow-inner w-full",children:r.jsx("div",{className:"flex justify-between items-center gap-0.5",children:p.map((x,y)=>{const b=x.toDateString()===u.toDateString(),T=g(x);return r.jsxs("button",{onClick:()=>v(x),className:"flex flex-col items-center gap-0.5 group flex-1 min-w-0 transition-transform active:scale-90",children:[r.jsx("span",{className:`text-[5px] md:text-[6px] font-black uppercase leading-none transition-colors ${b?"text-[var(--primary)]":"text-[var(--text-muted)] opacity-50"}`,children:x.toLocaleString("uk-UA",{weekday:"short"}).slice(0,2)}),r.jsx("div",{className:`w-5 h-5 md:w-6 md:h-6 rounded-lg flex items-center justify-center text-[8px] md:text-[9px] font-black transition-all ${b?"bg-[var(--primary)] text-white shadow-lg ring-1 ring-[var(--primary)]/20":"text-[var(--text-main)] hover:bg-[var(--bg-card)] hover:shadow-sm hover:text-[var(--primary)]"}`,children:x.getDate()}),r.jsxs("div",{className:"h-0.5 flex items-center justify-center gap-0.5",children:[T.event&&r.jsx("div",{className:"w-0.5 h-0.5 rounded-full bg-blue-400"}),T.quest&&r.jsx("div",{className:"w-0.5 h-0.5 rounded-full bg-rose-400"})]})]},y)})})})},by=({activeTab:s,setActiveTab:t,counts:n})=>{const{tasks:i,updateTask:o,scheduleTask:u,toggleTaskStatus:p,isSidebarCollapsed:g,setSidebarCollapsed:v,sidebarSettings:x,theme:y,setTheme:b}=Ye(),[T,_]=k.useState(!1),S=[{id:"today",icon:"fa-star",label:"",acceptDrop:!0},{id:"dashboard",icon:"fa-house",label:""},{id:"inbox",icon:"fa-inbox",label:"",acceptDrop:!0},{id:"next_actions",icon:"fa-bolt",label:"",acceptDrop:!0},{id:"projects",icon:"fa-folder-tree",label:""},{id:"calendar",icon:"fa-calendar-days",label:""},{id:"notes",icon:"fa-note-sticky",label:"",acceptDrop:!0}],w=[{id:"diary",icon:"fa-book-open",label:""},{id:"habits",icon:"fa-repeat",label:""},{id:"people",icon:"fa-user-ninja",label:""},{id:"focus",icon:"fa-bullseye",label:""},{id:"character",icon:"fa-user-shield",label:""},{id:"shopping",icon:"fa-cart-shopping",label:""}],E=[{id:"hashtags",icon:"fa-hashtag",label:""},{id:"hobbies",icon:"fa-masks-theater",label:""},{id:"completed",icon:"fa-circle-check",label:"",acceptDrop:!0},{id:"trash",icon:"fa-trash-can",label:"",acceptDrop:!0}],U=k.useMemo(()=>[...S,...w,...E],[]),R=(H,O)=>{H.preventDefault();const Q=H.dataTransfer.getData("taskId");if(!Q)return;const D=i.find(L=>L.id===Q);if(D)switch(O){case"today":u(Q,new Date().setHours(0,0,0,0));break;case"inbox":o({...D,status:ge.INBOX,scheduledDate:void 0,projectId:void 0,category:"unsorted",isDeleted:!1});break;case"next_actions":o({...D,status:ge.NEXT_ACTION,isDeleted:!1});break;case"notes":o({...D,category:"note",status:ge.INBOX,isDeleted:!1});break;case"completed":D.status!==ge.DONE&&p(D);break;case"trash":o({...D,isDeleted:!0});break}},M=H=>{if(x[H.id]===!1)return null;const O=s===H.id;return r.jsx("div",{onDragOver:Q=>Q.preventDefault(),onDrop:Q=>R(Q,H.id),className:"relative group px-1",children:r.jsxs("button",{onClick:()=>{t(H.id),T&&_(!1)},className:`w-full flex items-center gap-2 px-2 py-1.5 rounded-xl transition-all ${O?"bg-[var(--primary)] text-white shadow-sm":"text-[var(--text-muted)] hover:bg-black/5"}`,children:[r.jsx("span",{className:`w-4 flex justify-center text-xs ${O?"text-white":""}`,children:r.jsx("i",{className:`fa-solid ${H.icon}`})}),!g&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"flex-1 text-left font-black text-[9px] tracking-widest truncate uppercase leading-none",children:H.label}),n[H.id]>0&&r.jsx("span",{className:`h-3.5 min-w-[14px] flex items-center justify-center rounded-full text-[7px] font-black px-1 ${O?"bg-white/20 text-white":"bg-[var(--border-color)] text-[var(--text-muted)]"}`,children:n[H.id]})]})]})},H.id)};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`${g?"w-14":"w-48"} hidden md:flex bg-sidebar border-r border-theme flex-col h-screen sticky top-0 z-40 transition-all duration-300 ease-in-out shrink-0`,children:[r.jsxs("div",{className:"p-4 flex items-center justify-between",children:[!g&&r.jsx("div",{className:"text-xl font-black font-heading text-primary flex items-center gap-2 tracking-tighter leading-none",children:r.jsx("span",{children:"12TR"})}),r.jsx("button",{onClick:()=>v(!g),className:"w-8 h-8 rounded-xl hover:bg-black/5 flex items-center justify-center text-muted hover:text-primary",children:r.jsx("i",{className:`fa-solid ${g?"fa-bars":"fa-chevron-left"}`})})]}),!g&&r.jsx("div",{className:"px-1 mb-2 animate-in fade-in zoom-in-95 duration-500",children:r.jsx(ux,{})}),r.jsxs("nav",{className:"flex-1 space-y-0.5 py-2 overflow-y-auto custom-scrollbar no-scrollbar pl-0.5",children:[S.map(M),r.jsx("div",{className:"my-3 mx-4 border-t border-theme"}),!g&&r.jsx("div",{className:"px-4 mb-1",children:r.jsx("span",{className:"text-[7px] uppercase font-black tracking-widest text-muted opacity-50",children:"Toolbox"})}),w.map(M)]}),r.jsxs("div",{className:"px-1 py-4 border-t border-theme space-y-0.5",children:[E.map(M),r.jsxs("button",{onClick:()=>{t("settings"),T&&_(!1)},className:`w-full flex items-center gap-2 px-2.5 py-1.5 rounded-xl transition-all ${s==="settings"?"bg-primary text-white shadow-sm":"text-muted hover:bg-black/5"}`,children:[r.jsx("span",{className:"w-4 flex justify-center text-[10px]",children:r.jsx("i",{className:"fa-solid fa-gear"})}),!g&&r.jsx("span",{className:"font-black text-[9px] tracking-widest uppercase",children:""})]})]})]}),r.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 h-16 bg-sidebar/90 backdrop-blur-xl border-t border-theme z-50 flex items-center justify-around px-4 pb-safe",children:[{id:"today",icon:"fa-star",label:""},{id:"inbox",icon:"fa-inbox",label:""},{id:"next_actions",icon:"fa-bolt",label:""},{id:"calendar",icon:"fa-calendar-days",label:""},{id:"menu",icon:"fa-grid-2",label:"",isMenuTrigger:!0}].map(H=>{const O=s===H.id&&!H.isMenuTrigger;return r.jsxs("button",{onClick:()=>H.isMenuTrigger?_(!0):t(H.id),className:`flex flex-col items-center justify-center w-12 h-12 rounded-2xl transition-all ${O?"text-primary":"text-muted"}`,children:[r.jsx("i",{className:`fa-solid ${H.isMenuTrigger?"fa-table-cells-large":H.icon} text-lg mb-0.5`}),r.jsx("span",{className:"text-[6px] font-black uppercase tracking-tighter",children:H.label}),O&&r.jsx("div",{className:"w-1 h-1 bg-primary rounded-full mt-0.5"})]},H.id)})}),T&&r.jsxs("div",{className:"fixed inset-0 z-[200] bg-sidebar md:hidden animate-in fade-in slide-in-from-bottom duration-300 flex flex-col",children:[r.jsxs("header",{className:"p-6 border-b border-theme flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-2xl bg-primary flex items-center justify-center text-white shadow-lg",children:r.jsx("i",{className:"fa-solid fa-table-cells-large"})}),r.jsx(W,{variant:"h2",className:"text-xl",children:" "})]}),r.jsx("button",{onClick:()=>_(!1),className:"w-10 h-10 rounded-2xl bg-black/5 flex items-center justify-center text-muted",children:r.jsx("i",{className:"fa-solid fa-xmark"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4 pb-20",children:[U.map(H=>{if(x[H.id]===!1)return null;const O=s===H.id;return r.jsxs("button",{onClick:()=>{t(H.id),_(!1)},className:`flex flex-col items-center justify-center p-4 rounded-3xl border transition-all ${O?"bg-primary border-primary text-white shadow-xl":"bg-card border-theme text-muted shadow-sm"}`,children:[r.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center mb-2 ${O?"bg-white/10":"bg-black/5"}`,children:r.jsx("i",{className:`fa-solid ${H.icon} text-lg`})}),r.jsx("span",{className:"text-[8px] font-black uppercase text-center leading-tight",children:H.label}),n[H.id]>0&&r.jsxs("span",{className:`mt-1 text-[7px] font-black ${O?"text-white/60":"opacity-50"}`,children:["(",n[H.id],")"]})]},H.id)}),r.jsxs("button",{onClick:()=>{t("settings"),_(!1)},className:`flex flex-col items-center justify-center p-4 rounded-3xl border transition-all ${s==="settings"?"bg-primary border-primary text-white shadow-xl":"bg-card border-theme text-muted shadow-sm"}`,children:[r.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center mb-2 ${s==="settings"?"bg-white/10":"bg-black/5"}`,children:r.jsx("i",{className:"fa-solid fa-gear text-lg"})}),r.jsx("span",{className:"text-[8px] font-black uppercase text-center leading-tight",children:""})]})]})}),r.jsx("footer",{className:"p-6 border-t border-theme bg-black/5 text-center",children:r.jsx(W,{variant:"tiny",className:"text-muted uppercase tracking-[0.2em] text-[8px]",children:"12TR Life Engine Control Hub"})})]})]})},Ie=({children:s,className:t="",blur:n=!1,padding:i="md",hover:o=!1,onClick:u,draggable:p,onDragStart:g})=>{const v="border transition-none",x=n?"backdrop-blur-xl bg-[var(--bg-card)]/80":"bg-[var(--bg-card)]",y="border-[var(--border-color)]",b="rounded-[var(--radius)]",T=o?"hover:shadow-lg hover:border-[var(--primary)]/30":"shadow-sm",_={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return r.jsx("div",{className:`${v} ${x} ${y} ${b} ${T} ${_[i]} ${t}`,onClick:u,draggable:p,onDragStart:g,style:{color:"var(--text-main)"},children:s})},dx=({value:s,onChange:t,onSelectTag:n,onEnter:i,onBlur:o,placeholder:u,className:p,autoFocus:g=!1})=>{const{tags:v,addTag:x}=Ye(),[y,b]=k.useState(!1),[T,_]=k.useState(""),[S,w]=k.useState(0),E=k.useRef(null),U=L=>{let I=L.target.value;const B=L.target.selectionStart||0;w(B),t(I),R(I,B)},R=(L,I)=>{const te=L.slice(0,I).split(/\s/),Y=te[te.length-1];Y.startsWith("#")?(_(Y.slice(1)),b(!0)):Y.length>0?(_(Y),b(!0)):b(!1)},M=L=>{const I=L.target.selectionStart||0;w(I),b(!0),_("")},H=L=>{L.key==="Enter"&&(y&&O.length>0?(L.preventDefault(),Q(O[0].name)):i&&(L.preventDefault(),i())),L.key==="Escape"&&b(!1)},O=v.filter(L=>L.name.toLowerCase().includes(T.toLowerCase())),Q=L=>{const I=s.slice(0,S),B=s.slice(S),te=I.split(/\s/);te[te.length-1],te[te.length-1]=`#${L} `;const Y=te.join(" ").replace(/\s\s+/g," ")+B;t(Y),n(L),b(!1),setTimeout(()=>{var de;return(de=E.current)==null?void 0:de.focus()},0)},D=()=>{if(!T)return;const L=x(T);Q(L.name)};return r.jsxs("div",{className:"relative w-full h-full flex items-center overflow-visible",children:[r.jsx("input",{ref:E,type:"text",autoFocus:g,value:s,onChange:U,onFocus:M,onKeyDown:H,onBlur:()=>{setTimeout(()=>{b(!1),o==null||o()},200)},placeholder:u,className:`${p} outline-none`}),y&&r.jsx("div",{className:"absolute z-[100] top-full mt-1 w-64 bg-white rounded-xl shadow-2xl border border-slate-100 p-2 tiktok-blur animate-in slide-in-from-top-2 duration-200",children:r.jsxs("div",{className:"max-h-48 overflow-y-auto custom-scrollbar",children:[O.length>0?O.map(L=>r.jsxs("button",{type:"button",onMouseDown:I=>{I.preventDefault(),Q(L.name)},className:"w-full flex items-center gap-2 px-2 py-1.5 hover:bg-slate-50 rounded-lg transition-colors text-left",children:[r.jsx("div",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:L.color}}),r.jsxs("span",{className:"text-[10px] font-bold text-slate-700 truncate",children:["#",L.name]})]},L.id)):r.jsx("div",{className:"p-2 text-[10px] font-bold text-slate-400 text-center uppercase tracking-widest",children:" "}),T&&!v.some(L=>L.name===T)&&r.jsxs("button",{type:"button",onMouseDown:L=>{L.preventDefault(),D()},className:"w-full flex items-center gap-2 px-2 py-1.5 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors text-left border-t border-slate-50 mt-1",children:[r.jsx("i",{className:"fa-solid fa-plus text-[8px]"}),r.jsxs("span",{className:"text-[10px] font-black italic",children:[' "#',T,'"']})]})]})})]})},$e=({children:s,variant:t="primary",size:n="md",loading:i=!1,icon:o,className:u="",...p})=>{const g="inline-flex items-center justify-center gap-2 rounded-2xl font-black transition-none active:scale-95 disabled:opacity-50 disabled:pointer-events-none",v={primary:"bg-[var(--primary)] text-white shadow-lg",secondary:"bg-[var(--primary)]/10 text-[var(--primary)] border border-[var(--primary)]/20",ghost:"text-[var(--text-muted)] hover:bg-[var(--bg-main)] hover:text-[var(--text-main)]",danger:"bg-rose-500 text-white",white:"bg-[var(--bg-card)] text-[var(--text-main)] border border-[var(--border-color)] shadow-sm"},x={sm:"px-4 py-2 text-xs",md:"px-6 py-3 text-sm",lg:"px-8 py-4 text-base",icon:"w-10 h-10 p-0"};return r.jsx("button",{className:`${g} ${v[t]} ${x[n]} ${u}`,disabled:i,...p,children:i?r.jsx("i",{className:"fa-solid fa-circle-notch animate-spin"}):r.jsxs(r.Fragment,{children:[o&&r.jsx("i",{className:`fa-solid ${o} ${n==="icon"?"text-base":"text-xs"}`}),s]})})},Ny=({block:s,index:t,isFocused:n,onUpdate:i,onKeyDown:o,onFocus:u,onContextMenu:p,allBlocks:g})=>{const v=k.useRef(null);k.useEffect(()=>{v.current&&v.current.innerHTML!==s.content&&(v.current.innerHTML=s.content)},[s.id]),k.useEffect(()=>{n&&v.current&&document.activeElement!==v.current&&v.current.focus()},[n]);const x=b=>{i({content:b.currentTarget.innerHTML})};let y="";return s.type==="heading"&&(y="text-lg md:text-xl font-black text-[var(--text-main)] leading-tight"),s.type==="text"&&(y="text-sm font-medium text-[var(--text-main)] leading-relaxed"),s.type==="quote"&&(y="text-sm font-medium italic text-[var(--text-muted)] border-l-4 border-[var(--primary)]/30 pl-3 py-1 bg-[var(--primary)]/5 rounded-r-lg"),s.type==="task"&&(y=`text-sm font-bold transition-all ${s.checked?"line-through text-[var(--text-muted)] opacity-60":"text-[var(--text-main)]"}`),(s.type==="bullet"||s.type==="number")&&(y="text-sm text-[var(--text-main)] font-medium"),r.jsxs("div",{className:"flex items-start gap-2 md:gap-3 w-full group/row mb-1",children:[r.jsx("div",{className:"w-5 flex flex-col items-center opacity-0 group-hover/row:opacity-100 transition-opacity pt-1 shrink-0",children:r.jsx("button",{onClick:()=>i({id:"DELETE_BLOCK"}),className:"text-[var(--text-muted)] hover:text-rose-50 p-1",children:r.jsx("i",{className:"fa-solid fa-xmark text-[10px]"})})}),r.jsxs("div",{className:"flex-1 min-w-0 flex items-start gap-2 md:gap-3",children:[s.type==="task"&&r.jsx("button",{onClick:()=>i({checked:!s.checked}),className:`w-5 h-5 rounded-lg border mt-0.5 flex items-center justify-center shrink-0 transition-all ${s.checked?"bg-emerald-500 border-emerald-500 text-white shadow-sm":"border-[var(--border-color)] bg-[var(--bg-card)] hover:border-[var(--primary)] shadow-sm"}`,children:s.checked&&r.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),s.type==="bullet"&&r.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[var(--text-muted)] mt-2 shrink-0 shadow-inner"}),s.type==="number"&&r.jsxs("span",{className:"text-[10px] font-black text-[var(--primary)] mt-1 shrink-0 w-4 text-right",children:[g.slice(0,t+1).filter(b=>b.type==="number").length,"."]}),r.jsx("div",{ref:v,contentEditable:!0,suppressContentEditableWarning:!0,"data-placeholder":s.type==="heading"?"...":" ...",onInput:x,onKeyDown:b=>{var T;return o(b,s,((T=v.current)==null?void 0:T.innerHTML)||"")},onFocus:u,onContextMenu:p,className:`focus:ring-0 outline-none w-full bg-transparent empty:before:content-[attr(data-placeholder)] empty:before:text-[var(--text-muted)]/30 block-input transition-all ${y}`})]})]})},fx=({id:s,date:t,onClose:n,standaloneMode:i=!1,initialContent:o,onContentChange:u})=>{var de;const{diary:p,saveDiaryEntry:g}=Ye(),[v,x]=k.useState(s),[y,b]=k.useState(t),[T,_]=k.useState([]),[S,w]=k.useState(!1),[E,U]=k.useState(null),[R,M]=k.useState({x:0,y:0,visible:!1}),H=k.useRef(null),O=i?o:(de=p.find(F=>F.id===v))==null?void 0:de.content;k.useEffect(()=>{if(O)try{const F=JSON.parse(O);if(Array.isArray(F))_(F);else throw new Error}catch{const q=O.split(`
`).filter(V=>V.trim()!=="").map(V=>({id:Math.random().toString(36).substr(2,9),type:V.startsWith("#")?"heading":"text",content:V.replace(/^#+\s*/,""),checked:!1}));_(q.length>0?q:[{id:"b1",type:"text",content:""}])}else _([{id:"b-init",type:"text",content:""}])},[s,O]);const Q=(F=!1)=>{const pe=JSON.stringify(T);if(i){u==null||u(pe),w(!1);return}if(!T.some(ne=>ne.content.trim()!==""&&ne.content!=="<br>")&&!v)return;const V=g(y,pe,v);return v||x(V),w(!1),V},D=()=>{Q(),n()};k.useEffect(()=>{if(T.length!==0)return w(!0),i&&(u==null||u(JSON.stringify(T))),H.current&&clearTimeout(H.current),H.current=window.setTimeout(()=>Q(!0),1500),()=>{H.current&&clearTimeout(H.current)}},[T,y]);const L=(F,pe)=>{if(pe.id==="DELETE_BLOCK"){T.length>1&&_(q=>q.filter(V=>V.id!==F));return}_(q=>q.map(V=>V.id===F?{...V,...pe}:V))},I=(F,pe="text")=>{const q={id:Math.random().toString(36).substr(2,9),type:pe,content:"",checked:!1},V=T.findIndex(K=>K.id===F),ne=[...T];ne.splice(V+1,0,q),_(ne),U(q.id)},B=(F,pe,q)=>{if(F.key==="Enter"&&!F.shiftKey){F.preventDefault();const V=["task","bullet","number"].includes(pe.type)?pe.type:"text";I(pe.id,V)}if(F.key==="Backspace"&&(q===""||q==="<br>")&&T.length>1){F.preventDefault();const V=T.findIndex(ne=>ne.id===pe.id);V>0&&U(T[V-1].id),_(ne=>ne.filter(K=>K.id!==pe.id))}},te=(F,pe)=>{document.execCommand(F,!1,pe),M(q=>({...q,visible:!1}))},Y=F=>{const pe=window.getSelection();if(pe&&pe.toString().length>0){F.preventDefault();const q=Math.min(F.clientX,window.innerWidth-150);M({x:q,y:F.clientY,visible:!0})}};return r.jsxs("div",{className:`h-full flex flex-col bg-[var(--bg-card)] relative ${i?"rounded-2xl border border-[var(--border-color)] overflow-hidden":""}`,children:[!i&&r.jsxs("header",{className:"p-4 border-b border-[var(--border-color)] flex justify-between items-center bg-[var(--bg-card)] shrink-0 sticky top-0 z-30",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"date",value:y,onChange:F=>b(F.target.value),className:"bg-transparent border-none text-[var(--primary)] font-black uppercase text-[10px] tracking-widest focus:ring-0 p-0 cursor-pointer"}),r.jsx("div",{className:"h-3 w-px bg-[var(--border-color)] hidden sm:block"}),r.jsx(W,{variant:"tiny",className:"text-[var(--text-muted)] font-black uppercase text-[8px] tracking-widest hidden sm:block",children:""})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:D,className:"px-5 py-2 bg-[var(--primary)] text-white rounded-xl text-[9px] font-black uppercase shadow-lg active:scale-95 transition-all",children:""}),r.jsx("button",{onClick:n,className:"w-9 h-9 rounded-xl bg-[var(--bg-main)] text-[var(--text-muted)] flex items-center justify-center transition-all hover:text-[var(--text-main)] active:scale-95",children:r.jsx("i",{className:"fa-solid fa-xmark"})})]})]}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"px-2 md:px-4 py-1.5 bg-[var(--bg-main)]/30 flex items-center gap-1 overflow-x-auto no-scrollbar border-b border-[var(--border-color)] shrink-0",children:[r.jsx("button",{onClick:()=>E&&L(E,{type:"heading"}),title:"",className:"p-2 hover:bg-[var(--bg-card)] rounded-lg text-[var(--text-muted)] hover:text-[var(--primary)] transition-all",children:r.jsx("i",{className:"fa-solid fa-heading text-xs"})}),r.jsx("button",{onClick:()=>E&&L(E,{type:"text"}),title:"",className:"p-2 hover:bg-[var(--bg-card)] rounded-lg text-[var(--text-muted)] hover:text-[var(--primary)] transition-all",children:r.jsx("i",{className:"fa-solid fa-paragraph text-xs"})}),r.jsx("button",{onClick:()=>E&&L(E,{type:"task"}),title:"",className:"p-2 hover:bg-[var(--bg-card)] rounded-lg text-[var(--text-muted)] hover:text-[var(--primary)] transition-all",children:r.jsx("i",{className:"fa-solid fa-square-check text-xs"})}),r.jsx("button",{onClick:()=>E&&L(E,{type:"bullet"}),title:"",className:"p-2 hover:bg-[var(--bg-card)] rounded-lg text-[var(--text-muted)] hover:text-[var(--primary)] transition-all",children:r.jsx("i",{className:"fa-solid fa-list-ul text-xs"})}),r.jsx("button",{onClick:()=>E&&L(E,{type:"number"}),title:"",className:"p-2 hover:bg-[var(--bg-card)] rounded-lg text-[var(--text-muted)] hover:text-[var(--primary)] transition-all",children:r.jsx("i",{className:"fa-solid fa-list-ol text-xs"})}),r.jsx("button",{onClick:()=>E&&L(E,{type:"quote"}),title:"",className:"p-2 hover:bg-[var(--bg-card)] rounded-lg text-[var(--text-muted)] hover:text-[var(--primary)] transition-all",children:r.jsx("i",{className:"fa-solid fa-quote-left text-xs"})})]}),r.jsx("div",{className:`flex-1 overflow-y-auto custom-scrollbar p-4 md:p-6 space-y-1 bg-[var(--bg-card)] ${i?"pb-10":"pb-32"}`,children:T.map((F,pe)=>r.jsx(Ny,{block:F,index:pe,allBlocks:T,isFocused:E===F.id,onUpdate:q=>L(F.id,q),onKeyDown:(q,V,ne)=>B(q,V,ne),onFocus:()=>U(F.id),onContextMenu:Y},F.id))}),R.visible&&r.jsxs("div",{className:"fixed z-[200] bg-slate-900 text-white p-1 rounded-xl shadow-2xl flex items-center gap-1 tiktok-blur animate-in fade-in zoom-in-95 scale-90",style:{top:R.y-45,left:R.x},children:[r.jsx("button",{onMouseDown:F=>{F.preventDefault(),te("bold")},className:"w-8 h-8 rounded-lg hover:bg-white/10 transition-colors",children:r.jsx("i",{className:"fa-solid fa-bold text-xs"})}),r.jsx("button",{onMouseDown:F=>{F.preventDefault(),te("italic")},className:"w-8 h-8 rounded-lg hover:bg-white/10 transition-colors",children:r.jsx("i",{className:"fa-solid fa-italic text-xs"})}),r.jsx("button",{onMouseDown:F=>{F.preventDefault(),te("underline")},className:"w-8 h-8 rounded-lg hover:bg-white/10 transition-colors text-[var(--primary)]",children:r.jsx("i",{className:"fa-solid fa-underline text-xs"})})]}),r.jsx("footer",{className:"p-3 border-t border-[var(--border-color)] flex items-center justify-between bg-[var(--bg-card)] shrink-0",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${S?"bg-[var(--primary)] animate-pulse":"bg-emerald-400"}`}),r.jsx("span",{className:"text-[8px] font-black text-[var(--text-muted)] uppercase tracking-widest",children:S?"":""})]})})]})]})},qi=({task:s,onClose:t})=>{const{updateTask:n,scheduleTask:i,tags:o,addTag:u,projects:p,people:g,hobbies:v,addChecklistItem:x,toggleChecklistItem:y,removeChecklistItem:b,toggleTaskStatus:T}=Ye(),[_,S]=k.useState("notes"),[w,E]=k.useState(!1),[U,R]=k.useState(""),[M,H]=k.useState(""),[O,Q]=k.useState(s.title),D=k.useRef(null),L=k.useRef(null);k.useEffect(()=>{Q(s.title)},[s.id,s.title]);const I=F=>{n({...s,scheduledDate:F}),E(!1)},B=F=>{s.tags.includes(F)||n({...s,tags:[...s.tags,F]})},te=F=>{U.trim()&&(x(s.id,U.trim()),R(""),setTimeout(()=>{var pe;return(pe=L.current)==null?void 0:pe.focus()},0))},Y=s.status===ge.DONE,de=p.find(F=>F.id===s.projectId);return r.jsxs("div",{className:"w-full flex flex-col h-full bg-[var(--bg-card)] relative",children:[r.jsxs("header",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-color)] shrink-0 bg-[var(--bg-card)] sticky top-0 z-20",children:[r.jsxs("div",{className:"flex items-center gap-2 relative",children:[r.jsxs("button",{onClick:()=>E(!w),className:`h-7 px-2.5 rounded-lg text-[9px] font-black uppercase tracking-widest flex items-center gap-2 transition-all ${s.scheduledDate?"bg-[var(--primary)] text-white shadow-md":"bg-[var(--bg-main)] text-[var(--text-muted)] hover:bg-[var(--border-color)]"}`,children:[r.jsx("i",{className:"fa-solid fa-calendar-day text-[10px]"}),s.scheduledDate?new Date(s.scheduledDate).toLocaleDateString("uk-UA",{day:"numeric",month:"short"}):" "]}),r.jsxs("div",{className:"flex bg-[var(--bg-main)] p-0.5 rounded-lg border border-[var(--border-color)]",children:[r.jsx("button",{onClick:()=>n({...s,isEvent:!1}),className:`px-2 py-1 rounded-md text-[7px] font-black uppercase transition-all ${s.isEvent?"text-[var(--text-muted)]":"bg-[var(--bg-card)] shadow-sm text-[var(--text-main)]"}`,children:""}),r.jsx("button",{onClick:()=>n({...s,isEvent:!0}),className:`px-2 py-1 rounded-md text-[7px] font-black uppercase transition-all ${s.isEvent?"bg-pink-600 text-white shadow-sm":"text-[var(--text-muted)]"}`,children:""})]}),w&&r.jsxs("div",{ref:D,className:"absolute top-9 left-0 w-60 bg-[var(--bg-card)] shadow-2xl rounded-2xl border border-[var(--border-color)] z-[100] p-4 tiktok-blur animate-in fade-in zoom-in-95",children:[r.jsx("input",{type:"date",className:"w-full bg-[var(--bg-main)] p-2 rounded-xl border-none text-[11px] font-bold outline-none text-[var(--text-main)]",onChange:F=>I(new Date(F.target.value).getTime())}),r.jsx("button",{onClick:()=>I(void 0),className:"w-full mt-2 py-1.5 text-[8px] font-black text-rose-500 uppercase hover:bg-rose-50 rounded-lg",children:""})]})]}),r.jsx("button",{onClick:t,className:"w-8 h-8 rounded-xl hover:bg-[var(--bg-main)] text-[var(--text-muted)] flex items-center justify-center transition-all shrink-0",children:r.jsx("i",{className:"fa-solid fa-xmark text-xs"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[var(--bg-card)]",children:r.jsxs("div",{className:"p-4 md:p-5 space-y-5",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("button",{onClick:F=>{F.stopPropagation(),T(s)},className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center shrink-0 mt-1 transition-all ${Y?"bg-emerald-500 border-emerald-500 text-white":"border-[var(--border-color)] bg-[var(--bg-card)] text-transparent hover:border-[var(--primary)]"}`,children:r.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("input",{type:"text",value:O,onChange:F=>Q(F.target.value),onBlur:()=>n({...s,title:O}),placeholder:"  ...",className:`w-full bg-transparent text-xl font-black border-none focus:ring-0 p-0 placeholder:opacity-20 leading-tight mb-1 outline-none ${Y?"line-through text-[var(--text-muted)]":"text-[var(--text-main)]"}`}),de&&r.jsxs("span",{className:"text-[7px] font-black uppercase text-[var(--primary)] bg-[var(--primary)]/5 px-1.5 py-0.5 rounded",children:["# ",de.name]})]})]}),r.jsxs("div",{className:"flex items-center gap-1.5 bg-[var(--bg-main)]/50 p-1 rounded-xl border border-[var(--border-color)]",children:[r.jsxs("div",{className:"flex items-center gap-1.5 bg-[var(--bg-card)] px-2 py-1 rounded-lg border border-[var(--border-color)] shadow-sm shrink-0 transition-all hover:border-[var(--primary)]/30",children:[r.jsx("i",{className:"fa-solid fa-user-ninja text-indigo-400 text-[9px]"}),r.jsxs("select",{value:s.personId||"",onChange:F=>n({...s,personId:F.target.value||void 0}),className:"bg-transparent border-none text-[9px] font-black uppercase tracking-tight focus:ring-0 p-0 outline-none w-16 cursor-pointer text-[var(--text-main)]",children:[r.jsx("option",{value:"",children:""}),g.map(F=>r.jsx("option",{value:F.id,children:F.name},F.id))]})]}),r.jsxs("div",{className:"flex-1 min-w-0 bg-[var(--bg-card)] px-2 py-1 rounded-lg border border-[var(--border-color)] shadow-sm focus-within:ring-2 focus-within:ring-[var(--primary)]/10 transition-all flex items-center gap-1.5",children:[r.jsx("i",{className:"fa-solid fa-tag text-[var(--primary)] text-[9px] shrink-0"}),r.jsx(dx,{value:M,onChange:H,onSelectTag:F=>{B(F),H("")},className:"w-full border-none text-[9px] font-black uppercase placeholder:text-[var(--text-muted)] p-0 bg-transparent text-[var(--text-main)]",placeholder:"..."})]})]}),r.jsxs("div",{className:"flex gap-4 border-b border-[var(--border-color)]",children:[r.jsx("button",{onClick:()=>S("notes"),className:`pb-2 text-[9px] font-black uppercase tracking-widest border-b-2 transition-all ${_==="notes"?"border-[var(--primary)] text-[var(--text-main)]":"border-transparent text-[var(--text-muted)] hover:text-[var(--text-main)]"}`,children:""}),r.jsxs("button",{onClick:()=>S("checklist"),className:`pb-2 text-[9px] font-black uppercase tracking-widest border-b-2 transition-all ${_==="checklist"?"border-[var(--primary)] text-[var(--text-main)]":"border-transparent text-[var(--text-muted)] hover:text-[var(--text-main)]"}`,children:[" (",(s.checklist||[]).length,")"]})]}),r.jsx("div",{className:"min-h-[300px]",children:_==="checklist"?r.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[r.jsx("input",{ref:L,value:U,onChange:F=>R(F.target.value),onKeyDown:F=>{F.key==="Enter"&&te()},placeholder:"+   ...",className:"w-full bg-[var(--bg-main)] border-none rounded-xl py-3 px-4 text-[12px] font-bold outline-none focus:ring-2 focus:ring-[var(--primary)]/10 transition-all shadow-inner text-[var(--text-main)]"}),r.jsx("div",{className:"space-y-1",children:(s.checklist||[]).map(F=>r.jsxs("div",{className:"flex items-center gap-3 py-2 px-3 hover:bg-[var(--bg-main)] rounded-xl group/item transition-colors",children:[r.jsx("button",{onClick:()=>y(s.id,F.id),className:`w-4.5 h-4.5 rounded-lg border flex items-center justify-center transition-all ${F.completed?"bg-emerald-500 border-emerald-500 text-white":"border-[var(--border-color)] bg-[var(--bg-card)] text-transparent group-hover/item:border-[var(--primary)]"}`,children:r.jsx("i",{className:"fa-solid fa-check text-[8px]"})}),r.jsx("span",{className:`text-[12px] flex-1 truncate ${F.completed?"text-[var(--text-muted)] line-through":"text-[var(--text-main)] font-bold"}`,children:F.title}),r.jsx("button",{onClick:()=>b(s.id,F.id),className:"opacity-0 group-hover/item:opacity-100 text-[var(--text-muted)] hover:text-rose-500 transition-all",children:r.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]},F.id))})]}):r.jsx("div",{className:"animate-in fade-in h-full",children:r.jsx(fx,{id:s.id,date:new Date(s.createdAt).toISOString().split("T")[0],onClose:()=>{},standaloneMode:!0,initialContent:s.content,onContentChange:F=>n({...s,content:F})})})})]})}),r.jsx("footer",{className:"p-4 md:p-5 border-t border-[var(--border-color)] shrink-0 bg-[var(--bg-card)]",children:r.jsx($e,{onClick:()=>{n({...s,title:O}),t()},className:"w-full py-4 rounded-2xl shadow-xl font-black uppercase tracking-widest text-[10px]",children:"  "})})]})},Gn=(s=300,t=800)=>{const{detailsWidth:n,setDetailsWidth:i}=Ye(),[o,u]=k.useState(!1),p=k.useCallback(x=>{x.preventDefault(),u(!0)},[]),g=k.useCallback(()=>{u(!1)},[]),v=k.useCallback(x=>{if(!o)return;const y=window.innerWidth-x.clientX;y>s&&y<t&&i(y)},[o,i,s,t]);return k.useEffect(()=>(o?(window.addEventListener("mousemove",v),window.addEventListener("mouseup",g)):(window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",g)),()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",g)}),[o,v,g]),{isResizing:o,startResizing:p,detailsWidth:n}},Mp=()=>{const{tasks:s,projects:t,timeBlocks:n,toggleTaskStatus:i,toggleHabitStatus:o,character:u,cycle:p,setActiveTab:g,setCalendarViewMode:v,aiEnabled:x,people:y}=Ye(),[b,T]=k.useState(new Date),[_,S]=k.useState(null),[w,E]=k.useState("tasks"),[U,R]=k.useState("all"),[M,H]=k.useState("day"),[O,Q]=k.useState(!1),[D,L]=k.useState(!0),{detailsWidth:I,startResizing:B,isResizing:te}=Gn(400,700);k.useEffect(()=>{const ce=setInterval(()=>T(new Date),6e4);return()=>clearInterval(ce)},[]);const Y=k.useMemo(()=>new Date().setHours(0,0,0,0),[]),de=k.useMemo(()=>new Date().toISOString().split("T")[0],[]),F=k.useMemo(()=>{const ce=b.getDay();return n.filter(he=>he.dayOfWeek===ce).sort((he,Ce)=>he.startHour-Ce.startHour)},[n,b]),pe=k.useMemo(()=>{const ce=b.getHours();return F.find(he=>ce>=he.startHour&&ce<he.endHour)},[F,b]),q=k.useMemo(()=>{const ce=b.getHours();return F.find(he=>he.startHour>ce)},[F,b]),V=k.useMemo(()=>{const ce=t.find(P=>P.name===""),he=s.filter(P=>!P.isDeleted&&(P.tags.includes("insight")||ce&&P.projectId===ce.id));if(he.length===0)return"   .";const Ce=b.getHours()+b.getDate();return he[Ce%he.length].title},[s,t,b]),ne=k.useMemo(()=>s.filter(he=>{if(he.isDeleted||he.status===ge.DONE||he.projectSection==="habits"||he.category==="note")return!1;const Ce=he.scheduledDate&&new Date(he.scheduledDate).setHours(0,0,0,0)===Y;return U==="calendar"?Ce:U==="projects"?!!he.projectId:Ce||he.status===ge.NEXT_ACTION||he.status===ge.INBOX&&!he.scheduledDate&&!he.projectId}).sort((he,Ce)=>{if(U==="calendar")return(he.scheduledDate||0)-(Ce.scheduledDate||0);const P={[We.UI]:4,[We.UNI]:3,[We.NUI]:2,[We.NUNI]:1};return(P[Ce.priority]||0)-(P[he.priority]||0)}),[s,Y,U]),K=k.useMemo(()=>s.filter(ce=>!ce.isDeleted&&(ce.projectSection==="habits"||ce.tags.includes("habit"))),[s]),me=k.useMemo(()=>{if(K.length===0)return 0;const ce=K.filter(he=>{var Ce,P;return((P=(Ce=he.habitHistory)==null?void 0:Ce[de])==null?void 0:P.status)==="completed"}).length;return Math.round(ce/K.length*100)},[K,de]),j=k.useMemo(()=>{const ce=Y+2592e6,he=[];return s.forEach(Ce=>{!Ce.isDeleted&&Ce.isEvent&&Ce.scheduledDate&&Ce.scheduledDate>=Y&&Ce.scheduledDate<=ce&&he.push({id:Ce.id,title:Ce.title,date:Ce.scheduledDate,type:"task"})}),y.forEach(Ce=>{if(Ce.birthDate){const P=new Date(Ce.birthDate),we=new Date(new Date().getFullYear(),P.getMonth(),P.getDate()).getTime();we>=Y&&we<=ce&&he.push({id:`bd-${Ce.id}`,title:`: ${Ce.name}`,date:we,type:"birthday"})}}),he.sort((Ce,P)=>Ce.date-P.date).slice(0,5)},[s,y,Y]),$=ce=>{if(!ce)return null;const he=t.find(Ce=>Ce.id===ce);return he?he.name:null},ue=[{key:"health",label:"'",icon:"fa-heart-pulse",color:"rose"},{key:"career",label:"'",icon:"fa-briefcase",color:"indigo"},{key:"finance",label:"",icon:"fa-coins",color:"emerald"},{key:"rest",label:"",icon:"fa-couch",color:"cyan"}],ve=async()=>{if(!x)return alert("   ");Q(!0),await new Promise(ce=>setTimeout(ce,1500)),alert(`   ${M} .`),Q(!1)},ke=ce=>{if(!ce)return null;const he=new Date(ce);return he.getHours()===0&&he.getMinutes()===0?null:he.toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"})};return r.jsxs("div",{className:"h-screen flex bg-[var(--bg-main)] overflow-hidden relative text-[var(--text-main)] transition-none",children:[r.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full",children:[r.jsx("header",{className:"p-3 md:p-4 bg-[var(--bg-card)] border-b border-[var(--border-color)] shrink-0",children:r.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col gap-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(W,{variant:"h1",className:"text-xl font-black text-[var(--text-main)]",children:""}),r.jsx("div",{className:"text-[10px] font-black text-[var(--text-muted)] opacity-50 uppercase tracking-widest pt-1",children:b.toLocaleDateString("uk-UA",{weekday:"short",day:"numeric",month:"short"})})]}),r.jsxs("div",{className:"flex bg-[var(--bg-main)] p-0.5 rounded-lg border border-[var(--border-color)]",children:[r.jsx("button",{onClick:()=>E("tasks"),className:`px-3 py-1 rounded-md text-[8px] font-black uppercase tracking-widest transition-all ${w==="tasks"?"bg-[var(--bg-card)] text-[var(--primary)] shadow-sm":"text-[var(--text-muted)]"}`,children:""}),r.jsx("button",{onClick:()=>E("progress"),className:`px-3 py-1 rounded-md text-[8px] font-black uppercase tracking-widest transition-all ${w==="progress"?"bg-[var(--bg-card)] text-[var(--primary)] shadow-sm":"text-[var(--text-muted)]"}`,children:""})]})]}),r.jsx("div",{className:"md:hidden",children:r.jsx(ux,{})}),r.jsxs("div",{className:"flex items-center gap-2 bg-black/5 px-2 py-1 rounded-lg border border-theme overflow-hidden",children:[r.jsx("button",{onClick:()=>L(!D),className:`shrink-0 text-[10px] ${D?"text-[var(--primary)]":"text-[var(--text-muted)]"}`,children:r.jsx("i",{className:`fa-solid ${D?"fa-eye":"fa-eye-slash"}`})}),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsxs("p",{className:`text-[9px] font-bold text-[var(--text-muted)] uppercase tracking-tight truncate ${D?"":"hidden"}`,children:[r.jsx("span",{className:"text-[var(--primary)] mr-2",children:""})," ",V]})})]})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 md:p-6 transition-none",children:r.jsxs("div",{className:"max-w-6xl mx-auto space-y-4 pb-32",children:[r.jsx("div",{className:"grid grid-cols-1",children:r.jsxs(Ie,{padding:"none",className:"bg-[var(--bg-card)] border-[var(--border-color)] p-2.5 rounded-xl shadow-sm flex items-center gap-3 relative group border-l-4 border-l-[var(--primary)] transition-none",children:[r.jsxs("div",{className:"min-w-0 flex-1 pl-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-[var(--primary)]",children:" :"}),r.jsx("span",{className:"text-[11px] font-black text-[var(--text-main)] truncate uppercase",children:(pe==null?void 0:pe.title)||" "})]}),q&&r.jsxs("div",{className:"text-[7px] font-black text-[var(--text-muted)] uppercase tracking-tighter mt-0.5 opacity-60",children:[": ",q.title," @ ",q.startHour,":00"]})]}),r.jsx("button",{onClick:()=>{v("day"),g("calendar")},className:"w-7 h-7 rounded-lg bg-[var(--bg-main)] text-[var(--text-muted)] hover:bg-[var(--primary)] hover:text-white flex items-center justify-center shrink-0 transition-none",children:r.jsx("i",{className:"fa-solid fa-calendar-day text-[10px]"})})]})}),w==="tasks"?r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 items-start transition-none",children:[r.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[r.jsxs("section",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center px-1",children:[r.jsx(W,{variant:"tiny",className:"font-black uppercase text-[8px] tracking-[0.2em] text-[var(--text-muted)] opacity-70",children:" "}),r.jsxs("div",{className:"flex bg-black/5 p-0.5 rounded-lg border border-theme",children:[r.jsx("button",{onClick:()=>R("all"),className:`px-2 py-0.5 rounded-md text-[7px] font-black uppercase tracking-widest transition-none ${U==="all"?"bg-[var(--bg-card)] text-[var(--primary)] shadow-sm":"text-[var(--text-muted)]"}`,children:""}),r.jsx("button",{onClick:()=>R("projects"),className:`px-2 py-0.5 rounded-md text-[7px] font-black uppercase tracking-widest transition-none ${U==="projects"?"bg-[var(--bg-card)] text-[var(--primary)] shadow-sm":"text-[var(--text-muted)]"}`,children:""}),r.jsx("button",{onClick:()=>R("calendar"),className:`px-2 py-0.5 rounded-md text-[7px] font-black uppercase tracking-widest transition-none ${U==="calendar"?"bg-[var(--bg-card)] text-[var(--primary)] shadow-sm":"text-[var(--text-muted)]"}`,children:""})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[ne.map(ce=>{const he=$(ce.projectId),Ce=ke(ce.scheduledDate);return r.jsxs(Ie,{padding:"none",onClick:()=>S(ce.id),className:"flex items-center gap-2.5 px-2.5 py-1.5 bg-[var(--bg-card)] border-[var(--border-color)] hover:border-[var(--primary)]/30 transition-none cursor-pointer shadow-sm rounded-lg group",children:[r.jsx("button",{onClick:P=>{P.stopPropagation(),i(ce)},className:`w-4 h-4 rounded-md border-2 flex items-center justify-center shrink-0 transition-all ${ce.status===ge.DONE?"bg-emerald-500 border-emerald-500 text-white":"border-[var(--border-color)] bg-black/5 text-transparent group-hover:border-[var(--primary)]"}`,children:r.jsx("i",{className:"fa-solid fa-check text-[7px]"})}),r.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between gap-4",children:[r.jsx("div",{className:`text-[11px] font-bold truncate leading-tight ${ce.status===ge.DONE?"text-[var(--text-muted)] opacity-40 line-through":"text-[var(--text-main)]"}`,children:ce.title}),r.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[Ce&&r.jsx("span",{className:"text-[7px] font-black text-[var(--primary)] bg-[var(--primary)]/5 px-1.5 py-0.5 rounded border border-[var(--primary)]/10",children:Ce}),he&&r.jsx("span",{className:"text-[6px] font-black uppercase text-[var(--text-muted)] opacity-40 bg-black/5 px-1.5 py-0.5 rounded",children:he})]})]})]},ce.id)}),ne.length===0&&r.jsxs("div",{className:"py-12 text-center opacity-20 flex flex-col items-center",children:[r.jsx("i",{className:"fa-solid fa-mountain-sun text-2xl mb-2 text-[var(--text-muted)]"}),r.jsx("p",{className:"text-[8px] font-black uppercase tracking-widest text-[var(--text-muted)]",children:"  "})]})]})]}),r.jsxs("section",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center px-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(W,{variant:"tiny",className:"font-black uppercase text-[8px] tracking-[0.2em] text-[var(--text-muted)] opacity-70",children:""}),r.jsxs("div",{className:"text-[7px] font-black py-0 px-1 rounded bg-[var(--primary)]/10 text-[var(--primary)]",children:[me,"%"]})]}),r.jsxs("button",{onClick:()=>g("habits"),className:"text-[7px] font-black text-[var(--primary)] uppercase tracking-widest hover:bg-black/5 px-2 py-1 rounded transition-none",children:[" ",r.jsx("i",{className:"fa-solid fa-arrow-right ml-1 text-[6px]"})]})]}),r.jsx("div",{className:"flex overflow-x-auto no-scrollbar gap-2 pb-1 snap-x -mx-3 px-3 md:mx-0 md:px-0",children:K.map(ce=>{var Ce,P;const he=((P=(Ce=ce.habitHistory)==null?void 0:Ce[de])==null?void 0:P.status)==="completed";return r.jsxs("button",{onClick:()=>o(ce.id,de,he?"none":"completed"),className:`shrink-0 w-24 p-2 rounded-xl border transition-none flex flex-col items-center gap-1.5 snap-start ${he?"bg-emerald-500/10 border-emerald-500/20 text-emerald-500 shadow-inner":"bg-[var(--bg-card)] border-[var(--border-color)] text-[var(--text-muted)] opacity-60 hover:opacity-100 hover:border-[var(--primary)]/30"}`,children:[r.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center text-[9px] ${he?"bg-emerald-500 text-white shadow-sm":"bg-black/5 border border-theme"}`,children:r.jsx("i",{className:`fa-solid ${he?"fa-check":"fa-repeat"}`})}),r.jsx("span",{className:"text-[6px] font-black uppercase text-center leading-tight truncate w-full",children:ce.title})]},ce.id)})})]})]}),r.jsxs("div",{className:"lg:col-span-4 space-y-6 transition-none",children:[r.jsxs("section",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center px-1",children:[r.jsxs(W,{variant:"tiny",className:"font-black uppercase text-[8px] tracking-[0.2em] flex items-center gap-2 text-[var(--text-muted)] opacity-70",children:[r.jsx("i",{className:"fa-solid fa-radar text-[var(--primary)]"}),"  "]}),r.jsx("button",{onClick:()=>g("calendar"),className:"text-[7px] font-black text-[var(--primary)] uppercase tracking-widest px-2 py-1 transition-none hover:bg-black/5 rounded",children:""})]}),r.jsx("div",{className:"space-y-1",children:j.map(ce=>r.jsxs("div",{className:"p-2 bg-[var(--bg-card)] border border-[var(--border-color)] rounded-lg flex items-center gap-2.5 shadow-sm transition-none text-left",children:[r.jsx("div",{className:`w-6 h-6 rounded-md flex items-center justify-center shrink-0 ${ce.type==="birthday"?"bg-amber-500/10 text-amber-500":"bg-pink-500/10 text-pink-500"}`,children:r.jsx("i",{className:`fa-solid ${ce.type==="birthday"?"fa-cake-candles":"fa-calendar-star"} text-[8px]`})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("div",{className:"text-[9px] font-black text-[var(--text-main)] truncate uppercase",children:ce.title}),r.jsx("div",{className:"text-[7px] font-bold text-[var(--text-muted)] opacity-50 uppercase",children:new Date(ce.date).toLocaleDateString("uk-UA",{day:"numeric",month:"short"})})]})]},ce.id))})]}),r.jsxs("section",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center px-1",children:[r.jsxs(W,{variant:"tiny",className:"font-black uppercase text-[8px] px-1 tracking-[0.2em] flex items-center gap-2 text-[var(--text-muted)] opacity-70",children:[r.jsx("i",{className:"fa-solid fa-user-group text-indigo-500"})," "]}),r.jsx("button",{onClick:()=>g("people"),className:"text-[7px] font-black text-[var(--primary)] uppercase tracking-widest px-2 py-1 transition-none hover:bg-black/5 rounded",children:""})]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:y.slice(0,4).map(ce=>r.jsxs(Ie,{padding:"none",className:"p-2 bg-[var(--bg-card)] border-[var(--border-color)] rounded-xl flex flex-col items-center text-center cursor-pointer transition-none hover:border-[var(--primary)]/30",onClick:()=>{g("people")},children:[r.jsx("img",{src:ce.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${ce.name}`,className:"w-7 h-7 rounded-full mb-1.5 bg-black/5 border border-theme p-0.5"}),r.jsx("span",{className:"text-[7px] font-black text-[var(--text-main)] uppercase truncate w-full",children:ce.name})]},ce.id))})]})]})]}):r.jsx("div",{className:"space-y-4 transition-none",children:r.jsxs(Ie,{className:"bg-[var(--bg-card)] border-[var(--border-color)] p-6 shadow-sm rounded-2xl transition-none",children:[r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:ue.map(ce=>{const he=u.stats[ce.key]||0;return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-end",children:[r.jsx("span",{className:"text-[8px] font-black uppercase text-[var(--text-muted)] tracking-widest opacity-60",children:ce.label}),r.jsxs("span",{className:"text-sm font-black text-[var(--text-main)]",children:[he,"%"]})]}),r.jsx("div",{className:"h-1 bg-black/5 rounded-full overflow-hidden border border-theme",children:r.jsx("div",{className:`h-full ${ce.color==="rose"?"bg-rose-500":ce.color==="indigo"?"bg-indigo-500":ce.color==="emerald"?"bg-emerald-500":"bg-cyan-500"}`,style:{width:`${he}%`}})})]},ce.key)})}),r.jsxs("div",{className:"mt-8 pt-6 border-t border-theme flex flex-col md:flex-row justify-between items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"w-10 h-10 rounded-xl bg-[var(--primary)]/10 flex items-center justify-center text-[var(--primary)] text-base font-black",children:[p.globalExecutionScore,"%"]}),r.jsx(W,{variant:"tiny",className:"text-[var(--text-muted)] font-black text-[8px] uppercase tracking-widest opacity-60",children:" KPI "})]}),r.jsxs("button",{onClick:ve,disabled:O,className:"w-full md:w-auto flex items-center justify-center gap-2 bg-[var(--text-main)] text-[var(--bg-main)] px-8 py-3 rounded-xl text-[9px] font-black uppercase tracking-widest transition-none shadow-lg disabled:opacity-50",style:{backgroundColor:"var(--text-main)",color:"var(--bg-main)"},children:[O?r.jsx("i",{className:"fa-solid fa-circle-notch animate-spin"}):r.jsx("i",{className:"fa-solid fa-sparkles text-[var(--primary)]"}),"  "]})]})]})})]})})]}),r.jsx("div",{className:`flex h-full border-l border-[var(--border-color)] z-[110] bg-[var(--bg-card)] shrink-0 transition-none ${_?"translate-x-0":"translate-x-full absolute"}`,style:{width:_?I:0},children:_&&r.jsxs(r.Fragment,{children:[r.jsx("div",{onMouseDown:B,className:`w-[1px] h-full cursor-col-resize hover:bg-[var(--primary)] z-[100] transition-none ${te?"bg-[var(--primary)]":"bg-[var(--border-color)]"}`}),r.jsx("div",{className:"h-full w-full",children:r.jsx(qi,{task:s.find(ce=>ce.id===_),onClose:()=>S(null)})})]})})]})},Rp=10,Ty=()=>{const[s,t]=k.useState(Array(Rp).fill(null).map(()=>Array(Rp).fill(!0))),n=(i,o)=>{const u=[...s];u[i]=[...u[i]],u[i][o]=!1,t(u)};return r.jsxs("div",{className:"p-8 h-full bg-slate-950 overflow-auto",children:[r.jsxs("div",{className:"mb-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-heading font-bold text-white",children:" "}),r.jsx("p",{className:"text-slate-400",children:" ,       ."})]}),r.jsxs("div",{className:"bg-slate-900 px-6 py-2 rounded-full border border-slate-800 text-yellow-400 font-bold flex items-center gap-3",children:[r.jsx("i",{className:"fa-solid fa-compass"})," : 12%"]})]}),r.jsx("div",{className:"inline-grid grid-cols-5 md:grid-cols-10 gap-2 bg-slate-900/50 p-4 rounded-3xl shadow-2xl border border-slate-800 backdrop-blur-md",children:s.map((i,o)=>i.map((u,p)=>r.jsxs("div",{onClick:()=>n(o,p),className:`w-14 h-14 md:w-20 md:h-20 rounded-xl cursor-pointer flex items-center justify-center relative overflow-hidden group ${u?"bg-slate-800 border border-slate-700 hover:bg-slate-700":"bg-emerald-900/20 border border-emerald-500/30 shadow-[inset_0_0_20px_rgba(16,185,129,0.1)]"}`,children:[u?r.jsx("div",{className:"text-slate-600 group-hover:scale-125",children:r.jsx("i",{className:"fa-solid fa-cloud"})}):r.jsx("div",{className:"text-2xl text-white",children:Math.random()>.9?r.jsx("i",{className:"fa-solid fa-gem text-cyan-400"}):Math.random()>.7?r.jsx("i",{className:"fa-solid fa-tree text-emerald-500"}):r.jsx("i",{className:"fa-solid fa-chess-rook text-slate-400"})}),u&&r.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-black/40 to-transparent pointer-events-none"})]},`${o}-${p}`)))})]})};var Ke;(function(s){s.assertEqual=o=>{};function t(o){}s.assertIs=t;function n(o){throw new Error}s.assertNever=n,s.arrayToEnum=o=>{const u={};for(const p of o)u[p]=p;return u},s.getValidEnumValues=o=>{const u=s.objectKeys(o).filter(g=>typeof o[o[g]]!="number"),p={};for(const g of u)p[g]=o[g];return s.objectValues(p)},s.objectValues=o=>s.objectKeys(o).map(function(u){return o[u]}),s.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const u=[];for(const p in o)Object.prototype.hasOwnProperty.call(o,p)&&u.push(p);return u},s.find=(o,u)=>{for(const p of o)if(u(p))return p},s.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function i(o,u=" | "){return o.map(p=>typeof p=="string"?`'${p}'`:p).join(u)}s.joinValues=i,s.jsonStringifyReplacer=(o,u)=>typeof u=="bigint"?u.toString():u})(Ke||(Ke={}));var Ip;(function(s){s.mergeShapes=(t,n)=>({...t,...n})})(Ip||(Ip={}));const Te=Ke.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ha=s=>{switch(typeof s){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return Number.isNaN(s)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(s)?Te.array:s===null?Te.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?Te.promise:typeof Map<"u"&&s instanceof Map?Te.map:typeof Set<"u"&&s instanceof Set?Te.set:typeof Date<"u"&&s instanceof Date?Te.date:Te.object;default:return Te.unknown}},xe=Ke.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Bn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(u){return u.message},i={_errors:[]},o=u=>{for(const p of u.issues)if(p.code==="invalid_union")p.unionErrors.map(o);else if(p.code==="invalid_return_type")o(p.returnTypeError);else if(p.code==="invalid_arguments")o(p.argumentsError);else if(p.path.length===0)i._errors.push(n(p));else{let g=i,v=0;for(;v<p.path.length;){const x=p.path[v];v===p.path.length-1?(g[x]=g[x]||{_errors:[]},g[x]._errors.push(n(p))):g[x]=g[x]||{_errors:[]},g=g[x],v++}}};return o(this),i}static assert(t){if(!(t instanceof Bn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ke.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},i=[];for(const o of this.issues)if(o.path.length>0){const u=o.path[0];n[u]=n[u]||[],n[u].push(t(o))}else i.push(t(o));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}Bn.create=s=>new Bn(s);const Wc=(s,t)=>{let n;switch(s.code){case xe.invalid_type:s.received===Te.undefined?n="Required":n=`Expected ${s.expected}, received ${s.received}`;break;case xe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(s.expected,Ke.jsonStringifyReplacer)}`;break;case xe.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ke.joinValues(s.keys,", ")}`;break;case xe.invalid_union:n="Invalid input";break;case xe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ke.joinValues(s.options)}`;break;case xe.invalid_enum_value:n=`Invalid enum value. Expected ${Ke.joinValues(s.options)}, received '${s.received}'`;break;case xe.invalid_arguments:n="Invalid function arguments";break;case xe.invalid_return_type:n="Invalid function return type";break;case xe.invalid_date:n="Invalid date";break;case xe.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(n=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?n=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?n=`Invalid input: must end with "${s.validation.endsWith}"`:Ke.assertNever(s.validation):s.validation!=="regex"?n=`Invalid ${s.validation}`:n="Invalid";break;case xe.too_small:s.type==="array"?n=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?n=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?n=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="bigint"?n=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?n=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:n="Invalid input";break;case xe.too_big:s.type==="array"?n=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?n=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?n=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?n=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?n=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:n="Invalid input";break;case xe.custom:n="Invalid input";break;case xe.invalid_intersection_types:n="Intersection results could not be merged";break;case xe.not_multiple_of:n=`Number must be a multiple of ${s.multipleOf}`;break;case xe.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ke.assertNever(s)}return{message:n}};let wy=Wc;function Cy(){return wy}const Sy=s=>{const{data:t,path:n,errorMaps:i,issueData:o}=s,u=[...n,...o.path||[]],p={...o,path:u};if(o.message!==void 0)return{...o,path:u,message:o.message};let g="";const v=i.filter(x=>!!x).slice().reverse();for(const x of v)g=x(p,{data:t,defaultError:g}).message;return{...o,path:u,message:g}};function ye(s,t){const n=Cy(),i=Sy({issueData:t,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,n,n===Wc?void 0:Wc].filter(o=>!!o)});s.common.issues.push(i)}class zt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const i=[];for(const o of n){if(o.status==="aborted")return Me;o.status==="dirty"&&t.dirty(),i.push(o.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,n){const i=[];for(const o of n){const u=await o.key,p=await o.value;i.push({key:u,value:p})}return zt.mergeObjectSync(t,i)}static mergeObjectSync(t,n){const i={};for(const o of n){const{key:u,value:p}=o;if(u.status==="aborted"||p.status==="aborted")return Me;u.status==="dirty"&&t.dirty(),p.status==="dirty"&&t.dirty(),u.value!=="__proto__"&&(typeof p.value<"u"||o.alwaysSet)&&(i[u.value]=p.value)}return{status:t.value,value:i}}}const Me=Object.freeze({status:"aborted"}),Gs=s=>({status:"dirty",value:s}),un=s=>({status:"valid",value:s}),Up=s=>s.status==="aborted",zp=s=>s.status==="dirty",Li=s=>s.status==="valid",gr=s=>typeof Promise<"u"&&s instanceof Promise;var _e;(function(s){s.errToObj=t=>typeof t=="string"?{message:t}:t||{},s.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(_e||(_e={}));class Tn{constructor(t,n,i,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=i,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Lp=(s,t)=>{if(Li(t))return{success:!0,data:t.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Bn(s.common.issues);return this._error=n,this._error}}};function Le(s){if(!s)return{};const{errorMap:t,invalid_type_error:n,required_error:i,description:o}=s;if(t&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(p,g)=>{const{message:v}=s;return p.code==="invalid_enum_value"?{message:v??g.defaultError}:typeof g.data>"u"?{message:v??i??g.defaultError}:p.code!=="invalid_type"?{message:g.defaultError}:{message:v??n??g.defaultError}},description:o}}class Fe{get description(){return this._def.description}_getType(t){return ha(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ha(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new zt,ctx:{common:t.parent.common,data:t.data,parsedType:ha(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(gr(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const i=this.safeParse(t,n);if(i.success)return i.data;throw i.error}safeParse(t,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ha(t)},o=this._parseSync({data:t,path:i.path,parent:i});return Lp(i,o)}"~validate"(t){var i,o;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ha(t)};if(!this["~standard"].async)try{const u=this._parseSync({data:t,path:[],parent:n});return Li(u)?{value:u.value}:{issues:n.common.issues}}catch(u){(o=(i=u==null?void 0:u.message)==null?void 0:i.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(u=>Li(u)?{value:u.value}:{issues:n.common.issues})}async parseAsync(t,n){const i=await this.safeParseAsync(t,n);if(i.success)return i.data;throw i.error}async safeParseAsync(t,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ha(t)},o=this._parse({data:t,path:i.path,parent:i}),u=await(gr(o)?o:Promise.resolve(o));return Lp(i,u)}refine(t,n){const i=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,u)=>{const p=t(o),g=()=>u.addIssue({code:xe.custom,...i(o)});return typeof Promise<"u"&&p instanceof Promise?p.then(v=>v?!0:(g(),!1)):p?!0:(g(),!1)})}refinement(t,n){return this._refinement((i,o)=>t(i)?!0:(o.addIssue(typeof n=="function"?n(i,o):n),!1))}_refinement(t){return new Hi({schema:this,typeName:De.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return xa.create(this,this._def)}nullable(){return Bi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Nn.create(this)}promise(){return Tr.create(this,this._def)}or(t){return yr.create([this,t],this._def)}and(t){return br.create(this,t,this._def)}transform(t){return new Hi({...Le(this._def),schema:this,typeName:De.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new au({...Le(this._def),innerType:this,defaultValue:n,typeName:De.ZodDefault})}brand(){return new Zy({typeName:De.ZodBranded,type:this,...Le(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new iu({...Le(this._def),innerType:this,catchValue:n,typeName:De.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return gu.create(this,t)}readonly(){return su.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _y=/^c[^\s-]{8,}$/i,ky=/^[0-9a-z]+$/,Ey=/^[0-9A-HJKMNP-TV-Z]{26}$/i,jy=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ay=/^[a-z0-9_-]{21}$/i,Dy=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,My=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ry=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Iy="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Kc;const Uy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ly=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Oy=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Vy=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Hy=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,mx="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",By=new RegExp(`^${mx}$`);function px(s){let t="[0-5]\\d";s.precision?t=`${t}\\.\\d{${s.precision}}`:s.precision==null&&(t=`${t}(\\.\\d+)?`);const n=s.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function Gy(s){return new RegExp(`^${px(s)}$`)}function qy(s){let t=`${mx}T${px(s)}`;const n=[];return n.push(s.local?"Z?":"Z"),s.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Py(s,t){return!!((t==="v4"||!t)&&Uy.test(s)||(t==="v6"||!t)&&Ly.test(s))}function $y(s,t){if(!Dy.test(s))return!1;try{const[n]=s.split(".");if(!n)return!1;const i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||t&&o.alg!==t)}catch{return!1}}function Fy(s,t){return!!((t==="v4"||!t)&&zy.test(s)||(t==="v6"||!t)&&Oy.test(s))}class bn extends Fe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Te.string){const u=this._getOrReturnCtx(t);return ye(u,{code:xe.invalid_type,expected:Te.string,received:u.parsedType}),Me}const i=new zt;let o;for(const u of this._def.checks)if(u.kind==="min")t.data.length<u.value&&(o=this._getOrReturnCtx(t,o),ye(o,{code:xe.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),i.dirty());else if(u.kind==="max")t.data.length>u.value&&(o=this._getOrReturnCtx(t,o),ye(o,{code:xe.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),i.dirty());else if(u.kind==="length"){const p=t.data.length>u.value,g=t.data.length<u.value;(p||g)&&(o=this._getOrReturnCtx(t,o),p?ye(o,{code:xe.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):g&&ye(o,{code:xe.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),i.dirty())}else if(u.kind==="email")Ry.test(t.data)||(o=this._getOrReturnCtx(t,o),ye(o,{validation:"email",code:xe.invalid_string,message:u.message}),i.dirty());else if(u.kind==="emoji")Kc||(Kc=new RegExp(Iy,"u")),Kc.test(t.data)||(o=this._getOrReturnCtx(t,o),ye(o,{validation:"emoji",code:xe.invalid_string,message:u.message}),i.dirty());else if(u.kind==="uuid")jy.test(t.data)||(o=this._getOrReturnCtx(t,o),ye(o,{validation:"uuid",code:xe.invalid_string,message:u.message}),i.dirty());else if(u.kind==="nanoid")Ay.test(t.data)||(o=this._getOrReturnCtx(t,o),ye(o,{validation:"nanoid",code:xe.invalid_string,message:u.message}),i.dirty());else if(u.kind==="cuid")_y.test(t.data)||(o=this._getOrReturnCtx(t,o),ye(o,{validation:"cuid",code:xe.invalid_string,message:u.message}),i.dirty());else if(u.kind==="cuid2")ky.test(t.data)||(o=this._getOrReturnCtx(t,o),ye(o,{validation:"cuid2",code:xe.invalid_string,message:u.message}),i.dirty());else if(u.kind==="ulid")Ey.test(t.data)||(o=this._getOrReturnCtx(t,o),ye(o,{validation:"ulid",code:xe.invalid_string,message:u.message}),i.dirty());else if(u.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),ye(o,{validation:"url",code:xe.invalid_string,message:u.message}),i.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),ye(o,{validation:"regex",code:xe.invalid_string,message:u.message}),i.dirty())):u.kind==="trim"?t.data=t.data.trim():u.kind==="includes"?t.data.includes(u.value,u.position)||(o=this._getOrReturnCtx(t,o),ye(o,{code:xe.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),i.dirty()):u.kind==="toLowerCase"?t.data=t.data.toLowerCase():u.kind==="toUpperCase"?t.data=t.data.toUpperCase():u.kind==="startsWith"?t.data.startsWith(u.value)||(o=this._getOrReturnCtx(t,o),ye(o,{code:xe.invalid_string,validation:{startsWith:u.value},message:u.message}),i.dirty()):u.kind==="endsWith"?t.data.endsWith(u.value)||(o=this._getOrReturnCtx(t,o),ye(o,{code:xe.invalid_string,validation:{endsWith:u.value},message:u.message}),i.dirty()):u.kind==="datetime"?qy(u).test(t.data)||(o=this._getOrReturnCtx(t,o),ye(o,{code:xe.invalid_string,validation:"datetime",message:u.message}),i.dirty()):u.kind==="date"?By.test(t.data)||(o=this._getOrReturnCtx(t,o),ye(o,{code:xe.invalid_string,validation:"date",message:u.message}),i.dirty()):u.kind==="time"?Gy(u).test(t.data)||(o=this._getOrReturnCtx(t,o),ye(o,{code:xe.invalid_string,validation:"time",message:u.message}),i.dirty()):u.kind==="duration"?My.test(t.data)||(o=this._getOrReturnCtx(t,o),ye(o,{validation:"duration",code:xe.invalid_string,message:u.message}),i.dirty()):u.kind==="ip"?Py(t.data,u.version)||(o=this._getOrReturnCtx(t,o),ye(o,{validation:"ip",code:xe.invalid_string,message:u.message}),i.dirty()):u.kind==="jwt"?$y(t.data,u.alg)||(o=this._getOrReturnCtx(t,o),ye(o,{validation:"jwt",code:xe.invalid_string,message:u.message}),i.dirty()):u.kind==="cidr"?Fy(t.data,u.version)||(o=this._getOrReturnCtx(t,o),ye(o,{validation:"cidr",code:xe.invalid_string,message:u.message}),i.dirty()):u.kind==="base64"?Vy.test(t.data)||(o=this._getOrReturnCtx(t,o),ye(o,{validation:"base64",code:xe.invalid_string,message:u.message}),i.dirty()):u.kind==="base64url"?Hy.test(t.data)||(o=this._getOrReturnCtx(t,o),ye(o,{validation:"base64url",code:xe.invalid_string,message:u.message}),i.dirty()):Ke.assertNever(u);return{status:i.value,value:t.data}}_regex(t,n,i){return this.refinement(o=>t.test(o),{validation:n,code:xe.invalid_string,..._e.errToObj(i)})}_addCheck(t){return new bn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",..._e.errToObj(t)})}url(t){return this._addCheck({kind:"url",..._e.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",..._e.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",..._e.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",..._e.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",..._e.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",..._e.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",..._e.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",..._e.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",..._e.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",..._e.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",..._e.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",..._e.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,..._e.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,..._e.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",..._e.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,..._e.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,..._e.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,..._e.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,..._e.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,..._e.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,..._e.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,..._e.errToObj(n)})}nonempty(t){return this.min(1,_e.errToObj(t))}trim(){return new bn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}bn.create=s=>new bn({checks:[],typeName:De.ZodString,coerce:(s==null?void 0:s.coerce)??!1,...Le(s)});function Yy(s,t){const n=(s.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,o=n>i?n:i,u=Number.parseInt(s.toFixed(o).replace(".","")),p=Number.parseInt(t.toFixed(o).replace(".",""));return u%p/10**o}class Ha extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Te.number){const u=this._getOrReturnCtx(t);return ye(u,{code:xe.invalid_type,expected:Te.number,received:u.parsedType}),Me}let i;const o=new zt;for(const u of this._def.checks)u.kind==="int"?Ke.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{code:xe.invalid_type,expected:"integer",received:"float",message:u.message}),o.dirty()):u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(i=this._getOrReturnCtx(t,i),ye(i,{code:xe.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),o.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(i=this._getOrReturnCtx(t,i),ye(i,{code:xe.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),o.dirty()):u.kind==="multipleOf"?Yy(t.data,u.value)!==0&&(i=this._getOrReturnCtx(t,i),ye(i,{code:xe.not_multiple_of,multipleOf:u.value,message:u.message}),o.dirty()):u.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{code:xe.not_finite,message:u.message}),o.dirty()):Ke.assertNever(u);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,_e.toString(n))}gt(t,n){return this.setLimit("min",t,!1,_e.toString(n))}lte(t,n){return this.setLimit("max",t,!0,_e.toString(n))}lt(t,n){return this.setLimit("max",t,!1,_e.toString(n))}setLimit(t,n,i,o){return new Ha({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:_e.toString(o)}]})}_addCheck(t){return new Ha({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:_e.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_e.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:_e.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:_e.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_e.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_e.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ke.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Ha.create=s=>new Ha({checks:[],typeName:De.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...Le(s)});class Ba extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Te.bigint)return this._getInvalidInput(t);let i;const o=new zt;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(i=this._getOrReturnCtx(t,i),ye(i,{code:xe.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),o.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(i=this._getOrReturnCtx(t,i),ye(i,{code:xe.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),o.dirty()):u.kind==="multipleOf"?t.data%u.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),ye(i,{code:xe.not_multiple_of,multipleOf:u.value,message:u.message}),o.dirty()):Ke.assertNever(u);return{status:o.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return ye(n,{code:xe.invalid_type,expected:Te.bigint,received:n.parsedType}),Me}gte(t,n){return this.setLimit("min",t,!0,_e.toString(n))}gt(t,n){return this.setLimit("min",t,!1,_e.toString(n))}lte(t,n){return this.setLimit("max",t,!0,_e.toString(n))}lt(t,n){return this.setLimit("max",t,!1,_e.toString(n))}setLimit(t,n,i,o){return new Ba({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:_e.toString(o)}]})}_addCheck(t){return new Ba({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_e.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:_e.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ba.create=s=>new Ba({checks:[],typeName:De.ZodBigInt,coerce:(s==null?void 0:s.coerce)??!1,...Le(s)});class vr extends Fe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Te.boolean){const i=this._getOrReturnCtx(t);return ye(i,{code:xe.invalid_type,expected:Te.boolean,received:i.parsedType}),Me}return un(t.data)}}vr.create=s=>new vr({typeName:De.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...Le(s)});class Oi extends Fe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Te.date){const u=this._getOrReturnCtx(t);return ye(u,{code:xe.invalid_type,expected:Te.date,received:u.parsedType}),Me}if(Number.isNaN(t.data.getTime())){const u=this._getOrReturnCtx(t);return ye(u,{code:xe.invalid_date}),Me}const i=new zt;let o;for(const u of this._def.checks)u.kind==="min"?t.data.getTime()<u.value&&(o=this._getOrReturnCtx(t,o),ye(o,{code:xe.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),i.dirty()):u.kind==="max"?t.data.getTime()>u.value&&(o=this._getOrReturnCtx(t,o),ye(o,{code:xe.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),i.dirty()):Ke.assertNever(u);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Oi({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:_e.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:_e.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Oi.create=s=>new Oi({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:De.ZodDate,...Le(s)});class Op extends Fe{_parse(t){if(this._getType(t)!==Te.symbol){const i=this._getOrReturnCtx(t);return ye(i,{code:xe.invalid_type,expected:Te.symbol,received:i.parsedType}),Me}return un(t.data)}}Op.create=s=>new Op({typeName:De.ZodSymbol,...Le(s)});class Vp extends Fe{_parse(t){if(this._getType(t)!==Te.undefined){const i=this._getOrReturnCtx(t);return ye(i,{code:xe.invalid_type,expected:Te.undefined,received:i.parsedType}),Me}return un(t.data)}}Vp.create=s=>new Vp({typeName:De.ZodUndefined,...Le(s)});class Hp extends Fe{_parse(t){if(this._getType(t)!==Te.null){const i=this._getOrReturnCtx(t);return ye(i,{code:xe.invalid_type,expected:Te.null,received:i.parsedType}),Me}return un(t.data)}}Hp.create=s=>new Hp({typeName:De.ZodNull,...Le(s)});class Bp extends Fe{constructor(){super(...arguments),this._any=!0}_parse(t){return un(t.data)}}Bp.create=s=>new Bp({typeName:De.ZodAny,...Le(s)});class eu extends Fe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return un(t.data)}}eu.create=s=>new eu({typeName:De.ZodUnknown,...Le(s)});class ga extends Fe{_parse(t){const n=this._getOrReturnCtx(t);return ye(n,{code:xe.invalid_type,expected:Te.never,received:n.parsedType}),Me}}ga.create=s=>new ga({typeName:De.ZodNever,...Le(s)});class Gp extends Fe{_parse(t){if(this._getType(t)!==Te.undefined){const i=this._getOrReturnCtx(t);return ye(i,{code:xe.invalid_type,expected:Te.void,received:i.parsedType}),Me}return un(t.data)}}Gp.create=s=>new Gp({typeName:De.ZodVoid,...Le(s)});class Nn extends Fe{_parse(t){const{ctx:n,status:i}=this._processInputParams(t),o=this._def;if(n.parsedType!==Te.array)return ye(n,{code:xe.invalid_type,expected:Te.array,received:n.parsedType}),Me;if(o.exactLength!==null){const p=n.data.length>o.exactLength.value,g=n.data.length<o.exactLength.value;(p||g)&&(ye(n,{code:p?xe.too_big:xe.too_small,minimum:g?o.exactLength.value:void 0,maximum:p?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(ye(n,{code:xe.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(ye(n,{code:xe.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((p,g)=>o.type._parseAsync(new Tn(n,p,n.path,g)))).then(p=>zt.mergeArray(i,p));const u=[...n.data].map((p,g)=>o.type._parseSync(new Tn(n,p,n.path,g)));return zt.mergeArray(i,u)}get element(){return this._def.type}min(t,n){return new Nn({...this._def,minLength:{value:t,message:_e.toString(n)}})}max(t,n){return new Nn({...this._def,maxLength:{value:t,message:_e.toString(n)}})}length(t,n){return new Nn({...this._def,exactLength:{value:t,message:_e.toString(n)}})}nonempty(t){return this.min(1,t)}}Nn.create=(s,t)=>new Nn({type:s,minLength:null,maxLength:null,exactLength:null,typeName:De.ZodArray,...Le(t)});function Mi(s){if(s instanceof Tt){const t={};for(const n in s.shape){const i=s.shape[n];t[n]=xa.create(Mi(i))}return new Tt({...s._def,shape:()=>t})}else return s instanceof Nn?new Nn({...s._def,type:Mi(s.element)}):s instanceof xa?xa.create(Mi(s.unwrap())):s instanceof Bi?Bi.create(Mi(s.unwrap())):s instanceof Ga?Ga.create(s.items.map(t=>Mi(t))):s}class Tt extends Fe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Ke.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==Te.object){const x=this._getOrReturnCtx(t);return ye(x,{code:xe.invalid_type,expected:Te.object,received:x.parsedType}),Me}const{status:i,ctx:o}=this._processInputParams(t),{shape:u,keys:p}=this._getCached(),g=[];if(!(this._def.catchall instanceof ga&&this._def.unknownKeys==="strip"))for(const x in o.data)p.includes(x)||g.push(x);const v=[];for(const x of p){const y=u[x],b=o.data[x];v.push({key:{status:"valid",value:x},value:y._parse(new Tn(o,b,o.path,x)),alwaysSet:x in o.data})}if(this._def.catchall instanceof ga){const x=this._def.unknownKeys;if(x==="passthrough")for(const y of g)v.push({key:{status:"valid",value:y},value:{status:"valid",value:o.data[y]}});else if(x==="strict")g.length>0&&(ye(o,{code:xe.unrecognized_keys,keys:g}),i.dirty());else if(x!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const x=this._def.catchall;for(const y of g){const b=o.data[y];v.push({key:{status:"valid",value:y},value:x._parse(new Tn(o,b,o.path,y)),alwaysSet:y in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const x=[];for(const y of v){const b=await y.key,T=await y.value;x.push({key:b,value:T,alwaysSet:y.alwaysSet})}return x}).then(x=>zt.mergeObjectSync(i,x)):zt.mergeObjectSync(i,v)}get shape(){return this._def.shape()}strict(t){return _e.errToObj,new Tt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,i)=>{var u,p;const o=((p=(u=this._def).errorMap)==null?void 0:p.call(u,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:_e.errToObj(t).message??o}:{message:o}}}:{}})}strip(){return new Tt({...this._def,unknownKeys:"strip"})}passthrough(){return new Tt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Tt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Tt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:De.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Tt({...this._def,catchall:t})}pick(t){const n={};for(const i of Ke.objectKeys(t))t[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new Tt({...this._def,shape:()=>n})}omit(t){const n={};for(const i of Ke.objectKeys(this.shape))t[i]||(n[i]=this.shape[i]);return new Tt({...this._def,shape:()=>n})}deepPartial(){return Mi(this)}partial(t){const n={};for(const i of Ke.objectKeys(this.shape)){const o=this.shape[i];t&&!t[i]?n[i]=o:n[i]=o.optional()}return new Tt({...this._def,shape:()=>n})}required(t){const n={};for(const i of Ke.objectKeys(this.shape))if(t&&!t[i])n[i]=this.shape[i];else{let u=this.shape[i];for(;u instanceof xa;)u=u._def.innerType;n[i]=u}return new Tt({...this._def,shape:()=>n})}keyof(){return hx(Ke.objectKeys(this.shape))}}Tt.create=(s,t)=>new Tt({shape:()=>s,unknownKeys:"strip",catchall:ga.create(),typeName:De.ZodObject,...Le(t)});Tt.strictCreate=(s,t)=>new Tt({shape:()=>s,unknownKeys:"strict",catchall:ga.create(),typeName:De.ZodObject,...Le(t)});Tt.lazycreate=(s,t)=>new Tt({shape:s,unknownKeys:"strip",catchall:ga.create(),typeName:De.ZodObject,...Le(t)});class yr extends Fe{_parse(t){const{ctx:n}=this._processInputParams(t),i=this._def.options;function o(u){for(const g of u)if(g.result.status==="valid")return g.result;for(const g of u)if(g.result.status==="dirty")return n.common.issues.push(...g.ctx.common.issues),g.result;const p=u.map(g=>new Bn(g.ctx.common.issues));return ye(n,{code:xe.invalid_union,unionErrors:p}),Me}if(n.common.async)return Promise.all(i.map(async u=>{const p={...n,common:{...n.common,issues:[]},parent:null};return{result:await u._parseAsync({data:n.data,path:n.path,parent:p}),ctx:p}})).then(o);{let u;const p=[];for(const v of i){const x={...n,common:{...n.common,issues:[]},parent:null},y=v._parseSync({data:n.data,path:n.path,parent:x});if(y.status==="valid")return y;y.status==="dirty"&&!u&&(u={result:y,ctx:x}),x.common.issues.length&&p.push(x.common.issues)}if(u)return n.common.issues.push(...u.ctx.common.issues),u.result;const g=p.map(v=>new Bn(v));return ye(n,{code:xe.invalid_union,unionErrors:g}),Me}}get options(){return this._def.options}}yr.create=(s,t)=>new yr({options:s,typeName:De.ZodUnion,...Le(t)});function tu(s,t){const n=ha(s),i=ha(t);if(s===t)return{valid:!0,data:s};if(n===Te.object&&i===Te.object){const o=Ke.objectKeys(t),u=Ke.objectKeys(s).filter(g=>o.indexOf(g)!==-1),p={...s,...t};for(const g of u){const v=tu(s[g],t[g]);if(!v.valid)return{valid:!1};p[g]=v.data}return{valid:!0,data:p}}else if(n===Te.array&&i===Te.array){if(s.length!==t.length)return{valid:!1};const o=[];for(let u=0;u<s.length;u++){const p=s[u],g=t[u],v=tu(p,g);if(!v.valid)return{valid:!1};o.push(v.data)}return{valid:!0,data:o}}else return n===Te.date&&i===Te.date&&+s==+t?{valid:!0,data:s}:{valid:!1}}class br extends Fe{_parse(t){const{status:n,ctx:i}=this._processInputParams(t),o=(u,p)=>{if(Up(u)||Up(p))return Me;const g=tu(u.value,p.value);return g.valid?((zp(u)||zp(p))&&n.dirty(),{status:n.value,value:g.data}):(ye(i,{code:xe.invalid_intersection_types}),Me)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([u,p])=>o(u,p)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}br.create=(s,t,n)=>new br({left:s,right:t,typeName:De.ZodIntersection,...Le(n)});class Ga extends Fe{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Te.array)return ye(i,{code:xe.invalid_type,expected:Te.array,received:i.parsedType}),Me;if(i.data.length<this._def.items.length)return ye(i,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Me;!this._def.rest&&i.data.length>this._def.items.length&&(ye(i,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const u=[...i.data].map((p,g)=>{const v=this._def.items[g]||this._def.rest;return v?v._parse(new Tn(i,p,i.path,g)):null}).filter(p=>!!p);return i.common.async?Promise.all(u).then(p=>zt.mergeArray(n,p)):zt.mergeArray(n,u)}get items(){return this._def.items}rest(t){return new Ga({...this._def,rest:t})}}Ga.create=(s,t)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ga({items:s,typeName:De.ZodTuple,rest:null,...Le(t)})};class Nr extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Te.object)return ye(i,{code:xe.invalid_type,expected:Te.object,received:i.parsedType}),Me;const o=[],u=this._def.keyType,p=this._def.valueType;for(const g in i.data)o.push({key:u._parse(new Tn(i,g,i.path,g)),value:p._parse(new Tn(i,i.data[g],i.path,g)),alwaysSet:g in i.data});return i.common.async?zt.mergeObjectAsync(n,o):zt.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,i){return n instanceof Fe?new Nr({keyType:t,valueType:n,typeName:De.ZodRecord,...Le(i)}):new Nr({keyType:bn.create(),valueType:t,typeName:De.ZodRecord,...Le(n)})}}class qp extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Te.map)return ye(i,{code:xe.invalid_type,expected:Te.map,received:i.parsedType}),Me;const o=this._def.keyType,u=this._def.valueType,p=[...i.data.entries()].map(([g,v],x)=>({key:o._parse(new Tn(i,g,i.path,[x,"key"])),value:u._parse(new Tn(i,v,i.path,[x,"value"]))}));if(i.common.async){const g=new Map;return Promise.resolve().then(async()=>{for(const v of p){const x=await v.key,y=await v.value;if(x.status==="aborted"||y.status==="aborted")return Me;(x.status==="dirty"||y.status==="dirty")&&n.dirty(),g.set(x.value,y.value)}return{status:n.value,value:g}})}else{const g=new Map;for(const v of p){const x=v.key,y=v.value;if(x.status==="aborted"||y.status==="aborted")return Me;(x.status==="dirty"||y.status==="dirty")&&n.dirty(),g.set(x.value,y.value)}return{status:n.value,value:g}}}}qp.create=(s,t,n)=>new qp({valueType:t,keyType:s,typeName:De.ZodMap,...Le(n)});class $s extends Fe{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Te.set)return ye(i,{code:xe.invalid_type,expected:Te.set,received:i.parsedType}),Me;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(ye(i,{code:xe.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(ye(i,{code:xe.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const u=this._def.valueType;function p(v){const x=new Set;for(const y of v){if(y.status==="aborted")return Me;y.status==="dirty"&&n.dirty(),x.add(y.value)}return{status:n.value,value:x}}const g=[...i.data.values()].map((v,x)=>u._parse(new Tn(i,v,i.path,x)));return i.common.async?Promise.all(g).then(v=>p(v)):p(g)}min(t,n){return new $s({...this._def,minSize:{value:t,message:_e.toString(n)}})}max(t,n){return new $s({...this._def,maxSize:{value:t,message:_e.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}$s.create=(s,t)=>new $s({valueType:s,minSize:null,maxSize:null,typeName:De.ZodSet,...Le(t)});class nu extends Fe{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}nu.create=(s,t)=>new nu({getter:s,typeName:De.ZodLazy,...Le(t)});class Pp extends Fe{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return ye(n,{received:n.data,code:xe.invalid_literal,expected:this._def.value}),Me}return{status:"valid",value:t.data}}get value(){return this._def.value}}Pp.create=(s,t)=>new Pp({value:s,typeName:De.ZodLiteral,...Le(t)});function hx(s,t){return new Vi({values:s,typeName:De.ZodEnum,...Le(t)})}class Vi extends Fe{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),i=this._def.values;return ye(n,{expected:Ke.joinValues(i),received:n.parsedType,code:xe.invalid_type}),Me}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),i=this._def.values;return ye(n,{received:n.data,code:xe.invalid_enum_value,options:i}),Me}return un(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Vi.create(t,{...this._def,...n})}exclude(t,n=this._def){return Vi.create(this.options.filter(i=>!t.includes(i)),{...this._def,...n})}}Vi.create=hx;class $p extends Fe{_parse(t){const n=Ke.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==Te.string&&i.parsedType!==Te.number){const o=Ke.objectValues(n);return ye(i,{expected:Ke.joinValues(o),received:i.parsedType,code:xe.invalid_type}),Me}if(this._cache||(this._cache=new Set(Ke.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const o=Ke.objectValues(n);return ye(i,{received:i.data,code:xe.invalid_enum_value,options:o}),Me}return un(t.data)}get enum(){return this._def.values}}$p.create=(s,t)=>new $p({values:s,typeName:De.ZodNativeEnum,...Le(t)});class Tr extends Fe{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.promise&&n.common.async===!1)return ye(n,{code:xe.invalid_type,expected:Te.promise,received:n.parsedType}),Me;const i=n.parsedType===Te.promise?n.data:Promise.resolve(n.data);return un(i.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Tr.create=(s,t)=>new Tr({type:s,typeName:De.ZodPromise,...Le(t)});class Hi extends Fe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===De.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:i}=this._processInputParams(t),o=this._def.effect||null,u={addIssue:p=>{ye(i,p),p.fatal?n.abort():n.dirty()},get path(){return i.path}};if(u.addIssue=u.addIssue.bind(u),o.type==="preprocess"){const p=o.transform(i.data,u);if(i.common.async)return Promise.resolve(p).then(async g=>{if(n.value==="aborted")return Me;const v=await this._def.schema._parseAsync({data:g,path:i.path,parent:i});return v.status==="aborted"?Me:v.status==="dirty"||n.value==="dirty"?Gs(v.value):v});{if(n.value==="aborted")return Me;const g=this._def.schema._parseSync({data:p,path:i.path,parent:i});return g.status==="aborted"?Me:g.status==="dirty"||n.value==="dirty"?Gs(g.value):g}}if(o.type==="refinement"){const p=g=>{const v=o.refinement(g,u);if(i.common.async)return Promise.resolve(v);if(v instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(i.common.async===!1){const g=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return g.status==="aborted"?Me:(g.status==="dirty"&&n.dirty(),p(g.value),{status:n.value,value:g.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(g=>g.status==="aborted"?Me:(g.status==="dirty"&&n.dirty(),p(g.value).then(()=>({status:n.value,value:g.value}))))}if(o.type==="transform")if(i.common.async===!1){const p=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Li(p))return Me;const g=o.transform(p.value,u);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:g}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(p=>Li(p)?Promise.resolve(o.transform(p.value,u)).then(g=>({status:n.value,value:g})):Me);Ke.assertNever(o)}}Hi.create=(s,t,n)=>new Hi({schema:s,typeName:De.ZodEffects,effect:t,...Le(n)});Hi.createWithPreprocess=(s,t,n)=>new Hi({schema:t,effect:{type:"preprocess",transform:s},typeName:De.ZodEffects,...Le(n)});class xa extends Fe{_parse(t){return this._getType(t)===Te.undefined?un(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}xa.create=(s,t)=>new xa({innerType:s,typeName:De.ZodOptional,...Le(t)});class Bi extends Fe{_parse(t){return this._getType(t)===Te.null?un(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Bi.create=(s,t)=>new Bi({innerType:s,typeName:De.ZodNullable,...Le(t)});class au extends Fe{_parse(t){const{ctx:n}=this._processInputParams(t);let i=n.data;return n.parsedType===Te.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}au.create=(s,t)=>new au({innerType:s,typeName:De.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Le(t)});class iu extends Fe{_parse(t){const{ctx:n}=this._processInputParams(t),i={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return gr(o)?o.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new Bn(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Bn(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}iu.create=(s,t)=>new iu({innerType:s,typeName:De.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Le(t)});class Fp extends Fe{_parse(t){if(this._getType(t)!==Te.nan){const i=this._getOrReturnCtx(t);return ye(i,{code:xe.invalid_type,expected:Te.nan,received:i.parsedType}),Me}return{status:"valid",value:t.data}}}Fp.create=s=>new Fp({typeName:De.ZodNaN,...Le(s)});class Zy extends Fe{_parse(t){const{ctx:n}=this._processInputParams(t),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class gu extends Fe{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?Me:u.status==="dirty"?(n.dirty(),Gs(u.value)):this._def.out._parseAsync({data:u.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Me:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(t,n){return new gu({in:t,out:n,typeName:De.ZodPipeline})}}class su extends Fe{_parse(t){const n=this._def.innerType._parse(t),i=o=>(Li(o)&&(o.value=Object.freeze(o.value)),o);return gr(n)?n.then(o=>i(o)):i(n)}unwrap(){return this._def.innerType}}su.create=(s,t)=>new su({innerType:s,typeName:De.ZodReadonly,...Le(t)});var De;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(De||(De={}));const Va=bn.create,Yp=Ha.create;Ba.create;const Jy=vr.create;Oi.create;const Zp=eu.create;ga.create;const qs=Nn.create,Ky=Tt.create,Xy=yr.create;br.create;Ga.create;const Qy=Nr.create,Wy=nu.create,e0=Vi.create;Tr.create;xa.create;Bi.create;const ji={string:(s=>bn.create({...s,coerce:!0})),number:(s=>Ha.create({...s,coerce:!0})),boolean:(s=>vr.create({...s,coerce:!0})),bigint:(s=>Ba.create({...s,coerce:!0})),date:(s=>Oi.create({...s,coerce:!0}))};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let t0,n0;function a0(){return{geminiUrl:t0,vertexUrl:n0}}function i0(s,t,n){var i,o,u;if(!(!((i=s.httpOptions)===null||i===void 0)&&i.baseUrl)){const p=a0();return s.vertexai?(o=p.vertexUrl)!==null&&o!==void 0?o:t:(u=p.geminiUrl)!==null&&u!==void 0?u:n}return s.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pi{}function Ae(s,t){const n=/\{([^}]+)\}/g;return s.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const u=t[o];return u!=null?String(u):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function f(s,t,n){for(let u=0;u<t.length-1;u++){const p=t[u];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in s))if(Array.isArray(n))s[g]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(s[g])){const v=s[g];if(Array.isArray(n))for(let x=0;x<v.length;x++){const y=v[x];f(y,t.slice(u+1),n[x])}else for(const x of v)f(x,t.slice(u+1),n)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in s||(s[g]=[{}]);const v=s[g];f(v[0],t.slice(u+1),n);return}(!s[p]||typeof s[p]!="object")&&(s[p]={}),s=s[p]}const i=t[t.length-1],o=s[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else s[i]=n}function d(s,t){try{if(t.length===1&&t[0]==="_self")return s;for(let n=0;n<t.length;n++){if(typeof s!="object"||s===null)return;const i=t[n];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in s){const u=s[o];return Array.isArray(u)?u.map(p=>d(p,t.slice(n+1))):void 0}else return}else s=s[i]}return s}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jp;(function(s){s.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",s.OUTCOME_OK="OUTCOME_OK",s.OUTCOME_FAILED="OUTCOME_FAILED",s.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Jp||(Jp={}));var Kp;(function(s){s.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",s.PYTHON="PYTHON"})(Kp||(Kp={}));var be;(function(s){s.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",s.STRING="STRING",s.NUMBER="NUMBER",s.INTEGER="INTEGER",s.BOOLEAN="BOOLEAN",s.ARRAY="ARRAY",s.OBJECT="OBJECT",s.NULL="NULL"})(be||(be={}));var Xp;(function(s){s.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",s.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",s.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",s.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",s.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",s.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Xp||(Xp={}));var Qp;(function(s){s.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",s.SEVERITY="SEVERITY",s.PROBABILITY="PROBABILITY"})(Qp||(Qp={}));var Wp;(function(s){s.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE",s.OFF="OFF"})(Wp||(Wp={}));var eh;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(eh||(eh={}));var th;(function(s){s.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",s.NO_AUTH="NO_AUTH",s.API_KEY_AUTH="API_KEY_AUTH",s.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",s.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",s.OAUTH="OAUTH",s.OIDC_AUTH="OIDC_AUTH"})(th||(th={}));var nh;(function(s){s.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",s.STOP="STOP",s.MAX_TOKENS="MAX_TOKENS",s.SAFETY="SAFETY",s.RECITATION="RECITATION",s.LANGUAGE="LANGUAGE",s.OTHER="OTHER",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT",s.SPII="SPII",s.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",s.IMAGE_SAFETY="IMAGE_SAFETY",s.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(nh||(nh={}));var ah;(function(s){s.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",s.NEGLIGIBLE="NEGLIGIBLE",s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH"})(ah||(ah={}));var ih;(function(s){s.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",s.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",s.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",s.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",s.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ih||(ih={}));var sh;(function(s){s.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(sh||(sh={}));var lh;(function(s){s.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",s.ON_DEMAND="ON_DEMAND",s.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(lh||(lh={}));var wr;(function(s){s.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",s.TEXT="TEXT",s.IMAGE="IMAGE",s.AUDIO="AUDIO"})(wr||(wr={}));var rh;(function(s){s.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",s.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",s.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",s.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(rh||(rh={}));var lu;(function(s){s.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",s.JOB_STATE_QUEUED="JOB_STATE_QUEUED",s.JOB_STATE_PENDING="JOB_STATE_PENDING",s.JOB_STATE_RUNNING="JOB_STATE_RUNNING",s.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",s.JOB_STATE_FAILED="JOB_STATE_FAILED",s.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",s.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",s.JOB_STATE_PAUSED="JOB_STATE_PAUSED",s.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",s.JOB_STATE_UPDATING="JOB_STATE_UPDATING",s.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(lu||(lu={}));var oh;(function(s){s.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",s.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",s.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",s.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",s.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",s.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",s.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(oh||(oh={}));var ch;(function(s){s.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",s.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",s.BALANCED="BALANCED",s.PRIORITIZE_COST="PRIORITIZE_COST"})(ch||(ch={}));var uh;(function(s){s.UNSPECIFIED="UNSPECIFIED",s.BLOCKING="BLOCKING",s.NON_BLOCKING="NON_BLOCKING"})(uh||(uh={}));var dh;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(dh||(dh={}));var fh;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE"})(fh||(fh={}));var mh;(function(s){s.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",s.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",s.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(mh||(mh={}));var ph;(function(s){s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE"})(ph||(ph={}));var hh;(function(s){s.DONT_ALLOW="DONT_ALLOW",s.ALLOW_ADULT="ALLOW_ADULT",s.ALLOW_ALL="ALLOW_ALL"})(hh||(hh={}));var xh;(function(s){s.auto="auto",s.en="en",s.ja="ja",s.ko="ko",s.hi="hi"})(xh||(xh={}));var gh;(function(s){s.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",s.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",s.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",s.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",s.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(gh||(gh={}));var vh;(function(s){s.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",s.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",s.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",s.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(vh||(vh={}));var yh;(function(s){s.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",s.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",s.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",s.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(yh||(yh={}));var bh;(function(s){s.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",s.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",s.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",s.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",s.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",s.EDIT_MODE_STYLE="EDIT_MODE_STYLE",s.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",s.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(bh||(bh={}));var Nh;(function(s){s.STATE_UNSPECIFIED="STATE_UNSPECIFIED",s.PROCESSING="PROCESSING",s.ACTIVE="ACTIVE",s.FAILED="FAILED"})(Nh||(Nh={}));var Th;(function(s){s.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",s.UPLOADED="UPLOADED",s.GENERATED="GENERATED"})(Th||(Th={}));var wh;(function(s){s.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",s.TEXT="TEXT",s.IMAGE="IMAGE",s.VIDEO="VIDEO",s.AUDIO="AUDIO",s.DOCUMENT="DOCUMENT"})(wh||(wh={}));var Ch;(function(s){s.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",s.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",s.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ch||(Ch={}));var Sh;(function(s){s.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",s.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",s.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Sh||(Sh={}));var _h;(function(s){s.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",s.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",s.NO_INTERRUPTION="NO_INTERRUPTION"})(_h||(_h={}));var kh;(function(s){s.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",s.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",s.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(kh||(kh={}));var Eh;(function(s){s.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",s.SILENT="SILENT",s.WHEN_IDLE="WHEN_IDLE",s.INTERRUPT="INTERRUPT"})(Eh||(Eh={}));var jh;(function(s){s.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",s.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",s.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",s.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",s.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",s.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",s.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",s.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",s.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",s.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",s.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",s.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",s.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(jh||(jh={}));var Ri;(function(s){s.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",s.PLAY="PLAY",s.PAUSE="PAUSE",s.STOP="STOP",s.RESET_CONTEXT="RESET_CONTEXT"})(Ri||(Ri={}));class Hs{get text(){var t,n,i,o,u,p,g,v;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let x="",y=!1;const b=[];for(const T of(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[_,S]of Object.entries(T))_!=="text"&&_!=="thought"&&(S!==null||S!==void 0)&&b.push(_);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;y=!0,x+=T.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?x:void 0}get data(){var t,n,i,o,u,p,g,v;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let x="";const y=[];for(const b of(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[T,_]of Object.entries(b))T!=="inlineData"&&(_!==null||_!==void 0)&&y.push(T);b.inlineData&&typeof b.inlineData.data=="string"&&(x+=atob(b.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),x.length>0?btoa(x):void 0}get functionCalls(){var t,n,i,o,u,p,g,v;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const x=(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((x==null?void 0:x.length)!==0)return x}get executableCode(){var t,n,i,o,u,p,g,v,x;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((y==null?void 0:y.length)!==0)return(x=y==null?void 0:y[0])===null||x===void 0?void 0:x.code}get codeExecutionResult(){var t,n,i,o,u,p,g,v,x;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((y==null?void 0:y.length)!==0)return(x=y==null?void 0:y[0])===null||x===void 0?void 0:x.output}}class Ah{}class Dh{}class s0{}class l0{}class Mh{}class Rh{}class Ih{}class r0{}class Uh{}class zh{}class Lh{}class o0{}class ru{constructor(t){const n={};for(const i of t.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class c0{}class u0{}class d0{get text(){var t,n,i;let o="",u=!1;const p=[];for(const g of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[v,x]of Object.entries(g))v!=="text"&&v!=="thought"&&x!==null&&p.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;u=!0,o+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?o:void 0}get data(){var t,n,i;let o="";const u=[];for(const p of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[g,v]of Object.entries(p))g!=="inlineData"&&v!==null&&u.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(o+=atob(p.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class f0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lt(s,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(s.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function xx(s,t){const n=lt(s,t);return n?n.startsWith("publishers/")&&s.isVertexAI()?`projects/${s.getProject()}/locations/${s.getLocation()}/${n}`:n.startsWith("models/")&&s.isVertexAI()?`projects/${s.getProject()}/locations/${s.getLocation()}/publishers/google/${n}`:n:""}function gx(s,t){return Array.isArray(t)?t.map(n=>Cr(s,n)):[Cr(s,t)]}function Cr(s,t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function m0(s,t){const n=Cr(s,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function p0(s,t){const n=Cr(s,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Oh(s,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function vx(s,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>Oh(s,n)):[Oh(s,t)]}function ou(s){return s!=null&&typeof s=="object"&&"parts"in s&&Array.isArray(s.parts)}function Vh(s){return s!=null&&typeof s=="object"&&"functionCall"in s}function Hh(s){return s!=null&&typeof s=="object"&&"functionResponse"in s}function Ut(s,t){if(t==null)throw new Error("ContentUnion is required");return ou(t)?t:{role:"user",parts:vx(s,t)}}function yx(s,t){if(!t)return[];if(s.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const i=Ut(s,n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(s.isVertexAI()){const n=Ut(s,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Ut(s,n)):[Ut(s,t)]}function pn(s,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Vh(t)||Hh(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ut(s,t)]}const n=[],i=[],o=ou(t[0]);for(const u of t){const p=ou(u);if(p!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(p)n.push(u);else{if(Vh(u)||Hh(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(u)}}return o||n.push({role:"user",parts:vx(s,i)}),n}const h0=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Bh=e0(["string","number","integer","object","array","boolean","null"]),x0=Xy([Bh,qs(Bh)]);function g0(s=!0){const t=Wy(()=>{const n=Ky({type:x0.optional(),format:Va().optional(),title:Va().optional(),description:Va().optional(),default:Zp().optional(),items:t.optional(),minItems:ji.string().optional(),maxItems:ji.string().optional(),enum:qs(Zp()).optional(),properties:Qy(Va(),t).optional(),required:qs(Va()).optional(),minProperties:ji.string().optional(),maxProperties:ji.string().optional(),propertyOrdering:qs(Va()).optional(),minimum:Yp().optional(),maximum:Yp().optional(),minLength:ji.string().optional(),maxLength:ji.string().optional(),pattern:Va().optional(),anyOf:qs(t).optional(),additionalProperties:Jy().optional()});return s?n.strict():n});return t}function v0(s,t){s.includes("null")&&(t.nullable=!0);const n=s.filter(i=>i!=="null");if(n.length===1)t.type=Object.keys(be).includes(n[0].toUpperCase())?be[n[0].toUpperCase()]:be.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const i of n)t.anyOf.push({type:Object.keys(be).includes(i.toUpperCase())?be[i.toUpperCase()]:be.TYPE_UNSPECIFIED})}}function Ii(s){const t={},n=["items"],i=["anyOf"],o=["properties"];if(s.type&&s.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=s.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(t.nullable=!0,s=u[1]):u[1].type==="null"&&(t.nullable=!0,s=u[0])),s.type instanceof Array&&v0(s.type,t);for(const[p,g]of Object.entries(s))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.keys(be).includes(g.toUpperCase())?g.toUpperCase():be.TYPE_UNSPECIFIED}else if(n.includes(p))t[p]=Ii(g);else if(i.includes(p)){const v=[];for(const x of g){if(x.type=="null"){t.nullable=!0;continue}v.push(Ii(x))}t[p]=v}else if(o.includes(p)){const v={};for(const[x,y]of Object.entries(g))v[x]=Ii(y);t[p]=v}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Sr(s,t){if(Object.keys(t).includes("$schema")){delete t.$schema;const n=g0().parse(t);return Ii(n)}else return Ii(t)}function bx(s,t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function vu(s,t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Fs(s,t){if(t.functionDeclarations)for(const n of t.functionDeclarations)n.parameters&&(n.parameters=Sr(s,n.parameters)),n.response&&(n.response=Sr(s,n.response));return t}function Ys(s,t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const n=[];for(const i of t)n.push(i);return n}function y0(s,t,n,i=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===i;return s.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${s.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${s.getProject()}/locations/${s.getLocation()}/${t}`:o?`projects/${s.getProject()}/locations/${s.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function va(s,t){if(typeof t!="string")throw new Error("name must be a string");return y0(s,t,"cachedContents")}function Nx(s,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ya(s,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function b0(s){return s!=null&&typeof s=="object"&&"name"in s}function N0(s){return s!=null&&typeof s=="object"&&"video"in s}function T0(s){return s!=null&&typeof s=="object"&&"uri"in s}function Tx(s,t){var n;let i;if(b0(t)&&(i=t.name),!(T0(t)&&(i=t.uri,i===void 0))&&!(N0(t)&&(i=(n=t.video)===null||n===void 0?void 0:n.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const u=i.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${i}`);i=u[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function wx(s,t){let n;return s.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Cx(s,t){for(const n of["models","tunedModels","publisherModels"])if(w0(t,n))return t[n];return[]}function w0(s,t){return s!==null&&typeof s=="object"&&t in s}function C0(s,t={}){const n=s,i={name:n.name,description:n.description,parameters:Ii(_r(n.inputSchema))};return t.behavior&&(i.behavior=t.behavior),{functionDeclarations:[i]}}function S0(s,t={}){const n=[],i=new Set;for(const o of s){const u=o.name;if(i.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);i.add(u);const p=C0(o,t);p.functionDeclarations&&n.push(...p.functionDeclarations)}return{functionDeclarations:n}}function _0(s){const t=[];for(const n of s)t.push(_r(n));return t}function k0(s){const t={};for(const[n,i]of Object.entries(s)){const o=i;t[n]=_r(o)}return t}function _r(s){const t=new Set(["items"]),n=new Set(["anyOf"]),i=new Set(["properties"]),o={};for(const[u,p]of Object.entries(s))if(t.has(u))o[u]=_r(p);else if(n.has(u))o[u]=_0(p);else if(i.has(u))o[u]=k0(p);else if(u==="type"){const g=p.toUpperCase();o[u]=Object.keys(be).includes(g)?g:be.TYPE_UNSPECIFIED}else h0.has(u)&&(o[u]=p);return o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function E0(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function j0(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function A0(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(n,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function D0(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],E0(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],j0(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],A0(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const T=d(t,["text"]);return T!=null&&f(n,["text"],T),n}function Gh(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>D0(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function M0(s,t){const n={},i=d(t,["behavior"]);i!=null&&f(n,["behavior"],i);const o=d(t,["description"]);o!=null&&f(n,["description"],o);const u=d(t,["name"]);u!=null&&f(n,["name"],u);const p=d(t,["parameters"]);p!=null&&f(n,["parameters"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],g),n}function R0(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function I0(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],R0(s,i)),n}function U0(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function z0(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],U0(s,i)),n}function L0(){return{}}function O0(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(x=>M0(s,x))),f(n,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearch"]);o!=null&&f(n,["googleSearch"],I0(s,o));const u=d(t,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],z0(s,u)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(n,["urlContext"],L0());const g=d(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function V0(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["allowedFunctionNames"]);return o!=null&&f(n,["allowedFunctionNames"],o),n}function H0(s,t){const n={},i=d(t,["latitude"]);i!=null&&f(n,["latitude"],i);const o=d(t,["longitude"]);return o!=null&&f(n,["longitude"],o),n}function B0(s,t){const n={},i=d(t,["latLng"]);i!=null&&f(n,["latLng"],H0(s,i));const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function G0(s,t){const n={},i=d(t,["functionCallingConfig"]);i!=null&&f(n,["functionCallingConfig"],V0(s,i));const o=d(t,["retrievalConfig"]);return o!=null&&f(n,["retrievalConfig"],B0(s,o)),n}function q0(s,t,n){const i={},o=d(t,["ttl"]);n!==void 0&&o!=null&&f(n,["ttl"],o);const u=d(t,["expireTime"]);n!==void 0&&u!=null&&f(n,["expireTime"],u);const p=d(t,["displayName"]);n!==void 0&&p!=null&&f(n,["displayName"],p);const g=d(t,["contents"]);if(n!==void 0&&g!=null){let b=pn(s,g);Array.isArray(b)&&(b=b.map(T=>Gh(s,T))),f(n,["contents"],b)}const v=d(t,["systemInstruction"]);n!==void 0&&v!=null&&f(n,["systemInstruction"],Gh(s,Ut(s,v)));const x=d(t,["tools"]);if(n!==void 0&&x!=null){let b=x;Array.isArray(b)&&(b=b.map(T=>O0(s,T))),f(n,["tools"],b)}const y=d(t,["toolConfig"]);if(n!==void 0&&y!=null&&f(n,["toolConfig"],G0(s,y)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function P0(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["model"],xx(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],q0(s,o,n)),n}function $0(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],va(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function F0(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],va(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Y0(s,t,n){const i={},o=d(t,["ttl"]);n!==void 0&&o!=null&&f(n,["ttl"],o);const u=d(t,["expireTime"]);return n!==void 0&&u!=null&&f(n,["expireTime"],u),i}function Z0(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],va(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],Y0(s,o,n)),n}function J0(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);return n!==void 0&&u!=null&&f(n,["_query","pageToken"],u),i}function K0(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],J0(s,i,n)),n}function X0(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function Q0(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function W0(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function eb(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],X0(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],Q0(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],W0(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const T=d(t,["text"]);return T!=null&&f(n,["text"],T),n}function qh(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>eb(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function tb(s,t){const n={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&f(n,["description"],i);const o=d(t,["name"]);o!=null&&f(n,["name"],o);const u=d(t,["parameters"]);u!=null&&f(n,["parameters"],u);const p=d(t,["response"]);return p!=null&&f(n,["response"],p),n}function nb(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function ab(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],nb(s,i)),n}function ib(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function sb(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],ib(s,i)),n}function lb(){return{}}function rb(s,t){const n={},i=d(t,["apiKeyString"]);return i!=null&&f(n,["apiKeyString"],i),n}function ob(s,t){const n={},i=d(t,["apiKeyConfig"]);i!=null&&f(n,["apiKeyConfig"],rb(s,i));const o=d(t,["authType"]);o!=null&&f(n,["authType"],o);const u=d(t,["googleServiceAccountConfig"]);u!=null&&f(n,["googleServiceAccountConfig"],u);const p=d(t,["httpBasicAuthConfig"]);p!=null&&f(n,["httpBasicAuthConfig"],p);const g=d(t,["oauthConfig"]);g!=null&&f(n,["oauthConfig"],g);const v=d(t,["oidcConfig"]);return v!=null&&f(n,["oidcConfig"],v),n}function cb(s,t){const n={},i=d(t,["authConfig"]);return i!=null&&f(n,["authConfig"],ob(s,i)),n}function ub(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>tb(s,b))),f(n,["functionDeclarations"],y)}const o=d(t,["retrieval"]);o!=null&&f(n,["retrieval"],o);const u=d(t,["googleSearch"]);u!=null&&f(n,["googleSearch"],ab(s,u));const p=d(t,["googleSearchRetrieval"]);p!=null&&f(n,["googleSearchRetrieval"],sb(s,p)),d(t,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],lb());const v=d(t,["googleMaps"]);if(v!=null&&f(n,["googleMaps"],cb(s,v)),d(t,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const x=d(t,["codeExecution"]);return x!=null&&f(n,["codeExecution"],x),n}function db(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["allowedFunctionNames"]);return o!=null&&f(n,["allowedFunctionNames"],o),n}function fb(s,t){const n={},i=d(t,["latitude"]);i!=null&&f(n,["latitude"],i);const o=d(t,["longitude"]);return o!=null&&f(n,["longitude"],o),n}function mb(s,t){const n={},i=d(t,["latLng"]);i!=null&&f(n,["latLng"],fb(s,i));const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function pb(s,t){const n={},i=d(t,["functionCallingConfig"]);i!=null&&f(n,["functionCallingConfig"],db(s,i));const o=d(t,["retrievalConfig"]);return o!=null&&f(n,["retrievalConfig"],mb(s,o)),n}function hb(s,t,n){const i={},o=d(t,["ttl"]);n!==void 0&&o!=null&&f(n,["ttl"],o);const u=d(t,["expireTime"]);n!==void 0&&u!=null&&f(n,["expireTime"],u);const p=d(t,["displayName"]);n!==void 0&&p!=null&&f(n,["displayName"],p);const g=d(t,["contents"]);if(n!==void 0&&g!=null){let T=pn(s,g);Array.isArray(T)&&(T=T.map(_=>qh(s,_))),f(n,["contents"],T)}const v=d(t,["systemInstruction"]);n!==void 0&&v!=null&&f(n,["systemInstruction"],qh(s,Ut(s,v)));const x=d(t,["tools"]);if(n!==void 0&&x!=null){let T=x;Array.isArray(T)&&(T=T.map(_=>ub(s,_))),f(n,["tools"],T)}const y=d(t,["toolConfig"]);n!==void 0&&y!=null&&f(n,["toolConfig"],pb(s,y));const b=d(t,["kmsKeyName"]);return n!==void 0&&b!=null&&f(n,["encryption_spec","kmsKeyName"],b),i}function xb(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["model"],xx(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],hb(s,o,n)),n}function gb(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],va(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function vb(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],va(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function yb(s,t,n){const i={},o=d(t,["ttl"]);n!==void 0&&o!=null&&f(n,["ttl"],o);const u=d(t,["expireTime"]);return n!==void 0&&u!=null&&f(n,["expireTime"],u),i}function bb(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],va(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],yb(s,o,n)),n}function Nb(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);return n!==void 0&&u!=null&&f(n,["_query","pageToken"],u),i}function Tb(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],Nb(s,i,n)),n}function pr(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["model"]);u!=null&&f(n,["model"],u);const p=d(t,["createTime"]);p!=null&&f(n,["createTime"],p);const g=d(t,["updateTime"]);g!=null&&f(n,["updateTime"],g);const v=d(t,["expireTime"]);v!=null&&f(n,["expireTime"],v);const x=d(t,["usageMetadata"]);return x!=null&&f(n,["usageMetadata"],x),n}function wb(){return{}}function Cb(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["cachedContents"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>pr(s,p))),f(n,["cachedContents"],u)}return n}function hr(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["model"]);u!=null&&f(n,["model"],u);const p=d(t,["createTime"]);p!=null&&f(n,["createTime"],p);const g=d(t,["updateTime"]);g!=null&&f(n,["updateTime"],g);const v=d(t,["expireTime"]);v!=null&&f(n,["expireTime"],v);const x=d(t,["usageMetadata"]);return x!=null&&f(n,["usageMetadata"],x),n}function Sb(){return{}}function _b(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["cachedContents"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>hr(s,p))),f(n,["cachedContents"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gi;(function(s){s.PAGED_ITEM_BATCH_JOBS="batchJobs",s.PAGED_ITEM_MODELS="models",s.PAGED_ITEM_TUNING_JOBS="tuningJobs",s.PAGED_ITEM_FILES="files",s.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Gi||(Gi={}));class kr{constructor(t,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,i,o)}init(t,n,i){var o,u;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let p={config:{}};i?typeof i=="object"?p=Object.assign({},i):p=i:p={config:{}},p.config&&(p.config.pageToken=n.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(u=(o=p.config)===null||o===void 0?void 0:o.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kb extends Pi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new kr(Gi.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=xb(this.apiClient,t);return g=Ae("cachedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>hr(this.apiClient,y))}else{const x=P0(this.apiClient,t);return g=Ae("cachedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>pr(this.apiClient,y))}}async get(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=gb(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>hr(this.apiClient,y))}else{const x=$0(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>pr(this.apiClient,y))}}async delete(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=vb(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(()=>{const y=Sb(),b=new zh;return Object.assign(b,y),b})}else{const x=F0(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(()=>{const y=wb(),b=new zh;return Object.assign(b,y),b})}}async update(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=bb(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>hr(this.apiClient,y))}else{const x=Z0(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>pr(this.apiClient,y))}}async listInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Tb(this.apiClient,t);return g=Ae("cachedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=_b(this.apiClient,y),T=new Lh;return Object.assign(T,b),T})}else{const x=K0(this.apiClient,t);return g=Ae("cachedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=Cb(this.apiClient,y),T=new Lh;return Object.assign(T,b),T})}}}function Ph(s){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&s[t],i=0;if(n)return n.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&i>=s.length&&(s=void 0),{value:s&&s[i++],done:!s}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ct(s){return this instanceof ct?(this.v=s,this):new ct(s)}function Ui(s,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,t||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),o[Symbol.asyncIterator]=function(){return this},o;function p(_){return function(S){return Promise.resolve(S).then(_,b)}}function g(_,S){i[_]&&(o[_]=function(w){return new Promise(function(E,U){u.push([_,w,E,U])>1||v(_,w)})},S&&(o[_]=S(o[_])))}function v(_,S){try{x(i[_](S))}catch(w){T(u[0][3],w)}}function x(_){_.value instanceof ct?Promise.resolve(_.value.v).then(y,b):T(u[0][2],_)}function y(_){v("next",_)}function b(_){v("throw",_)}function T(_,S){_(S),u.shift(),u.length&&v(u[0][0],u[0][1])}}function Ps(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=s[Symbol.asyncIterator],n;return t?t.call(s):(s=typeof Ph=="function"?Ph(s):s[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=s[u]&&function(p){return new Promise(function(g,v){p=s[u](p),o(g,v,p.done,p.value)})}}function o(u,p,g,v){Promise.resolve(v).then(function(x){u({value:x,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Eb(s){var t;if(s.candidates==null||s.candidates.length===0)return!1;const n=(t=s.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Sx(n)}function Sx(s){if(s.parts===void 0||s.parts.length===0)return!1;for(const t of s.parts)if(t===void 0||Object.keys(t).length===0||!t.thought&&t.text!==void 0&&t.text==="")return!1;return!0}function jb(s){if(s.length!==0){for(const t of s)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function $h(s){if(s===void 0||s.length===0)return[];const t=[],n=s.length;let i=0;for(;i<n;)if(s[i].role==="user")t.push(s[i]),i++;else{const o=[];let u=!0;for(;i<n&&s[i].role==="model";)o.push(s[i]),u&&!Sx(s[i])&&(u=!1),i++;u?t.push(...o):t.pop()}return t}class Ab{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Db(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Db{constructor(t,n,i,o={},u=[]){this.apiClient=t,this.modelsModule=n,this.model=i,this.config=o,this.history=u,this.sendPromise=Promise.resolve(),jb(u)}async sendMessage(t){var n;await this.sendPromise;const i=Ut(this.apiClient,t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var u,p,g;const v=await o,x=(p=(u=v.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content,y=v.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let T=[];y!=null&&(T=(g=y.slice(b))!==null&&g!==void 0?g:[]);const _=x?[x]:[];this.recordHistory(i,_,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(t){var n;await this.sendPromise;const i=Ut(this.apiClient,t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const u=await o;return this.processStreamResponse(u,i)}getHistory(t=!1){const n=t?$h(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var i,o;return Ui(this,arguments,function*(){var p,g,v,x;const y=[];try{for(var b=!0,T=Ps(t),_;_=yield ct(T.next()),p=_.done,!p;b=!0){x=_.value,b=!1;const S=x;if(Eb(S)){const w=(o=(i=S.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;w!==void 0&&y.push(w)}yield yield ct(S)}}catch(S){g={error:S}}finally{try{!b&&!p&&(v=T.return)&&(yield ct(v.call(T)))}finally{if(g)throw g.error}}this.recordHistory(n,y)})}recordHistory(t,n,i){let o=[];n.length>0&&n.every(u=>u.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...$h(i)):this.history.push(t),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mb(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);return n!==void 0&&u!=null&&f(n,["_query","pageToken"],u),i}function Rb(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],Mb(s,i,n)),n}function Ib(s,t){const n={},i=d(t,["details"]);i!=null&&f(n,["details"],i);const o=d(t,["message"]);o!=null&&f(n,["message"],o);const u=d(t,["code"]);return u!=null&&f(n,["code"],u),n}function Ub(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["mimeType"]);u!=null&&f(n,["mimeType"],u);const p=d(t,["sizeBytes"]);p!=null&&f(n,["sizeBytes"],p);const g=d(t,["createTime"]);g!=null&&f(n,["createTime"],g);const v=d(t,["expirationTime"]);v!=null&&f(n,["expirationTime"],v);const x=d(t,["updateTime"]);x!=null&&f(n,["updateTime"],x);const y=d(t,["sha256Hash"]);y!=null&&f(n,["sha256Hash"],y);const b=d(t,["uri"]);b!=null&&f(n,["uri"],b);const T=d(t,["downloadUri"]);T!=null&&f(n,["downloadUri"],T);const _=d(t,["state"]);_!=null&&f(n,["state"],_);const S=d(t,["source"]);S!=null&&f(n,["source"],S);const w=d(t,["videoMetadata"]);w!=null&&f(n,["videoMetadata"],w);const E=d(t,["error"]);return E!=null&&f(n,["error"],Ib(s,E)),n}function zb(s,t){const n={},i=d(t,["file"]);i!=null&&f(n,["file"],Ub(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Lb(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","file"],Tx(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Ob(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","file"],Tx(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Vb(s,t){const n={},i=d(t,["details"]);i!=null&&f(n,["details"],i);const o=d(t,["message"]);o!=null&&f(n,["message"],o);const u=d(t,["code"]);return u!=null&&f(n,["code"],u),n}function cu(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["mimeType"]);u!=null&&f(n,["mimeType"],u);const p=d(t,["sizeBytes"]);p!=null&&f(n,["sizeBytes"],p);const g=d(t,["createTime"]);g!=null&&f(n,["createTime"],g);const v=d(t,["expirationTime"]);v!=null&&f(n,["expirationTime"],v);const x=d(t,["updateTime"]);x!=null&&f(n,["updateTime"],x);const y=d(t,["sha256Hash"]);y!=null&&f(n,["sha256Hash"],y);const b=d(t,["uri"]);b!=null&&f(n,["uri"],b);const T=d(t,["downloadUri"]);T!=null&&f(n,["downloadUri"],T);const _=d(t,["state"]);_!=null&&f(n,["state"],_);const S=d(t,["source"]);S!=null&&f(n,["source"],S);const w=d(t,["videoMetadata"]);w!=null&&f(n,["videoMetadata"],w);const E=d(t,["error"]);return E!=null&&f(n,["error"],Vb(s,E)),n}function Hb(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["files"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>cu(s,p))),f(n,["files"],u)}return n}function Bb(){return{}}function Gb(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qb extends Pi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new kr(Gi.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>cu(this.apiClient,n))}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Rb(this.apiClient,t);return u=Ae("files",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>{const x=Hb(this.apiClient,v),y=new o0;return Object.assign(y,x),y})}}async createInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=zb(this.apiClient,t);return u=Ae("upload/v1beta/files",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(()=>{const v=Bb(),x=new c0;return Object.assign(x,v),x})}}async get(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Lb(this.apiClient,t);return u=Ae("files/{file}",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>cu(this.apiClient,v))}}async delete(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Ob(this.apiClient,t);return u=Ae("files/{file}",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(()=>{const v=Gb(),x=new u0;return Object.assign(x,v),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pb(s,t){const n={},i=d(t,["voiceName"]);return i!=null&&f(n,["voiceName"],i),n}function $b(s,t){const n={},i=d(t,["voiceName"]);return i!=null&&f(n,["voiceName"],i),n}function _x(s,t){const n={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(n,["prebuiltVoiceConfig"],Pb(s,i)),n}function Fb(s,t){const n={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(n,["prebuiltVoiceConfig"],$b(s,i)),n}function Yb(s,t){const n={},i=d(t,["speaker"]);i!=null&&f(n,["speaker"],i);const o=d(t,["voiceConfig"]);return o!=null&&f(n,["voiceConfig"],_x(s,o)),n}function Zb(s,t){const n={},i=d(t,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>Yb(s,u))),f(n,["speakerVoiceConfigs"],o)}return n}function Jb(s,t){const n={},i=d(t,["voiceConfig"]);i!=null&&f(n,["voiceConfig"],_x(s,i));const o=d(t,["multiSpeakerVoiceConfig"]);o!=null&&f(n,["multiSpeakerVoiceConfig"],Zb(s,o));const u=d(t,["languageCode"]);return u!=null&&f(n,["languageCode"],u),n}function Kb(s,t){const n={},i=d(t,["voiceConfig"]);if(i!=null&&f(n,["voiceConfig"],Fb(s,i)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function Xb(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function Qb(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function Wb(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function eN(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function tN(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(n,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function nN(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function aN(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],Xb(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],Wb(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],tN(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const T=d(t,["text"]);return T!=null&&f(n,["text"],T),n}function iN(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],Qb(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],eN(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],nN(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const T=d(t,["text"]);return T!=null&&f(n,["text"],T),n}function sN(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>aN(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function lN(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>iN(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function rN(s,t){const n={},i=d(t,["behavior"]);i!=null&&f(n,["behavior"],i);const o=d(t,["description"]);o!=null&&f(n,["description"],o);const u=d(t,["name"]);u!=null&&f(n,["name"],u);const p=d(t,["parameters"]);p!=null&&f(n,["parameters"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],g),n}function oN(s,t){const n={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&f(n,["description"],i);const o=d(t,["name"]);o!=null&&f(n,["name"],o);const u=d(t,["parameters"]);u!=null&&f(n,["parameters"],u);const p=d(t,["response"]);return p!=null&&f(n,["response"],p),n}function cN(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function uN(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function dN(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],cN(s,i)),n}function fN(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],uN(s,i)),n}function mN(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function pN(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function hN(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],mN(s,i)),n}function xN(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],pN(s,i)),n}function gN(){return{}}function vN(s,t){const n={},i=d(t,["apiKeyString"]);return i!=null&&f(n,["apiKeyString"],i),n}function yN(s,t){const n={},i=d(t,["apiKeyConfig"]);i!=null&&f(n,["apiKeyConfig"],vN(s,i));const o=d(t,["authType"]);o!=null&&f(n,["authType"],o);const u=d(t,["googleServiceAccountConfig"]);u!=null&&f(n,["googleServiceAccountConfig"],u);const p=d(t,["httpBasicAuthConfig"]);p!=null&&f(n,["httpBasicAuthConfig"],p);const g=d(t,["oauthConfig"]);g!=null&&f(n,["oauthConfig"],g);const v=d(t,["oidcConfig"]);return v!=null&&f(n,["oidcConfig"],v),n}function bN(s,t){const n={},i=d(t,["authConfig"]);return i!=null&&f(n,["authConfig"],yN(s,i)),n}function NN(){return{}}function TN(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(x=>rN(s,x))),f(n,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearch"]);o!=null&&f(n,["googleSearch"],dN(s,o));const u=d(t,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],hN(s,u)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(n,["urlContext"],NN());const g=d(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function wN(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>oN(s,b))),f(n,["functionDeclarations"],y)}const o=d(t,["retrieval"]);o!=null&&f(n,["retrieval"],o);const u=d(t,["googleSearch"]);u!=null&&f(n,["googleSearch"],fN(s,u));const p=d(t,["googleSearchRetrieval"]);p!=null&&f(n,["googleSearchRetrieval"],xN(s,p)),d(t,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],gN());const v=d(t,["googleMaps"]);if(v!=null&&f(n,["googleMaps"],bN(s,v)),d(t,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const x=d(t,["codeExecution"]);return x!=null&&f(n,["codeExecution"],x),n}function CN(s,t){const n={},i=d(t,["handle"]);if(i!=null&&f(n,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function SN(s,t){const n={},i=d(t,["handle"]);i!=null&&f(n,["handle"],i);const o=d(t,["transparent"]);return o!=null&&f(n,["transparent"],o),n}function Fh(){return{}}function Yh(){return{}}function _N(s,t){const n={},i=d(t,["disabled"]);i!=null&&f(n,["disabled"],i);const o=d(t,["startOfSpeechSensitivity"]);o!=null&&f(n,["startOfSpeechSensitivity"],o);const u=d(t,["endOfSpeechSensitivity"]);u!=null&&f(n,["endOfSpeechSensitivity"],u);const p=d(t,["prefixPaddingMs"]);p!=null&&f(n,["prefixPaddingMs"],p);const g=d(t,["silenceDurationMs"]);return g!=null&&f(n,["silenceDurationMs"],g),n}function kN(s,t){const n={},i=d(t,["disabled"]);i!=null&&f(n,["disabled"],i);const o=d(t,["startOfSpeechSensitivity"]);o!=null&&f(n,["startOfSpeechSensitivity"],o);const u=d(t,["endOfSpeechSensitivity"]);u!=null&&f(n,["endOfSpeechSensitivity"],u);const p=d(t,["prefixPaddingMs"]);p!=null&&f(n,["prefixPaddingMs"],p);const g=d(t,["silenceDurationMs"]);return g!=null&&f(n,["silenceDurationMs"],g),n}function EN(s,t){const n={},i=d(t,["automaticActivityDetection"]);i!=null&&f(n,["automaticActivityDetection"],_N(s,i));const o=d(t,["activityHandling"]);o!=null&&f(n,["activityHandling"],o);const u=d(t,["turnCoverage"]);return u!=null&&f(n,["turnCoverage"],u),n}function jN(s,t){const n={},i=d(t,["automaticActivityDetection"]);i!=null&&f(n,["automaticActivityDetection"],kN(s,i));const o=d(t,["activityHandling"]);o!=null&&f(n,["activityHandling"],o);const u=d(t,["turnCoverage"]);return u!=null&&f(n,["turnCoverage"],u),n}function AN(s,t){const n={},i=d(t,["targetTokens"]);return i!=null&&f(n,["targetTokens"],i),n}function DN(s,t){const n={},i=d(t,["targetTokens"]);return i!=null&&f(n,["targetTokens"],i),n}function MN(s,t){const n={},i=d(t,["triggerTokens"]);i!=null&&f(n,["triggerTokens"],i);const o=d(t,["slidingWindow"]);return o!=null&&f(n,["slidingWindow"],AN(s,o)),n}function RN(s,t){const n={},i=d(t,["triggerTokens"]);i!=null&&f(n,["triggerTokens"],i);const o=d(t,["slidingWindow"]);return o!=null&&f(n,["slidingWindow"],DN(s,o)),n}function IN(s,t){const n={},i=d(t,["proactiveAudio"]);return i!=null&&f(n,["proactiveAudio"],i),n}function UN(s,t){const n={},i=d(t,["proactiveAudio"]);return i!=null&&f(n,["proactiveAudio"],i),n}function zN(s,t,n){const i={},o=d(t,["generationConfig"]);n!==void 0&&o!=null&&f(n,["setup","generationConfig"],o);const u=d(t,["responseModalities"]);n!==void 0&&u!=null&&f(n,["setup","generationConfig","responseModalities"],u);const p=d(t,["temperature"]);n!==void 0&&p!=null&&f(n,["setup","generationConfig","temperature"],p);const g=d(t,["topP"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topP"],g);const v=d(t,["topK"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","topK"],v);const x=d(t,["maxOutputTokens"]);n!==void 0&&x!=null&&f(n,["setup","generationConfig","maxOutputTokens"],x);const y=d(t,["mediaResolution"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","mediaResolution"],y);const b=d(t,["seed"]);n!==void 0&&b!=null&&f(n,["setup","generationConfig","seed"],b);const T=d(t,["speechConfig"]);n!==void 0&&T!=null&&f(n,["setup","generationConfig","speechConfig"],Jb(s,vu(s,T)));const _=d(t,["enableAffectiveDialog"]);n!==void 0&&_!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],_);const S=d(t,["systemInstruction"]);n!==void 0&&S!=null&&f(n,["setup","systemInstruction"],sN(s,Ut(s,S)));const w=d(t,["tools"]);if(n!==void 0&&w!=null){let Q=Ys(s,w);Array.isArray(Q)&&(Q=Q.map(D=>TN(s,Fs(s,D)))),f(n,["setup","tools"],Q)}const E=d(t,["sessionResumption"]);n!==void 0&&E!=null&&f(n,["setup","sessionResumption"],CN(s,E));const U=d(t,["inputAudioTranscription"]);n!==void 0&&U!=null&&f(n,["setup","inputAudioTranscription"],Fh());const R=d(t,["outputAudioTranscription"]);n!==void 0&&R!=null&&f(n,["setup","outputAudioTranscription"],Fh());const M=d(t,["realtimeInputConfig"]);n!==void 0&&M!=null&&f(n,["setup","realtimeInputConfig"],EN(s,M));const H=d(t,["contextWindowCompression"]);n!==void 0&&H!=null&&f(n,["setup","contextWindowCompression"],MN(s,H));const O=d(t,["proactivity"]);return n!==void 0&&O!=null&&f(n,["setup","proactivity"],IN(s,O)),i}function LN(s,t,n){const i={},o=d(t,["generationConfig"]);n!==void 0&&o!=null&&f(n,["setup","generationConfig"],o);const u=d(t,["responseModalities"]);n!==void 0&&u!=null&&f(n,["setup","generationConfig","responseModalities"],u);const p=d(t,["temperature"]);n!==void 0&&p!=null&&f(n,["setup","generationConfig","temperature"],p);const g=d(t,["topP"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topP"],g);const v=d(t,["topK"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","topK"],v);const x=d(t,["maxOutputTokens"]);n!==void 0&&x!=null&&f(n,["setup","generationConfig","maxOutputTokens"],x);const y=d(t,["mediaResolution"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","mediaResolution"],y);const b=d(t,["seed"]);n!==void 0&&b!=null&&f(n,["setup","generationConfig","seed"],b);const T=d(t,["speechConfig"]);n!==void 0&&T!=null&&f(n,["setup","generationConfig","speechConfig"],Kb(s,vu(s,T)));const _=d(t,["enableAffectiveDialog"]);n!==void 0&&_!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],_);const S=d(t,["systemInstruction"]);n!==void 0&&S!=null&&f(n,["setup","systemInstruction"],lN(s,Ut(s,S)));const w=d(t,["tools"]);if(n!==void 0&&w!=null){let Q=Ys(s,w);Array.isArray(Q)&&(Q=Q.map(D=>wN(s,Fs(s,D)))),f(n,["setup","tools"],Q)}const E=d(t,["sessionResumption"]);n!==void 0&&E!=null&&f(n,["setup","sessionResumption"],SN(s,E));const U=d(t,["inputAudioTranscription"]);n!==void 0&&U!=null&&f(n,["setup","inputAudioTranscription"],Yh());const R=d(t,["outputAudioTranscription"]);n!==void 0&&R!=null&&f(n,["setup","outputAudioTranscription"],Yh());const M=d(t,["realtimeInputConfig"]);n!==void 0&&M!=null&&f(n,["setup","realtimeInputConfig"],jN(s,M));const H=d(t,["contextWindowCompression"]);n!==void 0&&H!=null&&f(n,["setup","contextWindowCompression"],RN(s,H));const O=d(t,["proactivity"]);return n!==void 0&&O!=null&&f(n,["setup","proactivity"],UN(s,O)),i}function ON(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["setup","model"],lt(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],zN(s,o,n)),n}function VN(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["setup","model"],lt(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],LN(s,o,n)),n}function HN(){return{}}function BN(){return{}}function GN(){return{}}function qN(){return{}}function PN(s,t){const n={},i=d(t,["media"]);i!=null&&f(n,["mediaChunks"],gx(s,i));const o=d(t,["audio"]);o!=null&&f(n,["audio"],p0(s,o));const u=d(t,["audioStreamEnd"]);u!=null&&f(n,["audioStreamEnd"],u);const p=d(t,["video"]);p!=null&&f(n,["video"],m0(s,p));const g=d(t,["text"]);return g!=null&&f(n,["text"],g),d(t,["activityStart"])!=null&&f(n,["activityStart"],HN()),d(t,["activityEnd"])!=null&&f(n,["activityEnd"],GN()),n}function $N(s,t){const n={},i=d(t,["media"]);if(i!=null&&f(n,["mediaChunks"],gx(s,i)),d(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=d(t,["audioStreamEnd"]);if(o!=null&&f(n,["audioStreamEnd"],o),d(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(d(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return d(t,["activityStart"])!=null&&f(n,["activityStart"],BN()),d(t,["activityEnd"])!=null&&f(n,["activityEnd"],qN()),n}function kx(s,t){const n={},i=d(t,["text"]);i!=null&&f(n,["text"],i);const o=d(t,["weight"]);return o!=null&&f(n,["weight"],o),n}function FN(s,t){const n={},i=d(t,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>kx(s,u))),f(n,["weightedPrompts"],o)}return n}function Ex(s,t){const n={},i=d(t,["temperature"]);i!=null&&f(n,["temperature"],i);const o=d(t,["topK"]);o!=null&&f(n,["topK"],o);const u=d(t,["seed"]);u!=null&&f(n,["seed"],u);const p=d(t,["guidance"]);p!=null&&f(n,["guidance"],p);const g=d(t,["bpm"]);g!=null&&f(n,["bpm"],g);const v=d(t,["density"]);v!=null&&f(n,["density"],v);const x=d(t,["brightness"]);x!=null&&f(n,["brightness"],x);const y=d(t,["scale"]);y!=null&&f(n,["scale"],y);const b=d(t,["muteBass"]);b!=null&&f(n,["muteBass"],b);const T=d(t,["muteDrums"]);T!=null&&f(n,["muteDrums"],T);const _=d(t,["onlyBassAndDrums"]);return _!=null&&f(n,["onlyBassAndDrums"],_),n}function YN(s,t){const n={},i=d(t,["musicGenerationConfig"]);return i!=null&&f(n,["musicGenerationConfig"],Ex(s,i)),n}function jx(s,t){const n={},i=d(t,["model"]);return i!=null&&f(n,["model"],i),n}function Ax(s,t){const n={},i=d(t,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>kx(s,u))),f(n,["weightedPrompts"],o)}return n}function uu(s,t){const n={},i=d(t,["setup"]);i!=null&&f(n,["setup"],jx(s,i));const o=d(t,["clientContent"]);o!=null&&f(n,["clientContent"],Ax(s,o));const u=d(t,["musicGenerationConfig"]);u!=null&&f(n,["musicGenerationConfig"],Ex(s,u));const p=d(t,["playbackControl"]);return p!=null&&f(n,["playbackControl"],p),n}function ZN(){return{}}function JN(){return{}}function KN(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function XN(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function QN(s,t){const n={},i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function WN(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function eT(s,t){const n={},i=d(t,["fileUri"]);i!=null&&f(n,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function tT(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function nT(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],KN(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],QN(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],eT(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const T=d(t,["text"]);return T!=null&&f(n,["text"],T),n}function aT(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],XN(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],WN(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],tT(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const T=d(t,["text"]);return T!=null&&f(n,["text"],T),n}function iT(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>nT(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function sT(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>aT(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function Zh(s,t){const n={},i=d(t,["text"]);i!=null&&f(n,["text"],i);const o=d(t,["finished"]);return o!=null&&f(n,["finished"],o),n}function Jh(s,t){const n={},i=d(t,["text"]);i!=null&&f(n,["text"],i);const o=d(t,["finished"]);return o!=null&&f(n,["finished"],o),n}function lT(s,t){const n={},i=d(t,["retrievedUrl"]);i!=null&&f(n,["retrievedUrl"],i);const o=d(t,["urlRetrievalStatus"]);return o!=null&&f(n,["urlRetrievalStatus"],o),n}function rT(s,t){const n={},i=d(t,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>lT(s,u))),f(n,["urlMetadata"],o)}return n}function oT(s,t){const n={},i=d(t,["modelTurn"]);i!=null&&f(n,["modelTurn"],iT(s,i));const o=d(t,["turnComplete"]);o!=null&&f(n,["turnComplete"],o);const u=d(t,["interrupted"]);u!=null&&f(n,["interrupted"],u);const p=d(t,["groundingMetadata"]);p!=null&&f(n,["groundingMetadata"],p);const g=d(t,["generationComplete"]);g!=null&&f(n,["generationComplete"],g);const v=d(t,["inputTranscription"]);v!=null&&f(n,["inputTranscription"],Zh(s,v));const x=d(t,["outputTranscription"]);x!=null&&f(n,["outputTranscription"],Zh(s,x));const y=d(t,["urlContextMetadata"]);return y!=null&&f(n,["urlContextMetadata"],rT(s,y)),n}function cT(s,t){const n={},i=d(t,["modelTurn"]);i!=null&&f(n,["modelTurn"],sT(s,i));const o=d(t,["turnComplete"]);o!=null&&f(n,["turnComplete"],o);const u=d(t,["interrupted"]);u!=null&&f(n,["interrupted"],u);const p=d(t,["groundingMetadata"]);p!=null&&f(n,["groundingMetadata"],p);const g=d(t,["generationComplete"]);g!=null&&f(n,["generationComplete"],g);const v=d(t,["inputTranscription"]);v!=null&&f(n,["inputTranscription"],Jh(s,v));const x=d(t,["outputTranscription"]);return x!=null&&f(n,["outputTranscription"],Jh(s,x)),n}function uT(s,t){const n={},i=d(t,["id"]);i!=null&&f(n,["id"],i);const o=d(t,["args"]);o!=null&&f(n,["args"],o);const u=d(t,["name"]);return u!=null&&f(n,["name"],u),n}function dT(s,t){const n={},i=d(t,["args"]);i!=null&&f(n,["args"],i);const o=d(t,["name"]);return o!=null&&f(n,["name"],o),n}function fT(s,t){const n={},i=d(t,["functionCalls"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>uT(s,u))),f(n,["functionCalls"],o)}return n}function mT(s,t){const n={},i=d(t,["functionCalls"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>dT(s,u))),f(n,["functionCalls"],o)}return n}function pT(s,t){const n={},i=d(t,["ids"]);return i!=null&&f(n,["ids"],i),n}function hT(s,t){const n={},i=d(t,["ids"]);return i!=null&&f(n,["ids"],i),n}function fr(s,t){const n={},i=d(t,["modality"]);i!=null&&f(n,["modality"],i);const o=d(t,["tokenCount"]);return o!=null&&f(n,["tokenCount"],o),n}function mr(s,t){const n={},i=d(t,["modality"]);i!=null&&f(n,["modality"],i);const o=d(t,["tokenCount"]);return o!=null&&f(n,["tokenCount"],o),n}function xT(s,t){const n={},i=d(t,["promptTokenCount"]);i!=null&&f(n,["promptTokenCount"],i);const o=d(t,["cachedContentTokenCount"]);o!=null&&f(n,["cachedContentTokenCount"],o);const u=d(t,["responseTokenCount"]);u!=null&&f(n,["responseTokenCount"],u);const p=d(t,["toolUsePromptTokenCount"]);p!=null&&f(n,["toolUsePromptTokenCount"],p);const g=d(t,["thoughtsTokenCount"]);g!=null&&f(n,["thoughtsTokenCount"],g);const v=d(t,["totalTokenCount"]);v!=null&&f(n,["totalTokenCount"],v);const x=d(t,["promptTokensDetails"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(S=>fr(s,S))),f(n,["promptTokensDetails"],_)}const y=d(t,["cacheTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>fr(s,S))),f(n,["cacheTokensDetails"],_)}const b=d(t,["responseTokensDetails"]);if(b!=null){let _=b;Array.isArray(_)&&(_=_.map(S=>fr(s,S))),f(n,["responseTokensDetails"],_)}const T=d(t,["toolUsePromptTokensDetails"]);if(T!=null){let _=T;Array.isArray(_)&&(_=_.map(S=>fr(s,S))),f(n,["toolUsePromptTokensDetails"],_)}return n}function gT(s,t){const n={},i=d(t,["promptTokenCount"]);i!=null&&f(n,["promptTokenCount"],i);const o=d(t,["cachedContentTokenCount"]);o!=null&&f(n,["cachedContentTokenCount"],o);const u=d(t,["candidatesTokenCount"]);u!=null&&f(n,["responseTokenCount"],u);const p=d(t,["toolUsePromptTokenCount"]);p!=null&&f(n,["toolUsePromptTokenCount"],p);const g=d(t,["thoughtsTokenCount"]);g!=null&&f(n,["thoughtsTokenCount"],g);const v=d(t,["totalTokenCount"]);v!=null&&f(n,["totalTokenCount"],v);const x=d(t,["promptTokensDetails"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(w=>mr(s,w))),f(n,["promptTokensDetails"],S)}const y=d(t,["cacheTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(w=>mr(s,w))),f(n,["cacheTokensDetails"],S)}const b=d(t,["candidatesTokensDetails"]);if(b!=null){let S=b;Array.isArray(S)&&(S=S.map(w=>mr(s,w))),f(n,["responseTokensDetails"],S)}const T=d(t,["toolUsePromptTokensDetails"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(w=>mr(s,w))),f(n,["toolUsePromptTokensDetails"],S)}const _=d(t,["trafficType"]);return _!=null&&f(n,["trafficType"],_),n}function vT(s,t){const n={},i=d(t,["timeLeft"]);return i!=null&&f(n,["timeLeft"],i),n}function yT(s,t){const n={},i=d(t,["timeLeft"]);return i!=null&&f(n,["timeLeft"],i),n}function bT(s,t){const n={},i=d(t,["newHandle"]);i!=null&&f(n,["newHandle"],i);const o=d(t,["resumable"]);o!=null&&f(n,["resumable"],o);const u=d(t,["lastConsumedClientMessageIndex"]);return u!=null&&f(n,["lastConsumedClientMessageIndex"],u),n}function NT(s,t){const n={},i=d(t,["newHandle"]);i!=null&&f(n,["newHandle"],i);const o=d(t,["resumable"]);o!=null&&f(n,["resumable"],o);const u=d(t,["lastConsumedClientMessageIndex"]);return u!=null&&f(n,["lastConsumedClientMessageIndex"],u),n}function TT(s,t){const n={};d(t,["setupComplete"])!=null&&f(n,["setupComplete"],ZN());const o=d(t,["serverContent"]);o!=null&&f(n,["serverContent"],oT(s,o));const u=d(t,["toolCall"]);u!=null&&f(n,["toolCall"],fT(s,u));const p=d(t,["toolCallCancellation"]);p!=null&&f(n,["toolCallCancellation"],pT(s,p));const g=d(t,["usageMetadata"]);g!=null&&f(n,["usageMetadata"],xT(s,g));const v=d(t,["goAway"]);v!=null&&f(n,["goAway"],vT(s,v));const x=d(t,["sessionResumptionUpdate"]);return x!=null&&f(n,["sessionResumptionUpdate"],bT(s,x)),n}function wT(s,t){const n={};d(t,["setupComplete"])!=null&&f(n,["setupComplete"],JN());const o=d(t,["serverContent"]);o!=null&&f(n,["serverContent"],cT(s,o));const u=d(t,["toolCall"]);u!=null&&f(n,["toolCall"],mT(s,u));const p=d(t,["toolCallCancellation"]);p!=null&&f(n,["toolCallCancellation"],hT(s,p));const g=d(t,["usageMetadata"]);g!=null&&f(n,["usageMetadata"],gT(s,g));const v=d(t,["goAway"]);v!=null&&f(n,["goAway"],yT(s,v));const x=d(t,["sessionResumptionUpdate"]);return x!=null&&f(n,["sessionResumptionUpdate"],NT(s,x)),n}function CT(){return{}}function ST(s,t){const n={},i=d(t,["text"]);i!=null&&f(n,["text"],i);const o=d(t,["weight"]);return o!=null&&f(n,["weight"],o),n}function _T(s,t){const n={},i=d(t,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>ST(s,u))),f(n,["weightedPrompts"],o)}return n}function kT(s,t){const n={},i=d(t,["temperature"]);i!=null&&f(n,["temperature"],i);const o=d(t,["topK"]);o!=null&&f(n,["topK"],o);const u=d(t,["seed"]);u!=null&&f(n,["seed"],u);const p=d(t,["guidance"]);p!=null&&f(n,["guidance"],p);const g=d(t,["bpm"]);g!=null&&f(n,["bpm"],g);const v=d(t,["density"]);v!=null&&f(n,["density"],v);const x=d(t,["brightness"]);x!=null&&f(n,["brightness"],x);const y=d(t,["scale"]);y!=null&&f(n,["scale"],y);const b=d(t,["muteBass"]);b!=null&&f(n,["muteBass"],b);const T=d(t,["muteDrums"]);T!=null&&f(n,["muteDrums"],T);const _=d(t,["onlyBassAndDrums"]);return _!=null&&f(n,["onlyBassAndDrums"],_),n}function ET(s,t){const n={},i=d(t,["clientContent"]);i!=null&&f(n,["clientContent"],_T(s,i));const o=d(t,["musicGenerationConfig"]);return o!=null&&f(n,["musicGenerationConfig"],kT(s,o)),n}function jT(s,t){const n={},i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);o!=null&&f(n,["mimeType"],o);const u=d(t,["sourceMetadata"]);return u!=null&&f(n,["sourceMetadata"],ET(s,u)),n}function AT(s,t){const n={},i=d(t,["audioChunks"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>jT(s,u))),f(n,["audioChunks"],o)}return n}function DT(s,t){const n={},i=d(t,["text"]);i!=null&&f(n,["text"],i);const o=d(t,["filteredReason"]);return o!=null&&f(n,["filteredReason"],o),n}function MT(s,t){const n={};d(t,["setupComplete"])!=null&&f(n,["setupComplete"],CT());const o=d(t,["serverContent"]);o!=null&&f(n,["serverContent"],AT(s,o));const u=d(t,["filteredPrompt"]);return u!=null&&f(n,["filteredPrompt"],DT(s,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RT(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function IT(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function UT(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(n,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function zT(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],RT(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],IT(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],UT(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const T=d(t,["text"]);return T!=null&&f(n,["text"],T),n}function Er(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>zT(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function LT(s,t){const n={},i=d(t,["anyOf"]);i!=null&&f(n,["anyOf"],i);const o=d(t,["default"]);o!=null&&f(n,["default"],o);const u=d(t,["description"]);u!=null&&f(n,["description"],u);const p=d(t,["enum"]);p!=null&&f(n,["enum"],p);const g=d(t,["example"]);g!=null&&f(n,["example"],g);const v=d(t,["format"]);v!=null&&f(n,["format"],v);const x=d(t,["items"]);x!=null&&f(n,["items"],x);const y=d(t,["maxItems"]);y!=null&&f(n,["maxItems"],y);const b=d(t,["maxLength"]);b!=null&&f(n,["maxLength"],b);const T=d(t,["maxProperties"]);T!=null&&f(n,["maxProperties"],T);const _=d(t,["maximum"]);_!=null&&f(n,["maximum"],_);const S=d(t,["minItems"]);S!=null&&f(n,["minItems"],S);const w=d(t,["minLength"]);w!=null&&f(n,["minLength"],w);const E=d(t,["minProperties"]);E!=null&&f(n,["minProperties"],E);const U=d(t,["minimum"]);U!=null&&f(n,["minimum"],U);const R=d(t,["nullable"]);R!=null&&f(n,["nullable"],R);const M=d(t,["pattern"]);M!=null&&f(n,["pattern"],M);const H=d(t,["properties"]);H!=null&&f(n,["properties"],H);const O=d(t,["propertyOrdering"]);O!=null&&f(n,["propertyOrdering"],O);const Q=d(t,["required"]);Q!=null&&f(n,["required"],Q);const D=d(t,["title"]);D!=null&&f(n,["title"],D);const L=d(t,["type"]);return L!=null&&f(n,["type"],L),n}function OT(s,t){const n={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(t,["category"]);i!=null&&f(n,["category"],i);const o=d(t,["threshold"]);return o!=null&&f(n,["threshold"],o),n}function VT(s,t){const n={},i=d(t,["behavior"]);i!=null&&f(n,["behavior"],i);const o=d(t,["description"]);o!=null&&f(n,["description"],o);const u=d(t,["name"]);u!=null&&f(n,["name"],u);const p=d(t,["parameters"]);p!=null&&f(n,["parameters"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],g),n}function HT(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function BT(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],HT(s,i)),n}function GT(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function qT(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],GT(s,i)),n}function PT(){return{}}function $T(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(x=>VT(s,x))),f(n,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearch"]);o!=null&&f(n,["googleSearch"],BT(s,o));const u=d(t,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],qT(s,u)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(n,["urlContext"],PT());const g=d(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function FT(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["allowedFunctionNames"]);return o!=null&&f(n,["allowedFunctionNames"],o),n}function YT(s,t){const n={},i=d(t,["latitude"]);i!=null&&f(n,["latitude"],i);const o=d(t,["longitude"]);return o!=null&&f(n,["longitude"],o),n}function ZT(s,t){const n={},i=d(t,["latLng"]);i!=null&&f(n,["latLng"],YT(s,i));const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function JT(s,t){const n={},i=d(t,["functionCallingConfig"]);i!=null&&f(n,["functionCallingConfig"],FT(s,i));const o=d(t,["retrievalConfig"]);return o!=null&&f(n,["retrievalConfig"],ZT(s,o)),n}function KT(s,t){const n={},i=d(t,["voiceName"]);return i!=null&&f(n,["voiceName"],i),n}function Dx(s,t){const n={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(n,["prebuiltVoiceConfig"],KT(s,i)),n}function XT(s,t){const n={},i=d(t,["speaker"]);i!=null&&f(n,["speaker"],i);const o=d(t,["voiceConfig"]);return o!=null&&f(n,["voiceConfig"],Dx(s,o)),n}function QT(s,t){const n={},i=d(t,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>XT(s,u))),f(n,["speakerVoiceConfigs"],o)}return n}function WT(s,t){const n={},i=d(t,["voiceConfig"]);i!=null&&f(n,["voiceConfig"],Dx(s,i));const o=d(t,["multiSpeakerVoiceConfig"]);o!=null&&f(n,["multiSpeakerVoiceConfig"],QT(s,o));const u=d(t,["languageCode"]);return u!=null&&f(n,["languageCode"],u),n}function ew(s,t){const n={},i=d(t,["includeThoughts"]);i!=null&&f(n,["includeThoughts"],i);const o=d(t,["thinkingBudget"]);return o!=null&&f(n,["thinkingBudget"],o),n}function tw(s,t,n){const i={},o=d(t,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],Er(s,Ut(s,o)));const u=d(t,["temperature"]);u!=null&&f(i,["temperature"],u);const p=d(t,["topP"]);p!=null&&f(i,["topP"],p);const g=d(t,["topK"]);g!=null&&f(i,["topK"],g);const v=d(t,["candidateCount"]);v!=null&&f(i,["candidateCount"],v);const x=d(t,["maxOutputTokens"]);x!=null&&f(i,["maxOutputTokens"],x);const y=d(t,["stopSequences"]);y!=null&&f(i,["stopSequences"],y);const b=d(t,["responseLogprobs"]);b!=null&&f(i,["responseLogprobs"],b);const T=d(t,["logprobs"]);T!=null&&f(i,["logprobs"],T);const _=d(t,["presencePenalty"]);_!=null&&f(i,["presencePenalty"],_);const S=d(t,["frequencyPenalty"]);S!=null&&f(i,["frequencyPenalty"],S);const w=d(t,["seed"]);w!=null&&f(i,["seed"],w);const E=d(t,["responseMimeType"]);E!=null&&f(i,["responseMimeType"],E);const U=d(t,["responseSchema"]);if(U!=null&&f(i,["responseSchema"],LT(s,Sr(s,U))),d(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=d(t,["safetySettings"]);if(n!==void 0&&R!=null){let B=R;Array.isArray(B)&&(B=B.map(te=>OT(s,te))),f(n,["safetySettings"],B)}const M=d(t,["tools"]);if(n!==void 0&&M!=null){let B=Ys(s,M);Array.isArray(B)&&(B=B.map(te=>$T(s,Fs(s,te)))),f(n,["tools"],B)}const H=d(t,["toolConfig"]);if(n!==void 0&&H!=null&&f(n,["toolConfig"],JT(s,H)),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=d(t,["cachedContent"]);n!==void 0&&O!=null&&f(n,["cachedContent"],va(s,O));const Q=d(t,["responseModalities"]);Q!=null&&f(i,["responseModalities"],Q);const D=d(t,["mediaResolution"]);D!=null&&f(i,["mediaResolution"],D);const L=d(t,["speechConfig"]);if(L!=null&&f(i,["speechConfig"],WT(s,bx(s,L))),d(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=d(t,["thinkingConfig"]);return I!=null&&f(i,["thinkingConfig"],ew(s,I)),i}function Kh(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["contents"]);if(o!=null){let p=pn(s,o);Array.isArray(p)&&(p=p.map(g=>Er(s,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["generationConfig"],tw(s,u,n)),n}function nw(s,t,n){const i={},o=d(t,["taskType"]);n!==void 0&&o!=null&&f(n,["requests[]","taskType"],o);const u=d(t,["title"]);n!==void 0&&u!=null&&f(n,["requests[]","title"],u);const p=d(t,["outputDimensionality"]);if(n!==void 0&&p!=null&&f(n,["requests[]","outputDimensionality"],p),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function aw(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["contents"]);o!=null&&f(n,["requests[]","content"],yx(s,o));const u=d(t,["config"]);u!=null&&f(n,["config"],nw(s,u,n));const p=d(t,["model"]);return p!==void 0&&f(n,["requests[]","model"],lt(s,p)),n}function iw(s,t,n){const i={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=d(t,["numberOfImages"]);n!==void 0&&o!=null&&f(n,["parameters","sampleCount"],o);const u=d(t,["aspectRatio"]);n!==void 0&&u!=null&&f(n,["parameters","aspectRatio"],u);const p=d(t,["guidanceScale"]);if(n!==void 0&&p!=null&&f(n,["parameters","guidanceScale"],p),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=d(t,["safetyFilterLevel"]);n!==void 0&&g!=null&&f(n,["parameters","safetySetting"],g);const v=d(t,["personGeneration"]);n!==void 0&&v!=null&&f(n,["parameters","personGeneration"],v);const x=d(t,["includeSafetyAttributes"]);n!==void 0&&x!=null&&f(n,["parameters","includeSafetyAttributes"],x);const y=d(t,["includeRaiReason"]);n!==void 0&&y!=null&&f(n,["parameters","includeRaiReason"],y);const b=d(t,["language"]);n!==void 0&&b!=null&&f(n,["parameters","language"],b);const T=d(t,["outputMimeType"]);n!==void 0&&T!=null&&f(n,["parameters","outputOptions","mimeType"],T);const _=d(t,["outputCompressionQuality"]);if(n!==void 0&&_!=null&&f(n,["parameters","outputOptions","compressionQuality"],_),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function sw(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["config"]);return u!=null&&f(n,["config"],iw(s,u,n)),n}function lw(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","name"],lt(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function rw(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);n!==void 0&&u!=null&&f(n,["_query","pageToken"],u);const p=d(t,["filter"]);n!==void 0&&p!=null&&f(n,["_query","filter"],p);const g=d(t,["queryBase"]);return n!==void 0&&g!=null&&f(n,["_url","models_url"],wx(s,g)),i}function ow(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],rw(s,i,n)),n}function cw(s,t,n){const i={},o=d(t,["displayName"]);n!==void 0&&o!=null&&f(n,["displayName"],o);const u=d(t,["description"]);n!==void 0&&u!=null&&f(n,["description"],u);const p=d(t,["defaultCheckpointId"]);return n!==void 0&&p!=null&&f(n,["defaultCheckpointId"],p),i}function uw(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","name"],lt(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],cw(s,o,n)),n}function dw(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","name"],lt(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function fw(s,t){const n={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function mw(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["contents"]);if(o!=null){let p=pn(s,o);Array.isArray(p)&&(p=p.map(g=>Er(s,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["config"],fw(s,u)),n}function pw(s,t){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(t,["imageBytes"]);i!=null&&f(n,["bytesBase64Encoded"],ya(s,i));const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function hw(s,t,n){const i={},o=d(t,["numberOfVideos"]);if(n!==void 0&&o!=null&&f(n,["parameters","sampleCount"],o),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=d(t,["durationSeconds"]);if(n!==void 0&&u!=null&&f(n,["parameters","durationSeconds"],u),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=d(t,["aspectRatio"]);if(n!==void 0&&p!=null&&f(n,["parameters","aspectRatio"],p),d(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const g=d(t,["personGeneration"]);if(n!==void 0&&g!=null&&f(n,["parameters","personGeneration"],g),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=d(t,["negativePrompt"]);if(n!==void 0&&v!=null&&f(n,["parameters","negativePrompt"],v),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");if(d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return i}function xw(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["image"]);u!=null&&f(n,["instances[0]","image"],pw(s,u));const p=d(t,["config"]);return p!=null&&f(n,["config"],hw(s,p,n)),n}function gw(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function vw(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function yw(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function bw(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],gw(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],vw(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],yw(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const T=d(t,["text"]);return T!=null&&f(n,["text"],T),n}function $i(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>bw(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function Nw(s,t){const n={},i=d(t,["anyOf"]);i!=null&&f(n,["anyOf"],i);const o=d(t,["default"]);o!=null&&f(n,["default"],o);const u=d(t,["description"]);u!=null&&f(n,["description"],u);const p=d(t,["enum"]);p!=null&&f(n,["enum"],p);const g=d(t,["example"]);g!=null&&f(n,["example"],g);const v=d(t,["format"]);v!=null&&f(n,["format"],v);const x=d(t,["items"]);x!=null&&f(n,["items"],x);const y=d(t,["maxItems"]);y!=null&&f(n,["maxItems"],y);const b=d(t,["maxLength"]);b!=null&&f(n,["maxLength"],b);const T=d(t,["maxProperties"]);T!=null&&f(n,["maxProperties"],T);const _=d(t,["maximum"]);_!=null&&f(n,["maximum"],_);const S=d(t,["minItems"]);S!=null&&f(n,["minItems"],S);const w=d(t,["minLength"]);w!=null&&f(n,["minLength"],w);const E=d(t,["minProperties"]);E!=null&&f(n,["minProperties"],E);const U=d(t,["minimum"]);U!=null&&f(n,["minimum"],U);const R=d(t,["nullable"]);R!=null&&f(n,["nullable"],R);const M=d(t,["pattern"]);M!=null&&f(n,["pattern"],M);const H=d(t,["properties"]);H!=null&&f(n,["properties"],H);const O=d(t,["propertyOrdering"]);O!=null&&f(n,["propertyOrdering"],O);const Q=d(t,["required"]);Q!=null&&f(n,["required"],Q);const D=d(t,["title"]);D!=null&&f(n,["title"],D);const L=d(t,["type"]);return L!=null&&f(n,["type"],L),n}function Tw(s,t){const n={},i=d(t,["featureSelectionPreference"]);return i!=null&&f(n,["featureSelectionPreference"],i),n}function ww(s,t){const n={},i=d(t,["method"]);i!=null&&f(n,["method"],i);const o=d(t,["category"]);o!=null&&f(n,["category"],o);const u=d(t,["threshold"]);return u!=null&&f(n,["threshold"],u),n}function Cw(s,t){const n={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&f(n,["description"],i);const o=d(t,["name"]);o!=null&&f(n,["name"],o);const u=d(t,["parameters"]);u!=null&&f(n,["parameters"],u);const p=d(t,["response"]);return p!=null&&f(n,["response"],p),n}function Sw(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function _w(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],Sw(s,i)),n}function kw(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function Ew(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],kw(s,i)),n}function jw(){return{}}function Aw(s,t){const n={},i=d(t,["apiKeyString"]);return i!=null&&f(n,["apiKeyString"],i),n}function Dw(s,t){const n={},i=d(t,["apiKeyConfig"]);i!=null&&f(n,["apiKeyConfig"],Aw(s,i));const o=d(t,["authType"]);o!=null&&f(n,["authType"],o);const u=d(t,["googleServiceAccountConfig"]);u!=null&&f(n,["googleServiceAccountConfig"],u);const p=d(t,["httpBasicAuthConfig"]);p!=null&&f(n,["httpBasicAuthConfig"],p);const g=d(t,["oauthConfig"]);g!=null&&f(n,["oauthConfig"],g);const v=d(t,["oidcConfig"]);return v!=null&&f(n,["oidcConfig"],v),n}function Mw(s,t){const n={},i=d(t,["authConfig"]);return i!=null&&f(n,["authConfig"],Dw(s,i)),n}function Mx(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>Cw(s,b))),f(n,["functionDeclarations"],y)}const o=d(t,["retrieval"]);o!=null&&f(n,["retrieval"],o);const u=d(t,["googleSearch"]);u!=null&&f(n,["googleSearch"],_w(s,u));const p=d(t,["googleSearchRetrieval"]);p!=null&&f(n,["googleSearchRetrieval"],Ew(s,p)),d(t,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],jw());const v=d(t,["googleMaps"]);if(v!=null&&f(n,["googleMaps"],Mw(s,v)),d(t,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const x=d(t,["codeExecution"]);return x!=null&&f(n,["codeExecution"],x),n}function Rw(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["allowedFunctionNames"]);return o!=null&&f(n,["allowedFunctionNames"],o),n}function Iw(s,t){const n={},i=d(t,["latitude"]);i!=null&&f(n,["latitude"],i);const o=d(t,["longitude"]);return o!=null&&f(n,["longitude"],o),n}function Uw(s,t){const n={},i=d(t,["latLng"]);i!=null&&f(n,["latLng"],Iw(s,i));const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function zw(s,t){const n={},i=d(t,["functionCallingConfig"]);i!=null&&f(n,["functionCallingConfig"],Rw(s,i));const o=d(t,["retrievalConfig"]);return o!=null&&f(n,["retrievalConfig"],Uw(s,o)),n}function Lw(s,t){const n={},i=d(t,["voiceName"]);return i!=null&&f(n,["voiceName"],i),n}function Ow(s,t){const n={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(n,["prebuiltVoiceConfig"],Lw(s,i)),n}function Vw(s,t){const n={},i=d(t,["voiceConfig"]);if(i!=null&&f(n,["voiceConfig"],Ow(s,i)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function Hw(s,t){const n={},i=d(t,["includeThoughts"]);i!=null&&f(n,["includeThoughts"],i);const o=d(t,["thinkingBudget"]);return o!=null&&f(n,["thinkingBudget"],o),n}function Bw(s,t,n){const i={},o=d(t,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],$i(s,Ut(s,o)));const u=d(t,["temperature"]);u!=null&&f(i,["temperature"],u);const p=d(t,["topP"]);p!=null&&f(i,["topP"],p);const g=d(t,["topK"]);g!=null&&f(i,["topK"],g);const v=d(t,["candidateCount"]);v!=null&&f(i,["candidateCount"],v);const x=d(t,["maxOutputTokens"]);x!=null&&f(i,["maxOutputTokens"],x);const y=d(t,["stopSequences"]);y!=null&&f(i,["stopSequences"],y);const b=d(t,["responseLogprobs"]);b!=null&&f(i,["responseLogprobs"],b);const T=d(t,["logprobs"]);T!=null&&f(i,["logprobs"],T);const _=d(t,["presencePenalty"]);_!=null&&f(i,["presencePenalty"],_);const S=d(t,["frequencyPenalty"]);S!=null&&f(i,["frequencyPenalty"],S);const w=d(t,["seed"]);w!=null&&f(i,["seed"],w);const E=d(t,["responseMimeType"]);E!=null&&f(i,["responseMimeType"],E);const U=d(t,["responseSchema"]);U!=null&&f(i,["responseSchema"],Nw(s,Sr(s,U)));const R=d(t,["routingConfig"]);R!=null&&f(i,["routingConfig"],R);const M=d(t,["modelSelectionConfig"]);M!=null&&f(i,["modelConfig"],Tw(s,M));const H=d(t,["safetySettings"]);if(n!==void 0&&H!=null){let F=H;Array.isArray(F)&&(F=F.map(pe=>ww(s,pe))),f(n,["safetySettings"],F)}const O=d(t,["tools"]);if(n!==void 0&&O!=null){let F=Ys(s,O);Array.isArray(F)&&(F=F.map(pe=>Mx(s,Fs(s,pe)))),f(n,["tools"],F)}const Q=d(t,["toolConfig"]);n!==void 0&&Q!=null&&f(n,["toolConfig"],zw(s,Q));const D=d(t,["labels"]);n!==void 0&&D!=null&&f(n,["labels"],D);const L=d(t,["cachedContent"]);n!==void 0&&L!=null&&f(n,["cachedContent"],va(s,L));const I=d(t,["responseModalities"]);I!=null&&f(i,["responseModalities"],I);const B=d(t,["mediaResolution"]);B!=null&&f(i,["mediaResolution"],B);const te=d(t,["speechConfig"]);te!=null&&f(i,["speechConfig"],Vw(s,bx(s,te)));const Y=d(t,["audioTimestamp"]);Y!=null&&f(i,["audioTimestamp"],Y);const de=d(t,["thinkingConfig"]);return de!=null&&f(i,["thinkingConfig"],Hw(s,de)),i}function Xh(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["contents"]);if(o!=null){let p=pn(s,o);Array.isArray(p)&&(p=p.map(g=>$i(s,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["generationConfig"],Bw(s,u,n)),n}function Gw(s,t,n){const i={},o=d(t,["taskType"]);n!==void 0&&o!=null&&f(n,["instances[]","task_type"],o);const u=d(t,["title"]);n!==void 0&&u!=null&&f(n,["instances[]","title"],u);const p=d(t,["outputDimensionality"]);n!==void 0&&p!=null&&f(n,["parameters","outputDimensionality"],p);const g=d(t,["mimeType"]);n!==void 0&&g!=null&&f(n,["instances[]","mimeType"],g);const v=d(t,["autoTruncate"]);return n!==void 0&&v!=null&&f(n,["parameters","autoTruncate"],v),i}function qw(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["contents"]);o!=null&&f(n,["instances[]","content"],yx(s,o));const u=d(t,["config"]);return u!=null&&f(n,["config"],Gw(s,u,n)),n}function Pw(s,t,n){const i={},o=d(t,["outputGcsUri"]);n!==void 0&&o!=null&&f(n,["parameters","storageUri"],o);const u=d(t,["negativePrompt"]);n!==void 0&&u!=null&&f(n,["parameters","negativePrompt"],u);const p=d(t,["numberOfImages"]);n!==void 0&&p!=null&&f(n,["parameters","sampleCount"],p);const g=d(t,["aspectRatio"]);n!==void 0&&g!=null&&f(n,["parameters","aspectRatio"],g);const v=d(t,["guidanceScale"]);n!==void 0&&v!=null&&f(n,["parameters","guidanceScale"],v);const x=d(t,["seed"]);n!==void 0&&x!=null&&f(n,["parameters","seed"],x);const y=d(t,["safetyFilterLevel"]);n!==void 0&&y!=null&&f(n,["parameters","safetySetting"],y);const b=d(t,["personGeneration"]);n!==void 0&&b!=null&&f(n,["parameters","personGeneration"],b);const T=d(t,["includeSafetyAttributes"]);n!==void 0&&T!=null&&f(n,["parameters","includeSafetyAttributes"],T);const _=d(t,["includeRaiReason"]);n!==void 0&&_!=null&&f(n,["parameters","includeRaiReason"],_);const S=d(t,["language"]);n!==void 0&&S!=null&&f(n,["parameters","language"],S);const w=d(t,["outputMimeType"]);n!==void 0&&w!=null&&f(n,["parameters","outputOptions","mimeType"],w);const E=d(t,["outputCompressionQuality"]);n!==void 0&&E!=null&&f(n,["parameters","outputOptions","compressionQuality"],E);const U=d(t,["addWatermark"]);n!==void 0&&U!=null&&f(n,["parameters","addWatermark"],U);const R=d(t,["enhancePrompt"]);return n!==void 0&&R!=null&&f(n,["parameters","enhancePrompt"],R),i}function $w(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["config"]);return u!=null&&f(n,["config"],Pw(s,u,n)),n}function yu(s,t){const n={},i=d(t,["gcsUri"]);i!=null&&f(n,["gcsUri"],i);const o=d(t,["imageBytes"]);o!=null&&f(n,["bytesBase64Encoded"],ya(s,o));const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function Fw(s,t){const n={},i=d(t,["maskMode"]);i!=null&&f(n,["maskMode"],i);const o=d(t,["segmentationClasses"]);o!=null&&f(n,["maskClasses"],o);const u=d(t,["maskDilation"]);return u!=null&&f(n,["dilation"],u),n}function Yw(s,t){const n={},i=d(t,["controlType"]);i!=null&&f(n,["controlType"],i);const o=d(t,["enableControlImageComputation"]);return o!=null&&f(n,["computeControl"],o),n}function Zw(s,t){const n={},i=d(t,["styleDescription"]);return i!=null&&f(n,["styleDescription"],i),n}function Jw(s,t){const n={},i=d(t,["subjectType"]);i!=null&&f(n,["subjectType"],i);const o=d(t,["subjectDescription"]);return o!=null&&f(n,["subjectDescription"],o),n}function Kw(s,t){const n={},i=d(t,["referenceImage"]);i!=null&&f(n,["referenceImage"],yu(s,i));const o=d(t,["referenceId"]);o!=null&&f(n,["referenceId"],o);const u=d(t,["referenceType"]);u!=null&&f(n,["referenceType"],u);const p=d(t,["maskImageConfig"]);p!=null&&f(n,["maskImageConfig"],Fw(s,p));const g=d(t,["controlImageConfig"]);g!=null&&f(n,["controlImageConfig"],Yw(s,g));const v=d(t,["styleImageConfig"]);v!=null&&f(n,["styleImageConfig"],Zw(s,v));const x=d(t,["subjectImageConfig"]);return x!=null&&f(n,["subjectImageConfig"],Jw(s,x)),n}function Xw(s,t,n){const i={},o=d(t,["outputGcsUri"]);n!==void 0&&o!=null&&f(n,["parameters","storageUri"],o);const u=d(t,["negativePrompt"]);n!==void 0&&u!=null&&f(n,["parameters","negativePrompt"],u);const p=d(t,["numberOfImages"]);n!==void 0&&p!=null&&f(n,["parameters","sampleCount"],p);const g=d(t,["aspectRatio"]);n!==void 0&&g!=null&&f(n,["parameters","aspectRatio"],g);const v=d(t,["guidanceScale"]);n!==void 0&&v!=null&&f(n,["parameters","guidanceScale"],v);const x=d(t,["seed"]);n!==void 0&&x!=null&&f(n,["parameters","seed"],x);const y=d(t,["safetyFilterLevel"]);n!==void 0&&y!=null&&f(n,["parameters","safetySetting"],y);const b=d(t,["personGeneration"]);n!==void 0&&b!=null&&f(n,["parameters","personGeneration"],b);const T=d(t,["includeSafetyAttributes"]);n!==void 0&&T!=null&&f(n,["parameters","includeSafetyAttributes"],T);const _=d(t,["includeRaiReason"]);n!==void 0&&_!=null&&f(n,["parameters","includeRaiReason"],_);const S=d(t,["language"]);n!==void 0&&S!=null&&f(n,["parameters","language"],S);const w=d(t,["outputMimeType"]);n!==void 0&&w!=null&&f(n,["parameters","outputOptions","mimeType"],w);const E=d(t,["outputCompressionQuality"]);n!==void 0&&E!=null&&f(n,["parameters","outputOptions","compressionQuality"],E);const U=d(t,["editMode"]);n!==void 0&&U!=null&&f(n,["parameters","editMode"],U);const R=d(t,["baseSteps"]);return n!==void 0&&R!=null&&f(n,["parameters","editConfig","baseSteps"],R),i}function Qw(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["referenceImages"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>Kw(s,v))),f(n,["instances[0]","referenceImages"],g)}const p=d(t,["config"]);return p!=null&&f(n,["config"],Xw(s,p,n)),n}function Ww(s,t,n){const i={},o=d(t,["includeRaiReason"]);n!==void 0&&o!=null&&f(n,["parameters","includeRaiReason"],o);const u=d(t,["outputMimeType"]);n!==void 0&&u!=null&&f(n,["parameters","outputOptions","mimeType"],u);const p=d(t,["outputCompressionQuality"]);n!==void 0&&p!=null&&f(n,["parameters","outputOptions","compressionQuality"],p);const g=d(t,["numberOfImages"]);n!==void 0&&g!=null&&f(n,["parameters","sampleCount"],g);const v=d(t,["mode"]);return n!==void 0&&v!=null&&f(n,["parameters","mode"],v),i}function e1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["image"]);o!=null&&f(n,["instances[0]","image"],yu(s,o));const u=d(t,["upscaleFactor"]);u!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],u);const p=d(t,["config"]);return p!=null&&f(n,["config"],Ww(s,p,n)),n}function t1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","name"],lt(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function n1(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);n!==void 0&&u!=null&&f(n,["_query","pageToken"],u);const p=d(t,["filter"]);n!==void 0&&p!=null&&f(n,["_query","filter"],p);const g=d(t,["queryBase"]);return n!==void 0&&g!=null&&f(n,["_url","models_url"],wx(s,g)),i}function a1(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],n1(s,i,n)),n}function i1(s,t,n){const i={},o=d(t,["displayName"]);n!==void 0&&o!=null&&f(n,["displayName"],o);const u=d(t,["description"]);n!==void 0&&u!=null&&f(n,["description"],u);const p=d(t,["defaultCheckpointId"]);return n!==void 0&&p!=null&&f(n,["defaultCheckpointId"],p),i}function s1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],i1(s,o,n)),n}function l1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","name"],lt(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function r1(s,t,n){const i={},o=d(t,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],$i(s,Ut(s,o)));const u=d(t,["tools"]);if(n!==void 0&&u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>Mx(s,v))),f(n,["tools"],g)}const p=d(t,["generationConfig"]);return n!==void 0&&p!=null&&f(n,["generationConfig"],p),i}function o1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["contents"]);if(o!=null){let p=pn(s,o);Array.isArray(p)&&(p=p.map(g=>$i(s,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["config"],r1(s,u,n)),n}function c1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["contents"]);if(o!=null){let p=pn(s,o);Array.isArray(p)&&(p=p.map(g=>$i(s,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["config"],u),n}function u1(s,t,n){const i={},o=d(t,["numberOfVideos"]);n!==void 0&&o!=null&&f(n,["parameters","sampleCount"],o);const u=d(t,["outputGcsUri"]);n!==void 0&&u!=null&&f(n,["parameters","storageUri"],u);const p=d(t,["fps"]);n!==void 0&&p!=null&&f(n,["parameters","fps"],p);const g=d(t,["durationSeconds"]);n!==void 0&&g!=null&&f(n,["parameters","durationSeconds"],g);const v=d(t,["seed"]);n!==void 0&&v!=null&&f(n,["parameters","seed"],v);const x=d(t,["aspectRatio"]);n!==void 0&&x!=null&&f(n,["parameters","aspectRatio"],x);const y=d(t,["resolution"]);n!==void 0&&y!=null&&f(n,["parameters","resolution"],y);const b=d(t,["personGeneration"]);n!==void 0&&b!=null&&f(n,["parameters","personGeneration"],b);const T=d(t,["pubsubTopic"]);n!==void 0&&T!=null&&f(n,["parameters","pubsubTopic"],T);const _=d(t,["negativePrompt"]);n!==void 0&&_!=null&&f(n,["parameters","negativePrompt"],_);const S=d(t,["enhancePrompt"]);n!==void 0&&S!=null&&f(n,["parameters","enhancePrompt"],S);const w=d(t,["generateAudio"]);return n!==void 0&&w!=null&&f(n,["parameters","generateAudio"],w),i}function d1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["image"]);u!=null&&f(n,["instances[0]","image"],yu(s,u));const p=d(t,["config"]);return p!=null&&f(n,["config"],u1(s,p,n)),n}function f1(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function m1(s,t){const n={},i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function p1(s,t){const n={},i=d(t,["fileUri"]);i!=null&&f(n,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function h1(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],f1(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],m1(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],p1(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const T=d(t,["text"]);return T!=null&&f(n,["text"],T),n}function x1(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>h1(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function g1(s,t){const n={},i=d(t,["citationSources"]);return i!=null&&f(n,["citations"],i),n}function v1(s,t){const n={},i=d(t,["retrievedUrl"]);i!=null&&f(n,["retrievedUrl"],i);const o=d(t,["urlRetrievalStatus"]);return o!=null&&f(n,["urlRetrievalStatus"],o),n}function y1(s,t){const n={},i=d(t,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>v1(s,u))),f(n,["urlMetadata"],o)}return n}function b1(s,t){const n={},i=d(t,["content"]);i!=null&&f(n,["content"],x1(s,i));const o=d(t,["citationMetadata"]);o!=null&&f(n,["citationMetadata"],g1(s,o));const u=d(t,["tokenCount"]);u!=null&&f(n,["tokenCount"],u);const p=d(t,["finishReason"]);p!=null&&f(n,["finishReason"],p);const g=d(t,["urlContextMetadata"]);g!=null&&f(n,["urlContextMetadata"],y1(s,g));const v=d(t,["avgLogprobs"]);v!=null&&f(n,["avgLogprobs"],v);const x=d(t,["groundingMetadata"]);x!=null&&f(n,["groundingMetadata"],x);const y=d(t,["index"]);y!=null&&f(n,["index"],y);const b=d(t,["logprobsResult"]);b!=null&&f(n,["logprobsResult"],b);const T=d(t,["safetyRatings"]);return T!=null&&f(n,["safetyRatings"],T),n}function Qh(s,t){const n={},i=d(t,["candidates"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(v=>b1(s,v))),f(n,["candidates"],g)}const o=d(t,["modelVersion"]);o!=null&&f(n,["modelVersion"],o);const u=d(t,["promptFeedback"]);u!=null&&f(n,["promptFeedback"],u);const p=d(t,["usageMetadata"]);return p!=null&&f(n,["usageMetadata"],p),n}function N1(s,t){const n={},i=d(t,["values"]);return i!=null&&f(n,["values"],i),n}function T1(){return{}}function w1(s,t){const n={},i=d(t,["embeddings"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>N1(s,p))),f(n,["embeddings"],u)}return d(t,["metadata"])!=null&&f(n,["metadata"],T1()),n}function C1(s,t){const n={},i=d(t,["bytesBase64Encoded"]);i!=null&&f(n,["imageBytes"],ya(s,i));const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function Rx(s,t){const n={},i=d(t,["safetyAttributes","categories"]);i!=null&&f(n,["categories"],i);const o=d(t,["safetyAttributes","scores"]);o!=null&&f(n,["scores"],o);const u=d(t,["contentType"]);return u!=null&&f(n,["contentType"],u),n}function S1(s,t){const n={},i=d(t,["_self"]);i!=null&&f(n,["image"],C1(s,i));const o=d(t,["raiFilteredReason"]);o!=null&&f(n,["raiFilteredReason"],o);const u=d(t,["_self"]);return u!=null&&f(n,["safetyAttributes"],Rx(s,u)),n}function _1(s,t){const n={},i=d(t,["predictions"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>S1(s,p))),f(n,["generatedImages"],u)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&f(n,["positivePromptSafetyAttributes"],Rx(s,o)),n}function k1(s,t){const n={},i=d(t,["baseModel"]);i!=null&&f(n,["baseModel"],i);const o=d(t,["createTime"]);o!=null&&f(n,["createTime"],o);const u=d(t,["updateTime"]);return u!=null&&f(n,["updateTime"],u),n}function du(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["description"]);u!=null&&f(n,["description"],u);const p=d(t,["version"]);p!=null&&f(n,["version"],p);const g=d(t,["_self"]);g!=null&&f(n,["tunedModelInfo"],k1(s,g));const v=d(t,["inputTokenLimit"]);v!=null&&f(n,["inputTokenLimit"],v);const x=d(t,["outputTokenLimit"]);x!=null&&f(n,["outputTokenLimit"],x);const y=d(t,["supportedGenerationMethods"]);return y!=null&&f(n,["supportedActions"],y),n}function E1(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["_self"]);if(o!=null){let u=Cx(s,o);Array.isArray(u)&&(u=u.map(p=>du(s,p))),f(n,["models"],u)}return n}function j1(){return{}}function A1(s,t){const n={},i=d(t,["totalTokens"]);i!=null&&f(n,["totalTokens"],i);const o=d(t,["cachedContentTokenCount"]);return o!=null&&f(n,["cachedContentTokenCount"],o),n}function D1(s,t){const n={},i=d(t,["video","uri"]);i!=null&&f(n,["uri"],i);const o=d(t,["video","encodedVideo"]);o!=null&&f(n,["videoBytes"],ya(s,o));const u=d(t,["encoding"]);return u!=null&&f(n,["mimeType"],u),n}function M1(s,t){const n={},i=d(t,["_self"]);return i!=null&&f(n,["video"],D1(s,i)),n}function R1(s,t){const n={},i=d(t,["generatedSamples"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(g=>M1(s,g))),f(n,["generatedVideos"],p)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(n,["raiMediaFilteredCount"],o);const u=d(t,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function I1(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);p!=null&&f(n,["error"],p);const g=d(t,["response","generateVideoResponse"]);return g!=null&&f(n,["response"],R1(s,g)),n}function U1(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function z1(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function L1(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function O1(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],U1(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],z1(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],L1(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const T=d(t,["text"]);return T!=null&&f(n,["text"],T),n}function V1(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>O1(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function H1(s,t){const n={},i=d(t,["citations"]);return i!=null&&f(n,["citations"],i),n}function B1(s,t){const n={},i=d(t,["content"]);i!=null&&f(n,["content"],V1(s,i));const o=d(t,["citationMetadata"]);o!=null&&f(n,["citationMetadata"],H1(s,o));const u=d(t,["finishMessage"]);u!=null&&f(n,["finishMessage"],u);const p=d(t,["finishReason"]);p!=null&&f(n,["finishReason"],p);const g=d(t,["avgLogprobs"]);g!=null&&f(n,["avgLogprobs"],g);const v=d(t,["groundingMetadata"]);v!=null&&f(n,["groundingMetadata"],v);const x=d(t,["index"]);x!=null&&f(n,["index"],x);const y=d(t,["logprobsResult"]);y!=null&&f(n,["logprobsResult"],y);const b=d(t,["safetyRatings"]);return b!=null&&f(n,["safetyRatings"],b),n}function Wh(s,t){const n={},i=d(t,["candidates"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(y=>B1(s,y))),f(n,["candidates"],x)}const o=d(t,["createTime"]);o!=null&&f(n,["createTime"],o);const u=d(t,["responseId"]);u!=null&&f(n,["responseId"],u);const p=d(t,["modelVersion"]);p!=null&&f(n,["modelVersion"],p);const g=d(t,["promptFeedback"]);g!=null&&f(n,["promptFeedback"],g);const v=d(t,["usageMetadata"]);return v!=null&&f(n,["usageMetadata"],v),n}function G1(s,t){const n={},i=d(t,["truncated"]);i!=null&&f(n,["truncated"],i);const o=d(t,["token_count"]);return o!=null&&f(n,["tokenCount"],o),n}function q1(s,t){const n={},i=d(t,["values"]);i!=null&&f(n,["values"],i);const o=d(t,["statistics"]);return o!=null&&f(n,["statistics"],G1(s,o)),n}function P1(s,t){const n={},i=d(t,["billableCharacterCount"]);return i!=null&&f(n,["billableCharacterCount"],i),n}function $1(s,t){const n={},i=d(t,["predictions[]","embeddings"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>q1(s,p))),f(n,["embeddings"],u)}const o=d(t,["metadata"]);return o!=null&&f(n,["metadata"],P1(s,o)),n}function F1(s,t){const n={},i=d(t,["gcsUri"]);i!=null&&f(n,["gcsUri"],i);const o=d(t,["bytesBase64Encoded"]);o!=null&&f(n,["imageBytes"],ya(s,o));const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function Ix(s,t){const n={},i=d(t,["safetyAttributes","categories"]);i!=null&&f(n,["categories"],i);const o=d(t,["safetyAttributes","scores"]);o!=null&&f(n,["scores"],o);const u=d(t,["contentType"]);return u!=null&&f(n,["contentType"],u),n}function bu(s,t){const n={},i=d(t,["_self"]);i!=null&&f(n,["image"],F1(s,i));const o=d(t,["raiFilteredReason"]);o!=null&&f(n,["raiFilteredReason"],o);const u=d(t,["_self"]);u!=null&&f(n,["safetyAttributes"],Ix(s,u));const p=d(t,["prompt"]);return p!=null&&f(n,["enhancedPrompt"],p),n}function Y1(s,t){const n={},i=d(t,["predictions"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>bu(s,p))),f(n,["generatedImages"],u)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&f(n,["positivePromptSafetyAttributes"],Ix(s,o)),n}function Z1(s,t){const n={},i=d(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>bu(s,u))),f(n,["generatedImages"],o)}return n}function J1(s,t){const n={},i=d(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>bu(s,u))),f(n,["generatedImages"],o)}return n}function K1(s,t){const n={},i=d(t,["endpoint"]);i!=null&&f(n,["name"],i);const o=d(t,["deployedModelId"]);return o!=null&&f(n,["deployedModelId"],o),n}function X1(s,t){const n={},i=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&f(n,["baseModel"],i);const o=d(t,["createTime"]);o!=null&&f(n,["createTime"],o);const u=d(t,["updateTime"]);return u!=null&&f(n,["updateTime"],u),n}function Q1(s,t){const n={},i=d(t,["checkpointId"]);i!=null&&f(n,["checkpointId"],i);const o=d(t,["epoch"]);o!=null&&f(n,["epoch"],o);const u=d(t,["step"]);return u!=null&&f(n,["step"],u),n}function fu(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["description"]);u!=null&&f(n,["description"],u);const p=d(t,["versionId"]);p!=null&&f(n,["version"],p);const g=d(t,["deployedModels"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(_=>K1(s,_))),f(n,["endpoints"],T)}const v=d(t,["labels"]);v!=null&&f(n,["labels"],v);const x=d(t,["_self"]);x!=null&&f(n,["tunedModelInfo"],X1(s,x));const y=d(t,["defaultCheckpointId"]);y!=null&&f(n,["defaultCheckpointId"],y);const b=d(t,["checkpoints"]);if(b!=null){let T=b;Array.isArray(T)&&(T=T.map(_=>Q1(s,_))),f(n,["checkpoints"],T)}return n}function W1(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["_self"]);if(o!=null){let u=Cx(s,o);Array.isArray(u)&&(u=u.map(p=>fu(s,p))),f(n,["models"],u)}return n}function eC(){return{}}function tC(s,t){const n={},i=d(t,["totalTokens"]);return i!=null&&f(n,["totalTokens"],i),n}function nC(s,t){const n={},i=d(t,["tokensInfo"]);return i!=null&&f(n,["tokensInfo"],i),n}function aC(s,t){const n={},i=d(t,["gcsUri"]);i!=null&&f(n,["uri"],i);const o=d(t,["bytesBase64Encoded"]);o!=null&&f(n,["videoBytes"],ya(s,o));const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function iC(s,t){const n={},i=d(t,["_self"]);return i!=null&&f(n,["video"],aC(s,i)),n}function sC(s,t){const n={},i=d(t,["videos"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(g=>iC(s,g))),f(n,["generatedVideos"],p)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(n,["raiMediaFilteredCount"],o);const u=d(t,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function lC(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);p!=null&&f(n,["error"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],sC(s,g)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rC="Content-Type",oC="X-Server-Timeout",cC="User-Agent",mu="x-goog-api-client",uC="1.3.0",dC=`google-genai-sdk/${uC}`,fC="v1beta1",mC="v1beta",ex=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Ux extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class pu extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class pC{constructor(t){var n,i;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:fC,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:mC,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,i);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))o.searchParams.append(p,String(g));let u={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=t.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,n,t.abortSignal),this.unaryApiCall(o,u,t.httpMethod)}patchHttpOptions(t,n){const i=JSON.parse(JSON.stringify(t));for(const[o,u]of Object.entries(n))typeof u=="object"?i[o]=Object.assign(Object.assign({},i[o]),u):u!==void 0&&(i[o]=u);return i}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let u={};return u.body=t.body,u=await this.includeExtraHttpOptionsToRequestInit(u,n,t.abortSignal),this.streamApiCall(o,u,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,i){if(n&&n.timeout||i){const o=new AbortController,u=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=u}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await tx(o),new ru(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await tx(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){var n;return Ui(this,arguments,function*(){const o=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),u=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let p="";for(;;){const{done:g,value:v}=yield ct(o.read());if(g){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const x=u.decode(v);try{const b=JSON.parse(x);if("error"in b){const T=JSON.parse(JSON.stringify(b.error)),_=T.status,S=T.code,w=`got status: ${_}. ${JSON.stringify(b)}`;if(S>=400&&S<500)throw new Ux(w);if(S>=500&&S<600)throw new pu(w)}}catch(b){const T=b;if(T.name==="ClientError"||T.name==="ServerError")throw b}p+=x;let y=p.match(ex);for(;y;){const b=y[1];try{const T=new Response(b,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ct(new ru(T)),p=p.slice(y[0].length),y=p.match(ex)}catch(T){throw new Error(`exception parsing stream chunk ${b}. ${T}`)}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const t={},n=dC+" "+this.clientOptions.userAgentExtra;return t[cC]=n,t[mu]=n,t[rC]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))n.append(i,o);t.timeout&&t.timeout>0&&n.append(oC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const u=this.clientOptions.uploader,p=await u.stat(t);o.sizeBytes=String(p.size);const g=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=g;const v=await this.fetchUploadUrl(o,n);return u.upload(t,v,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n){var i;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const u={file:t},p=await this.request({path:Ae("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:o});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(i=p==null?void 0:p.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function tx(s){var t;if(s===void 0)throw new pu("response is undefined");if(!s.ok){const n=s.status,i=s.statusText;let o;!((t=s.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await s.json():o={error:{message:await s.text(),code:s.status,status:s.statusText}};const u=`got status: ${n} ${i}. ${JSON.stringify(o)}`;throw n>=400&&n<500?new Ux(u):n>=500&&n<600?new pu(u):new Error(u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hC="mcp_used/unknown";function zx(s){for(const t of s)if(Nu(t)||typeof t=="object"&&"inputSchema"in t)return!0;return!1}function Lx(s){var t;const n=(t=s[mu])!==null&&t!==void 0?t:"";s[mu]=(n+` ${hC}`).trimStart()}function xC(s){var t,n,i;return(i=(n=(t=s.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>Nu(o)))!==null&&i!==void 0?i:!1}function gC(s){var t,n,i;return(i=(n=(t=s.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>!Nu(o)))!==null&&i!==void 0?i:!1}function Nu(s){return s!==null&&typeof s=="object"&&s instanceof Tu}function vC(s,t=100){return Ui(this,arguments,function*(){let i,o=0;for(;o<t;){const u=yield ct(s.listTools({cursor:i}));for(const p of u.tools)yield yield ct(p),o++;if(!u.nextCursor)break;i=u.nextCursor}})}class Tu{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Tu(t,n)}async initialize(){var t,n,i,o;if(this.mcpTools.length>0)return;const u={},p=[];for(const y of this.mcpClients)try{for(var g=!0,v=(n=void 0,Ps(vC(y))),x;x=await v.next(),t=x.done,!t;g=!0){o=x.value,g=!1;const b=o;p.push(b);const T=b.name;if(u[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);u[T]=y}}catch(b){n={error:b}}finally{try{!g&&!t&&(i=v.return)&&await i.call(v)}finally{if(n)throw n.error}}this.mcpTools=p,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),S0(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const i of t)if(i.name in this.functionNameToMcpClient){const u=await this.functionNameToMcpClient[i.name].callTool({name:i.name,arguments:i.args});n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function yC(s,t,n){const i=new f0;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const u=MT(s,o);Object.assign(i,u),t(i)}class bC{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i}async connect(t){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),p=wC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),v=`${o}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${g}`;let x=()=>{};const y=new Promise(M=>{x=M}),b=t.callbacks,T=function(){x({})},_=this.apiClient,S={onopen:T,onmessage:M=>{yC(_,b.onmessage,M)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(M){},onclose:(i=b==null?void 0:b.onclose)!==null&&i!==void 0?i:function(M){}},w=this.webSocketFactory.create(v,TC(p),S);w.connect(),await y;const E=lt(this.apiClient,t.model),U=jx(this.apiClient,{model:E}),R=uu(this.apiClient,{setup:U});return w.send(JSON.stringify(R)),new NC(w,this.apiClient)}}class NC{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=FN(this.apiClient,t),i=Ax(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=YN(this.apiClient,t),i=uu(this.apiClient,n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(t){const n=uu(this.apiClient,{playbackControl:t});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ri.PLAY)}pause(){this.sendPlaybackControl(Ri.PAUSE)}stop(){this.sendPlaybackControl(Ri.STOP)}resetContext(){this.sendPlaybackControl(Ri.RESET_CONTEXT)}close(){this.conn.close()}}function TC(s){const t={};return s.forEach((n,i)=>{t[i]=n}),t}function wC(s){const t=new Headers;for(const[n,i]of Object.entries(s))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function SC(s,t,n){const i=new d0;let o;if(n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),s.isVertexAI()){const u=wT(s,o);Object.assign(i,u)}else{const u=TT(s,o);Object.assign(i,u)}t(i)}class _C{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i,this.music=new bC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,i,o,u,p,g;const v=this.apiClient.getWebsocketBaseUrl(),x=this.apiClient.getApiVersion();let y;const b=this.apiClient.getDefaultHeaders();t.config&&t.config.tools&&zx(t.config.tools)&&Lx(b);const T=AC(b);if(this.apiClient.isVertexAI())y=`${v}/ws/google.cloud.aiplatform.${x}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T);else{const I=this.apiClient.getApiKey();let B="BidiGenerateContent",te="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),B="BidiGenerateContentConstrained",te="access_token"),y=`${v}/ws/google.ai.generativelanguage.${x}.GenerativeService.${B}?${te}=${I}`}let _=()=>{};const S=new Promise(I=>{_=I}),w=t.callbacks,E=function(){var I;(I=w==null?void 0:w.onopen)===null||I===void 0||I.call(w),_({})},U=this.apiClient,R={onopen:E,onmessage:I=>{SC(U,w.onmessage,I)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(I){},onclose:(i=w==null?void 0:w.onclose)!==null&&i!==void 0?i:function(I){}},M=this.webSocketFactory.create(y,jC(T),R);M.connect(),await S;let H=lt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const I=this.apiClient.getProject(),B=this.apiClient.getLocation();H=`projects/${I}/locations/${B}/`+H}let O={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[wr.AUDIO]}:t.config.responseModalities=[wr.AUDIO]),!((u=t.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Q=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],D=[];for(const I of Q)if(this.isCallableTool(I)){const B=I;D.push(await B.tool())}else D.push(I);D.length>0&&(t.config.tools=D);const L={model:H,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?O=VN(this.apiClient,L):O=ON(this.apiClient,L),delete O.config,M.send(JSON.stringify(O)),new EC(M,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const kC={turnComplete:!0};class EC{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=pn(t,n.turns),t.isVertexAI()?i=i.map(o=>$i(t,o)):i=i.map(o=>Er(t,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const u of i){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!t.isVertexAI()&&!("id"in u))throw new Error(CC)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},kC),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:$N(this.apiClient,t)}:n={realtimeInput:PN(this.apiClient,t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function jC(s){const t={};return s.forEach((n,i)=>{t[i]=n}),t}function AC(s){const t=new Headers;for(const[n,i]of Object.entries(s))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nx=10;function ax(s){var t,n,i;if(!((t=s==null?void 0:s.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let o=!1;for(const p of(n=s==null?void 0:s.tools)!==null&&n!==void 0?n:[])if(xr(p)){o=!0;break}if(!o)return!0;const u=(i=s==null?void 0:s.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function xr(s){return"callTool"in s&&typeof s.callTool=="function"}function ix(s){var t;return!(!((t=s==null?void 0:s.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DC extends Pi{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var i,o,u,p,g;const v=await this.processParamsForMcpUsage(n);if(!xC(n)||ax(n.config))return await this.generateContentInternal(v);if(gC(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let x,y;const b=pn(this.apiClient,v.contents),T=(u=(o=(i=v.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&u!==void 0?u:nx;let _=0;for(;_<T&&(x=await this.generateContentInternal(v),!(!x.functionCalls||x.functionCalls.length===0));){const S=x.candidates[0].content,w=[];for(const E of(g=(p=n.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(xr(E)){const R=await E.callTool(x.functionCalls);w.push(...R)}_++,y={role:"user",parts:w},v.contents=pn(this.apiClient,v.contents),v.contents.push(S),v.contents.push(y),ix(v.config)&&(b.push(S),b.push(y))}return ix(v.config)&&(x.automaticFunctionCallingHistory=b),x},this.generateContentStream=async n=>{if(ax(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let u;const p=[];if(i!=null&&i.generatedImages)for(const v of i.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((o=v==null?void 0:v.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?u=v==null?void 0:v.safetyAttributes:p.push(v);let g;return u?g={generatedImages:p,positivePromptSafetyAttributes:u}:g={generatedImages:p},g}),this.list=async n=>{var i;const p={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((i=p.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new kr(Gi.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)}}async processParamsForMcpUsage(t){var n,i,o;const u=(n=t.config)===null||n===void 0?void 0:n.tools;if(!u)return t;const p=await Promise.all(u.map(async v=>xr(v)?await v.tool():v)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&zx(t.config.tools)){const v=(o=(i=t.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let x=Object.assign({},v);Object.keys(x).length===0&&(x=this.apiClient.getDefaultHeaders()),Lx(x),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:x})}return g}async initAfcToolsMap(t){var n,i,o;const u=new Map;for(const p of(i=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(xr(p)){const g=p,v=await g.tool();for(const x of(o=v.functionDeclarations)!==null&&o!==void 0?o:[]){if(!x.name)throw new Error("Function declaration name is required.");if(u.has(x.name))throw new Error(`Duplicate tool declaration name: ${x.name}`);u.set(x.name,g)}}return u}async processAfcStream(t){var n,i,o;const u=(o=(i=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:nx;let p=!1,g=0;const v=await this.initAfcToolsMap(t);return(function(x,y,b){var T,_;return Ui(this,arguments,function*(){for(var S,w,E,U;g<u;){p&&(g++,p=!1);const O=yield ct(x.processParamsForMcpUsage(b)),Q=yield ct(x.generateContentStreamInternal(O)),D=[],L=[];try{for(var R=!0,M=(w=void 0,Ps(Q)),H;H=yield ct(M.next()),S=H.done,!S;R=!0){U=H.value,R=!1;const I=U;if(yield yield ct(I),I.candidates&&(!((T=I.candidates[0])===null||T===void 0)&&T.content)){L.push(I.candidates[0].content);for(const B of(_=I.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(g<u&&B.functionCall){if(!B.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(B.functionCall.name)){const te=yield ct(y.get(B.functionCall.name).callTool([B.functionCall]));D.push(...te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${B.functionCall.name}`)}}}}catch(I){w={error:I}}finally{try{!R&&!S&&(E=M.return)&&(yield ct(E.call(M)))}finally{if(w)throw w.error}}if(D.length>0){p=!0;const I=new Hs;I.candidates=[{content:{role:"user",parts:D}}],yield yield ct(I);const B=[];B.push(...L),B.push({role:"user",parts:D});const te=pn(x.apiClient,b.contents).concat(B);b.contents=te}else break}})})(this,v,t)}async generateContentInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Xh(this.apiClient,t);return g=Ae("{model}:generateContent",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=Wh(this.apiClient,y),T=new Hs;return Object.assign(T,b),T})}else{const x=Kh(this.apiClient,t);return g=Ae("{model}:generateContent",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=Qh(this.apiClient,y),T=new Hs;return Object.assign(T,b),T})}}async generateContentStreamInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Xh(this.apiClient,t);g=Ae("{model}:streamGenerateContent?alt=sse",x._url),v=x._query,delete x.config,delete x._url,delete x._query;const y=this.apiClient;return p=y.requestStream({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),p.then(function(b){return Ui(this,arguments,function*(){var T,_,S,w;try{for(var E=!0,U=Ps(b),R;R=yield ct(U.next()),T=R.done,!T;E=!0){w=R.value,E=!1;const H=Wh(y,yield ct(w.json())),O=new Hs;Object.assign(O,H),yield yield ct(O)}}catch(M){_={error:M}}finally{try{!E&&!T&&(S=U.return)&&(yield ct(S.call(U)))}finally{if(_)throw _.error}}})})}else{const x=Kh(this.apiClient,t);g=Ae("{model}:streamGenerateContent?alt=sse",x._url),v=x._query,delete x.config,delete x._url,delete x._query;const y=this.apiClient;return p=y.requestStream({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}),p.then(function(b){return Ui(this,arguments,function*(){var T,_,S,w;try{for(var E=!0,U=Ps(b),R;R=yield ct(U.next()),T=R.done,!T;E=!0){w=R.value,E=!1;const H=Qh(y,yield ct(w.json())),O=new Hs;Object.assign(O,H),yield yield ct(O)}}catch(M){_={error:M}}finally{try{!E&&!T&&(S=U.return)&&(yield ct(S.call(U)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=qw(this.apiClient,t);return g=Ae("{model}:predict",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=$1(this.apiClient,y),T=new Ah;return Object.assign(T,b),T})}else{const x=aw(this.apiClient,t);return g=Ae("{model}:batchEmbedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=w1(this.apiClient,y),T=new Ah;return Object.assign(T,b),T})}}async generateImagesInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=$w(this.apiClient,t);return g=Ae("{model}:predict",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=Y1(this.apiClient,y),T=new Dh;return Object.assign(T,b),T})}else{const x=sw(this.apiClient,t);return g=Ae("{model}:predict",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=_1(this.apiClient,y),T=new Dh;return Object.assign(T,b),T})}}async editImageInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=Qw(this.apiClient,t);return u=Ae("{model}:predict",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>{const x=Z1(this.apiClient,v),y=new s0;return Object.assign(y,x),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=e1(this.apiClient,t);return u=Ae("{model}:predict",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>{const x=J1(this.apiClient,v),y=new l0;return Object.assign(y,x),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=t1(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>fu(this.apiClient,y))}else{const x=lw(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>du(this.apiClient,y))}}async listInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=a1(this.apiClient,t);return g=Ae("{models_url}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=W1(this.apiClient,y),T=new Mh;return Object.assign(T,b),T})}else{const x=ow(this.apiClient,t);return g=Ae("{models_url}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=E1(this.apiClient,y),T=new Mh;return Object.assign(T,b),T})}}async update(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=s1(this.apiClient,t);return g=Ae("{model}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>fu(this.apiClient,y))}else{const x=uw(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>du(this.apiClient,y))}}async delete(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=l1(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(()=>{const y=eC(),b=new Rh;return Object.assign(b,y),b})}else{const x=dw(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(()=>{const y=j1(),b=new Rh;return Object.assign(b,y),b})}}async countTokens(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=o1(this.apiClient,t);return g=Ae("{model}:countTokens",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=tC(this.apiClient,y),T=new Ih;return Object.assign(T,b),T})}else{const x=mw(this.apiClient,t);return g=Ae("{model}:countTokens",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=A1(this.apiClient,y),T=new Ih;return Object.assign(T,b),T})}}async computeTokens(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=c1(this.apiClient,t);return u=Ae("{model}:computeTokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>{const x=nC(this.apiClient,v),y=new r0;return Object.assign(y,x),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=d1(this.apiClient,t);return g=Ae("{model}:predictLongRunning",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>lC(this.apiClient,y))}else{const x=xw(this.apiClient,t);return g=Ae("{model}:predictLongRunning",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>I1(this.apiClient,y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MC(s,t){const n={},i=d(t,["operationName"]);i!=null&&f(n,["_url","operationName"],i);const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function RC(s,t){const n={},i=d(t,["operationName"]);i!=null&&f(n,["_url","operationName"],i);const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function IC(s,t){const n={},i=d(t,["operationName"]);i!=null&&f(n,["operationName"],i);const o=d(t,["resourceName"]);o!=null&&f(n,["_url","resourceName"],o);const u=d(t,["config"]);return u!=null&&f(n,["config"],u),n}function UC(s,t){const n={},i=d(t,["video","uri"]);i!=null&&f(n,["uri"],i);const o=d(t,["video","encodedVideo"]);o!=null&&f(n,["videoBytes"],ya(s,o));const u=d(t,["encoding"]);return u!=null&&f(n,["mimeType"],u),n}function zC(s,t){const n={},i=d(t,["_self"]);return i!=null&&f(n,["video"],UC(s,i)),n}function LC(s,t){const n={},i=d(t,["generatedSamples"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(g=>zC(s,g))),f(n,["generatedVideos"],p)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(n,["raiMediaFilteredCount"],o);const u=d(t,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function OC(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);p!=null&&f(n,["error"],p);const g=d(t,["response","generateVideoResponse"]);return g!=null&&f(n,["response"],LC(s,g)),n}function VC(s,t){const n={},i=d(t,["gcsUri"]);i!=null&&f(n,["uri"],i);const o=d(t,["bytesBase64Encoded"]);o!=null&&f(n,["videoBytes"],ya(s,o));const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function HC(s,t){const n={},i=d(t,["_self"]);return i!=null&&f(n,["video"],VC(s,i)),n}function BC(s,t){const n={},i=d(t,["videos"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(g=>HC(s,g))),f(n,["generatedVideos"],p)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(n,["raiMediaFilteredCount"],o);const u=d(t,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function sx(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);p!=null&&f(n,["error"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],BC(s,g)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GC extends Pi{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let u;return i&&"httpOptions"in i&&(u=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:u}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=RC(this.apiClient,t);return g=Ae("{operationName}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>sx(this.apiClient,y))}else{const x=MC(this.apiClient,t);return g=Ae("{operationName}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>OC(this.apiClient,y))}}async fetchPredictVideosOperationInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=IC(this.apiClient,t);return u=Ae("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>sx(this.apiClient,v))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qC(s,t){const n={},i=d(t,["voiceName"]);return i!=null&&f(n,["voiceName"],i),n}function Ox(s,t){const n={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(n,["prebuiltVoiceConfig"],qC(s,i)),n}function PC(s,t){const n={},i=d(t,["speaker"]);i!=null&&f(n,["speaker"],i);const o=d(t,["voiceConfig"]);return o!=null&&f(n,["voiceConfig"],Ox(s,o)),n}function $C(s,t){const n={},i=d(t,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>PC(s,u))),f(n,["speakerVoiceConfigs"],o)}return n}function FC(s,t){const n={},i=d(t,["voiceConfig"]);i!=null&&f(n,["voiceConfig"],Ox(s,i));const o=d(t,["multiSpeakerVoiceConfig"]);o!=null&&f(n,["multiSpeakerVoiceConfig"],$C(s,o));const u=d(t,["languageCode"]);return u!=null&&f(n,["languageCode"],u),n}function YC(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function ZC(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function JC(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(n,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function KC(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],YC(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],ZC(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],JC(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const T=d(t,["text"]);return T!=null&&f(n,["text"],T),n}function XC(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>KC(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function QC(s,t){const n={},i=d(t,["behavior"]);i!=null&&f(n,["behavior"],i);const o=d(t,["description"]);o!=null&&f(n,["description"],o);const u=d(t,["name"]);u!=null&&f(n,["name"],u);const p=d(t,["parameters"]);p!=null&&f(n,["parameters"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],g),n}function WC(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function eS(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],WC(s,i)),n}function tS(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function nS(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],tS(s,i)),n}function aS(){return{}}function iS(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(x=>QC(s,x))),f(n,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearch"]);o!=null&&f(n,["googleSearch"],eS(s,o));const u=d(t,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],nS(s,u)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(n,["urlContext"],aS());const g=d(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function sS(s,t){const n={},i=d(t,["handle"]);if(i!=null&&f(n,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function lx(){return{}}function lS(s,t){const n={},i=d(t,["disabled"]);i!=null&&f(n,["disabled"],i);const o=d(t,["startOfSpeechSensitivity"]);o!=null&&f(n,["startOfSpeechSensitivity"],o);const u=d(t,["endOfSpeechSensitivity"]);u!=null&&f(n,["endOfSpeechSensitivity"],u);const p=d(t,["prefixPaddingMs"]);p!=null&&f(n,["prefixPaddingMs"],p);const g=d(t,["silenceDurationMs"]);return g!=null&&f(n,["silenceDurationMs"],g),n}function rS(s,t){const n={},i=d(t,["automaticActivityDetection"]);i!=null&&f(n,["automaticActivityDetection"],lS(s,i));const o=d(t,["activityHandling"]);o!=null&&f(n,["activityHandling"],o);const u=d(t,["turnCoverage"]);return u!=null&&f(n,["turnCoverage"],u),n}function oS(s,t){const n={},i=d(t,["targetTokens"]);return i!=null&&f(n,["targetTokens"],i),n}function cS(s,t){const n={},i=d(t,["triggerTokens"]);i!=null&&f(n,["triggerTokens"],i);const o=d(t,["slidingWindow"]);return o!=null&&f(n,["slidingWindow"],oS(s,o)),n}function uS(s,t){const n={},i=d(t,["proactiveAudio"]);return i!=null&&f(n,["proactiveAudio"],i),n}function dS(s,t,n){const i={},o=d(t,["generationConfig"]);n!==void 0&&o!=null&&f(n,["setup","generationConfig"],o);const u=d(t,["responseModalities"]);n!==void 0&&u!=null&&f(n,["setup","generationConfig","responseModalities"],u);const p=d(t,["temperature"]);n!==void 0&&p!=null&&f(n,["setup","generationConfig","temperature"],p);const g=d(t,["topP"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topP"],g);const v=d(t,["topK"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","topK"],v);const x=d(t,["maxOutputTokens"]);n!==void 0&&x!=null&&f(n,["setup","generationConfig","maxOutputTokens"],x);const y=d(t,["mediaResolution"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","mediaResolution"],y);const b=d(t,["seed"]);n!==void 0&&b!=null&&f(n,["setup","generationConfig","seed"],b);const T=d(t,["speechConfig"]);n!==void 0&&T!=null&&f(n,["setup","generationConfig","speechConfig"],FC(s,vu(s,T)));const _=d(t,["enableAffectiveDialog"]);n!==void 0&&_!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],_);const S=d(t,["systemInstruction"]);n!==void 0&&S!=null&&f(n,["setup","systemInstruction"],XC(s,Ut(s,S)));const w=d(t,["tools"]);if(n!==void 0&&w!=null){let Q=Ys(s,w);Array.isArray(Q)&&(Q=Q.map(D=>iS(s,Fs(s,D)))),f(n,["setup","tools"],Q)}const E=d(t,["sessionResumption"]);n!==void 0&&E!=null&&f(n,["setup","sessionResumption"],sS(s,E));const U=d(t,["inputAudioTranscription"]);n!==void 0&&U!=null&&f(n,["setup","inputAudioTranscription"],lx());const R=d(t,["outputAudioTranscription"]);n!==void 0&&R!=null&&f(n,["setup","outputAudioTranscription"],lx());const M=d(t,["realtimeInputConfig"]);n!==void 0&&M!=null&&f(n,["setup","realtimeInputConfig"],rS(s,M));const H=d(t,["contextWindowCompression"]);n!==void 0&&H!=null&&f(n,["setup","contextWindowCompression"],cS(s,H));const O=d(t,["proactivity"]);return n!==void 0&&O!=null&&f(n,["setup","proactivity"],uS(s,O)),i}function fS(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["setup","model"],lt(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],dS(s,o,n)),n}function mS(s,t,n){const i={},o=d(t,["expireTime"]);n!==void 0&&o!=null&&f(n,["expireTime"],o);const u=d(t,["newSessionExpireTime"]);n!==void 0&&u!=null&&f(n,["newSessionExpireTime"],u);const p=d(t,["uses"]);n!==void 0&&p!=null&&f(n,["uses"],p);const g=d(t,["liveConnectConstraints"]);n!==void 0&&g!=null&&f(n,["bidiGenerateContentSetup"],fS(s,g));const v=d(t,["lockAdditionalFields"]);return n!==void 0&&v!=null&&f(n,["fieldMask"],v),i}function pS(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],mS(s,i,n)),n}function hS(s,t){const n={},i=d(t,["name"]);return i!=null&&f(n,["name"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xS(s){const t=[];for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)){const i=s[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(u=>`${n}.${u}`);t.push(...o)}else t.push(n)}return t.join(",")}function gS(s,t){let n=null;const i=s.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const u=i.setup;typeof u=="object"&&u!==null?(s.bidiGenerateContentSetup=u,n=u):delete s.bidiGenerateContentSetup}else i!==void 0&&delete s.bidiGenerateContentSetup;const o=s.fieldMask;if(n){const u=xS(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)u?s.fieldMask=u:delete s.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];o.length>0&&(g=o.map(x=>p.includes(x)?`generationConfig.${x}`:x));const v=[];u&&v.push(u),g.length>0&&v.push(...g),v.length>0?s.fieldMask=v.join(","):delete s.fieldMask}else delete s.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?s.fieldMask=o.join(","):delete s.fieldMask;return s}class vS extends Pi{constructor(t){super(),this.apiClient=t}async create(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=pS(this.apiClient,t);u=Ae("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const v=gS(g,t.config);return o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),o.then(x=>hS(this.apiClient,x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yS(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],i);const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function bS(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);n!==void 0&&u!=null&&f(n,["_query","pageToken"],u);const p=d(t,["filter"]);return n!==void 0&&p!=null&&f(n,["_query","filter"],p),i}function NS(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],bS(s,i,n)),n}function TS(s,t){const n={},i=d(t,["textInput"]);i!=null&&f(n,["textInput"],i);const o=d(t,["output"]);return o!=null&&f(n,["output"],o),n}function wS(s,t){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(t,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>TS(s,u))),f(n,["examples","examples"],o)}return n}function CS(s,t,n){const i={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=d(t,["tunedModelDisplayName"]);if(n!==void 0&&o!=null&&f(n,["displayName"],o),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=d(t,["epochCount"]);n!==void 0&&u!=null&&f(n,["tuningTask","hyperparameters","epochCount"],u);const p=d(t,["learningRateMultiplier"]);if(p!=null&&f(i,["tuningTask","hyperparameters","learningRateMultiplier"],p),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=d(t,["batchSize"]);n!==void 0&&g!=null&&f(n,["tuningTask","hyperparameters","batchSize"],g);const v=d(t,["learningRate"]);return n!==void 0&&v!=null&&f(n,["tuningTask","hyperparameters","learningRate"],v),i}function SS(s,t){const n={},i=d(t,["baseModel"]);i!=null&&f(n,["baseModel"],i);const o=d(t,["trainingDataset"]);o!=null&&f(n,["tuningTask","trainingData"],wS(s,o));const u=d(t,["config"]);return u!=null&&f(n,["config"],CS(s,u,n)),n}function _S(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],i);const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function kS(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);n!==void 0&&u!=null&&f(n,["_query","pageToken"],u);const p=d(t,["filter"]);return n!==void 0&&p!=null&&f(n,["_query","filter"],p),i}function ES(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],kS(s,i,n)),n}function jS(s,t,n){const i={},o=d(t,["gcsUri"]);if(n!==void 0&&o!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],o),d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function AS(s,t){const n={},i=d(t,["gcsUri"]);return i!=null&&f(n,["validationDatasetUri"],i),n}function DS(s,t,n){const i={},o=d(t,["validationDataset"]);n!==void 0&&o!=null&&f(n,["supervisedTuningSpec"],AS(s,o));const u=d(t,["tunedModelDisplayName"]);n!==void 0&&u!=null&&f(n,["tunedModelDisplayName"],u);const p=d(t,["description"]);n!==void 0&&p!=null&&f(n,["description"],p);const g=d(t,["epochCount"]);n!==void 0&&g!=null&&f(n,["supervisedTuningSpec","hyperParameters","epochCount"],g);const v=d(t,["learningRateMultiplier"]);n!==void 0&&v!=null&&f(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v);const x=d(t,["exportLastCheckpointOnly"]);n!==void 0&&x!=null&&f(n,["supervisedTuningSpec","exportLastCheckpointOnly"],x);const y=d(t,["adapterSize"]);if(n!==void 0&&y!=null&&f(n,["supervisedTuningSpec","hyperParameters","adapterSize"],y),d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function MS(s,t){const n={},i=d(t,["baseModel"]);i!=null&&f(n,["baseModel"],i);const o=d(t,["trainingDataset"]);o!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],jS(s,o,n));const u=d(t,["config"]);return u!=null&&f(n,["config"],DS(s,u,n)),n}function RS(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["model"],i);const o=d(t,["name"]);return o!=null&&f(n,["endpoint"],o),n}function Vx(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["state"]);o!=null&&f(n,["state"],Nx(s,o));const u=d(t,["createTime"]);u!=null&&f(n,["createTime"],u);const p=d(t,["tuningTask","startTime"]);p!=null&&f(n,["startTime"],p);const g=d(t,["tuningTask","completeTime"]);g!=null&&f(n,["endTime"],g);const v=d(t,["updateTime"]);v!=null&&f(n,["updateTime"],v);const x=d(t,["description"]);x!=null&&f(n,["description"],x);const y=d(t,["baseModel"]);y!=null&&f(n,["baseModel"],y);const b=d(t,["_self"]);b!=null&&f(n,["tunedModel"],RS(s,b));const T=d(t,["distillationSpec"]);T!=null&&f(n,["distillationSpec"],T);const _=d(t,["experiment"]);_!=null&&f(n,["experiment"],_);const S=d(t,["labels"]);S!=null&&f(n,["labels"],S);const w=d(t,["pipelineJob"]);w!=null&&f(n,["pipelineJob"],w);const E=d(t,["serviceAccount"]);E!=null&&f(n,["serviceAccount"],E);const U=d(t,["tunedModelDisplayName"]);return U!=null&&f(n,["tunedModelDisplayName"],U),n}function IS(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["tunedModels"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>Vx(s,p))),f(n,["tuningJobs"],u)}return n}function US(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);return p!=null&&f(n,["error"],p),n}function zS(s,t){const n={},i=d(t,["checkpointId"]);i!=null&&f(n,["checkpointId"],i);const o=d(t,["epoch"]);o!=null&&f(n,["epoch"],o);const u=d(t,["step"]);u!=null&&f(n,["step"],u);const p=d(t,["endpoint"]);return p!=null&&f(n,["endpoint"],p),n}function LS(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["model"],i);const o=d(t,["endpoint"]);o!=null&&f(n,["endpoint"],o);const u=d(t,["checkpoints"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>zS(s,g))),f(n,["checkpoints"],p)}return n}function hu(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["state"]);o!=null&&f(n,["state"],Nx(s,o));const u=d(t,["createTime"]);u!=null&&f(n,["createTime"],u);const p=d(t,["startTime"]);p!=null&&f(n,["startTime"],p);const g=d(t,["endTime"]);g!=null&&f(n,["endTime"],g);const v=d(t,["updateTime"]);v!=null&&f(n,["updateTime"],v);const x=d(t,["error"]);x!=null&&f(n,["error"],x);const y=d(t,["description"]);y!=null&&f(n,["description"],y);const b=d(t,["baseModel"]);b!=null&&f(n,["baseModel"],b);const T=d(t,["tunedModel"]);T!=null&&f(n,["tunedModel"],LS(s,T));const _=d(t,["supervisedTuningSpec"]);_!=null&&f(n,["supervisedTuningSpec"],_);const S=d(t,["tuningDataStats"]);S!=null&&f(n,["tuningDataStats"],S);const w=d(t,["encryptionSpec"]);w!=null&&f(n,["encryptionSpec"],w);const E=d(t,["partnerModelTuningSpec"]);E!=null&&f(n,["partnerModelTuningSpec"],E);const U=d(t,["distillationSpec"]);U!=null&&f(n,["distillationSpec"],U);const R=d(t,["experiment"]);R!=null&&f(n,["experiment"],R);const M=d(t,["labels"]);M!=null&&f(n,["labels"],M);const H=d(t,["pipelineJob"]);H!=null&&f(n,["pipelineJob"],H);const O=d(t,["serviceAccount"]);O!=null&&f(n,["serviceAccount"],O);const Q=d(t,["tunedModelDisplayName"]);return Q!=null&&f(n,["tunedModelDisplayName"],Q),n}function OS(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["tuningJobs"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>hu(s,p))),f(n,["tuningJobs"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VS extends Pi{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new kr(Gi.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:lu.JOB_STATE_QUEUED}}}}async getInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=_S(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>hu(this.apiClient,y))}else{const x=yS(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>Vx(this.apiClient,y))}}async listInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=ES(this.apiClient,t);return g=Ae("tuningJobs",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=OS(this.apiClient,y),T=new Uh;return Object.assign(T,b),T})}else{const x=NS(this.apiClient,t);return g=Ae("tunedModels",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=IS(this.apiClient,y),T=new Uh;return Object.assign(T,b),T})}}async tuneInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=MS(this.apiClient,t);return u=Ae("tuningJobs",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>hu(this.apiClient,v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=SS(this.apiClient,t);return u=Ae("tunedModels",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>US(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HS{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const BS=1024*1024*8,GS=3,qS=1e3,PS=2,Xc="x-goog-upload-status";async function $S(s,t,n){var i,o,u;let p=0,g=0,v=new ru(new Response),x="upload";for(p=s.size;g<p;){const b=Math.min(BS,p-g),T=s.slice(g,g+b);g+b>=p&&(x+=", finalize");let _=0,S=qS;for(;_<GS&&(v=await n.request({path:"",body:T,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":String(g),"Content-Length":String(b)}}}),!(!((i=v==null?void 0:v.headers)===null||i===void 0)&&i[Xc]));)_++,await YS(S),S=S*PS;if(g+=b,((o=v==null?void 0:v.headers)===null||o===void 0?void 0:o[Xc])!=="active")break;if(p<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(v==null?void 0:v.json());if(((u=v==null?void 0:v.headers)===null||u===void 0?void 0:u[Xc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function FS(s){return{size:s.size,type:s.type}}function YS(s){return new Promise(t=>setTimeout(t,s))}class ZS{async upload(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await $S(t,n,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await FS(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JS{create(t,n,i){return new KS(t,n,i)}}class KS{constructor(t,n,i){this.url=t,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rx="x-goog-api-key";class XS{constructor(t){this.apiKey=t}async addAuthHeaders(t){if(t.get(rx)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(rx,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QS="gl-node/";class WS{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const i=i0(t,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion;const o=new XS(this.apiKey);this.apiClient=new pC({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:QS+"web",uploader:new ZS,downloader:new HS}),this.models=new DC(this.apiClient),this.live=new _C(this.apiClient,o,new JS),this.chats=new Ab(this.models,this.apiClient),this.caches=new kb(this.apiClient),this.files=new qb(this.apiClient),this.operations=new GC(this.apiClient),this.authTokens=new vS(this.apiClient),this.tunings=new VS(this.apiClient)}}var e_={};const jr=()=>{const s=localStorage.getItem("GEMINI_API_KEY")||e_.API_KEY;if(!s)throw new Error("API Key not found. Please set it in Settings.");return new WS({apiKey:s})},t_=async(s,t)=>{const n=jr(),i=s.memories.map(g=>`${g.date}: ${g.event} (${g.emotion})`).join(`
`),o=s.notes.map(g=>`${g.date}: ${g.text}`).join(`
`),u=`
         .
     (): ${t.name}, : ${t.role}, : ${t.archetype}.
    : ${s.name}, : ${s.status}, : ${s.hobbies.join(", ")}.
    
     :
    ${i}
    
    :
    ${o}
    
        AI-    .
      :
    1.  (      ).
    2.   (    ).
    3.   (    ).
    4. 3-5     .
    
       JSON.
  `,p=await n.models.generateContent({model:"gemini-3-flash-preview",contents:u,config:{responseMimeType:"application/json",responseSchema:{type:be.OBJECT,properties:{summary:{type:be.STRING},interests:{type:be.ARRAY,items:{type:be.STRING}},tone:{type:be.STRING},topics:{type:be.ARRAY,items:{type:be.STRING}}}}}});return JSON.parse(p.text)},n_=async(s,t,n)=>{const i=jr(),o=`
      -  '. 
       "${t}"   "${s}".
      .

        ,       :
    1.    ( ).
    2.     ( ).
    3.     ( ).  ,   ,       .
    4.    .
    5.     YYYY-MM-DD ( ,  NULL).

       JSON.
  `,u=await i.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{responseMimeType:"application/json",responseSchema:{type:be.OBJECT,properties:{hobbies:{type:be.ARRAY,items:{type:be.STRING}},goals:{type:be.ARRAY,items:{type:be.STRING}},notes:{type:be.ARRAY,items:{type:be.STRING}},summary:{type:be.STRING},birthDate:{type:be.STRING,nullable:!0}}}}});return JSON.parse(u.text)},a_=async(s,t,n)=>{const i=jr(),o=`
          : ${n.name} (${n.race} ${n.archetype}).
     : ${n.vision}
    : ${n.goals.join(", ")}

        : "${s}".
     : ${t}

           GTD  12- :
    1. " " (Next Actions)  3-5      .
    2. "" (Bosses)  2-3  ,     3  .
    3. "" (Habits)  1-2       .

         JSON.
  `,u=await i.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{responseMimeType:"application/json",responseSchema:{type:be.OBJECT,properties:{nextActions:{type:be.ARRAY,items:{type:be.STRING}},subprojects:{type:be.ARRAY,items:{type:be.OBJECT,properties:{title:{type:be.STRING},tasks:{type:be.ARRAY,items:{type:be.STRING}}},required:["title","tasks"]}},habits:{type:be.ARRAY,items:{type:be.STRING}}},required:["nextActions","subprojects","habits"]}}});return JSON.parse(u.text)},i_=async(s,t,n)=>{const i=jr(),o=`
        GTD    .
       ( + )     .
    : ${t.name}, : ${t.vision}, : ${t.role}.
     : ${t.preferences.workStyle}, ${t.preferences.planningStyle}.
     : ${n.join(", ")}.

      :
    ${s.map(p=>`- [ID:${p.id}] : "${p.title}". : "${p.content||""}"`).join(`
`)}

        :
    1. : 'tasks', 'notes', 'project'.
    2. :  'subtasks', 'habits', 'events', 'people'.
    3.  :        ,  ,       (focusBlockers)?
        ,    'profileImpact'.

        JSON ( ').
  `,u=await i.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{responseMimeType:"application/json",responseSchema:{type:be.ARRAY,items:{type:be.OBJECT,properties:{id:{type:be.STRING},category:{type:be.STRING},priority:{type:be.STRING},status:{type:be.STRING},tags:{type:be.ARRAY,items:{type:be.STRING}},reason:{type:be.STRING},decomposition:{type:be.OBJECT,properties:{subtasks:{type:be.ARRAY,items:{type:be.STRING}},habits:{type:be.ARRAY,items:{type:be.STRING}},events:{type:be.ARRAY,items:{type:be.OBJECT,properties:{title:{type:be.STRING},date:{type:be.STRING}}}},people:{type:be.ARRAY,items:{type:be.OBJECT,properties:{name:{type:be.STRING},status:{type:be.STRING},note:{type:be.STRING}}}}}},profileImpact:{type:be.OBJECT,properties:{bioUpdate:{type:be.STRING},roleUpdate:{type:be.STRING},newGoal:{type:be.STRING},newBelief:{type:be.STRING},workStyleUpdate:{type:be.STRING},newFocusBlocker:{type:be.STRING}}}},required:["id","category","priority","status","tags","reason"]}}}});return JSON.parse(u.text)},ft=({children:s,variant:t="slate",icon:n,className:i="",style:o})=>{const u={orange:"bg-orange-50 text-orange-600 border-orange-100",emerald:"bg-emerald-50 text-emerald-600 border-emerald-100",rose:"bg-rose-50 text-rose-600 border-rose-100",slate:"bg-slate-50 text-slate-500 border-slate-100",yellow:"bg-yellow-50 text-yellow-700 border-yellow-100",indigo:"bg-indigo-50 text-indigo-600 border-indigo-100"};return r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-lg border text-[10px] font-black uppercase tracking-wider ${u[t]} ${i}`,style:o,children:[n&&r.jsx("i",{className:`fa-solid ${n}`}),s]})},s_=({decisions:s,onClose:t,onConfirm:n})=>{const{tasks:i}=Ye(),[o,u]=k.useState(new Set(s.map(v=>v.id))),p=v=>{const x=new Set(o);x.has(v)?x.delete(v):x.add(v),u(x)},g=v=>v==="tasks"?"":v==="notes"?"":v==="project"?"":v;return r.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 tiktok-blur",children:[r.jsx("div",{className:"absolute inset-0 bg-slate-950/60",onClick:t}),r.jsxs(Ie,{className:"w-full max-w-2xl max-h-[85vh] bg-white border-none shadow-2xl overflow-hidden flex flex-col relative animate-in zoom-in-95 duration-300 rounded-[2.5rem]",children:[r.jsxs("header",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-white sticky top-0 z-10",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-tr from-orange-500 to-pink-500 flex items-center justify-center text-white shadow-lg shadow-orange-200",children:r.jsx("i",{className:"fa-solid fa-sparkles text-xl"})}),r.jsxs("div",{children:[r.jsx(W,{variant:"h2",className:"text-2xl mb-1 tracking-tight",children:" "}),r.jsx(W,{variant:"tiny",className:"text-slate-400",children:"     "})]})]}),r.jsx("button",{onClick:t,className:"w-10 h-10 rounded-2xl bg-slate-50 flex items-center justify-center text-slate-300 hover:text-slate-900 transition-all",children:r.jsx("i",{className:"fa-solid fa-xmark"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-8 space-y-6",children:s.map(v=>{var T,_,S;const x=i.find(w=>w.id===v.id);if(!x)return null;const y=o.has(v.id),b=v.decomposition||v.profileImpact;return r.jsxs("div",{onClick:()=>p(v.id),className:`p-6 rounded-[2.5rem] border-2 transition-all cursor-pointer group flex items-start gap-5 ${y?"bg-white border-orange-200 shadow-xl ring-1 ring-orange-100":"bg-slate-50/50 border-transparent opacity-60 grayscale"}`,children:[r.jsx("div",{className:`w-8 h-8 rounded-full border-2 flex items-center justify-center shrink-0 mt-1 transition-all ${y?"bg-orange-600 border-orange-600 text-white shadow-inner":"bg-white border-slate-200 text-transparent"}`,children:r.jsx("i",{className:"fa-solid fa-check text-[12px]"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx(W,{variant:"h3",className:"text-base mb-2 truncate group-hover:text-orange-600 transition-colors",children:x.title}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[r.jsx(ft,{variant:"orange",className:"text-[7px] py-0 px-1.5 uppercase font-black",children:g(v.category)}),r.jsx(ft,{variant:"indigo",className:"text-[7px] py-0 px-1.5 uppercase font-black",children:v.priority}),v.tags.map(w=>r.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:["#",w]},w))]}),r.jsxs("div",{className:"bg-slate-50/50 p-4 rounded-2xl border border-slate-100 italic text-[11px] text-slate-500 leading-relaxed mb-4",children:['"',v.reason,'"']}),y&&b&&r.jsxs("div",{className:"space-y-4 mt-4 border-t border-slate-100 pt-4 animate-in slide-in-from-top-2",children:[v.decomposition&&r.jsxs("div",{className:"space-y-3",children:[r.jsx(W,{variant:"tiny",className:"text-slate-400 mb-2 uppercase font-black text-[7px]",children:"  :"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[(T=v.decomposition.subtasks)==null?void 0:T.map((w,E)=>r.jsx("div",{className:"bg-slate-100 px-2 py-1 rounded text-[9px] font-bold",children:"+ "},E)),(_=v.decomposition.people)==null?void 0:_.map((w,E)=>r.jsxs("div",{className:"bg-sky-50 text-sky-700 px-2 py-1 rounded text-[9px] font-bold",children:[r.jsx("i",{className:"fa-solid fa-user-plus mr-1"})," ",w.name]},E)),(S=v.decomposition.events)==null?void 0:S.map((w,E)=>r.jsxs("div",{className:"bg-pink-50 text-pink-700 px-2 py-1 rounded text-[9px] font-bold",children:[r.jsx("i",{className:"fa-solid fa-calendar mr-1"})," "]},E))]})]}),v.profileImpact&&r.jsxs("div",{className:"space-y-3",children:[r.jsx(W,{variant:"tiny",className:"text-orange-500 mb-2 uppercase font-black text-[7px]",children:" :"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.profileImpact.bioUpdate&&r.jsx(ft,{variant:"orange",className:"text-[7px]",children:" Bio"}),v.profileImpact.roleUpdate&&r.jsx(ft,{variant:"orange",className:"text-[7px]",children:" "}),v.profileImpact.newBelief&&r.jsx(ft,{variant:"indigo",className:"text-[7px]",children:" "}),v.profileImpact.newFocusBlocker&&r.jsx(ft,{variant:"rose",className:"text-[7px]",children:"Focus-blocker"})]})]})]})]})]},v.id)})}),r.jsxs("footer",{className:"p-8 border-t border-slate-50 bg-slate-50/30 flex gap-4 sticky bottom-0 z-10",children:[r.jsx($e,{variant:"ghost",className:"flex-1 py-4",onClick:t,children:""}),r.jsxs($e,{variant:"primary",className:"flex-[2] py-4 shadow-xl shadow-orange-200",disabled:o.size===0,onClick:()=>n(o),children:["  (",o.size,")"]})]})]})]})},Qc=({showCompleted:s=!1,showNextActions:t=!1})=>{const{tasks:n,toggleTaskStatus:i,addTask:o,updateTask:u,inboxCategories:p,updateInboxCategory:g,deleteInboxCategory:v,addInboxCategory:x,character:y,aiEnabled:b,people:T}=Ye(),{detailsWidth:_}=Gn(),[S,w]=k.useState(null),[E,U]=k.useState(""),[R,M]=k.useState(!1),[H,O]=k.useState(""),[Q,D]=k.useState(null),[L,I]=k.useState(""),[B,te]=k.useState(null),[Y,de]=k.useState(!1),[F,pe]=k.useState([]),[q,V]=k.useState(!1),[ne,K]=k.useState(window.innerWidth<1024);k.useEffect(()=>{const P=()=>K(window.innerWidth<1024);return window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]);const me=t?"actions":"inbox",j=t?ge.NEXT_ACTION:ge.INBOX,$=P=>{P&&P.preventDefault(),E.trim()&&(o(E.trim(),t?"tasks":"unsorted",void 0,"actions",!1,void 0,void 0,j),U(""))},ue=P=>{P.preventDefault(),H.trim()&&(x(H.trim(),me),O(""),M(!1))},ve=P=>{L.trim()&&g(P,{title:L.trim()}),D(null)},ke=(P,we)=>{P.dataTransfer.setData("taskId",we)},ce=(P,we)=>{P.preventDefault(),te(null);const Oe=P.dataTransfer.getData("taskId"),ut=n.find(wt=>wt.id===Oe);if(ut){const wt=p.find(qn=>qn.id===we),Rt=((wt==null?void 0:wt.scope)||me)==="actions"?ge.NEXT_ACTION:ge.INBOX;u({...ut,category:we,status:Rt,isDeleted:!1})}},he=k.useMemo(()=>p.filter(P=>P.id==="pinned"?!0:P.id==="unsorted"||P.id==="notes"?!t:P.id==="tasks"?t:P.scope===me),[p,me,t]),Ce=async()=>{const P=n.filter(we=>!we.isDeleted&&we.status===j&&(we.category==="unsorted"||!we.category));if(P.length!==0){de(!0);try{const we=await i_(P.map(Oe=>({id:Oe.id,title:Oe.title,content:Oe.content})),y,T.map(Oe=>Oe.name));pe(we),V(!0)}catch{alert(" AI.")}finally{de(!1)}}};return r.jsxs("div",{className:"h-screen flex flex-col lg:flex-row overflow-hidden relative bg-[var(--bg-main)]",children:[r.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full relative",children:[r.jsxs("header",{className:"px-4 md:px-6 pt-4 md:pt-6 pb-2 md:pb-4 border-b border-[var(--border-color)] flex flex-col gap-4 sticky top-0 bg-[var(--bg-card)] z-20 shadow-sm shrink-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center text-white shadow-lg ${t?"bg-amber-500":"bg-indigo-600"}`,children:r.jsx("i",{className:`fa-solid ${t?"fa-bolt-lightning":"fa-inbox"}`})}),r.jsxs("div",{children:[r.jsx(W,{variant:"h1",className:"text-lg md:text-xl font-black uppercase tracking-tight",children:t?" ":""}),r.jsxs(W,{variant:"tiny",className:"text-[var(--text-muted)] opacity-50 uppercase tracking-widest text-[8px]",children:[n.filter(P=>!P.isDeleted&&P.status===j).length," "]})]})]}),r.jsxs($e,{size:"sm",variant:"white",onClick:()=>M(!R),className:"h-9 px-3 rounded-xl gap-2 text-[9px] font-black uppercase tracking-widest",children:[r.jsx("i",{className:`fa-solid ${R?"fa-xmark text-rose-500":"fa-folder-plus text-orange-500"}`}),R?"":""]})]}),R&&r.jsxs("form",{onSubmit:ue,className:"flex gap-2 animate-in slide-in-from-top-2 duration-300",children:[r.jsx("input",{autoFocus:!0,value:H,onChange:P=>O(P.target.value),placeholder:`   ${t?"":""}...`,className:"flex-1 bg-[var(--bg-main)] border-2 border-[var(--primary)]/20 rounded-2xl px-5 py-3 text-xs font-bold outline-none focus:border-[var(--primary)] transition-all shadow-inner"}),r.jsx($e,{variant:"primary",type:"submit",className:"rounded-2xl px-6",children:"OK"})]}),r.jsxs("form",{onSubmit:$,className:"flex gap-2",children:[r.jsx("div",{className:"flex-1",children:r.jsx(dx,{value:E,onChange:U,onSelectTag:()=>{},onEnter:$,placeholder:t?"  ...":" ...",className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl px-5 py-3 text-sm font-bold outline-none focus:ring-4 focus:ring-[var(--primary)]/5 transition-all"})}),r.jsx($e,{size:"md",type:"submit",className:"rounded-2xl shadow-lg px-6",children:"OK"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-6 space-y-8 pb-32",children:he.map(P=>{const we=n.filter(Ve=>!Ve.isDeleted&&Ve.status===j&&(P.isPinned?Ve.isPinned:Ve.category===P.id)),Oe=Q===P.id,ut=["pinned","unsorted","tasks","notes"].includes(P.id),wt=B===P.id;return we.length===0&&ut&&!["unsorted","tasks"].includes(P.id)?null:r.jsxs("section",{onDragOver:Ve=>{Ve.preventDefault(),te(P.id)},onDragLeave:()=>te(null),onDrop:Ve=>ce(Ve,P.id),className:`space-y-3 rounded-[2rem] transition-all duration-200 ${wt?"bg-[var(--primary)]/5 ring-4 ring-[var(--primary)]/10 p-3 -m-3":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between px-2",children:[r.jsxs("div",{className:"flex items-center gap-2 group/title flex-1",children:[r.jsx("div",{className:`w-1.5 h-4 rounded-full bg-[var(--primary)] ${we.length>0?"opacity-100":"opacity-20"}`}),Oe?r.jsx("input",{autoFocus:!0,value:L,onChange:Ve=>I(Ve.target.value),onBlur:()=>ve(P.id),onKeyDown:Ve=>Ve.key==="Enter"&&ve(P.id),className:"bg-transparent border-b-2 border-[var(--primary)] outline-none text-[9px] font-black uppercase tracking-widest text-slate-900"}):r.jsx(W,{variant:"tiny",onClick:()=>!ut&&(D(P.id),I(P.title)),className:`text-[var(--text-main)] font-black uppercase text-[9px] tracking-[0.2em] ${ut?"":"cursor-edit hover:text-[var(--primary)]"}`,children:P.title})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-[8px] font-black text-slate-300",children:we.length}),!ut&&r.jsx("button",{onClick:()=>v(P.id),className:"text-slate-200 hover:text-rose-500 transition-colors p-1",children:r.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[we.map(Ve=>r.jsxs(Ie,{padding:"none",draggable:!0,onDragStart:Rt=>ke(Rt,Ve.id),onClick:()=>w(Ve.id),className:"flex items-center gap-4 p-4 cursor-grab active:cursor-grabbing hover:border-[var(--primary)]/50 bg-[var(--bg-card)] group shadow-sm hover:shadow-md transition-all rounded-2xl border-transparent",children:[r.jsx("button",{onClick:Rt=>{Rt.stopPropagation(),i(Ve)},className:`w-6 h-6 rounded-xl border-2 transition-all flex items-center justify-center shrink-0 ${Ve.status===ge.DONE?"bg-emerald-500 border-emerald-500 text-white":"border-[var(--border-color)] bg-white"}`,children:Ve.status===ge.DONE&&r.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),r.jsx("span",{className:`text-[13px] md:text-sm font-bold flex-1 truncate ${Ve.status===ge.DONE?"text-[var(--text-muted)] line-through":"text-[var(--text-main)]"}`,children:Ve.title}),r.jsx("i",{className:"fa-solid fa-grip-vertical text-slate-100 group-hover:text-slate-300 transition-colors text-[10px]"})]},Ve.id)),we.length===0&&r.jsxs("div",{className:"py-8 border-2 border-dashed border-slate-100/50 rounded-2xl flex flex-col items-center justify-center grayscale opacity-10",children:[r.jsx("i",{className:"fa-solid fa-folder-open text-xl mb-1"}),r.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest",children:" "})]})]})]},P.id)})}),b&&r.jsx("div",{className:`absolute left-1/2 -translate-x-1/2 z-30 ${ne?"bottom-24":"bottom-8"}`,children:r.jsxs("button",{onClick:Ce,disabled:Y,className:"bg-slate-900 text-white px-8 py-4 rounded-[2rem] shadow-2xl flex items-center gap-3 hover:scale-105 active:scale-95 transition-all font-black uppercase text-[10px] tracking-widest border border-white/10 ring-4 ring-slate-900/5",children:[Y?r.jsx("i",{className:"fa-solid fa-circle-notch animate-spin"}):r.jsx("i",{className:"fa-solid fa-sparkles text-orange-400"}),Y?"...":" "]})})]}),r.jsx("div",{className:`flex h-full border-l border-[var(--border-color)] z-[110] bg-[var(--bg-card)] shrink-0 transition-all duration-300 ${ne?S?"fixed inset-0 w-full translate-x-0":"fixed inset-0 w-full translate-x-full":""}`,children:r.jsx("div",{style:{width:ne?"100vw":_},className:"h-full bg-[var(--bg-card)] relative overflow-hidden flex flex-col shadow-2xl",children:S?r.jsx(qi,{task:n.find(P=>P.id===S),onClose:()=>w(null)}):!ne&&r.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 text-center opacity-5 grayscale pointer-events-none",children:[" ",r.jsx("i",{className:"fa-solid fa-inbox text-9xl mb-8"})," "]})})}),q&&r.jsx(s_,{decisions:F,onClose:()=>V(!1),onConfirm:()=>V(!1)})]})},l_=({currentDate:s,viewMode:t,onNavigate:n,onToday:i,onSetViewMode:o})=>r.jsxs("header",{className:"p-4 bg-[var(--bg-card)] border-b border-[var(--border-color)] flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shadow-sm z-20 shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(W,{variant:"h3",className:"text-[var(--text-main)] capitalize min-w-[140px] text-base",children:t==="year"?s.getFullYear():s.toLocaleString("uk-UA",{month:"long",year:"numeric"})}),r.jsxs("div",{className:"flex bg-[var(--bg-main)] rounded-xl p-0.5 border border-[var(--border-color)]",children:[r.jsx("button",{onClick:()=>n(-1),className:"w-8 h-8 flex items-center justify-center text-[var(--text-muted)] hover:text-[var(--primary)] transition-colors",children:r.jsx("i",{className:"fa-solid fa-chevron-left text-[10px]"})}),r.jsx("button",{onClick:i,className:"px-3 text-[9px] font-black uppercase text-[var(--text-muted)] hover:text-[var(--primary)] border-x border-[var(--border-color)] transition-colors",children:""}),r.jsx("button",{onClick:()=>n(1),className:"w-8 h-8 flex items-center justify-center text-[var(--text-muted)] hover:text-[var(--primary)] transition-colors",children:r.jsx("i",{className:"fa-solid fa-chevron-right text-[10px]"})})]})]}),r.jsx("div",{className:"flex bg-[var(--bg-main)] rounded-xl p-0.5 border border-[var(--border-color)] overflow-x-auto no-scrollbar",children:["day","week","month","year"].map(u=>r.jsx("button",{onClick:()=>o(u),className:`px-4 py-1.5 rounded-lg text-[8px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${t===u?"bg-[var(--bg-card)] shadow-sm text-[var(--primary)]":"text-[var(--text-muted)] hover:text-[var(--text-main)]"}`,children:u==="day"?"":u==="week"?"":u==="month"?"":""},u))})]}),Ai=({label:s,icon:t,type:n,level:i,isOpen:o,count:u,color:p,onToggle:g,onAdd:v,onClick:x,isDraggable:y,onDragStart:b,children:T})=>r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("div",{draggable:y,onDragStart:b,onClick:g||x,className:`group flex items-center gap-1.5 py-1.5 px-2 cursor-pointer hover:bg-[var(--text-main)]/5 rounded-lg transition-colors relative ${i>0?"ml-2":""} ${o&&(n==="folder"||n==="system")?"bg-[var(--text-main)]/[0.03]":""}`,children:[r.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[n==="folder"||n==="system"||T&&zi.Children.count(T)>0?r.jsx("i",{className:`fa-solid fa-chevron-right text-[7px] text-[var(--text-muted)] transition-transform ${o?"rotate-90 text-[var(--primary)]":""}`}):r.jsx("div",{className:"w-2.5"}),r.jsx("i",{className:`fa-solid ${t} text-[10px] w-4 text-center ${n==="event"?"text-[var(--primary)]":n==="note"?"text-[var(--primary)] opacity-60":n==="folder"?"text-[var(--primary)]":"text-[var(--text-muted)]"}`,style:p?{color:p}:{}})]}),r.jsx("span",{className:`text-[10px] truncate flex-1 uppercase tracking-tight ${n==="folder"||n==="system"?"font-black text-[var(--text-main)]":"font-bold text-[var(--text-muted)]"}`,children:s}),u!==void 0&&u>0&&r.jsx("span",{className:"text-[7px] font-black text-white bg-[var(--primary)] px-1.5 rounded-full shadow-sm",children:u})]}),o&&T&&r.jsx("div",{className:"border-l border-[var(--border-color)] ml-3.5 mt-0.5 pl-1",children:T})]}),r_=({onSelectTask:s})=>{const{tasks:t,projects:n,inboxCategories:i}=Ye(),[o,u]=k.useState({root_planned:!0,root_inbox:!0,root_actions:!0,root_notes:!1,root_projects:!0}),p=y=>u(b=>({...b,[y]:!b[y]})),g=k.useMemo(()=>t.filter(y=>!y.isDeleted&&y.status!==ge.DONE&&!!y.scheduledDate),[t]),v=k.useMemo(()=>t.filter(y=>!y.isDeleted&&y.status!==ge.DONE&&!y.scheduledDate),[t]),x=(y,b)=>r.jsx(Ai,{id:y.id,label:y.title,icon:y.isEvent?"fa-calendar-star":y.category==="note"?"fa-note-sticky":"fa-circle-dot",type:y.isEvent?"event":y.category==="note"?"note":"task",level:b,onClick:()=>s(y.id),isDraggable:!0,onDragStart:T=>T.dataTransfer.setData("taskId",y.id)},y.id);return r.jsxs("aside",{className:"w-64 bg-[var(--bg-card)] border-r border-[var(--border-color)] flex flex-col hidden lg:flex shrink-0 select-none shadow-sm h-full overflow-hidden",children:[r.jsx("header",{className:"p-4 border-b border-[var(--border-color)] flex items-center justify-between bg-[var(--bg-main)]/20",children:r.jsx(W,{variant:"tiny",className:"text-[var(--text-muted)] font-black tracking-widest opacity-60",children:" "})}),r.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-4 bg-[var(--bg-main)]/10",children:[r.jsx(Ai,{id:"root_inbox",label:"",icon:"fa-inbox",type:"system",level:-1,isOpen:o.root_inbox,onToggle:()=>p("root_inbox"),children:i.filter(y=>y.scope==="inbox"||y.id==="unsorted").map(y=>r.jsx(Ai,{id:y.id,label:y.title,icon:y.icon,type:"folder",level:0,count:v.filter(b=>b.category===y.id&&b.status===ge.INBOX).length,isOpen:o[`cat_${y.id}`],onToggle:()=>p(`cat_${y.id}`),children:v.filter(b=>b.category===y.id&&b.status===ge.INBOX).map(b=>x(b,1))},y.id))}),r.jsx(Ai,{id:"root_planned",label:"",icon:"fa-calendar-check",type:"system",level:-1,isOpen:o.root_planned,onToggle:()=>p("root_planned"),children:g.sort((y,b)=>(y.scheduledDate||0)-(b.scheduledDate||0)).slice(0,10).map(y=>x(y,0))}),r.jsx(Ai,{id:"root_projects",label:"",icon:"fa-folder-tree",type:"system",level:-1,isOpen:o.root_projects,onToggle:()=>p("root_projects"),children:n.filter(y=>y.type==="goal"&&y.status==="active").map(y=>r.jsx(Ai,{id:y.id,label:y.name,icon:"fa-flag-checkered",color:y.color,type:"folder",level:0,isOpen:o[`p_${y.id}`],onToggle:()=>p(`p_${y.id}`),children:t.filter(b=>b.projectId===y.id&&!b.isDeleted&&b.status!==ge.DONE).map(b=>x(b,1))},y.id))})]}),r.jsx("footer",{className:"p-3 bg-[var(--bg-main)]/20 border-t border-[var(--border-color)]",children:r.jsxs("div",{className:"flex items-center justify-between text-[8px] font-black text-[var(--text-muted)] uppercase tracking-widest px-1",children:[r.jsx("span",{children:" "}),r.jsx("span",{className:"text-[var(--primary)] bg-[var(--primary)]/10 px-1.5 py-0.5 rounded-md",children:t.filter(y=>!y.isDeleted&&y.status!==ge.DONE).length})]})})]})},o_=({currentDate:s,dragOverDay:t,onDrop:n,onDragOver:i,onDragLeave:o,onSelectTask:u,onAddQuickEvent:p})=>{const{tasks:g,people:v}=Ye(),x=zi.useMemo(()=>Array.from({length:42},(y,b)=>{const T=new Date(s.getFullYear(),s.getMonth(),1);return T.setDate(T.getDate()-(T.getDay()===0?6:T.getDay()-1)+b),T}),[s]);return r.jsxs("div",{className:"grid grid-cols-7 gap-px bg-[var(--border-color)] rounded-xl md:rounded-[2rem] overflow-hidden shadow-xl border border-[var(--border-color)] h-full min-h-[500px]",children:[["","","","","","",""].map(y=>r.jsx("div",{className:"bg-[var(--bg-card)] p-1.5 md:p-3 text-center text-[8px] md:text-[9px] font-black uppercase text-[var(--text-muted)] tracking-widest opacity-60",children:y},y)),x.map((y,b)=>{const T=new Date(y).setHours(0,0,0,0),_=T===new Date().setHours(0,0,0,0),S=y.getMonth()===s.getMonth(),w=y.getMonth(),E=y.getDate();y.getFullYear();const U=g.filter(M=>{if(M.isDeleted)return!1;const H=M.scheduledDate?new Date(M.scheduledDate).setHours(0,0,0,0):null,O=M.endDate?new Date(M.endDate).setHours(0,0,0,0):H;return H?T>=H&&T<=(O||H):!1}),R=[];return v.forEach(M=>{if(M.birthDate&&M.birthDateShowInCalendar!==!1){const H=new Date(M.birthDate);H.getMonth()===w&&H.getDate()===E&&R.push({id:`bd-${M.id}`,title:` ${M.name}`,type:"birthday"})}}),r.jsxs("div",{onDragOver:M=>i(M,T),onDragLeave:o,onDrop:M=>n(M,T),onClick:()=>window.innerWidth<768&&p(T),className:`min-h-[75px] md:min-h-[120px] p-1 md:p-2 flex flex-col transition-all relative group ${S?"bg-[var(--bg-card)]":"bg-[var(--bg-main)] opacity-40"} ${t===T?"ring-2 ring-inset ring-[var(--primary)]":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-1 md:mb-2 px-1",children:[r.jsx("span",{className:`text-[10px] md:text-xs font-black w-5 h-5 md:w-7 md:h-7 flex items-center justify-center rounded-lg md:rounded-xl transition-all ${_?"bg-[var(--primary)] text-white shadow-lg scale-110":S?"text-[var(--text-main)] group-hover:text-[var(--primary)]":"text-[var(--text-muted)] opacity-30"}`,children:y.getDate()}),r.jsx("button",{onClick:M=>{M.stopPropagation(),p(T)},className:"hidden md:flex w-6 h-6 rounded-lg bg-[var(--primary)] text-white shadow-lg items-center justify-center transition-all hover:scale-110 opacity-0 group-hover:opacity-100",children:r.jsx("i",{className:"fa-solid fa-plus text-[8px]"})})]}),r.jsxs("div",{className:"flex-1 space-y-0.5 md:space-y-1 mt-0.5 overflow-hidden",children:[R.map(M=>r.jsx("div",{className:"text-[7px] md:text-[8px] font-black truncate px-1 md:px-2 py-0.5 md:py-1 rounded-md md:rounded-lg bg-amber-500/10 text-amber-500 border border-amber-500/20",children:M.title},M.id)),U.slice(0,window.innerWidth<768?2:4).map(M=>r.jsx("div",{onClick:H=>{H.stopPropagation(),u(M.id)},className:`text-[7px] md:text-[8px] font-black truncate px-1 md:px-2 py-0.5 md:py-1 rounded-md md:rounded-lg border transition-all cursor-pointer ${M.isEvent?"bg-[var(--primary)] text-white border-transparent":"bg-[var(--bg-main)] border-[var(--border-color)] text-[var(--text-main)] hover:border-[var(--primary)]/50"}`,children:r.jsx("span",{className:"truncate",children:M.title})},M.id)),U.length>(window.innerWidth<768?2:4)&&r.jsxs("div",{className:"text-[6px] md:text-[7px] font-black text-[var(--text-muted)] uppercase text-center opacity-60",children:["+ ",U.length-(window.innerWidth<768?2:4)]})]})]},b)})]})},c_=60,u_=({currentDate:s,dragOverDay:t,onDrop:n,onDragOver:i,onDragLeave:o,onSelectTask:u,onAddQuickEvent:p})=>{const{tasks:g,people:v}=Ye(),x=zi.useMemo(()=>{const y=new Date(s),b=y.getDay(),T=y.getDate()-b+(b===0?-6:1);return y.setDate(T),y.setHours(0,0,0,0),Array.from({length:7},(_,S)=>{const w=new Date(y);return w.setDate(y.getDate()+S),w})},[s]);return r.jsxs("div",{className:"flex flex-col h-full bg-[var(--bg-card)] rounded-xl md:rounded-3xl overflow-hidden shadow-xl border border-[var(--border-color)]",children:[r.jsxs("div",{className:"flex border-b border-[var(--border-color)] bg-[var(--bg-main)]/30 overflow-x-auto no-scrollbar",children:[r.jsx("div",{className:"w-10 md:w-16 border-r border-[var(--border-color)] shrink-0 bg-[var(--bg-card)] sticky left-0 z-30"}),x.map((y,b)=>{const T=y.toDateString()===new Date().toDateString();return r.jsxs("div",{className:"flex-1 min-w-[70px] md:min-w-[120px] p-1.5 md:p-3 text-center border-r border-[var(--border-color)] last:border-r-0",children:[r.jsx("div",{className:"text-[7px] md:text-[9px] font-black uppercase text-[var(--text-muted)] mb-0.5 md:mb-1",children:y.toLocaleString("uk-UA",{weekday:"short"})}),r.jsx("div",{className:`mx-auto w-6 h-6 md:w-8 md:h-8 rounded-lg flex items-center justify-center text-[9px] md:text-[12px] font-black ${T?"bg-[var(--primary)] text-white shadow-lg":"text-[var(--text-main)]"}`,children:y.getDate()})]},b)})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar relative",children:r.jsxs("div",{className:"flex min-w-max",style:{height:24*c_},children:[r.jsx("div",{className:"w-10 md:w-16 border-r border-[var(--border-color)] bg-[var(--bg-card)] sticky left-0 z-20",children:Array.from({length:24},(y,b)=>r.jsxs("div",{className:"h-[60px] text-[7px] md:text-[9px] font-black text-[var(--text-muted)] text-right pr-2 md:pr-4 pt-1 border-b border-[var(--border-color)]/20 opacity-50 tabular-nums",children:[b,":00"]},b))}),x.map((y,b)=>{const T=y.getTime(),_=y.getMonth(),S=y.getDate(),w=y.getFullYear(),E=g.filter(R=>{if(R.isDeleted)return!1;const M=R.scheduledDate?new Date(R.scheduledDate).setHours(0,0,0,0):null,H=R.endDate?new Date(R.endDate).setHours(0,0,0,0):M;return M?T>=M&&T<=(H||M):!1}),U=[];return v.forEach(R=>{if(R.birthDate&&R.birthDateShowInCalendar!==!1){const M=new Date(R.birthDate);M.getMonth()===_&&M.getDate()===S&&(R.birthDateRepeatYearly!==!1||M.getFullYear()===w)&&U.push({id:`bd-${R.id}`,title:` ${R.name}`,type:"birthday"})}}),r.jsxs("div",{onDragOver:R=>i(R,T),onDragLeave:o,onDrop:R=>n(R,T),onClick:()=>p(T),className:`flex-1 min-w-[70px] md:min-w-[120px] border-r border-[var(--border-color)] last:border-r-0 relative group cursor-pointer transition-colors ${t===T?"bg-[var(--primary)]/5 ring-inset ring-2 ring-[var(--primary)]/20":"hover:bg-[var(--bg-main)]/10"}`,children:[Array.from({length:24},(R,M)=>r.jsx("div",{className:"h-[60px] border-b border-[var(--border-color)]/20"},M)),r.jsxs("div",{className:"absolute inset-0 p-0.5 md:p-2 space-y-1",children:[U.map(R=>r.jsx("div",{className:"p-1 rounded-md border text-[7px] md:text-[10px] font-black shadow-sm bg-amber-500/10 border-amber-500/20 text-amber-600",children:r.jsx("div",{className:"truncate",children:R.title})},R.id)),E.map(R=>r.jsxs("div",{draggable:!0,onDragStart:M=>M.dataTransfer.setData("taskId",R.id),onClick:M=>{M.stopPropagation(),u(R.id)},className:`p-1.5 md:p-2.5 rounded-lg md:rounded-2xl border text-[8px] md:text-[11px] font-bold shadow-sm transition-all hover:scale-[1.02] cursor-grab active:cursor-grabbing ${R.isEvent?"bg-[var(--primary)] text-white border-transparent":"bg-[var(--bg-card)] border-[var(--border-color)] text-[var(--text-main)] hover:border-[var(--primary)]/50"}`,children:[r.jsx("div",{className:"truncate mb-0.5",children:R.title}),r.jsxs("div",{className:"flex justify-between items-center opacity-60",children:[r.jsx("span",{className:"text-[6px] md:text-[8px] uppercase font-black",children:R.isEvent?"E":"Q"}),R.status===ge.DONE&&r.jsx("i",{className:"fa-solid fa-check text-[6px] md:text-[9px]"})]})]},R.id))]})]},b)})]})})]})},Di=60,d_=({block:s,onClose:t,onSave:n})=>{const[i,o]=k.useState((s==null?void 0:s.title)||""),[u,p]=k.useState((s==null?void 0:s.startHour)||9),[g,v]=k.useState((s==null?void 0:s.endHour)||10),[x,y]=k.useState((s==null?void 0:s.type)||"work"),[b,T]=k.useState((s==null?void 0:s.color)||"var(--primary)");return r.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 tiktok-blur",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),r.jsxs("div",{className:"bg-[var(--bg-card)] w-full max-w-sm rounded-[2rem] p-6 md:p-8 shadow-2xl relative animate-in zoom-in-95 duration-200 border border-[var(--border-color)]",children:[r.jsx(W,{variant:"h2",className:"mb-6 text-xl",children:" "}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] font-black uppercase text-[var(--text-muted)] mb-2 block tracking-widest",children:"  "}),r.jsx("input",{autoFocus:!0,value:i,onChange:_=>o(_.target.value),placeholder:":  ",className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl py-3 px-4 text-sm font-bold focus:ring-2 focus:ring-[var(--primary)]/20 outline-none text-[var(--text-main)]"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-[10px] font-black uppercase text-[var(--text-muted)] mb-2 block tracking-widest",children:""}),r.jsx("input",{type:"number",min:"0",max:"23",value:u,onChange:_=>p(parseInt(_.target.value)),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl py-3 px-4 text-sm font-bold text-[var(--text-main)]"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-[10px] font-black uppercase text-[var(--text-muted)] mb-2 block tracking-widest",children:""}),r.jsx("input",{type:"number",min:"1",max:"24",value:g,onChange:_=>v(parseInt(_.target.value)),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl py-3 px-4 text-sm font-bold text-[var(--text-main)]"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] font-black uppercase text-[var(--text-muted)] mb-2 block tracking-widest",children:"  "}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{c:"var(--primary)",l:""},{c:"#10b981",l:""},{c:"#6366f1",l:""},{c:"#ec4899",l:""},{c:"#facc15",l:""}].map(_=>r.jsxs("button",{onClick:()=>T(_.c),className:`px-3 py-1.5 rounded-xl border-2 transition-all flex items-center gap-2 ${b===_.c?"border-[var(--primary)] bg-[var(--primary)]/10 text-[var(--text-main)]":"border-[var(--border-color)] bg-[var(--bg-main)] text-[var(--text-muted)] hover:border-[var(--primary)]/20"}`,children:[r.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:_.c}}),r.jsx("span",{className:"text-[9px] font-black uppercase tracking-tight",children:_.l})]},_.c))})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx($e,{variant:"white",className:"flex-1 py-3",onClick:t,children:""}),r.jsx($e,{variant:"primary",className:"flex-[2] py-3",onClick:()=>n({title:i,startHour:u,endHour:g,type:x,color:b}),children:""})]})]})]})]})},f_=({currentDate:s,onSelectTask:t,onAddQuickEvent:n})=>{const{tasks:i,toggleTaskStatus:o,timeBlocks:u,addTimeBlock:p,updateTimeBlock:g,deleteTimeBlock:v,saveRoutineAsPreset:x,applyRoutinePreset:y,routinePresets:b,people:T}=Ye(),_=k.useRef(null),[S,w]=k.useState(null),[E,U]=k.useState(!1),[R,M]=k.useState(new Date);k.useEffect(()=>{const Y=setInterval(()=>M(new Date),6e4);return()=>clearInterval(Y)},[]),k.useEffect(()=>{if(_.current){const Y=_.current,pe=(s.toDateString()===new Date().toDateString()?R.getHours()+R.getMinutes()/60:9)*Di-Y.clientHeight/2;setTimeout(()=>{Y.scrollTo({top:Math.max(0,pe),behavior:"smooth"})},100)}},[s]);const H=i.filter(Y=>{if(Y.isDeleted)return!1;const de=Y.scheduledDate?new Date(Y.scheduledDate).setHours(0,0,0,0):null,F=new Date(s).setHours(0,0,0,0);return de===F}),O=s.getMonth(),Q=s.getDate();s.getFullYear();const D=k.useMemo(()=>{const Y=[];return T.forEach(de=>{if(de.birthDate&&de.birthDateShowInCalendar!==!1){const F=new Date(de.birthDate);F.getMonth()===O&&F.getDate()===Q&&Y.push({id:`bd-${de.id}`,title:` : ${de.name}`,type:"birthday"})}}),Y},[T,O,Q]),L=s.getDay(),I=k.useMemo(()=>u.filter(Y=>Y.dayOfWeek===L),[u,L]),B=(R.getHours()+R.getMinutes()/60)*Di,te=s.toDateString()===new Date().toDateString();return r.jsxs("div",{className:"flex flex-col lg:flex-row h-full gap-4 md:gap-6",children:[r.jsx("div",{className:"flex-1 space-y-4 overflow-y-auto no-scrollbar",children:r.jsxs("div",{className:"bg-[var(--bg-card)] rounded-2xl md:rounded-[2.5rem] p-5 md:p-10 shadow-sm border border-[var(--border-color)]",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6 md:mb-8",children:[r.jsxs("div",{children:[r.jsx(W,{variant:"h3",className:"text-xl md:text-2xl mb-1",children:s.toLocaleDateString("uk-UA",{day:"numeric",month:"long"})}),r.jsx(W,{variant:"caption",className:"text-[var(--primary)]",children:s.toLocaleDateString("uk-UA",{weekday:"long"})})]}),r.jsxs(ft,{variant:"orange",className:"px-4 py-1.5 rounded-xl uppercase font-black text-[8px] md:text-[10px] tracking-widest",children:[H.length,"  "]})]}),D.length>0&&r.jsxs("div",{className:"mb-6 md:mb-8 space-y-3",children:[r.jsx(W,{variant:"tiny",className:"text-[var(--text-muted)] mb-2 uppercase tracking-widest font-black text-[8px]",children:" "}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:D.map(Y=>r.jsxs("div",{className:"p-4 md:p-5 rounded-2xl md:rounded-[2rem] border-2 bg-amber-500/5 border-amber-500/20 flex items-center gap-3 md:gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500 flex items-center justify-center text-white shadow-lg shrink-0",children:r.jsx("i",{className:"fa-solid fa-cake-candles"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-[10px] md:text-[11px] font-black uppercase tracking-tight text-amber-700 truncate",children:Y.title}),r.jsx("div",{className:"text-[8px] md:text-[9px] font-bold text-amber-600/60",children:"  !"})]})]},Y.id))})]}),r.jsxs("div",{className:"space-y-2 md:space-y-3",children:[H.map(Y=>r.jsxs("div",{onClick:()=>t(Y.id),className:`flex items-center gap-3 md:gap-4 p-4 md:p-5 rounded-xl md:rounded-[2rem] transition-all cursor-pointer group border ${Y.isEvent?"bg-[var(--primary)]/5 border-[var(--primary)]/20":"bg-[var(--bg-main)]/30 border-[var(--border-color)] hover:border-[var(--primary)]/40 shadow-sm"}`,children:[r.jsx("button",{onClick:de=>{de.stopPropagation(),o(Y)},className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all shrink-0 ${Y.status===ge.DONE?"bg-emerald-500 border-emerald-500 text-white":"border-[var(--border-color)] bg-[var(--bg-card)] text-transparent group-hover:border-[var(--primary)]"}`,children:r.jsx("i",{className:"fa-solid fa-check text-xs"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("span",{className:`text-[13px] md:text-sm font-bold truncate block ${Y.status===ge.DONE?"line-through text-[var(--text-muted)]":"text-[var(--text-main)]"}`,children:Y.title}),r.jsx("div",{className:"flex items-center gap-2 mt-1",children:r.jsx(ft,{variant:Y.isEvent?"rose":"slate",className:"text-[7px] md:text-[8px] py-0 px-1.5",children:Y.isEvent?"":""})})]}),r.jsx("i",{className:"fa-solid fa-chevron-right text-[10px] text-[var(--text-muted)] opacity-30 group-hover:translate-x-1 group-hover:opacity-100 transition-all"})]},Y.id)),H.length===0&&D.length===0&&r.jsxs("div",{className:"py-12 md:py-20 text-center opacity-10 flex flex-col items-center",children:[r.jsx("i",{className:"fa-solid fa-mountain-sun text-5xl md:text-6xl mb-4"}),r.jsx(W,{variant:"h3",className:"text-base uppercase tracking-[0.2em]",children:" "})]})]})]})}),r.jsxs("div",{className:"w-full lg:w-96 bg-[var(--bg-card)] border border-[var(--border-color)] flex flex-col shadow-sm rounded-2xl md:rounded-[2.5rem] overflow-hidden relative min-h-[400px]",children:[r.jsxs("header",{className:"p-4 md:p-6 border-b border-[var(--border-color)] flex items-center justify-between shrink-0 bg-[var(--bg-card)]/80 backdrop-blur z-20",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx(W,{variant:"tiny",className:"text-[var(--text-main)] font-black mb-1 text-[8px] md:text-[10px]",children:""}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:()=>U(!E),className:"text-[7px] font-black text-[var(--primary)] uppercase tracking-widest hover:underline",children:[" (",b.length,")"]}),r.jsx("button",{onClick:()=>{const Y=prompt(" :");Y&&x(Y,L)},className:"text-[7px] font-black text-[var(--text-muted)] uppercase tracking-widest hover:text-[var(--primary)]",children:""})]})]}),r.jsx("button",{onClick:()=>w({dayOfWeek:L}),className:"w-10 h-10 rounded-xl bg-[var(--text-main)] text-[var(--bg-main)] hover:opacity-90 shadow-xl transition-all flex items-center justify-center",children:r.jsx("i",{className:"fa-solid fa-plus text-xs"})})]}),r.jsx("div",{ref:_,className:"flex-1 overflow-y-auto custom-scrollbar relative bg-[var(--bg-main)]/20",children:r.jsxs("div",{className:"absolute left-0 top-0 w-full",style:{height:24*Di},children:[Array.from({length:24},(Y,de)=>r.jsxs("div",{className:"flex items-start border-t border-[var(--border-color)]/30",style:{height:Di},children:[r.jsxs("span",{className:"text-[9px] font-black text-[var(--text-muted)] opacity-30 p-2 w-10 md:w-12 text-right tabular-nums",children:[de,":00"]}),r.jsx("div",{className:"flex-1 h-px mt-[1px]"})]},de)),I.map(Y=>r.jsxs("div",{onClick:()=>w(Y),className:"absolute left-10 md:left-12 right-2 md:right-3 rounded-xl md:rounded-2xl p-2 md:p-3 text-white text-[10px] md:text-[11px] font-bold shadow-lg shadow-black/5 cursor-pointer hover:brightness-105 transition-all group overflow-hidden border-2 border-white/10",style:{top:Y.startHour*Di,height:(Y.endHour-Y.startHour)*Di-4,backgroundColor:Y.color||"var(--primary)"},children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("span",{className:"truncate pr-4 uppercase tracking-tight leading-tight",children:Y.title}),r.jsx("i",{onClick:de=>{de.stopPropagation(),v(Y.id)},className:"fa-solid fa-trash-can text-[9px] opacity-0 group-hover:opacity-100 hover:scale-110 transition-all"})]}),r.jsxs("div",{className:"text-[8px] md:text-[9px] opacity-70 font-black tabular-nums mt-1",children:[Y.startHour,":00 - ",Y.endHour,":00"]})]},Y.id)),te&&r.jsxs("div",{className:"absolute left-0 right-0 z-30 pointer-events-none flex items-center",style:{top:B},children:[r.jsx("div",{className:"w-10 md:w-12 text-[7px] md:text-[8px] font-black text-rose-500 bg-[var(--bg-card)]/90 backdrop-blur rounded-r-lg py-0.5 px-1 shadow-sm border border-rose-100 border-l-0 text-right tabular-nums",children:R.toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"})}),r.jsx("div",{className:"flex-1 h-0.5 bg-rose-500/30 relative",children:r.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-2 h-2 rounded-full bg-rose-500 shadow-lg ring-4 ring-rose-100"})})]})]})})]}),S&&r.jsx(d_,{block:S,onClose:()=>w(null),onSave:Y=>{S.id?g({...Y,id:S.id}):p({...Y,dayOfWeek:L}),w(null)}}),E&&r.jsxs("div",{className:"fixed inset-0 z-[310] flex items-center justify-center p-4 tiktok-blur",children:[r.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm",onClick:()=>U(!1)}),r.jsxs("div",{className:"bg-[var(--bg-card)] w-full max-w-xs rounded-[2rem] p-6 md:p-8 shadow-2xl relative animate-in slide-in-from-bottom-4 duration-300 border border-[var(--border-color)]",children:[r.jsx(W,{variant:"h2",className:"mb-6 text-lg",children:" "}),r.jsxs("div",{className:"space-y-2",children:[b.map(Y=>r.jsxs("button",{onClick:()=>{y(Y.id,L),U(!1)},className:"w-full p-4 rounded-2xl border border-[var(--border-color)] hover:border-[var(--primary)]/40 hover:bg-[var(--primary)]/5 text-left transition-all group",children:[r.jsx("div",{className:"text-xs font-black text-[var(--text-main)] group-hover:text-[var(--primary)] mb-1 uppercase tracking-tight",children:Y.name}),r.jsxs("div",{className:"text-[8px] font-bold text-[var(--text-muted)] uppercase tracking-widest opacity-60",children:[Y.blocks.length," "]})]},Y.id)),b.length===0&&r.jsxs("div",{className:"text-center py-8 opacity-20",children:[r.jsx("i",{className:"fa-solid fa-box-open text-3xl mb-2"}),r.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest",children:" "})]})]}),r.jsx($e,{variant:"white",className:"w-full mt-6 py-3 rounded-xl text-[9px] font-black uppercase tracking-widest",onClick:()=>U(!1),children:""})]})]})]})},m_=({currentDate:s})=>{const{tasks:t,people:n,setCalendarDate:i,setCalendarViewMode:o}=Ye(),u=s.getFullYear(),p=g=>{const v=new Date(u,g,1).toLocaleString("uk-UA",{month:"long"}),x=(new Date(u,g,1).getDay()+6)%7,y=new Date(u,g+1,0).getDate(),b=[];for(let T=0;T<x;T++)b.push(null);for(let T=1;T<=y;T++)b.push(T);return r.jsxs("div",{className:"bg-[var(--bg-card)] px-4 py-5 rounded-[2rem] border border-[var(--border-color)] shadow-sm hover:border-[var(--primary)]/30 transition-all cursor-pointer group hover:shadow-lg",onClick:()=>{i(new Date(u,g,1).getTime()),o("month")},children:[r.jsx(W,{variant:"tiny",className:"text-[var(--text-muted)] font-black mb-4 text-center uppercase tracking-[0.2em] group-hover:text-[var(--primary)] transition-colors",children:v}),r.jsx("div",{className:"grid grid-cols-7 gap-1 text-[7px] font-black text-[var(--text-muted)] mb-2 text-center opacity-40",children:["","","","","","",""].map(T=>r.jsx("div",{children:T},T))}),r.jsx("div",{className:"grid grid-cols-7 gap-x-0.5 gap-y-1",children:b.map((T,_)=>{if(T===null)return r.jsx("div",{},`empty-${_}`);const S=new Date().getFullYear()===u&&new Date().getMonth()===g&&new Date().getDate()===T,w=new Date(u,g,T).setHours(0,0,0,0),E=t.some(R=>!R.isDeleted&&R.isEvent&&(R.scheduledDate&&new Date(R.scheduledDate).setHours(0,0,0,0)===w||R.endDate&&w>=new Date(R.scheduledDate).setHours(0,0,0,0)&&w<=new Date(R.endDate).setHours(0,0,0,0))),U=n.some(R=>{var M;if(R.birthDate){const H=new Date(R.birthDate);if(H.getMonth()===g&&H.getDate()===T)return!0}return(M=R.importantDates)==null?void 0:M.some(H=>{const O=new Date(H.date);return O.getMonth()===g&&O.getDate()===T})});return r.jsxs("div",{className:"flex flex-col items-center gap-0.5 relative",children:[r.jsx("div",{className:`h-4 w-4 rounded-md flex items-center justify-center text-[8px] font-black transition-all ${S?"bg-[var(--primary)] text-white shadow-sm":"text-[var(--text-main)]"}`,children:T}),r.jsxs("div",{className:"h-1 w-full flex justify-center items-center gap-0.5",children:[E&&r.jsx("div",{className:`w-0.5 h-0.5 rounded-full ${S?"bg-white":"bg-pink-500"}`}),U&&r.jsx("div",{className:`w-0.5 h-0.5 rounded-full ${S?"bg-white":"bg-amber-500"}`})]})]},_)})})]},g)};return r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 pb-20",children:Array.from({length:12},(g,v)=>p(v))})},p_=()=>{const{tasks:s,addTask:t,scheduleTask:n,calendarDate:i,setCalendarDate:o,calendarViewMode:u,setCalendarViewMode:p}=Ye(),{isResizing:g,startResizing:v,detailsWidth:x}=Gn(400,800),[y,b]=k.useState(null),[T,_]=k.useState(null),[S,w]=k.useState(!1),[E,U]=k.useState(window.innerWidth<1024);k.useEffect(()=>{const I=()=>U(window.innerWidth<1024);return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]);const R=k.useMemo(()=>new Date(i),[i]),M=I=>{const B=new Date(R);u==="year"?B.setFullYear(R.getFullYear()+I):u==="month"?B.setMonth(R.getMonth()+I):u==="week"?B.setDate(R.getDate()+I*7):B.setDate(R.getDate()+I),o(B.getTime())},H=()=>{o(Date.now()),u==="year"&&p("month")},O=(I,B)=>{I.preventDefault(),_(null);const te=I.dataTransfer.getData("taskId");te&&n(te,B)},Q=I=>{const B=t("","unsorted",void 0,"actions",!1,I);b(B)},D=I=>{b(I)},L=()=>{switch(u){case"day":return r.jsx(f_,{currentDate:R,onSelectTask:D,onAddQuickEvent:Q});case"week":return r.jsx(u_,{currentDate:R,dragOverDay:T,onDragOver:(I,B)=>{I.preventDefault(),_(B)},onDragLeave:()=>_(null),onDrop:O,onSelectTask:D,onAddQuickEvent:Q});case"month":return r.jsx(o_,{currentDate:R,dragOverDay:T,onDragOver:(I,B)=>{I.preventDefault(),_(B)},onDragLeave:()=>_(null),onDrop:O,onSelectTask:D,onAddQuickEvent:Q});case"year":return r.jsx(m_,{currentDate:R});default:return null}};return r.jsxs("div",{className:"flex h-screen bg-[var(--bg-main)] overflow-hidden relative text-[var(--text-main)]",children:[r.jsxs("div",{className:`${E?S?"fixed inset-0 z-[150] w-full translate-x-0":"fixed inset-0 z-[150] w-full -translate-x-full":"relative"} transition-transform duration-300 h-full`,children:[r.jsx(r_,{onSelectTask:D}),E&&S&&r.jsx("button",{onClick:()=>w(!1),className:"fixed bottom-6 right-6 w-14 h-14 rounded-full bg-[var(--primary)] text-white shadow-2xl flex items-center justify-center z-[160]",children:r.jsx("i",{className:"fa-solid fa-calendar-days text-xl"})})]}),r.jsxs("main",{className:"flex-1 flex flex-col min-w-0 h-full relative z-10",children:[r.jsx(l_,{currentDate:R,viewMode:u,onNavigate:M,onToday:H,onSetViewMode:p}),r.jsx("div",{className:"flex-1 overflow-auto p-2 md:p-6 custom-scrollbar bg-[var(--bg-main)]",children:L()}),E&&!S&&r.jsxs("button",{onClick:()=>w(!0),className:"fixed bottom-20 right-6 w-14 h-14 rounded-full bg-[var(--bg-card)] border border-[var(--border-color)] text-[var(--primary)] shadow-xl flex items-center justify-center z-40",children:[r.jsx("i",{className:"fa-solid fa-inbox text-xl"}),s.filter(I=>!I.isDeleted&&!I.scheduledDate).length>0&&r.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-rose-500 text-white text-[10px] font-black rounded-full flex items-center justify-center border-2 border-[var(--bg-card)]",children:s.filter(I=>!I.isDeleted&&!I.scheduledDate).length})]})]}),r.jsx("div",{className:`h-full border-l border-[var(--border-color)] bg-[var(--bg-card)] transition-all duration-300 ease-in-out shrink-0 relative z-[200] ${y?"translate-x-0":"translate-x-full absolute"}`,style:{width:y?E?"100vw":x:0},children:y&&r.jsxs(r.Fragment,{children:[!E&&r.jsx("div",{onMouseDown:v,className:`absolute left-0 top-0 bottom-0 w-[2px] cursor-col-resize hover:bg-[var(--primary)] z-[50] transition-colors ${g?"bg-[var(--primary)]":"bg-transparent"}`}),r.jsx("div",{className:"h-full w-full overflow-hidden",children:r.jsx(qi,{task:s.find(I=>I.id===y),onClose:()=>b(null)})})]})})]})},h_=({tasks:s})=>{const{tags:t,addTag:n,renameTag:i,deleteTag:o}=Ye(),[u,p]=k.useState(""),[g,v]=k.useState(null),[x,y]=k.useState(""),b=k.useMemo(()=>s.flatMap(w=>w.tags).reduce((w,E)=>(w[E]=(w[E]||0)+1,w),{}),[s]),T=k.useMemo(()=>[...t].sort((w,E)=>(b[E.name]||0)-(b[w.name]||0)),[t,b]),_=w=>{w.preventDefault(),u.trim()&&(n(u.trim()),p(""))},S=w=>{x.trim()&&x!==w&&i(w,x.trim()),v(null)};return r.jsx("div",{className:"p-4 md:p-8 h-full bg-main overflow-y-auto custom-scrollbar",children:r.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[r.jsxs("div",{children:[r.jsx(W,{variant:"h1",className:"text-2xl md:text-3xl",children:""}),r.jsx(W,{variant:"tiny",className:"text-muted mt-1",children:"  "})]}),r.jsxs("form",{onSubmit:_,className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1 md:w-48",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-primary font-bold",children:"#"}),r.jsx("input",{type:"text",value:u,onChange:w=>p(w.target.value),placeholder:" ...",className:"w-full pl-7 pr-4 py-2 bg-card border border-theme rounded-xl text-sm font-bold focus:ring-2 focus:ring-primary outline-none transition-all text-main"})]}),r.jsx($e,{type:"submit",size:"sm",children:""})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-12",children:T.map(w=>r.jsxs(Ie,{padding:"none",className:"bg-card border-theme p-5 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary",style:{backgroundColor:w.color||"var(--primary)"}}),r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("div",{className:"flex-1 min-w-0",children:g===w.id?r.jsx("input",{autoFocus:!0,value:x,onChange:E=>y(E.target.value),onBlur:()=>S(w.name),onKeyDown:E=>E.key==="Enter"&&S(w.name),className:"w-full bg-main border-b-2 border-primary font-bold text-main outline-none p-0 uppercase"}):r.jsxs(W,{variant:"h3",className:"uppercase tracking-wider truncate flex items-center gap-2",children:[r.jsx("span",{className:"text-muted opacity-40",children:"#"}),w.name]})}),r.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[r.jsx("button",{onClick:()=>{v(w.id),y(w.name)},className:"w-7 h-7 rounded-lg bg-main text-muted hover:text-primary flex items-center justify-center transition-all",children:r.jsx("i",{className:"fa-solid fa-pencil text-[10px]"})}),r.jsx("button",{onClick:()=>confirm(`  #${w.name}?`)&&o(w.name),className:"w-7 h-7 rounded-lg bg-main text-muted hover:text-rose-500 flex items-center justify-center transition-all",children:r.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]})]}),r.jsxs("div",{className:"flex items-end justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx("span",{className:"text-[8px] font-black text-muted uppercase tracking-widest",children:""}),r.jsx("div",{className:"text-xl font-black text-main",children:b[w.name]||0})]}),r.jsx("div",{className:"w-8 h-8 rounded-full bg-main flex items-center justify-center text-primary shadow-inner border border-theme",children:r.jsx("i",{className:"fa-solid fa-tag text-[10px]"})})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-theme space-y-1.5 max-h-24 overflow-y-auto no-scrollbar",children:s.filter(E=>E.tags.includes(w.name)).slice(0,3).map(E=>r.jsxs("div",{className:"text-[10px] text-muted flex items-center gap-2 truncate font-medium",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-primary/30"}),E.title]},E.id))})]},w.id))})]})})},x_=()=>{const{hobbies:s,people:t,addHobby:n,renameHobby:i,deleteHobby:o}=Ye(),[u,p]=k.useState(""),[g,v]=k.useState(null),[x,y]=k.useState(""),b=k.useMemo(()=>{const w={};return t.forEach(E=>{E.hobbies.forEach(U=>{w[U]=(w[U]||0)+1})}),w},[t]),T=w=>{w.preventDefault(),u.trim()&&(n(u.trim()),p(""))},_=w=>{x.trim()&&x!==w&&i(w,x.trim()),v(null)},S=k.useMemo(()=>[...s].sort((w,E)=>(b[E.name]||0)-(b[w.name]||0)),[s,b]);return r.jsx("div",{className:"p-4 md:p-8 h-full bg-main overflow-y-auto custom-scrollbar",children:r.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[r.jsxs("div",{children:[r.jsx(W,{variant:"h1",className:"text-2xl md:text-3xl",children:""}),r.jsx(W,{variant:"tiny",className:"text-muted mt-1",children:"   "})]}),r.jsxs("form",{onSubmit:T,className:"flex gap-2",children:[r.jsx("input",{type:"text",value:u,onChange:w=>p(w.target.value),placeholder:" ...",className:"px-4 py-2 bg-card border border-theme rounded-xl text-sm font-bold focus:ring-2 focus:ring-primary outline-none transition-all w-48 text-main"}),r.jsx($e,{type:"submit",size:"sm",children:""})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(w=>r.jsxs(Ie,{padding:"none",className:"bg-card border-theme p-5 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary",style:{backgroundColor:w.color||"var(--primary)"}}),r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("div",{className:"flex-1 min-w-0",children:g===w.id?r.jsx("input",{autoFocus:!0,value:x,onChange:E=>y(E.target.value),onBlur:()=>_(w.name),onKeyDown:E=>E.key==="Enter"&&_(w.name),className:"w-full bg-main border-b-2 border-primary font-bold text-main outline-none p-0"}):r.jsx(W,{variant:"h3",className:"uppercase tracking-wider truncate",children:w.name})}),r.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[r.jsx("button",{onClick:()=>{v(w.id),y(w.name)},className:"w-7 h-7 rounded-lg bg-main text-muted hover:text-primary flex items-center justify-center transition-all",children:r.jsx("i",{className:"fa-solid fa-pencil text-[10px]"})}),r.jsx("button",{onClick:()=>confirm(`  "${w.name}"?`)&&o(w.name),className:"w-7 h-7 rounded-lg bg-main text-muted hover:text-rose-500 flex items-center justify-center transition-all",children:r.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]})]}),r.jsxs("div",{className:"flex items-end justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx("span",{className:"text-[8px] font-black text-muted uppercase tracking-widest",children:""}),r.jsx("div",{className:"text-xl font-black text-main",children:b[w.name]||0})]}),r.jsx("div",{className:"w-8 h-8 rounded-full bg-main flex items-center justify-center text-primary border border-theme shadow-inner",children:r.jsx("i",{className:"fa-solid fa-star text-[10px]"})})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-theme space-y-1.5 max-h-24 overflow-y-auto no-scrollbar",children:t.filter(E=>E.hobbies.includes(w.name)).slice(0,3).map(E=>r.jsxs("div",{className:"text-[10px] text-muted flex items-center gap-2 truncate font-medium",children:[r.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${E.name}`,className:"w-4 h-4 rounded-full bg-main border border-theme"}),E.name]},E.id))})]},w.id))})]})})},g_=({taskTitle:s,onExit:t})=>{const[n,i]=k.useState(1500),[o,u]=k.useState(!0);k.useEffect(()=>{let g=null;return o&&n>0?g=setInterval(()=>{i(v=>v-1)},1e3):n===0&&clearInterval(g),()=>clearInterval(g)},[o,n]);const p=g=>{const v=Math.floor(g/60),x=g%60;return`${v}:${x.toString().padStart(2,"0")}`};return r.jsxs("div",{className:"fixed inset-0 z-[100] bg-slate-950 flex flex-col items-center justify-center p-8 transition-none",children:[r.jsx("div",{className:"absolute top-8 right-8",children:r.jsx("button",{onClick:t,className:"w-12 h-12 rounded-full bg-white/5 hover:bg-white/10 text-white flex items-center justify-center transition-all",children:r.jsx("i",{className:"fa-solid fa-xmark"})})}),r.jsxs("div",{className:"text-center space-y-12 max-w-2xl w-full",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"text-orange-500 font-black tracking-widest text-xs uppercase",children:" "}),r.jsx("h2",{className:"text-4xl md:text-6xl font-heading font-black text-white leading-tight",children:s})]}),r.jsx("div",{className:"text-[10rem] md:text-[15rem] font-heading font-black text-white/5 leading-none select-none absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 -z-10",children:p(n)}),r.jsx("div",{className:"text-8xl md:text-9xl font-heading font-black text-white tracking-tighter tabular-nums",children:p(n)}),r.jsx("div",{className:"flex justify-center gap-6",children:r.jsx("button",{onClick:()=>u(!o),className:"px-12 py-5 bg-white text-slate-950 rounded-3xl font-black text-lg shadow-2xl hover:scale-105 active:scale-95 transition-all",children:o?"":""})})]}),r.jsxs("div",{className:"absolute bottom-12 text-slate-500 text-sm font-medium tracking-widest uppercase",children:[r.jsx("i",{className:"fa-solid fa-mountain-sun mr-3"}),"  "]})]})},wu=({habit:s,onClose:t,onUpdate:n,onToggleStatus:i})=>{const[o,u]=k.useState("month"),[p,g]=k.useState(s.title),[v,x]=k.useState(s.color||"#f97316"),y=["#f97316","#10b981","#6366f1","#ec4899","#06b6d4","#facc15","#a855f7","#475569"],b=k.useMemo(()=>{var M;const S=s.habitHistory||{},w=new Date;w.setHours(0,0,0,0);let E=30;o==="week"&&(E=7),o==="year"&&(E=365);let U=0;for(let H=0;H<E;H++){const O=new Date(w);O.setDate(w.getDate()-H);const Q=O.toISOString().split("T")[0];((M=S[Q])==null?void 0:M.status)==="completed"&&U++}const R=Object.entries(S);return{percent:Math.round(U/E*100),totalCompleted:U,totalDays:E,notes:R.filter(([H,O])=>O.note).sort((H,O)=>O[0].localeCompare(H[0]))}},[s.habitHistory,o]),T=()=>{var E;const S=new Date;S.setHours(0,0,0,0);const w=[];for(let U=13;U>=0;U--){const R=new Date(S);R.setDate(S.getDate()-U);const M=R.toISOString().split("T")[0],H=(E=s.habitHistory)==null?void 0:E[M],O=(H==null?void 0:H.status)||"none",Q=R.toLocaleString("uk-UA",{weekday:"short"}).toUpperCase();w.push({ds:M,status:O,weekday:Q,dayNum:R.getDate()})}return r.jsx("div",{className:"grid grid-cols-7 gap-1.5",children:w.map((U,R)=>r.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[r.jsxs("div",{className:`w-full aspect-square rounded-md transition-all duration-300 flex items-center justify-center border ${U.status==="completed"?"shadow-sm":""}`,style:{backgroundColor:U.status==="completed"?v:U.status==="skipped"?"#0f172a":"#e2e8f0",borderColor:U.status==="completed"?v:"transparent"},children:[U.status==="completed"&&r.jsx("i",{className:"fa-solid fa-check text-[7px] text-white"}),U.status==="skipped"&&r.jsx("i",{className:"fa-solid fa-xmark text-[7px] text-slate-400"})]}),r.jsx("span",{className:`text-[5.5px] font-black uppercase tracking-tighter ${U.ds===S.toISOString().split("T")[0]?"text-orange-500":"text-slate-400"}`,children:U.weekday})]},R))})},_=()=>{var M,H;const S=new Date,U=7*35,R=[];for(let O=U-1;O>=0;O--){const Q=new Date(S);Q.setDate(S.getDate()-O);const D=Q.toISOString().split("T")[0],L=(H=(M=s.habitHistory)==null?void 0:M[D])==null?void 0:H.status;R.push({ds:D,status:L})}return r.jsx("div",{className:"flex flex-col gap-1 overflow-x-auto no-scrollbar pb-1",children:r.jsx("div",{className:"grid grid-flow-col grid-rows-7 gap-0.5 min-w-max",children:R.map((O,Q)=>r.jsx("div",{className:"w-1 h-1 rounded-[1px] transition-colors",style:{backgroundColor:O.status==="completed"?v:O.status==="skipped"?"#0f172a":"#f1f5f9"},title:O.ds},Q))})})};return r.jsxs("div",{className:"h-full flex flex-col bg-white",children:[r.jsxs("header",{className:"p-5 border-b border-slate-50",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-white text-lg shadow-md shrink-0",style:{backgroundColor:v},children:r.jsx("i",{className:"fa-solid fa-repeat"})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("input",{value:p,onChange:S=>g(S.target.value),onBlur:()=>n({title:p}),className:"text-sm font-black text-slate-900 bg-transparent border-none p-0 focus:ring-0 w-full"}),r.jsx(W,{variant:"tiny",className:"text-slate-400 text-[8px]",children:" "})]})]}),r.jsx("button",{onClick:t,className:"w-6 h-6 rounded-lg hover:bg-slate-100 text-slate-300 flex items-center justify-center transition-all shrink-0",children:r.jsx("i",{className:"fa-solid fa-xmark text-xs"})})]}),r.jsx("div",{className:"flex gap-0.5 bg-slate-100 p-0.5 rounded-lg",children:["week","month","year"].map(S=>r.jsx("button",{onClick:()=>u(S),className:`flex-1 py-1 rounded-md text-[8px] font-black uppercase tracking-widest transition-all ${o===S?"bg-white shadow-sm text-orange-600":"text-slate-400"}`,children:S==="week"?"":S==="month"?"":""},S))})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs(Ie,{padding:"sm",className:"bg-orange-50/50 border-orange-100 flex flex-col items-center justify-center text-center py-3",children:[r.jsxs("div",{className:"text-xl font-black text-orange-600 leading-none mb-1",children:[b.percent,"%"]}),r.jsx(W,{variant:"tiny",className:"text-orange-400 text-[7px]",children:""})]}),r.jsxs(Ie,{padding:"sm",className:"bg-slate-50 border-slate-100 flex flex-col items-center justify-center text-center py-3",children:[r.jsxs("div",{className:"text-xl font-black text-slate-800 leading-none mb-1",children:[b.totalCompleted,r.jsxs("span",{className:"text-xs text-slate-300",children:["/",b.totalDays]})]}),r.jsx(W,{variant:"tiny",className:"text-slate-400 text-[7px]",children:" "})]})]}),r.jsxs("section",{children:[r.jsx("div",{className:"flex items-center justify-between mb-2 px-1",children:r.jsxs(W,{variant:"tiny",className:"text-slate-900 font-black flex items-center gap-1.5 uppercase text-[8px]",children:[r.jsx("i",{className:"fa-solid fa-chart-simple text-orange-500 text-[7px]"})," ",o==="year"?" ":"  14 "]})}),r.jsx("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:o==="year"?_():T()})]}),r.jsxs("section",{children:[r.jsx(W,{variant:"tiny",className:"text-slate-900 font-black mb-2 uppercase text-[8px] px-1",children:" "}),r.jsx("div",{className:"flex flex-wrap gap-1.5 px-1",children:y.map(S=>r.jsx("button",{onClick:()=>{x(S),n({color:S})},className:`w-6 h-6 rounded-lg transition-all ${v===S?"ring-2 ring-offset-1 ring-slate-200 scale-105 shadow-sm":"hover:scale-105"}`,style:{backgroundColor:S}},S))})]})]}),r.jsx("footer",{className:"p-5 border-t border-slate-50 bg-slate-50/30",children:r.jsx($e,{variant:"white",onClick:t,className:"w-full rounded-xl py-3 font-black uppercase text-[8px] tracking-widest",children:""})})]})},Bs=({label:s,icon:t,type:n,level:i,isOpen:o,count:u,color:p,onToggle:g,onAddAction:v,onAddSub:x,onAddHabit:y,onClick:b,onRename:T,onDelete:_,isDraggable:S,onDragStart:w,isActive:E,children:U})=>{const[R,M]=k.useState(!1),[H,O]=k.useState(s),Q=D=>{D.preventDefault(),H.trim()&&H!==s&&(T==null||T(H.trim())),M(!1)};return r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("div",{draggable:S,onDragStart:w,onClick:()=>{var D;R||(D=b||g)==null||D()},className:`group flex items-center gap-2 py-1.5 px-3 cursor-pointer hover:bg-slate-100 rounded-lg transition-all relative ${E?"bg-orange-50 text-orange-700 ring-1 ring-orange-100":"text-slate-600"}`,style:{marginLeft:`${i*12}px`},children:[r.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[U||n==="folder"||n==="system"?r.jsx("i",{className:`fa-solid fa-chevron-right text-[7px] w-3 text-center transition-transform ${o?"rotate-90 text-orange-500":"text-slate-300"}`}):r.jsx("div",{className:"w-3"}),r.jsx("i",{className:`fa-solid ${t} text-[11px] w-4 text-center ${n==="event"?"text-pink-500":n==="note"?"text-indigo-400":n==="habit"?"text-emerald-500":n==="folder"?p?"":"text-orange-400":"text-slate-400"}`,style:p?{color:p}:{}})]}),r.jsx("div",{className:"flex-1 min-w-0",children:R?r.jsx("form",{onSubmit:Q,onClick:D=>D.stopPropagation(),children:r.jsx("input",{autoFocus:!0,value:H,onChange:D=>O(D.target.value),onBlur:Q,className:"w-full bg-white border border-orange-200 rounded px-1 text-[12px] font-bold outline-none h-5"})}):r.jsx("span",{className:`text-[12px] truncate block tracking-tight ${n==="folder"||n==="system"?"font-black uppercase":"font-bold"}`,children:s})}),u!==void 0&&u>0&&!o&&!R&&r.jsx("span",{className:"text-[8px] font-black text-slate-400 bg-slate-50 px-1.5 py-0.5 rounded-full border border-slate-100 group-hover:bg-white",children:u}),r.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all ml-auto shrink-0",children:[x&&r.jsx("button",{onClick:D=>{D.stopPropagation(),x(D)},title:" ",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-400 hover:text-orange-500",children:r.jsx("i",{className:"fa-solid fa-folder-plus text-[9px]"})}),v&&r.jsx("button",{onClick:D=>{D.stopPropagation(),v(D)},title:" ",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-400 hover:text-emerald-500",children:r.jsx("i",{className:"fa-solid fa-file-circle-plus text-[9px]"})}),y&&r.jsx("button",{onClick:D=>{D.stopPropagation(),y(D)},title:" ",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-400 hover:text-indigo-500",children:r.jsx("i",{className:"fa-solid fa-repeat text-[9px]"})}),T&&!R&&r.jsx("button",{onClick:D=>{D.stopPropagation(),M(!0)},title:"",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-300 hover:text-slate-600",children:r.jsx("i",{className:"fa-solid fa-pencil text-[8px]"})}),_&&r.jsx("button",{onClick:D=>{D.stopPropagation(),confirm(` ${s}?`)&&_()},title:"",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-300 hover:text-rose-500",children:r.jsx("i",{className:"fa-solid fa-trash-can text-[8px]"})})]})]}),o&&U&&r.jsx("div",{className:"mt-0.5",children:U})]})},v_=()=>{const{tasks:s,projects:t,inboxCategories:n,addProject:i,addTask:o,updateTask:u,updateProject:p,deleteProject:g,deleteTask:v,toggleHabitStatus:x}=Ye(),{isResizing:y,startResizing:b,detailsWidth:T}=Gn(400,800),[_,S]=k.useState({root_projects:!0}),[w,E]=k.useState(null),[U,R]=k.useState(null),M=(L,I)=>{S(B=>({...B,[L]:I??!B[L]}))},H=k.useMemo(()=>s.filter(L=>!L.isDeleted&&L.status!==ge.DONE),[s]),O=(L,I)=>{const B=L.projectSection==="habits"||L.tags.includes("habit");return r.jsx(Bs,{id:L.id,label:L.title,icon:B?"fa-repeat":L.isEvent?"fa-calendar-star":L.category==="note"?"fa-note-sticky":"fa-circle-dot",type:B?"habit":L.isEvent?"event":L.category==="note"?"note":"task",level:I,onClick:()=>{B?(R(L.id),E(null)):(E(L.id),R(null))},isActive:w===L.id||U===L.id,onRename:te=>u({...L,title:te}),onDelete:()=>v(L.id,!0),isDraggable:!0,onDragStart:te=>te.dataTransfer.setData("taskId",L.id)},L.id)},Q=(L,I=0)=>t.filter(B=>B.parentFolderId===L&&B.status==="active").map(B=>{const te=`proj_${B.id}`,Y=H.filter(de=>de.projectId===B.id);return r.jsxs(Bs,{id:B.id,label:B.name,icon:B.isStrategic?"fa-flag-checkered":"fa-layer-group",color:B.color,type:"folder",level:I,isOpen:_[te],onToggle:()=>M(te),onAddAction:de=>{de.stopPropagation();const F=prompt(" :");F&&(o(F,"tasks",B.id,"actions"),M(te,!0))},onAddSub:de=>{de.stopPropagation();const F=prompt(" :");F&&(i({name:F,color:B.color,parentFolderId:B.id,isStrategic:!1,type:"subproject"}),M(te,!0))},onAddHabit:de=>{de.stopPropagation();const F=prompt(" :");F&&(o(F,"tasks",B.id,"habits"),M(te,!0))},onRename:de=>p({...B,name:de}),onDelete:()=>g(B.id),count:Y.length,children:[Q(B.id,I+1),Y.map(de=>O(de,I+1))]},B.id)}),D=k.useMemo(()=>s.find(L=>L.id===U),[s,U]);return r.jsxs("div",{className:"flex h-full bg-white overflow-hidden",children:[r.jsxs("div",{className:"flex-1 flex flex-col min-w-0 border-r border-slate-100",children:[r.jsxs("header",{className:"px-6 py-4 border-b border-slate-50 bg-slate-50/30 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-xl bg-orange-600 flex items-center justify-center text-white shadow-lg",children:r.jsx("i",{className:"fa-solid fa-sitemap text-xs"})}),r.jsx(W,{variant:"h3",className:"text-sm font-black uppercase tracking-tight",children:" "})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs("button",{onClick:()=>{const L=prompt("  :");L&&i({name:L,color:"#f97316",isStrategic:!0,type:"goal"})},className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white border border-slate-100 text-[9px] font-black uppercase text-slate-500 hover:text-orange-600 hover:border-orange-200 transition-all shadow-sm",children:[r.jsx("i",{className:"fa-solid fa-plus"})," "]})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-4",children:[r.jsx("section",{children:r.jsx(Bs,{id:"root_projects",label:"  ",icon:"fa-folder-tree",type:"system",level:0,isOpen:_.root_projects,onToggle:()=>M("root_projects"),onAddSub:L=>{L.stopPropagation();const I=prompt("  :");I&&i({name:I,color:"#f97316",isStrategic:!0,type:"goal"})},children:Q(void 0,1)})}),r.jsx("section",{children:r.jsx(Bs,{id:"root_inbox",label:"  ",icon:"fa-inbox",type:"system",level:0,isOpen:_.root_inbox,onToggle:()=>M("root_inbox"),children:n.map(L=>{const I=`cat_${L.id}`,B=H.filter(te=>te.category===L.id&&!te.projectId);return r.jsx(Bs,{id:L.id,label:L.title,icon:L.icon,type:"folder",level:1,count:B.length,isOpen:_[I],onToggle:()=>M(I),onAddAction:te=>{te.stopPropagation();const Y=prompt(`  ${L.title}:`);Y&&o(Y,L.id)},children:B.map(te=>O(te,2))},L.id)})})})]})]}),r.jsxs("div",{className:"bg-slate-50/10 shrink-0 relative flex flex-col",style:{width:T},children:[r.jsx("div",{onMouseDown:b,className:`absolute left-0 top-0 bottom-0 w-[1px] cursor-col-resize hover:bg-orange-500 transition-colors z-[100] ${y?"bg-orange-500":"bg-slate-100"}`}),w?r.jsx(qi,{task:s.find(L=>L.id===w),onClose:()=>E(null)}):D?r.jsx("div",{className:"h-full animate-in slide-in-from-right duration-300",children:r.jsx(wu,{habit:D,onClose:()=>R(null),onUpdate:L=>u({...D,...L}),onToggleStatus:x})}):r.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-20 grayscale p-10 text-center select-none pointer-events-none",children:[r.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-dashed border-slate-300 flex items-center justify-center mb-8",children:r.jsx("i",{className:"fa-solid fa-mouse-pointer text-4xl"})}),r.jsx(W,{variant:"h2",className:"text-xl font-black uppercase tracking-widest",children:" "}),r.jsx(W,{variant:"body",className:"mt-4 text-xs font-bold leading-relaxed max-w-[200px]",children:"  +      ."})]})]})]})},y_=({onClose:s,onSave:t,initialData:n,aiEnabled:i})=>{const[o,u]=k.useState((n==null?void 0:n.name)||""),[p,g]=k.useState((n==null?void 0:n.description)||""),[v,x]=k.useState((n==null?void 0:n.color)||"var(--primary)"),[y,b]=k.useState((n==null?void 0:n.sphere)||"career"),[T,_]=k.useState(!1),S=[{key:"health",label:"'",icon:"fa-heart-pulse"},{key:"career",label:"'",icon:"fa-briefcase"},{key:"finance",label:"",icon:"fa-coins"},{key:"education",label:"",icon:"fa-book-open-reader"},{key:"relationships",label:"",icon:"fa-people-group"},{key:"rest",label:"",icon:"fa-couch"}];return r.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:s}),r.jsxs(Ie,{className:"w-full max-w-lg relative z-10 shadow-2xl p-6 md:p-8 rounded-[2rem] md:rounded-[2.5rem] bg-card animate-in zoom-in-95 duration-200 border-theme overflow-y-auto max-h-[90vh]",children:[r.jsx(W,{variant:"h2",className:"mb-6 text-xl md:text-2xl",children:n?" ":"  "}),r.jsxs("div",{className:"space-y-4 md:space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[9px] md:text-[10px] font-black uppercase text-muted mb-2 block tracking-widest",children:" "}),r.jsx("input",{autoFocus:!0,value:o,onChange:w=>u(w.target.value),placeholder:":   ",className:"w-full bg-main border border-theme rounded-2xl py-3 md:py-4 px-4 md:px-5 text-sm font-bold focus:ring-4 focus:ring-primary/10 outline-none transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[9px] md:text-[10px] font-black uppercase text-muted mb-2 block tracking-widest",children:" "}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:S.map(w=>r.jsxs("button",{onClick:()=>b(w.key),className:`p-2 md:p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-1 ${y===w.key?"border-primary bg-primary/10 text-primary":"border-theme bg-main text-muted hover:border-primary/30"}`,children:[r.jsx("i",{className:`fa-solid ${w.icon} text-[10px] md:text-xs`}),r.jsx("span",{className:"text-[7px] md:text-[8px] font-black uppercase",children:w.label})]},w.key))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[9px] md:text-[10px] font-black uppercase text-muted mb-2 block tracking-widest",children:"  "}),r.jsx("textarea",{value:p,onChange:w=>g(w.target.value),placeholder:"  ...",className:"w-full bg-main border border-theme rounded-2xl p-4 text-sm font-bold focus:ring-4 focus:ring-primary/10 outline-none transition-all h-20 md:h-24 resize-none"})]}),i&&!n&&r.jsxs("div",{className:"p-3 md:p-4 bg-primary/5 rounded-2xl border border-primary/20 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-xl bg-primary text-white flex items-center justify-center shadow-lg",children:r.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-xs md:text-base"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-[9px] md:text-[10px] font-black uppercase text-primary leading-none mb-1",children:"AI "}),r.jsx("div",{className:"text-[7px] md:text-[8px] font-bold text-muted",children:"  "})]})]}),r.jsx("button",{onClick:()=>_(!T),className:`w-10 h-5 rounded-full transition-all relative ${T?"bg-primary":"bg-muted/20"}`,children:r.jsx("div",{className:`absolute top-1 w-3 h-3 bg-white rounded-full transition-all ${T?"right-1":"left-1"}`})})]}),r.jsxs("div",{className:"flex gap-3 md:gap-4 pt-2 md:pt-4",children:[r.jsx($e,{variant:"white",className:"flex-1 py-3 md:py-4 rounded-2xl font-black text-xs",onClick:s,children:""}),r.jsx($e,{disabled:!o.trim(),className:"flex-[2] py-3 md:py-4 rounded-2xl shadow-xl font-black text-xs",onClick:()=>t({name:o,description:p,color:v,sphere:y},T),children:n?"":" "})]})]})]})]})},b_=({subProject:s,onClose:t})=>{const{tasks:n,toggleTaskStatus:i,updateProject:o,addTask:u,updateTask:p,deleteTask:g}=Ye(),[v,x]=k.useState(""),[y,b]=k.useState(!1),T=n.filter(S=>S.projectId===s.id&&!S.isDeleted),_=k.useMemo(()=>{if(T.length===0)return 0;const S=T.filter(w=>w.status===ge.DONE).length;return Math.round(S/T.length*100)},[T]);return k.useEffect(()=>{_!==s.progress&&o({...s,progress:_})},[_,s.progress]),r.jsxs("div",{onDragOver:S=>{S.preventDefault(),b(!0)},onDragLeave:()=>b(!1),onDrop:S=>{S.preventDefault(),b(!1);const w=S.dataTransfer.getData("taskId"),E=n.find(U=>U.id===w);E&&p({...E,projectId:s.id,projectSection:"actions",status:ge.DOING})},className:`h-full flex flex-col bg-card animate-in slide-in-from-right duration-300 ${y?"ring-4 ring-inset ring-primary/20":""}`,children:[r.jsxs("header",{className:"p-4 md:p-6 border-b border-theme flex justify-between items-start",children:[r.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-2xl text-white flex items-center justify-center text-lg shadow-lg",style:{backgroundColor:s.color||"var(--primary)"},children:r.jsx("i",{className:"fa-solid fa-layer-group"})}),r.jsxs("div",{children:[r.jsx(W,{variant:"tiny",className:"text-primary font-black mb-0.5 uppercase tracking-widest text-[8px]",children:" "}),r.jsx(W,{variant:"h2",className:"text-base md:text-lg leading-tight",children:s.name})]})]}),r.jsx("button",{onClick:t,className:"w-8 h-8 rounded-xl bg-main flex items-center justify-center text-muted hover:text-primary transition-colors",children:r.jsx("i",{className:"fa-solid fa-xmark text-xs"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6 custom-scrollbar",children:r.jsxs("section",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx(W,{variant:"tiny",className:"text-main font-black uppercase tracking-widest text-[9px]",children:" "}),r.jsxs("div",{className:"text-[7px] font-black py-0.5 px-2 bg-primary/10 text-primary rounded-full",children:[_,"% COMPLETE"]})]}),r.jsxs("div",{className:"space-y-1.5",children:[T.map(S=>r.jsxs("div",{draggable:!0,onDragStart:w=>w.dataTransfer.setData("taskId",S.id),className:`flex items-center gap-3 p-3 bg-main border border-theme rounded-xl group hover:border-primary/30 transition-all ${S.status===ge.DOING?"opacity-50 grayscale":""}`,children:[r.jsx("button",{onClick:()=>i(S),className:`w-5 h-5 rounded-full border flex items-center justify-center transition-all ${S.status===ge.DONE?"bg-emerald-500 border-emerald-500 text-white":"bg-card border-theme group-hover:border-primary"}`,children:S.status===ge.DONE&&r.jsx("i",{className:"fa-solid fa-check text-[8px]"})}),r.jsx("span",{className:`text-[13px] font-bold flex-1 truncate ${S.status===ge.DONE?"text-muted line-through opacity-50":"text-main"}`,children:S.title}),r.jsx("button",{onClick:()=>g(S.id),className:"text-muted hover:text-rose-500 transition-all p-1",children:r.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]},S.id)),r.jsx("form",{onSubmit:S=>{S.preventDefault(),v.trim()&&(u(v.trim(),"tasks",s.id,"actions"),x(""))},className:"pt-2",children:r.jsx("input",{value:v,onChange:S=>x(S.target.value),placeholder:"+  ...",className:"w-full bg-main border border-theme rounded-xl px-4 py-3 text-[13px] font-bold outline-none focus:border-primary/50 transition-colors text-main"})})]})]})}),r.jsx("footer",{className:"p-4 md:p-6 border-t border-theme bg-black/5",children:r.jsx($e,{variant:"white",onClick:t,className:"w-full text-[10px] font-black uppercase py-4 rounded-xl tracking-widest shadow-sm",children:""})})]})},N_=({goal:s,isExpanded:t,onToggle:n,onTaskClick:i,onHabitClick:o,onSubProjectClick:u,onEdit:p,selectedTaskId:g,selectedHabitId:v})=>{const{tasks:x,projects:y,addProject:b,addTask:T,deleteProject:_,toggleTaskStatus:S}=Ye(),[w,E]=k.useState("actions"),[U,R]=k.useState(""),M=y.filter(I=>I.parentFolderId===s.id&&I.status==="active"),H=k.useMemo(()=>{const I=x.filter(te=>!te.isDeleted&&te.projectId===s.id&&te.projectSection!=="habits"),B=M.map(te=>{const Y=x.filter(de=>!de.isDeleted&&de.status!==ge.DONE&&de.projectId===te.id&&de.projectSection!=="habits").sort((de,F)=>de.createdAt-F.createdAt);return Y.length>0?[Y[0]]:[]}).flat();return[...I,...B]},[x,s.id,M]),O=x.filter(I=>!I.isDeleted&&I.projectId===s.id&&I.projectSection==="habits"),Q=k.useMemo(()=>{const I=x.filter(te=>(te.projectId===s.id||M.some(Y=>Y.id===te.projectId))&&!te.isDeleted);if(I.length===0)return 0;const B=I.filter(te=>te.status===ge.DONE).length;return Math.round(B/I.length*100)},[M,x,s.id]),D=I=>{I.preventDefault(),U.trim()&&(w==="actions"?T(U.trim(),"tasks",s.id,"actions"):w==="subprojects"?b({name:U.trim(),color:s.color,parentFolderId:s.id,isStrategic:!1,type:"subproject"}):w==="habits"&&T(U.trim(),"tasks",s.id,"habits"),R(""))},L={health:"fa-heart-pulse",career:"fa-briefcase",finance:"fa-coins",education:"fa-book-open-reader",relationships:"fa-people-group",rest:"fa-couch"};return r.jsxs(Ie,{padding:"none",className:`bg-card border-theme shadow-sm overflow-hidden transition-all ${t?"shadow-xl ring-2 ring-primary/10":"hover:border-primary/30"}`,children:[r.jsxs("div",{className:"flex items-stretch",children:[r.jsx("div",{className:"w-1.5 shrink-0 transition-all",style:{backgroundColor:s.color||"var(--primary)"}}),r.jsxs("div",{onClick:n,className:"flex-1 p-3 md:p-4 cursor-pointer flex items-center gap-3 md:gap-4 group",children:[r.jsxs("div",{className:"w-10 h-10 md:w-11 md:h-11 rounded-xl flex items-center justify-center text-white shadow-lg shrink-0 transition-transform group-hover:scale-105 relative",style:{backgroundColor:s.color||"var(--primary)"},children:[r.jsx("i",{className:"fa-solid fa-flag-checkered text-xs md:text-sm"}),s.sphere&&r.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-lg bg-white shadow-md flex items-center justify-center text-[7px] text-slate-900 border border-slate-50",children:r.jsx("i",{className:`fa-solid ${L[s.sphere]||"fa-mountain"}`})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[r.jsx(W,{variant:"h3",className:"text-sm md:text-[15px] font-black uppercase tracking-tight truncate",children:s.name}),r.jsxs("div",{className:"text-[7px] font-black py-0 px-1.5 rounded-full bg-primary/10 text-primary",children:[Q,"%"]})]}),r.jsx("div",{className:"text-[7px] md:text-[8px] font-black text-muted uppercase tracking-widest",children:s.sphere||" "})]}),r.jsx("i",{className:`fa-solid fa-chevron-right text-[8px] text-muted transition-transform ${t?"rotate-90 text-primary":""}`})]})]}),t&&r.jsxs("div",{className:"px-4 md:px-5 pb-4 md:pb-5 pt-2 md:pt-3 bg-black/5 border-t border-theme animate-in slide-in-from-top-2 duration-300",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3 md:mb-4 overflow-x-auto no-scrollbar pb-1",children:[r.jsx("div",{className:"flex gap-1 bg-main p-1 rounded-xl border border-theme shrink-0",children:[{id:"actions",label:"",icon:"fa-bolt"},{id:"subprojects",label:"",icon:"fa-layer-group"},{id:"habits",label:"",icon:"fa-repeat"}].map(I=>r.jsxs("button",{onClick:()=>E(I.id),className:`px-2.5 md:px-3 py-1.5 text-[7px] md:text-[8px] font-black uppercase tracking-widest transition-all rounded-lg flex items-center gap-1 md:gap-1.5 ${w===I.id?"bg-card shadow-sm text-primary":"text-muted hover:text-main"}`,children:[r.jsx("i",{className:`fa-solid ${I.icon} text-[8px] md:text-[9px]`})," ",I.label]},I.id))}),r.jsxs("div",{className:"flex gap-1.5 shrink-0 ml-4",children:[r.jsx("button",{onClick:()=>p(s),className:"w-7 h-7 rounded-xl bg-card border border-theme text-muted hover:text-primary transition-all flex items-center justify-center shadow-sm",children:r.jsx("i",{className:"fa-solid fa-gear text-[10px]"})}),r.jsx("button",{onClick:()=>{confirm(" ?")&&_(s.id)},className:"w-7 h-7 rounded-xl bg-card border border-theme text-muted hover:text-rose-500 transition-all flex items-center justify-center shadow-sm",children:r.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("form",{onSubmit:D,className:"flex gap-2",children:[r.jsx("input",{value:U,onChange:I=>R(I.target.value),placeholder:w==="actions"?" ...":w==="subprojects"?" ...":"...",className:"flex-1 bg-card border border-theme rounded-xl py-2 px-3 text-[12px] font-bold focus:ring-4 focus:ring-primary/10 outline-none transition-all shadow-inner text-main"}),r.jsx("button",{type:"submit",disabled:!U.trim(),className:"w-9 h-9 bg-primary text-white rounded-xl flex items-center justify-center disabled:opacity-30 shadow-lg active:scale-95 transition-all",children:r.jsx("i",{className:"fa-solid fa-plus text-xs"})})]}),r.jsxs("div",{className:"flex flex-col gap-1.5",children:[w==="actions"&&H.map(I=>{const B=y.find(Y=>Y.id===I.projectId),te=I.status===ge.DOING;return r.jsxs("div",{draggable:!0,onDragStart:Y=>Y.dataTransfer.setData("taskId",I.id),onClick:()=>i(I.id),className:`flex items-center gap-3 p-3 rounded-xl bg-card border border-theme group transition-all cursor-pointer ${te?"opacity-50 grayscale":"hover:border-primary/30 hover:shadow-md"}`,children:[r.jsx("button",{onClick:Y=>{Y.stopPropagation(),S(I)},className:`w-5 h-5 rounded-full border flex items-center justify-center shrink-0 transition-all ${I.status===ge.DONE?"bg-emerald-500 border-emerald-500 text-white":"bg-card border-theme group-hover:border-primary"}`,children:I.status===ge.DONE&&r.jsx("i",{className:"fa-solid fa-check text-[8px]"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:`text-[12px] md:text-[13px] font-bold truncate ${I.status===ge.DONE?"text-muted line-through opacity-50":"text-main"}`,children:I.title}),B&&B.type==="subproject"&&r.jsxs("span",{className:"text-[7px] font-black uppercase text-primary opacity-60 px-1 bg-primary/5 rounded",children:["# ",B.name]})]}),r.jsx("i",{className:"fa-solid fa-chevron-right text-[8px] text-muted opacity-30 group-hover:text-primary group-hover:opacity-100 group-hover:translate-x-0.5 transition-all"})]},I.id)}),w==="subprojects"&&r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:M.map(I=>r.jsxs("div",{onClick:()=>u(I.id),className:"bg-card p-3.5 rounded-[1.5rem] border border-theme shadow-sm hover:shadow-md hover:border-primary/30 transition-all cursor-pointer group flex flex-col justify-between h-20 md:h-24",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"w-7 h-7 rounded-xl text-white flex items-center justify-center shadow-lg group-hover:rotate-6 transition-transform",style:{backgroundColor:I.color||s.color||"var(--primary)"},children:r.jsx("i",{className:"fa-solid fa-layer-group text-[10px]"})}),r.jsxs(ft,{variant:"orange",className:"text-[6px]",children:[I.progress,"%"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-[9px] font-black text-main uppercase truncate mb-1.5",children:I.name}),r.jsx("div",{className:"h-1 bg-muted/10 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-primary transition-all duration-1000",style:{width:`${I.progress}%`}})})]})]},I.id))}),w==="habits"&&O.map(I=>r.jsxs("div",{onClick:()=>o(I.id),className:"p-3 bg-card border border-theme rounded-xl flex items-center justify-between shadow-sm group cursor-pointer hover:border-primary/30 transition-all",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-7 h-7 rounded-lg bg-primary/10 text-primary flex items-center justify-center text-[10px]",children:r.jsx("i",{className:"fa-solid fa-repeat"})}),r.jsx("span",{className:"text-[12px] md:text-[13px] font-bold text-main",children:I.title})]}),r.jsx(ft,{variant:"emerald",className:"text-[7px] py-0 px-1",children:"DAILY"})]},I.id))]})]})]})]})},T_=()=>{const{projects:s,tasks:t,cycle:n,addProject:i,updateProject:o,toggleHabitStatus:u,toggleTaskStatus:p,updateTask:g,updateCycle:v,character:x,addTask:y,aiEnabled:b}=Ye(),{isResizing:T,startResizing:_,detailsWidth:S}=Gn(400,700),[w,E]=k.useState("strategy"),[U,R]=k.useState(null),[M,H]=k.useState(null),[O,Q]=k.useState(null),[D,L]=k.useState(null),[I,B]=k.useState({open:!1}),[te,Y]=k.useState(!1),[de,F]=k.useState(window.innerWidth<1024);k.useEffect(()=>{const ne=()=>F(window.innerWidth<1024);return window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[]);const pe=k.useMemo(()=>s.filter(ne=>ne.type==="goal"&&ne.status==="active"),[s]),q=async(ne,K)=>{let me="";if(I.editing?(o({...I.editing,...ne}),me=I.editing.id):me=i({...ne,isStrategic:!0,type:"goal"}),B({open:!1}),K&&b){Y(!0);try{const j=await a_(ne.name,ne.description||"",x);j.nextActions.forEach($=>y($,"tasks",me,"actions")),j.habits.forEach($=>y($,"tasks",me,"habits"));for(const $ of j.subprojects){const ue=i({name:$.title,color:ne.color,parentFolderId:me,isStrategic:!1,type:"subproject"});$.tasks.forEach(ve=>y(ve,"tasks",ue,"actions"))}}catch{alert(" .")}finally{Y(!1)}}},V=k.useMemo(()=>t.find(ne=>ne.id===O),[t,O]);return r.jsxs("div",{className:"h-screen flex bg-main overflow-hidden relative",children:[r.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full",children:[r.jsx("header",{className:"px-4 md:px-6 py-4 border-b border-theme bg-card flex flex-col gap-4 sticky top-0 z-20 shrink-0",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 overflow-hidden",children:[r.jsxs("div",{className:"flex flex-col shrink-0",children:[r.jsx(W,{variant:"h2",className:"text-sm md:text-lg font-black uppercase tracking-tight leading-none text-main",children:" 12TR"}),r.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[r.jsx("div",{className:"px-1.5 py-0.5 bg-primary text-white text-[7px] font-black rounded uppercase tracking-widest",children:""}),r.jsxs(W,{variant:"tiny",className:"text-muted font-bold text-[7px]",children:[" ",n.currentWeek,"/12"]})]})]}),r.jsx("div",{className:"h-6 w-px bg-theme mx-1 shrink-0"}),r.jsx("div",{className:"flex bg-main p-0.5 rounded-lg border border-theme overflow-x-auto no-scrollbar shrink-0",children:[{id:"strategy",label:de?"":"",icon:"fa-chess-king"},{id:"execution",label:de?"":"",icon:"fa-bolt-lightning"},{id:"structure",label:de?"":"",icon:"fa-sitemap"}].map(ne=>r.jsxs("button",{onClick:()=>E(ne.id),className:`px-2.5 md:px-3 py-1.5 rounded-md text-[8px] font-black uppercase tracking-widest transition-all flex items-center gap-1.5 ${w===ne.id?"bg-primary text-white shadow-lg":"text-muted hover:text-main"}`,children:[r.jsx("i",{className:`fa-solid ${ne.icon} text-[8px] md:text-[9px]`})," ",ne.label]},ne.id))})]}),!de&&r.jsx($e,{icon:te?"fa-circle-notch animate-spin":"fa-plus",disabled:te,className:"rounded-xl px-4 py-2 font-black text-[8px] uppercase tracking-widest shadow-xl",onClick:()=>B({open:!0}),children:te?"...":""})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 md:p-6 pb-24 md:pb-32",children:w==="structure"?r.jsx(v_,{}):w==="execution"?r.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[r.jsxs(Ie,{className:"bg-slate-900 text-white p-5 border-none shadow-2xl relative overflow-hidden flex flex-col justify-center",children:[r.jsx(W,{variant:"tiny",className:"text-orange-500 mb-1 uppercase text-[7px]",children:" "}),r.jsxs(W,{variant:"h2",className:"text-xl md:text-2xl font-black text-white",children:[" ",n.currentWeek]})]}),r.jsxs(Ie,{className:"p-5 bg-card border-theme text-center flex flex-col items-center justify-center",children:[r.jsxs("div",{className:"text-xl md:text-2xl font-black text-main mb-1",children:[n.globalExecutionScore,"%"]}),r.jsx(W,{variant:"tiny",className:"text-muted text-[7px]",children:" KPI"})]}),r.jsxs(Ie,{className:"p-5 bg-card border-theme flex flex-col justify-center",children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx(W,{variant:"tiny",className:"text-muted text-[7px]",children:"STREAK"}),r.jsx("span",{className:"text-primary font-black text-[11px]",children:" 12"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(W,{variant:"tiny",className:"text-muted text-[7px]",children:""}),r.jsx("span",{className:"text-indigo-600 font-black text-[11px]",children:"84"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(W,{variant:"h2",className:"text-[10px] uppercase font-black tracking-widest text-muted px-1",children:"   "}),pe.map(ne=>{const K=t.filter($=>!$.isDeleted&&$.status!==ge.DONE&&$.projectId===ne.id&&$.projectSection!=="habits"),me=s.filter($=>$.parentFolderId===ne.id).map($=>{const ue=t.filter(ve=>!ve.isDeleted&&ve.status!==ge.DONE&&ve.projectId===$.id).sort((ve,ke)=>ve.createdAt-ke.createdAt);return ue.length>0?[ue[0]]:[]}).flat(),j=[...K,...me];return j.length===0?null:r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("div",{className:"flex items-center gap-2 px-1 mt-4",children:[r.jsx("div",{className:"w-1 h-3 rounded-full",style:{backgroundColor:ne.color||"var(--primary)"}}),r.jsx("span",{className:"text-[10px] font-black uppercase text-muted truncate",children:ne.name})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:j.map($=>r.jsxs(Ie,{padding:"none",onClick:()=>H($.id),className:`bg-card border-theme hover:border-primary/30 transition-all flex items-center gap-3 p-4 group cursor-pointer ${$.status===ge.DOING?"opacity-50 grayscale":"shadow-sm"}`,children:[r.jsx("button",{onClick:ue=>{ue.stopPropagation(),p($)},className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center shrink-0 transition-all ${$.status===ge.DONE?"bg-emerald-500 border-emerald-500 text-white":"bg-card border-theme group-hover:border-primary"}`,children:$.status===ge.DONE&&r.jsx("i",{className:"fa-solid fa-check text-xs"})}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsx("span",{className:`text-[13px] font-bold truncate block ${$.status===ge.DONE?"line-through opacity-30":"text-main"}`,children:$.title})})]},$.id))})]},ne.id)})]})]}):r.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:pe.map(ne=>r.jsx(N_,{goal:ne,isExpanded:U===ne.id,onToggle:()=>R(U===ne.id?null:ne.id),onTaskClick:K=>{H(K),Q(null),L(null)},onHabitClick:K=>{Q(K),H(null),L(null)},onSubProjectClick:K=>{L(K),H(null),Q(null)},onEdit:K=>B({open:!0,editing:K}),selectedTaskId:M,selectedHabitId:O},ne.id))})})]}),r.jsxs("div",{className:`flex h-full border-l border-theme z-[110] bg-card shrink-0 transition-all duration-300 ${de?M||D||V?"fixed inset-0 w-full translate-x-0":"fixed inset-0 w-full translate-x-full":""}`,children:[!de&&r.jsx("div",{onMouseDown:_,className:`w-[1px] h-full cursor-col-resize hover:bg-primary z-[100] transition-colors ${T?"bg-primary":"bg-theme"}`}),r.jsx("div",{style:{width:de?"100vw":S},className:"h-full bg-card relative flex flex-col overflow-hidden",children:M?r.jsx(qi,{task:t.find(ne=>ne.id===M),onClose:()=>H(null)}):D?r.jsx(b_,{subProject:s.find(ne=>ne.id===D),onClose:()=>L(null)}):V?r.jsx(wu,{habit:V,onClose:()=>Q(null),onUpdate:ne=>g({...V,...ne}),onToggleStatus:u}):!de&&r.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-12 text-center opacity-10 pointer-events-none select-none",children:[r.jsx("i",{className:"fa-solid fa-chess-king text-9xl mb-8"}),r.jsx(W,{variant:"h2",className:"text-2xl font-black uppercase tracking-widest",children:" "})]})})]}),I.open&&r.jsx(y_,{onClose:()=>B({open:!1}),onSave:q,initialData:I.editing,aiEnabled:b})]})},w_=()=>{const{tasks:s,addTask:t,updateTask:n,toggleHabitStatus:i}=Ye(),[o,u]=k.useState(null),[p,g]=k.useState(!1),[v,x]=k.useState(""),[y,b]=k.useState(null),[T,_]=k.useState(""),S=k.useRef(null),w=k.useMemo(()=>s.filter(D=>!D.isDeleted&&(D.projectSection==="habits"||D.tags.includes("habit"))),[s]),E=k.useMemo(()=>Array.from({length:14},(D,L)=>{const I=new Date;return I.setDate(I.getDate()-L),I.setHours(0,0,0,0),{label:I.toLocaleString("uk-UA",{weekday:"short"}).toUpperCase(),date:I.getDate(),dateStr:I.toISOString().split("T")[0],timestamp:I.getTime()}}),[]),U=D=>{D.preventDefault(),v.trim()&&(t(v.trim(),"tasks",void 0,"habits"),x(""),g(!1))},R=D=>{var Y;const L=D.habitHistory||{};let I=0;const B=new Date;B.setHours(0,0,0,0);let te=new Date(B);for(;;){const de=te.toISOString().split("T")[0];if(((Y=L[de])==null?void 0:Y.status)==="completed")I++,te.setDate(te.getDate()-1);else{if(I===0&&de===B.toISOString().split("T")[0]){te.setDate(te.getDate()-1);continue}break}}return I},M=D=>D.color||"var(--primary)";k.useEffect(()=>{const D=L=>{S.current&&!S.current.contains(L.target)&&b(null)};return y&&document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[y]);const H=(D,L)=>{var te,Y;const I=s.find(de=>de.id===D),B=((Y=(te=I==null?void 0:I.habitHistory)==null?void 0:te[L])==null?void 0:Y.note)||"";_(B),b({habitId:D,dateStr:L})},O=D=>{y&&(i(y.habitId,y.dateStr,D,T),b(null))},Q=k.useMemo(()=>w.find(D=>D.id===o),[w,o]);return r.jsxs("div",{className:"h-screen flex flex-col bg-main text-[var(--text-main)] overflow-hidden relative",children:[r.jsxs("header",{className:"z-20 bg-sidebar/80 backdrop-blur-xl border-b border-theme px-5 py-3 flex items-center justify-between shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(W,{variant:"h2",className:"text-lg font-black",children:""}),r.jsx("div",{className:"h-3 w-px bg-theme opacity-50"}),r.jsx(W,{variant:"tiny",className:"text-muted tracking-widest lowercase text-[8px]",children:" "})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx($e,{variant:"primary",size:"sm",icon:"fa-plus",onClick:()=>g(!0),className:"rounded-lg px-3 py-1.5 text-[10px]",children:""})})]}),r.jsx("div",{className:"flex-1 overflow-x-auto custom-scrollbar z-10",children:r.jsx("div",{className:"min-w-full inline-block align-middle p-4",children:r.jsxs("table",{className:"w-full border-separate border-spacing-x-0.5 table-fixed",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-main/30",children:[r.jsx("th",{className:"sticky left-0 z-30 bg-sidebar p-2 text-left w-56 border-b border-theme",children:r.jsx("span",{className:"text-[8px] font-black uppercase text-muted tracking-[0.2em]",children:""})}),E.map(D=>{const L=D.dateStr===new Date().toISOString().split("T")[0];return r.jsxs("th",{className:`p-1.5 w-10 text-center border-b border-theme rounded-t-lg ${L?"bg-primary/10":""}`,children:[r.jsx("div",{className:`text-[7px] font-black uppercase leading-none mb-0.5 ${L?"text-primary":"text-muted"}`,children:L?"":D.label}),r.jsx("div",{className:`text-[10px] font-black leading-none ${L?"text-primary":"text-main"}`,children:D.date})]},D.dateStr)})]})}),r.jsx("tbody",{className:"divide-y divide-theme/30",children:w.map(D=>{const L=R(D),I=M(D);return r.jsxs("tr",{className:"group hover:bg-main/20 transition-colors",children:[r.jsxs("td",{className:"sticky left-0 z-30 bg-sidebar p-2 flex items-center gap-3 border-r border-theme cursor-pointer",onClick:()=>u(D.id),children:[r.jsxs("div",{className:"relative w-8 h-8 flex items-center justify-center shrink-0",children:[r.jsxs("svg",{className:"w-full h-full transform -rotate-90 overflow-visible",viewBox:"0 0 32 32",children:[r.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"transparent",stroke:"var(--border-color)",strokeWidth:"3"}),r.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"transparent",stroke:I,strokeWidth:"3",strokeDasharray:2*Math.PI*14,strokeDashoffset:2*Math.PI*14*(1-Math.min(L,30)/30),strokeLinecap:"round",className:"transition-all duration-700 ease-in-out"})]}),r.jsxs("span",{className:"absolute text-[7px] font-black flex flex-col items-center leading-none",style:{color:I},children:[r.jsx("span",{children:L}),r.jsx("span",{className:"text-[4px] uppercase",children:""})]})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"text-[10px] font-black text-main truncate group-hover:text-primary transition-colors uppercase tracking-tight flex items-center gap-1.5",children:[D.title,L>=3&&r.jsx("span",{className:"text-primary text-[8px]",children:""})]}),r.jsx("div",{className:"h-0.5 w-12 bg-theme/50 rounded-full overflow-hidden mt-1",children:r.jsx("div",{className:"h-full transition-all",style:{width:`${Math.min(L*10,100)}%`,backgroundColor:I}})})]})]}),E.map(B=>{var q;const te=((q=D.habitHistory)==null?void 0:q[B.dateStr])||{status:"none"},Y=te.status,de=!!te.note,F=B.dateStr===new Date().toISOString().split("T")[0],pe=(y==null?void 0:y.habitId)===D.id&&(y==null?void 0:y.dateStr)===B.dateStr;return r.jsxs("td",{className:`p-0 text-center relative border-b border-theme/50 ${F?"bg-primary/5":""}`,children:[r.jsx("button",{onClick:()=>H(D.id,B.dateStr),className:`w-full h-10 flex flex-col items-center justify-center transition-all group/btn ${pe?"bg-sidebar shadow-inner ring-1 ring-primary/20":""}`,children:r.jsxs("div",{className:"relative",children:[Y==="completed"?r.jsx("div",{className:"w-5 h-5 rounded-md flex items-center justify-center shadow-md transform group-hover/btn:scale-105 transition-transform",style:{backgroundColor:I},children:r.jsx("i",{className:"fa-solid fa-check text-white text-[8px]"})}):Y==="skipped"?r.jsx("div",{className:"w-5 h-5 rounded-md flex items-center justify-center bg-black/10",children:r.jsx("i",{className:"fa-solid fa-xmark text-muted text-[8px]"})}):r.jsx("div",{className:"w-5 h-5 rounded-md border border-dashed border-theme flex items-center justify-center group-hover/btn:border-primary/50 transition-colors",children:r.jsx("div",{className:"w-0.5 h-0.5 rounded-full bg-theme group-hover/btn:bg-primary/50"})}),de&&r.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-1.5 h-1.5 bg-primary rounded-full border border-sidebar shadow-sm"})]})}),pe&&r.jsxs("div",{ref:S,className:"absolute top-full left-1/2 -translate-x-1/2 mt-1.5 w-64 bg-card shadow-2xl rounded-2xl border border-theme p-4 z-[100] tiktok-blur text-left",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsxs("span",{className:"text-[9px] font-black uppercase text-muted tracking-widest",children:[B.label,", ",B.date]}),r.jsx("button",{onClick:()=>b(null),className:"text-muted hover:text-main transition-colors",children:r.jsx("i",{className:"fa-solid fa-xmark text-[10px]"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[r.jsxs("button",{onClick:()=>O("completed"),className:`h-9 rounded-xl flex items-center justify-center gap-1.5 transition-all ${Y==="completed"?"bg-primary text-white shadow-lg":"bg-main text-muted hover:bg-primary/10 hover:text-primary"}`,children:[r.jsx("i",{className:"fa-solid fa-check text-[10px]"}),r.jsx("span",{className:"text-[9px] font-black uppercase",children:""})]}),r.jsxs("button",{onClick:()=>O("skipped"),className:`h-9 rounded-xl flex items-center justify-center gap-1.5 transition-all ${Y==="skipped"?"bg-main text-main":"bg-main text-muted hover:bg-black/10 hover:text-main"}`,children:[r.jsx("i",{className:"fa-solid fa-xmark text-[10px]"}),r.jsx("span",{className:"text-[9px] font-black uppercase",children:""})]})]}),r.jsx(W,{variant:"tiny",className:"text-muted mb-1.5 uppercase text-[7px]",children:""}),r.jsx("textarea",{value:T,onChange:V=>_(V.target.value),placeholder:" ?",className:"w-full bg-main border border-theme rounded-xl p-2.5 text-[10px] font-medium outline-none h-16 resize-none focus:ring-1 focus:ring-primary/50 transition-all text-main"}),r.jsx("button",{onClick:()=>{i(y.habitId,y.dateStr,void 0,T),b(null)},className:"w-full mt-3 py-2 bg-primary text-white rounded-xl text-[9px] font-black uppercase tracking-widest shadow-md",children:""})]})]},B.dateStr)})]},D.id)})})]})})}),p&&r.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>g(!1)}),r.jsxs("div",{className:"bg-card w-full max-w-xs rounded-[2rem] border border-theme p-8 shadow-2xl relative z-10 animate-in zoom-in-95 duration-200",children:[r.jsx(W,{variant:"h2",className:"mb-6 text-xl",children:" "}),r.jsxs("form",{onSubmit:U,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-[9px] font-black uppercase text-muted tracking-widest",children:" "}),r.jsx("input",{autoFocus:!0,value:v,onChange:D=>x(D.target.value),placeholder:": ",className:"w-full bg-main border border-theme rounded-xl py-3 px-4 text-xs font-bold focus:ring-2 focus:ring-primary/20 outline-none transition-all text-main"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx($e,{variant:"white",type:"button",className:"flex-1 rounded-xl text-[10px]",onClick:()=>g(!1),children:""}),r.jsx($e,{type:"submit",variant:"primary",className:"flex-[2] rounded-xl shadow-lg text-[10px]",children:""})]})]})]})]}),Q&&r.jsx("div",{className:"fixed top-0 right-0 h-full w-[340px] bg-sidebar border-l border-theme z-[110] shadow-[-10px_0_40px_rgba(0,0,0,0.05)]",children:r.jsx(wu,{habit:Q,onClose:()=>u(null),onUpdate:D=>n({...Q,...D}),onToggleStatus:i})})]})},C_=()=>{var he,Ce;const{tasks:s,addTask:t,updateTask:n,deleteTask:i,detailsWidth:o,setDetailsWidth:u,addProject:p,updateProject:g,deleteProject:v,projects:x}=Ye(),[y,b]=k.useState(null),[T,_]=k.useState("all"),[S,w]=k.useState(""),[E,U]=k.useState(!1),[R,M]=k.useState(""),[H,O]=k.useState(null),[Q,D]=k.useState(""),[L,I]=k.useState(!1),[B,te]=k.useState(null),[Y,de]=k.useState(window.innerWidth<1024);k.useEffect(()=>{const P=()=>de(window.innerWidth<1024);return window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]);const F=k.useMemo(()=>x.filter(P=>{var we;return!P.isStrategic||((we=P.description)==null?void 0:we.includes("FOLDER_NOTE"))}),[x]),pe=[{id:"all",label:" ",icon:"fa-layer-group"},{id:"dreams",label:"",icon:"fa-cloud-moon"},{id:"ideas",label:"",icon:"fa-lightbulb"},{id:"achievements",label:"",icon:"fa-trophy"},{id:"someday",label:" ",icon:"fa-hourglass-start"}],q=k.useMemo(()=>s.filter(P=>P.category!=="note"||P.status===ge.DONE||P.isDeleted?!1:T==="all"?!0:P.projectId===T).sort((P,we)=>we.createdAt-P.createdAt),[s,T]),V=k.useCallback(P=>{P.preventDefault(),I(!0)},[]),ne=k.useCallback(()=>I(!1),[]),K=k.useCallback(P=>{if(!L)return;const we=window.innerWidth-P.clientX;we>300&&we<900&&u(we)},[L,u]);k.useEffect(()=>(L?(window.addEventListener("mousemove",K),window.addEventListener("mouseup",ne)):(window.removeEventListener("mousemove",K),window.removeEventListener("mouseup",ne)),()=>{window.removeEventListener("mousemove",K),window.removeEventListener("mouseup",ne)}),[L,K,ne]);const me=P=>{P&&P.preventDefault();const we=S.trim()||" ",Oe=T!=="all"&&!pe.find(wt=>wt.id===T)?T:void 0,ut=t(we,"note",Oe,"actions");b(ut),w("")},j=P=>{P.preventDefault(),R.trim()&&(p({name:R.trim(),color:"var(--primary)",isStrategic:!1,description:"FOLDER_NOTE"}),M(""),U(!1))},$=(P,we)=>{P.stopPropagation(),O(we.id),D(we.name)},ue=P=>{Q.trim()&&Q!==P.name&&g({...P,name:Q.trim()}),O(null)},ve=(P,we)=>{P.stopPropagation(),confirm(" ?  .")&&(v(we),T===we&&_("all"))},ke=(P,we)=>{P.preventDefault(),te(we)},ce=(P,we)=>{P.preventDefault(),te(null);const Oe=P.dataTransfer.getData("taskId");if(!Oe)return;const ut=s.find(wt=>wt.id===Oe);ut&&n({...ut,projectId:we==="all"?void 0:we})};return r.jsxs("div",{className:"h-screen flex bg-[var(--bg-main)] overflow-hidden relative",children:[r.jsxs("div",{className:`flex flex-1 overflow-hidden transition-all duration-300 ${Y&&y?"-translate-x-full absolute":"translate-x-0 relative"}`,children:[r.jsxs("aside",{className:"hidden md:flex w-56 bg-[var(--bg-card)] border-r border-[var(--border-color)] flex-col p-4 shrink-0",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx(W,{variant:"h3",className:"text-base mb-1",children:" "}),r.jsx(W,{variant:"tiny",className:"text-[var(--text-muted)] lowercase text-[8px]",children:"  '"})]}),r.jsx("div",{className:"mb-6",children:r.jsx("form",{onSubmit:me,children:r.jsx("input",{value:S,onChange:P=>w(P.target.value),placeholder:"+  ...",className:"w-full bg-[var(--bg-main)] border-none rounded-xl py-2 px-3 text-[10px] font-black uppercase tracking-tight focus:ring-2 focus:ring-[var(--primary)]/20 outline-none text-[var(--text-main)]"})})}),r.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(W,{variant:"tiny",className:"text-[var(--text-muted)] mb-2 ml-1 text-[7px] uppercase",children:""}),pe.map(P=>r.jsxs("button",{onClick:()=>_(P.id),onDragOver:we=>ke(we,P.id),onDrop:we=>ce(we,P.id),className:`w-full flex items-center gap-2 px-2 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-wider transition-all ${T===P.id?"bg-[var(--primary)]/10 text-[var(--primary)]":B===P.id?"bg-[var(--primary)]/20 ring-1 ring-[var(--primary)]":"text-[var(--text-muted)] hover:bg-[var(--bg-main)]"}`,children:[r.jsx("i",{className:`fa-solid ${P.icon} w-3 text-center`}),P.label]},P.id))]}),r.jsxs("div",{className:"space-y-0.5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[r.jsx(W,{variant:"tiny",className:"text-[var(--text-muted)] text-[7px] uppercase",children:""}),r.jsx("i",{onClick:()=>U(!0),className:"fa-solid fa-plus-circle text-[10px] text-[var(--text-muted)] hover:text-[var(--primary)] cursor-pointer"})]}),E&&r.jsx("form",{onSubmit:j,className:"px-1 mb-2",children:r.jsx("input",{autoFocus:!0,value:R,onChange:P=>M(P.target.value),placeholder:"...",className:"w-full bg-[var(--bg-main)] border border-[var(--primary)]/20 rounded-lg py-1 px-2 text-[9px] font-bold outline-none text-[var(--text-main)]",onBlur:()=>!R&&U(!1)})}),F.map(P=>{const we=H===P.id;return r.jsx("div",{className:"relative group/folder",children:we?r.jsx("input",{autoFocus:!0,value:Q,onChange:Oe=>D(Oe.target.value),onBlur:()=>ue(P),onKeyDown:Oe=>Oe.key==="Enter"&&ue(P),className:"w-full bg-[var(--bg-card)] border border-[var(--primary)]/30 rounded-lg py-1 px-2 text-[9px] font-black uppercase text-[var(--text-main)]"}):r.jsxs("button",{onClick:()=>_(P.id),onDragOver:Oe=>ke(Oe,P.id),onDrop:Oe=>ce(Oe,P.id),className:`w-full flex items-center justify-between px-2 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-wider transition-all ${T===P.id?"bg-[var(--primary)]/10 text-[var(--primary)]":B===P.id?"bg-[var(--primary)]/20 ring-1 ring-[var(--primary)]":"text-[var(--text-muted)] hover:bg-[var(--bg-main)]"}`,children:[r.jsxs("div",{className:"flex items-center gap-2 truncate",children:[r.jsx("i",{className:"fa-solid fa-folder w-3 text-center"}),r.jsx("span",{className:"truncate",children:P.name})]}),r.jsxs("div",{className:"flex gap-2 opacity-0 group-hover/folder:opacity-100",children:[r.jsx("i",{onClick:Oe=>$(Oe,P),className:"fa-solid fa-pen text-[7px] hover:text-[var(--primary)]"}),r.jsx("i",{onClick:Oe=>ve(Oe,P.id),className:"fa-solid fa-trash text-[7px] hover:text-rose-500"})]})]})},P.id)})]})]})]}),r.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-[var(--bg-main)]",children:[r.jsxs("header",{className:"px-4 md:px-6 py-4 bg-[var(--bg-card)] border-b border-[var(--border-color)] flex items-center justify-between z-10 shrink-0",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx(W,{variant:"h3",className:"text-[var(--text-main)] text-sm md:text-base leading-none mb-1",children:((he=pe.find(P=>P.id===T))==null?void 0:he.label)||((Ce=F.find(P=>P.id===T))==null?void 0:Ce.name)||T}),r.jsxs(W,{variant:"tiny",className:"text-[var(--text-muted)] text-[7px] uppercase tracking-widest",children:[q.length," "]})]})}),Y&&r.jsx($e,{size:"sm",onClick:()=>me(),className:"rounded-xl px-4 py-2 text-[8px] tracking-widest font-black uppercase shadow-lg",children:""}),!Y&&r.jsx("form",{onSubmit:me,className:"flex gap-2",children:r.jsx("input",{value:S,onChange:P=>w(P.target.value),placeholder:" ...",className:"bg-[var(--bg-main)] border border-[var(--border-color)] rounded-xl py-1.5 px-4 text-[11px] font-bold outline-none focus:ring-2 focus:ring-[var(--primary)]/10 w-48 text-[var(--text-main)]"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 md:p-6",children:r.jsxs("div",{className:`grid gap-3 md:gap-4 pb-32 ${y?"grid-cols-1 md:grid-cols-2":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5"}`,children:[q.map(P=>{var ut,wt;const we=y===P.id;let Oe=" ...";try{Oe=((wt=(ut=JSON.parse(P.content||"[]").find(Rt=>Rt.content.trim()!==""&&Rt.content!=="<br>"))==null?void 0:ut.content)==null?void 0:wt.replace(/<[^>]*>?/gm,""))||" ..."}catch{Oe=P.content||" ..."}return r.jsx(Ie,{padding:"none",onClick:()=>b(P.id),className:`group bg-[var(--bg-card)] p-4 rounded-[2rem] border transition-all cursor-pointer flex flex-col justify-between min-h-[140px] relative ${we?"border-[var(--primary)] ring-2 ring-[var(--primary)]/5 shadow-xl":"border-[var(--border-color)] hover:border-[var(--primary)]/30 hover:shadow-md"}`,children:r.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx(W,{variant:"h3",className:"text-[var(--text-main)] leading-tight truncate pr-4 text-[13px] uppercase tracking-tight",children:P.title}),r.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),confirm(" ?")&&i(P.id)},className:"w-6 h-6 rounded-lg text-[var(--text-muted)] hover:text-rose-500 hover:bg-rose-50 transition-all opacity-0 group-hover:opacity-100 flex items-center justify-center shrink-0",children:r.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"text-[10px] font-medium text-[var(--text-muted)] line-clamp-3 leading-relaxed",children:Oe})}),r.jsxs("div",{className:"flex justify-between items-center pt-3 mt-3 border-t border-[var(--border-color)]",children:[r.jsx("span",{className:"text-[7px] font-black uppercase text-[var(--text-muted)] opacity-50",children:new Date(P.createdAt).toLocaleDateString("uk-UA")}),P.tags.length>0&&r.jsx("div",{className:"flex gap-1",children:r.jsxs("span",{className:"text-[7px] font-black text-[var(--primary)] uppercase",children:["#",P.tags[0]]})})]})]})},P.id)}),q.length===0&&r.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center opacity-20 grayscale pointer-events-none",children:[r.jsx("i",{className:"fa-solid fa-note-sticky text-7xl mb-4"}),r.jsx(W,{variant:"h2",className:"text-xl uppercase font-black tracking-widest",children:" "}),r.jsx(W,{variant:"body",className:"mt-2 text-xs",children:"    "})]})]})})]})]}),r.jsxs("div",{className:`flex h-full border-l border-[var(--border-color)] z-[110] bg-[var(--bg-card)] shrink-0 transition-all duration-300 ${Y?y?"fixed inset-0 w-full translate-x-0":"fixed inset-0 w-full translate-x-full":""}`,children:[!Y&&r.jsx("div",{onMouseDown:V,className:`w-[1.5px] h-full cursor-col-resize hover:bg-[var(--primary)] z-[120] transition-colors ${L?"bg-[var(--primary)]":"bg-[var(--border-color)]"}`}),r.jsx("div",{style:{width:Y?"100vw":o},className:"h-full bg-[var(--bg-card)] relative overflow-hidden flex flex-col shadow-2xl",children:y?r.jsx(qi,{task:s.find(P=>P.id===y),onClose:()=>b(null)}):!Y&&r.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-12 text-center opacity-5 grayscale pointer-events-none select-none",children:[r.jsx("i",{className:"fa-solid fa-note-sticky text-9xl mb-8"}),r.jsx(W,{variant:"h2",className:"text-2xl font-black uppercase tracking-widest",children:" "})]})})]})]})},S_=({onClose:s})=>{const{reportTemplate:t,updateReportTemplate:n,saveDiaryEntry:i}=Ye(),[o,u]=k.useState(1),[p,g]=k.useState({}),[v,x]=k.useState(!1),[y,b]=k.useState(t),T=k.useMemo(()=>{const O=t.map(Q=>Q.page);return O.length>0?Math.max(...O):1},[t]),_=k.useMemo(()=>t.filter(O=>O.page===o),[t,o]),S=()=>{o<T?u(o+1):E()},w=()=>{o>1&&u(o-1)},E=()=>{const O=new Date().toISOString().split("T")[0];let Q=`#  : ${new Date().toLocaleDateString("uk-UA",{day:"numeric",month:"long",year:"numeric"})}

`;t.sort((D,L)=>D.page-L.page).forEach(D=>{const L=p[D.id];L&&(Q+=`#### ${D.text}
> ${L.replace(/\n/g,`
> `)}

`)}),i(O,Q),s()},U=()=>{const O=`q_${Date.now()}`;b([...y,{id:O,text:"",page:o}])},R=(O,Q,D)=>{b(y.map(L=>L.id===O?{...L,text:Q,page:D}:L))},M=O=>{b(y.filter(Q=>Q.id!==O))},H=()=>{n(y),x(!1)};return r.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 tiktok-blur",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:s}),r.jsxs(Ie,{className:"w-full max-w-2xl max-h-[90vh] bg-[var(--bg-card)] border-[var(--border-color)] shadow-2xl overflow-hidden flex flex-col relative animate-in zoom-in-95 duration-300 rounded-[2.5rem]",children:[!v&&r.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-[var(--bg-main)] z-20",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-orange-400 to-pink-500 transition-all duration-500",style:{width:`${o/T*100}%`}})}),r.jsxs("header",{className:"p-6 md:p-8 pb-4 flex justify-between items-start shrink-0 border-b border-slate-50 bg-[var(--bg-card)] z-10",children:[r.jsxs("div",{children:[r.jsx(W,{variant:"tiny",className:"text-[var(--primary)] mb-1 font-black",children:v?" ":` ${o}  ${T}`}),r.jsx(W,{variant:"h2",className:"text-xl md:text-2xl",children:v?" ":"   ?"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>{v&&b(t),x(!v)},className:`w-10 h-10 rounded-2xl flex items-center justify-center transition-all ${v?"bg-[var(--primary)] text-white shadow-lg":"bg-[var(--bg-main)] text-[var(--text-muted)] hover:bg-orange-50"}`,title:" ",children:r.jsx("i",{className:"fa-solid fa-gear text-sm"})}),r.jsx("button",{onClick:s,className:"w-10 h-10 rounded-2xl bg-[var(--bg-main)] flex items-center justify-center text-[var(--text-muted)] hover:bg-rose-50 hover:text-rose-500 transition-all",children:r.jsx("i",{className:"fa-solid fa-xmark"})})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 md:p-8 pt-4",children:v?r.jsxs("div",{className:"space-y-4 pb-4",children:[r.jsx(W,{variant:"body",className:"text-[var(--text-muted)] mb-4 italic text-xs",children:"    ."}),y.map(O=>r.jsxs("div",{className:"flex gap-3 items-start bg-[var(--bg-main)] p-4 rounded-2xl border border-[var(--border-color)] group/q transition-all hover:border-[var(--primary)]/30",children:[r.jsxs("div",{className:"flex flex-col items-center gap-1 shrink-0",children:[r.jsx("input",{type:"number",min:"1",value:O.page,onChange:Q=>R(O.id,O.text,parseInt(Q.target.value)||1),className:"w-10 bg-white border border-[var(--border-color)] rounded-lg p-1 text-center text-[10px] font-black"}),r.jsx("span",{className:"text-[7px] font-black text-slate-300 uppercase",children:"."})]}),r.jsx("textarea",{value:O.text,onChange:Q=>R(O.id,Q.target.value,O.page),placeholder:" ...",className:"flex-1 bg-transparent border-none p-0 text-sm font-bold focus:ring-0 outline-none resize-none min-h-[40px] leading-tight"}),r.jsx("button",{onClick:()=>M(O.id),className:"text-slate-200 hover:text-rose-500 transition-colors pt-1",children:r.jsx("i",{className:"fa-solid fa-trash-can text-xs"})})]},O.id)),r.jsx("button",{onClick:U,className:"w-full py-4 border-2 border-dashed border-[var(--border-color)] rounded-2xl text-[var(--text-muted)] text-[10px] font-black uppercase tracking-widest hover:border-[var(--primary)] hover:text-[var(--primary)] transition-all bg-slate-50/50 hover:bg-white",children:"+  "})]}):r.jsx("div",{className:"space-y-6 md:space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:_.map(O=>r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"text-[11px] font-black text-[var(--text-main)] uppercase tracking-widest leading-relaxed block",children:O.text}),r.jsx("textarea",{value:p[O.id]||"",onChange:Q=>g({...p,[O.id]:Q.target.value}),placeholder:" ...",className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-[1.5rem] p-5 text-sm font-medium focus:ring-4 focus:ring-orange-100 transition-all outline-none min-h-[100px] md:min-h-[140px]"})]},O.id))})}),r.jsx("footer",{className:"p-6 md:p-8 border-t border-[var(--border-color)] bg-[var(--bg-main)]/30 flex justify-between items-center gap-4 shrink-0",children:v?r.jsxs("div",{className:"flex gap-3 w-full",children:[r.jsx($e,{variant:"ghost",className:"flex-1 py-3.5 rounded-2xl",onClick:()=>x(!1),children:""}),r.jsx($e,{variant:"primary",className:"flex-[2] py-3.5 rounded-2xl shadow-lg",onClick:H,children:" "})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx($e,{variant:"ghost",className:"px-4 md:px-6 rounded-2xl text-[10px] font-black tracking-widest",onClick:w,disabled:o===1,children:""}),Object.keys(p).length>0&&r.jsx("button",{onClick:E,className:"px-4 md:px-6 py-2 rounded-2xl text-[9px] font-black uppercase text-emerald-600 hover:bg-emerald-50 transition-colors",children:"  "})]}),r.jsx($e,{variant:"primary",className:"flex-1 py-4 rounded-2xl shadow-xl shadow-orange-200 text-[10px] font-black tracking-widest uppercase",onClick:S,children:o>=T?"":""})]})})]})]})},__=()=>{const{diary:s,tasks:t,people:n,deleteDiaryEntry:i}=Ye(),[o,u]=k.useState(new Date().toLocaleDateString("en-CA")),[p,g]=k.useState(new Date),[v,x]=k.useState(null),[y,b]=k.useState(!1),[T,_]=k.useState(!1),[S,w]=k.useState("list"),{isResizing:E,startResizing:U,detailsWidth:R}=Gn(400,800),[M,H]=k.useState(window.innerWidth<1024);k.useEffect(()=>{const B=()=>H(window.innerWidth<1024);return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]);const O=k.useMemo(()=>[...s].sort((B,te)=>te.date!==B.date?te.date.localeCompare(B.date):te.createdAt-B.createdAt),[s]),Q=k.useMemo(()=>{const B={};return O.forEach(te=>{const Y=te.date.split("-").map(Number),de=new Date(Y[0],Y[1]-1,Y[2]);if(isNaN(de.getTime()))return;const F=de.toLocaleDateString("uk-UA",{month:"long",year:"numeric"});B[F]||(B[F]=[]),B[F].push(te)}),B},[O]),D=k.useMemo(()=>{const B=new Date(o),te=B.getDate(),Y=B.getMonth();return s.filter(de=>{const F=new Date(de.date);return F.getDate()===te&&F.getMonth()===Y&&F.getFullYear()<B.getFullYear()}).sort((de,F)=>new Date(F.date).getTime()-new Date(de.date).getTime())},[s,o]),L=(B=!1)=>{const te=p.getFullYear(),Y=p.getMonth(),q=B&&!T?(()=>{const V=new Date(p),ne=V.getDay(),K=V.getDate()-ne+(ne===0?-6:1),me=new Date(V.setDate(K));return Array.from({length:7},(j,$)=>{const ue=new Date(me);return ue.setDate(me.getDate()+$),ue})})():(()=>{const V=(new Date(te,Y,1).getDay()+6)%7,ne=new Date(te,Y+1,0).getDate(),K=[];for(let me=0;me<V;me++)K.push(null);for(let me=1;me<=ne;me++)K.push(new Date(te,Y,me));for(;K.length%7!==0;)K.push(null);return K})();return r.jsxs("div",{className:`bg-card p-4 md:p-5 rounded-[2rem] border border-theme shadow-sm transition-all duration-300 ${B?"mb-6 mx-2":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("button",{onClick:()=>B&&_(!T),className:"flex items-center gap-2 text-left group",children:[r.jsx(W,{variant:"tiny",className:"text-main font-black capitalize text-[10px] tracking-wider group-hover:text-primary transition-colors",children:p.toLocaleString("uk-UA",{month:"long",year:"numeric"})}),B&&r.jsx("i",{className:`fa-solid fa-chevron-down text-[8px] text-muted transition-transform ${T?"rotate-180":""}`})]}),r.jsxs("div",{className:"flex gap-2 shrink-0",children:[r.jsx("button",{onClick:()=>g(new Date(te,Y-1,1)),className:"w-7 h-7 rounded-xl hover:bg-black/5 flex items-center justify-center text-muted hover:text-primary transition-colors",children:r.jsx("i",{className:"fa-solid fa-chevron-left text-[9px]"})}),r.jsx("button",{onClick:()=>g(new Date(te,Y+1,1)),className:"w-7 h-7 rounded-xl hover:bg-black/5 flex items-center justify-center text-muted hover:text-primary transition-colors",children:r.jsx("i",{className:"fa-solid fa-chevron-right text-[9px]"})})]})]}),r.jsxs("div",{className:"grid grid-cols-7 gap-1 md:gap-2",children:[["","","","","","",""].map(V=>r.jsx("div",{className:"text-[7px] font-black text-muted/30 text-center uppercase tracking-tighter",children:V},V)),q.map((V,ne)=>{if(V===null)return r.jsx("div",{className:"h-8"},`empty-${ne}`);const K=V.getFullYear(),me=String(V.getMonth()+1).padStart(2,"0"),j=String(V.getDate()).padStart(2,"0"),$=`${K}-${me}-${j}`,ue=o===$,ve=new Date().toLocaleDateString("en-CA")===$,ke=s.some(ce=>ce.date===$);return r.jsxs("button",{onClick:()=>{u($),B&&_(!1)},className:`h-8 md:h-9 rounded-xl flex items-center justify-center text-[10px] font-bold transition-all relative ${ue?"bg-primary text-white shadow-lg":ve?"text-primary bg-primary/10":"text-main hover:bg-black/5"}`,children:[V.getDate(),ke&&!ue&&r.jsx("div",{className:"absolute bottom-1.5 w-1 h-1 bg-primary/60 rounded-full"})]},$)})]})]})},I=()=>r.jsxs("div",{className:"h-full flex flex-col bg-sidebar overflow-y-auto custom-scrollbar",children:[r.jsxs("header",{className:"p-6 border-b border-theme shrink-0",children:[r.jsx(W,{variant:"tiny",className:"text-primary mb-1 block font-black uppercase text-[9px]",children:""}),r.jsx(W,{variant:"h2",className:"text-base",children:"   "})]}),r.jsxs("div",{className:"p-6 space-y-8 pb-32",children:[r.jsxs("section",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(W,{variant:"tiny",className:"text-muted font-black uppercase tracking-widest text-[8px]",children:" "}),r.jsx("i",{className:"fa-solid fa-clock-rotate-left text-primary/30"})]}),D.length>0?D.map(B=>r.jsxs(Ie,{padding:"sm",className:"bg-main/20 border-theme shadow-sm hover:shadow-md transition-all cursor-pointer group",onClick:()=>{x(B.id),u(B.date)},children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("span",{className:"text-[10px] font-black text-primary",children:[new Date(B.date).getFullYear()," "]}),r.jsx("i",{className:"fa-solid fa-arrow-right text-[8px] text-muted group-hover:translate-x-1 transition-transform"})]}),r.jsxs("p",{className:"text-[11px] text-main/80 leading-relaxed italic line-clamp-4",children:[B.content.replace(/<[^>]*>?/gm,"").slice(0,200),"..."]})]},B.id)):r.jsxs("div",{className:"p-10 border-2 border-dashed border-theme rounded-[2.5rem] text-center opacity-30 bg-black/5",children:[r.jsx("i",{className:"fa-solid fa-ghost text-2xl mb-2 text-muted"}),r.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest",children:"    "})]})]}),r.jsxs("section",{className:"space-y-4",children:[r.jsx(W,{variant:"tiny",className:"text-muted font-black uppercase tracking-widest text-[8px]",children:" "}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"p-5 bg-emerald-500/10 rounded-[1.8rem] border border-emerald-500/20 flex flex-col justify-center",children:[r.jsx("div",{className:"text-2xl font-black text-emerald-500 leading-none mb-1",children:t.filter(B=>!B.isDeleted&&B.status===ge.DONE&&B.completedAt&&new Date(B.completedAt).toLocaleDateString("en-CA")===o).length}),r.jsx("div",{className:"text-[7px] font-black text-emerald-500/60 uppercase tracking-widest",children:""})]}),r.jsxs("div",{className:"p-5 bg-main/50 rounded-[1.8rem] border border-theme flex flex-col justify-center",children:[r.jsx("div",{className:"text-2xl font-black text-main leading-none mb-1",children:t.filter(B=>!B.isDeleted&&B.scheduledDate&&new Date(B.scheduledDate).toLocaleDateString("en-CA")===o).length}),r.jsx("div",{className:"text-[7px] font-black text-muted uppercase tracking-widest",children:""})]})]})]})]})]});return r.jsxs("div",{className:"h-screen flex bg-main overflow-hidden relative",children:[r.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full relative",children:[r.jsx("header",{className:"px-4 md:px-8 py-3 md:py-6 bg-card border-b border-theme z-10 flex flex-col gap-3 shrink-0",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 md:w-11 md:h-11 rounded-xl bg-primary/10 text-primary flex items-center justify-center shadow-sm",children:r.jsx("i",{className:"fa-solid fa-book-open text-xs md:text-sm"})}),r.jsxs("div",{children:[r.jsx(W,{variant:"h1",className:"text-lg md:text-2xl font-black text-main",children:""}),r.jsx(W,{variant:"tiny",className:"text-muted uppercase tracking-widest text-[7px] hidden md:block",children:"   "})]})]}),r.jsxs("div",{className:"lg:hidden flex bg-black/5 p-0.5 rounded-xl border border-theme shadow-inner",children:[r.jsxs("button",{onClick:()=>w("list"),className:`px-4 py-2 rounded-[0.6rem] text-[8px] font-black uppercase transition-all flex items-center gap-1.5 ${S==="list"?"bg-primary text-white shadow-md":"text-muted"}`,children:[r.jsx("i",{className:"fa-solid fa-list-ul"}),""]}),r.jsxs("button",{onClick:()=>w("stats"),className:`px-4 py-2 rounded-[0.6rem] text-[8px] font-black uppercase transition-all flex items-center gap-1.5 ${S==="stats"?"bg-primary text-white shadow-md":"text-muted"}`,children:[r.jsx("i",{className:"fa-solid fa-chart-pie"}),""]})]})]})}),r.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[r.jsxs("aside",{className:"w-72 p-6 hidden lg:flex flex-col gap-6 border-r border-theme bg-sidebar shrink-0 overflow-y-auto custom-scrollbar",children:[L(),r.jsxs("div",{className:"space-y-3 pt-2",children:[r.jsxs($e,{variant:"primary",className:"w-full py-4 rounded-2xl shadow-xl font-black tracking-widest uppercase text-[10px] gap-3",onClick:()=>{x("new"),u(new Date().toLocaleDateString("en-CA"))},children:[r.jsx("i",{className:"fa-solid fa-plus text-xs"}),"  "]}),r.jsxs($e,{variant:"white",className:"w-full py-4 rounded-2xl font-black uppercase tracking-widest text-[10px] gap-3",onClick:()=>b(!0),children:[r.jsx("i",{className:"fa-solid fa-chart-line text-xs text-primary"}),"  "]})]})]}),r.jsx("main",{className:`flex-1 overflow-y-auto custom-scrollbar p-3 md:p-8 bg-main/30 ${M&&S==="stats"?"hidden":"block"}`,children:r.jsxs("div",{className:"max-w-3xl mx-auto space-y-4 md:space-y-6 pb-40",children:[r.jsx("div",{className:"block lg:hidden",children:L(!0)}),r.jsxs("div",{className:"lg:hidden grid grid-cols-2 gap-3 mx-2 mb-6",children:[r.jsxs("button",{onClick:()=>{x("new"),u(new Date().toLocaleDateString("en-CA"))},className:"bg-primary text-white p-5 rounded-[1.8rem] shadow-xl flex flex-col items-center justify-center gap-2 active:scale-95 transition-all",children:[r.jsx("i",{className:"fa-solid fa-pen-fancy text-lg"}),r.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:""})]}),r.jsxs("button",{onClick:()=>b(!0),className:"bg-card border border-theme p-5 rounded-[1.8rem] shadow-sm flex flex-col items-center justify-center gap-2 active:scale-95 transition-all text-main",children:[r.jsx("i",{className:"fa-solid fa-chart-line text-lg text-primary"}),r.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest opacity-60",children:" "})]})]}),Object.entries(Q).map(([B,te])=>r.jsxs("div",{className:"space-y-3 px-2 md:px-0",children:[r.jsx("div",{className:"sticky top-0 z-10 bg-main/90 backdrop-blur-sm py-2",children:r.jsx("span",{className:"text-[8px] md:text-[10px] font-black uppercase tracking-[0.2em] text-muted border-b border-theme pb-1",children:B})}),te.map(Y=>{var q,V;const de=Y.date.split("-").map(Number),F=new Date(de[0],de[1]-1,de[2]);let pe=" ";try{pe=((V=(q=JSON.parse(Y.content).find(K=>K.content.trim()!==""&&K.content!=="<br>"))==null?void 0:q.content)==null?void 0:V.replace(/<[^>]*>?/gm,""))||" "}catch{pe=Y.content.split(`
`)[0].replace("#","").trim()||" "}return r.jsx(Ie,{padding:"none",hover:!0,onClick:()=>{x(Y.id),u(Y.date)},className:`bg-card border-theme rounded-[1.8rem] md:rounded-[2.5rem] cursor-pointer overflow-hidden group/card transition-all ${v===Y.id?"ring-2 ring-primary/40 border-primary shadow-lg":"shadow-sm hover:shadow-md"}`,children:r.jsxs("div",{className:"flex items-center gap-4 md:gap-8 p-4 md:p-6",children:[r.jsxs("div",{className:"w-10 md:w-14 flex flex-col items-center shrink-0 border-r border-theme pr-4 md:pr-8",children:[r.jsx("span",{className:"text-[7px] md:text-[9px] font-black text-muted uppercase leading-none mb-1.5",children:F.toLocaleString("uk-UA",{weekday:"short"})}),r.jsx("span",{className:"text-base md:text-2xl font-black text-main leading-none",children:F.getDate()})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("span",{className:"text-[13px] md:text-base font-black text-main truncate block uppercase tracking-tight",children:pe}),r.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[r.jsx("p",{className:"text-[8px] text-muted truncate font-bold uppercase tracking-wider",children:Y.date}),r.jsx("div",{className:"w-1 h-1 rounded-full bg-theme"}),r.jsx("span",{className:"text-[8px] font-black text-primary uppercase",children:new Date(Y.createdAt).toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"})})]})]}),r.jsx("button",{onClick:ne=>{ne.stopPropagation(),confirm("  ?")&&i(Y.id)},className:"w-9 h-9 md:w-11 md:h-11 rounded-xl md:rounded-2xl text-muted hover:text-rose-500 hover:bg-rose-500/10 flex items-center justify-center transition-all",children:r.jsx("i",{className:"fa-solid fa-trash-can text-sm md:text-base"})})]})},Y.id)})]},B))]})}),M&&S==="stats"&&r.jsx("main",{className:"flex-1 bg-sidebar overflow-hidden animate-in fade-in duration-300",children:I()})]})]}),r.jsxs("div",{className:`fixed inset-0 lg:relative lg:inset-auto h-full border-l border-theme bg-sidebar z-[60] transition-all duration-300 ease-in-out ${v?"translate-x-0":"translate-x-full lg:translate-x-0"} flex ${M&&!v?"pointer-events-none":""}`,children:[!M&&r.jsx("div",{onMouseDown:U,className:`w-[1px] h-full cursor-col-resize hover:bg-primary z-[100] transition-colors ${E?"bg-primary":"bg-theme"}`}),r.jsx("div",{style:{width:M?"100vw":R},className:"h-full flex flex-col bg-card shadow-2xl lg:shadow-none overflow-hidden",children:v?r.jsx(fx,{id:v==="new"?void 0:v,date:o,onClose:()=>x(null)}):!M&&I()})]}),y&&r.jsx(S_,{onClose:()=>b(!1)})]})},k_=()=>{const{tasks:s,restoreTask:t,deleteTask:n}=Ye(),i=k.useMemo(()=>s.filter(u=>u.isDeleted===!0),[s]),o=()=>{confirm("     ?")&&i.forEach(u=>n(u.id,!0))};return r.jsxs("div",{className:"h-screen flex flex-col bg-main overflow-hidden",children:[r.jsxs("header",{className:"p-6 md:p-10 bg-card border-b border-theme flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shrink-0",children:[r.jsxs("div",{children:[r.jsx(W,{variant:"h1",className:"text-2xl md:text-3xl",children:""}),r.jsx(W,{variant:"tiny",className:"text-muted mt-1",children:"   "})]}),i.length>0&&r.jsx($e,{variant:"danger",icon:"fa-trash-arrow-up",size:"sm",onClick:o,children:" "})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-8",children:r.jsx("div",{className:"max-w-4xl mx-auto space-y-3 pb-32",children:i.length>0?i.map(u=>r.jsxs(Ie,{className:"bg-card border-theme p-4 flex items-center justify-between group hover:shadow-md transition-all rounded-2xl",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 bg-main rounded-xl flex items-center justify-center text-muted",children:r.jsx("i",{className:"fa-solid fa-trash-can text-sm"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-black text-main",children:u.title}),r.jsxs("div",{className:"text-[9px] font-black text-muted uppercase tracking-widest mt-0.5 opacity-60",children:[" ",new Date(u.createdAt).toLocaleDateString("uk-UA")]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>t(u.id),className:"w-9 h-9 rounded-xl bg-primary/10 text-primary hover:bg-primary hover:text-white flex items-center justify-center transition-all shadow-sm",title:"",children:r.jsx("i",{className:"fa-solid fa-rotate-left"})}),r.jsx("button",{onClick:()=>confirm(" ?")&&n(u.id,!0),className:"w-9 h-9 rounded-xl bg-main text-muted hover:text-rose-500 flex items-center justify-center transition-all",title:" ",children:r.jsx("i",{className:"fa-solid fa-xmark"})})]})]},u.id)):r.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-center opacity-10",children:[r.jsx("i",{className:"fa-solid fa-trash-can text-9xl mb-8"}),r.jsx(W,{variant:"h2",className:"uppercase tracking-[0.2em]",children:""}),r.jsx(W,{variant:"body",className:"mt-2 text-xs font-bold",children:"   "})]})})})]})},E_=({person:s,onUpdate:t})=>{const n=k.useMemo(()=>{if(!s.birthDate)return null;const i=new Date(s.birthDate),o=new Date;let u=o.getFullYear()-i.getFullYear();const p=o.getMonth()-i.getMonth();return(p<0||p===0&&o.getDate()<i.getDate())&&u--,u},[s.birthDate]);return r.jsxs("div",{className:"space-y-6",children:[r.jsx("section",{className:"bg-white border border-slate-100 rounded-[2.5rem] p-6 md:p-8 shadow-sm relative overflow-hidden",children:r.jsxs("div",{className:"relative z-10 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(W,{variant:"tiny",className:"text-orange-500 mb-2 block font-black uppercase tracking-[0.2em]",children:" "}),r.jsx("p",{className:"text-sm md:text-base font-bold text-slate-700 leading-relaxed italic",children:s.description||"   ."})]}),r.jsxs("div",{className:"text-right shrink-0",children:[r.jsx("div",{className:"text-[28px] font-black leading-none text-orange-600",children:s.rating||0}),r.jsx("div",{className:"text-[8px] font-black uppercase text-slate-400 tracking-widest",children:""})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[r.jsx("span",{className:"text-[7px] font-black uppercase text-slate-400 block mb-1",children:""}),r.jsx("span",{className:"text-xs font-black text-slate-700",children:n?`${n} `:" "})]}),r.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[r.jsx("span",{className:"text-[7px] font-black uppercase text-slate-400 block mb-1",children:" '"}),r.jsx("span",{className:"text-xs font-black text-orange-600 uppercase tracking-widest",children:s.status})]})]})]})}),r.jsx(Ie,{padding:"md",className:"bg-slate-50/50 border-dashed border-slate-200",children:r.jsxs("div",{className:"text-center py-4",children:[r.jsx("i",{className:"fa-solid fa-circle-info text-slate-300 text-xl mb-2"}),r.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest leading-relaxed",children:'        ""   .'})]})})]})},j_=[{id:"q1",text:"    ?",icon:"fa-mug-hot"},{id:"q2",text:"    ?",icon:"fa-plane-departure"},{id:"q3",text:"     ?",icon:"fa-book-open"},{id:"q4",text:"   ?  ?",icon:"fa-dog"},{id:"q5",text:'    ""?',icon:"fa-bolt"},{id:"q6",text:"/   ?",icon:"fa-moon"},{id:"q7",text:"    ?",icon:"fa-music"},{id:"q8",text:" /   ?",icon:"fa-rocket"},{id:"q9",text:"    ?",icon:"fa-heart"},{id:"q10",text:"    ?",icon:"fa-ghost"},{id:"q11",text:"  ?",icon:"fa-user-group"},{id:"q12",text:"   ?",icon:"fa-utensils"},{id:"q13",text:"   ?",icon:"fa-star"}],A_={friend:"",colleague:"",family:"'",mentor:"",acquaintance:""},D_=({person:s,onUpdate:t,relationshipTypes:n})=>{const[i,o]=k.useState(null),[u,p]=k.useState(""),[g,v]=k.useState(null),[x,y]=k.useState(""),b=k.useMemo(()=>j_.filter(w=>{var U;return!((U=s.notes)==null?void 0:U.some(R=>R.text.includes(w.text)))}),[s.notes]),T=k.useMemo(()=>b.slice(0,3),[b]),_=w=>{if(!u.trim())return;const E={id:Math.random().toString(36).substr(2,9),text:`${w.text} : ${u.trim()}`,date:new Date().toISOString()};t({...s,notes:[E,...s.notes||[]]}),p(""),o(null)},S=[{val:"week",label:"."},{val:"month",label:"."},{val:"quarter",label:"."},{val:"year",label:""},{val:"none",label:"Off"}];return r.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[r.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsx("div",{className:"bg-slate-50 p-4 rounded-[1.8rem] border border-slate-100 flex items-center justify-between gap-3 group/select relative transition-all hover:bg-white hover:shadow-sm",children:r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx(W,{variant:"tiny",className:"text-slate-400 font-black uppercase text-[7px] mb-1.5 tracking-[0.2em]",children:"  "}),r.jsxs("div",{className:"relative flex items-center",children:[r.jsx("select",{value:s.status,onChange:w=>t({...s,status:w.target.value}),className:"w-full bg-white border-2 border-slate-100 rounded-xl text-[10px] font-black uppercase focus:ring-4 focus:ring-orange-100 py-2.5 px-3 outline-none cursor-pointer text-slate-900 appearance-none pr-10 transition-all shadow-sm",children:n.map(w=>r.jsx("option",{value:w,children:A_[w]||w},w))}),r.jsx("i",{className:"fa-solid fa-chevron-down absolute right-3.5 text-[8px] text-slate-300 pointer-events-none transition-transform group-hover/select:translate-y-0.5"})]})]})}),r.jsxs("div",{className:"bg-slate-50 p-4 rounded-[1.8rem] border border-slate-100 flex flex-col justify-center transition-all hover:bg-white hover:shadow-sm",children:[r.jsx(W,{variant:"tiny",className:"text-slate-400 font-black uppercase text-[7px] mb-2.5 tracking-[0.2em] text-center",children:" '"}),r.jsx("div",{className:"flex justify-between gap-1",children:S.map(w=>r.jsx("button",{onClick:()=>t({...s,loop:w.val}),className:`flex-1 py-2 rounded-lg text-[8px] font-black uppercase transition-all border ${s.loop===w.val?"bg-slate-900 text-white border-slate-900 shadow-lg":"bg-white text-slate-400 border-slate-100 hover:border-orange-200"}`,children:w.label},w.val))})]})]}),T.length>0&&r.jsxs("section",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between px-2",children:[r.jsxs(W,{variant:"tiny",className:"text-orange-500 font-black uppercase tracking-widest flex items-center gap-2 text-[8px]",children:[r.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-[9px]"})," "]}),r.jsxs("span",{className:"text-[7px] font-black text-slate-300 uppercase",children:[" ",b.length]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:T.map(w=>r.jsxs("div",{className:`px-5 py-4 bg-orange-50/30 border rounded-[1.5rem] transition-all ${i===w.id?"border-orange-300 bg-white ring-4 ring-orange-50":"border-orange-100/30 hover:bg-white hover:border-orange-200 shadow-sm"}`,children:[r.jsxs("div",{onClick:()=>{o(w.id),p("")},className:"flex items-center gap-4 cursor-pointer",children:[r.jsx("div",{className:"w-8 h-8 rounded-xl bg-white text-orange-500 flex items-center justify-center text-xs shadow-sm shrink-0",children:r.jsx("i",{className:`fa-solid ${w.icon}`})}),r.jsx("span",{className:"text-[12px] font-bold text-slate-700 flex-1 leading-tight",children:w.text})]}),i===w.id&&r.jsxs("div",{className:"mt-3 flex gap-2 animate-in slide-in-from-top-1",children:[r.jsx("input",{autoFocus:!0,value:u,onChange:E=>p(E.target.value),onKeyDown:E=>E.key==="Enter"&&_(w),placeholder:" ...",className:"flex-1 bg-slate-50 border border-slate-100 rounded-xl px-4 py-2 text-xs font-bold outline-none focus:ring-2 focus:ring-orange-200"}),r.jsx("button",{onClick:()=>_(w),className:"px-4 py-2 bg-orange-600 text-white rounded-xl text-[9px] font-black uppercase shadow-lg shadow-orange-100",children:""})]})]},w.id))})]}),r.jsxs("section",{className:"space-y-3",children:[r.jsx(W,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest ml-2 text-[8px]",children:" "}),r.jsxs("div",{className:"space-y-2",children:[(s.notes||[]).map(w=>r.jsx("div",{className:"group bg-white p-4 rounded-[1.5rem] border border-slate-100 shadow-sm transition-all hover:border-orange-200",children:g===w.id?r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{autoFocus:!0,value:x,onChange:E=>y(E.target.value),onKeyDown:E=>E.key==="Enter"&&(t({...s,notes:s.notes.map(U=>U.id===w.id?{...U,text:x}:U)}),v(null)),className:"flex-1 bg-slate-50 border border-slate-100 rounded-lg px-3 py-1.5 text-xs font-bold outline-none"}),r.jsx("button",{onClick:()=>{t({...s,notes:s.notes.map(E=>E.id===w.id?{...E,text:x}:E)}),v(null)},className:"text-emerald-500 font-black text-[9px] uppercase",children:"OK"})]}):r.jsxs("div",{className:"flex justify-between items-start gap-4",children:[r.jsx("p",{className:"text-[12px] font-bold text-slate-700 leading-relaxed flex-1",children:w.text}),r.jsxs("div",{className:"flex gap-2 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("button",{onClick:()=>{v(w.id),y(w.text)},className:"text-slate-300 hover:text-orange-500",children:r.jsx("i",{className:"fa-solid fa-pen text-[9px]"})}),r.jsx("button",{onClick:()=>t({...s,notes:s.notes.filter(E=>E.id!==w.id)}),className:"text-slate-300 hover:text-rose-500",children:r.jsx("i",{className:"fa-solid fa-trash-can text-[9px]"})})]})]})},w.id)),(!s.notes||s.notes.length===0)&&r.jsx("div",{className:"text-center py-8 bg-slate-50/50 rounded-[2rem] border border-dashed border-slate-200",children:r.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"  "})})]})]})]})},M_=({person:s,onUpdate:t})=>{const[n,i]=k.useState(""),[o,u]=k.useState(""),p=x=>{if(x.preventDefault(),!n.trim()||!o)return;const y={id:Math.random().toString(36).substr(2,9),label:n.trim(),date:o,showInCalendar:!0,repeatYearly:!0};t({...s,importantDates:[...s.importantDates||[],y]}),i(""),u("")},g=(x,y)=>{t({...s,importantDates:(s.importantDates||[]).map(b=>b.id===x?{...b,...y}:b)})},v=x=>{t({...s,importantDates:(s.importantDates||[]).filter(y=>y.id!==x)})};return r.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[r.jsxs("section",{className:"bg-white border border-slate-100 rounded-2xl p-4 shadow-sm flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-50 text-orange-500 flex items-center justify-center text-xs",children:r.jsx("i",{className:"fa-solid fa-cake-candles"})}),r.jsx(W,{variant:"tiny",className:"text-slate-900 font-black uppercase tracking-tight",children:" "})]}),r.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-end",children:[r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>t({...s,birthDateShowInCalendar:!s.birthDateShowInCalendar}),className:`w-7 h-7 rounded-lg transition-all flex items-center justify-center ${s.birthDateShowInCalendar!==!1?"bg-orange-100 text-orange-600":"bg-slate-50 text-slate-300"}`,title:"  ",children:r.jsx("i",{className:"fa-solid fa-calendar-check text-[10px]"})}),r.jsx("button",{onClick:()=>t({...s,birthDateRepeatYearly:!s.birthDateRepeatYearly}),className:`w-7 h-7 rounded-lg transition-all flex items-center justify-center ${s.birthDateRepeatYearly!==!1?"bg-indigo-100 text-indigo-600":"bg-slate-50 text-slate-300"}`,title:" ",children:r.jsx("i",{className:"fa-solid fa-arrows-rotate text-[10px]"})})]}),r.jsx("input",{type:"date",value:s.birthDate||"",onChange:x=>t({...s,birthDate:x.target.value}),className:"bg-slate-50 border border-slate-100 rounded-xl py-2 px-3 text-xs font-bold focus:ring-2 focus:ring-orange-100 outline-none transition-all cursor-pointer w-32"})]})]}),r.jsxs("section",{className:"space-y-4",children:[r.jsx(W,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest ml-1",children:"   "}),r.jsxs("form",{onSubmit:p,className:"flex items-center gap-2 bg-slate-50 p-2 rounded-2xl border border-slate-100 shadow-inner",children:[r.jsx("input",{value:n,onChange:x=>i(x.target.value),placeholder:" ...",className:"flex-1 bg-white border border-slate-200 rounded-xl py-2 px-3 text-[11px] font-bold outline-none focus:ring-2 focus:ring-orange-200 shadow-sm"}),r.jsx("input",{type:"date",value:o,onChange:x=>u(x.target.value),className:"w-32 bg-white border border-slate-200 rounded-xl py-2 px-3 text-[11px] font-bold outline-none focus:ring-2 focus:ring-orange-200 shadow-sm cursor-pointer"}),r.jsx("button",{type:"submit",className:"w-10 h-9 bg-slate-900 text-white rounded-xl flex items-center justify-center hover:bg-orange-600 transition-all active:scale-95 shadow-md shrink-0",children:r.jsx("i",{className:"fa-solid fa-plus text-xs"})})]}),r.jsx("div",{className:"space-y-1.5",children:(s.importantDates||[]).sort((x,y)=>x.date.localeCompare(y.date)).map(x=>r.jsxs("div",{className:"group flex items-center justify-between bg-white px-4 py-2 rounded-xl border border-slate-50 shadow-sm hover:border-orange-200 transition-all",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-400"}),r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsx("span",{className:"text-xs font-black text-slate-700 uppercase tracking-tight truncate",children:x.label}),r.jsx("span",{className:"text-[10px] font-bold text-slate-300 shrink-0",children:new Date(x.date).toLocaleDateString("uk-UA",{day:"numeric",month:"short"})})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>g(x.id,{showInCalendar:!x.showInCalendar}),className:`w-6 h-6 rounded-md transition-all flex items-center justify-center ${x.showInCalendar?"text-orange-500":"text-slate-200"}`,title:" ",children:r.jsx("i",{className:"fa-solid fa-calendar-day text-[9px]"})}),r.jsx("button",{onClick:()=>g(x.id,{repeatYearly:!x.repeatYearly}),className:`w-6 h-6 rounded-md transition-all flex items-center justify-center ${x.repeatYearly?"text-indigo-500":"text-slate-200"}`,title:"",children:r.jsx("i",{className:"fa-solid fa-arrows-rotate text-[9px]"})}),r.jsx("button",{onClick:()=>v(x.id),className:"opacity-0 group-hover:opacity-100 w-6 h-6 text-slate-200 hover:text-rose-500 transition-all flex items-center justify-center",children:r.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]})]},x.id))})]})]})},R_=({person:s,onUpdate:t,onFetchAvatar:n})=>{const{aiEnabled:i}=Ye(),[o,u]=k.useState(null),[p,g]=k.useState(null),v=(_,S)=>{t({...s,socials:{...s.socials,[_]:S}})},x=_=>{if(!_)return"";let S=_.trim().replace(/^@/,"");return S.includes("/")&&(S=S.split("/").filter(Boolean).pop()||""),S},y=(_,S)=>{if(!S)return null;if(S.startsWith("http"))return S;const w=x(S);if(!w)return null;switch(_){case"telegram":return`https://t.me/${w}`;case"instagram":return`https://www.instagram.com/${w}/`;case"linkedin":return`https://www.linkedin.com/in/${w}/`;case"tiktok":return`https://www.tiktok.com/@${w}`;case"threads":return`https://www.threads.net/@${w}`;case"website":return S.match(/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+/)?`https://${S}`:S;default:return S}},b=async(_,S)=>{if(!(!i||o)){u(_);try{const w=await n_(_,S),E=(w.notes||[]).map(H=>({id:Math.random().toString(36).substr(2,9),text:`[AI ${_.toUpperCase()}] ${H}`,date:new Date().toISOString()})),U=(w.hobbies||[]).filter(H=>!s.hobbies.includes(H)),R=[...new Set([...s.hobbies,...U])],M={notes:[...E,...s.notes||[]],hobbies:R};!s.description&&w.summary&&(M.description=w.summary),!s.birthDate&&w.birthDate&&(M.birthDate=w.birthDate),t({...s,...M}),g({platform:_,addedNotes:E.map(H=>H.text),addedHobbies:U,summary:w.summary,birthDate:w.birthDate&&!s.birthDate?w.birthDate:null,newFieldCount:(M.birthDate?1:0)+(M.description?1:0)+U.length+E.length})}catch{alert("  .    .")}finally{u(null)}}},T=[{key:"telegram",icon:"fa-telegram",placeholder:"@username"},{key:"instagram",icon:"fa-instagram",placeholder:"username"},{key:"linkedin",icon:"fa-linkedin",placeholder:"id-name"},{key:"tiktok",icon:"fa-tiktok",placeholder:"username"},{key:"threads",icon:"fa-at",placeholder:"username"},{key:"website",icon:"fa-chrome",placeholder:"domain.com"}];return r.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[r.jsxs("div",{className:"bg-orange-50/50 p-6 rounded-[2rem] border border-orange-100 mb-6",children:[r.jsxs(W,{variant:"tiny",className:"text-orange-600 font-black mb-2 uppercase flex items-center gap-2",children:[r.jsx("i",{className:"fa-solid fa-id-card-clip"}),"  "]}),r.jsx("p",{className:"text-[10px] text-orange-800/60 leading-relaxed font-bold",children:'  .  ""    , ""      .'})]}),r.jsx("div",{className:"space-y-3",children:T.map(({key:_,icon:S,placeholder:w})=>{var H;const E=((H=s.socials)==null?void 0:H[_])||"",U=x(E),R=o===_,M=y(_,E);return r.jsxs("div",{className:"flex items-center gap-4 bg-white p-3 rounded-2xl border border-slate-100 focus-within:ring-2 focus-within:ring-orange-100 transition-all shadow-sm group",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400 group-focus-within:text-orange-500 transition-colors shrink-0 shadow-inner",children:r.jsx("i",{className:`fa-brands ${S}`})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("span",{className:"text-[7px] font-black uppercase text-slate-400 block mb-0.5 tracking-widest",children:_}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{value:E,onChange:O=>v(_,O.target.value),placeholder:w,className:"flex-1 bg-transparent border-none p-0 text-xs font-bold outline-none text-slate-700 placeholder:text-slate-200"}),U&&r.jsxs("div",{className:"flex gap-1",children:[M&&r.jsx("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-lg bg-slate-50 text-slate-400 flex items-center justify-center hover:bg-slate-900 hover:text-white transition-all shadow-sm border border-slate-100",title:" ",children:r.jsx("i",{className:"fa-solid fa-arrow-up-right-from-square text-[9px]"})}),_!=="website"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>b(_,U),disabled:!i||R,className:`w-8 h-8 rounded-lg flex items-center justify-center transition-all shadow-sm border ${i?"bg-indigo-50 text-indigo-600 border-indigo-100/50 hover:bg-indigo-600 hover:text-white":"bg-slate-100 text-slate-300 border-slate-200 cursor-help"}`,title:i?` ${_}  `:"   ",children:r.jsx("i",{className:`fa-solid ${R?"fa-circle-notch animate-spin":"fa-wand-magic-sparkles"} text-[9px]`})}),r.jsx("button",{onClick:()=>n(U,_),className:"w-8 h-8 rounded-lg bg-orange-50 text-orange-600 flex items-center justify-center hover:bg-orange-600 hover:text-white transition-all shadow-sm border border-orange-100/50",title:`   ${_}`,children:r.jsx("i",{className:"fa-solid fa-arrows-rotate text-[9px]"})})]})]})]})]})]},_)})}),p&&r.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 tiktok-blur animate-in fade-in",children:[r.jsx("div",{className:"absolute inset-0 bg-slate-950/40",onClick:()=>g(null)}),r.jsxs(Ie,{className:"w-full max-w-md bg-white border-none shadow-2xl p-8 rounded-[2.5rem] relative z-10 animate-in zoom-in-95 duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 rounded-2xl bg-indigo-600 text-white flex items-center justify-center text-xl shadow-lg shadow-indigo-100",children:r.jsx("i",{className:"fa-solid fa-wand-magic-sparkles"})}),r.jsxs("div",{children:[r.jsx(W,{variant:"h2",className:"text-xl",children:" "}),r.jsx(W,{variant:"tiny",className:"text-slate-400 uppercase tracking-widest",children:p.platform})]})]}),r.jsxs(ft,{variant:"emerald",className:"h-6 font-black",children:["+",p.newFieldCount," INFO"]})]}),r.jsxs("div",{className:"space-y-5 mb-8 max-h-[50vh] overflow-y-auto custom-scrollbar pr-2",children:[p.birthDate&&r.jsxs("div",{className:"p-3 bg-orange-50 rounded-2xl border border-orange-100 flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-xl bg-white flex items-center justify-center text-orange-500 shadow-sm",children:r.jsx("i",{className:"fa-solid fa-cake-candles text-[10px]"})}),r.jsxs("div",{children:[r.jsx("span",{className:"text-[7px] font-black text-orange-400 uppercase block tracking-widest",children:" "}),r.jsx("span",{className:"text-xs font-black text-orange-700",children:p.birthDate})]})]}),p.addedHobbies.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase mb-2 block tracking-[0.2em]",children:" "}),r.jsx("div",{className:"flex flex-wrap gap-2",children:p.addedHobbies.map((_,S)=>r.jsxs(ft,{variant:"indigo",className:"text-[8px] lowercase font-bold",children:["#",_]},S))})]}),p.addedNotes.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase mb-2 block tracking-[0.2em]",children:" "}),r.jsx("div",{className:"space-y-2",children:p.addedNotes.map((_,S)=>r.jsxs("div",{className:"flex gap-3 p-3 bg-slate-50 rounded-xl text-[11px] font-bold text-slate-700 border border-slate-100 leading-tight",children:[r.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500 shrink-0 mt-1"}),_.replace(`[AI ${p.platform.toUpperCase()}] `,"")]},S))})]}),p.summary&&r.jsxs("div",{className:"p-4 bg-indigo-50/30 rounded-2xl border border-indigo-100/50",children:[r.jsx("span",{className:"text-[7px] font-black text-indigo-400 uppercase block mb-1 tracking-widest",children:" "}),r.jsxs("p",{className:"text-[11px] font-medium text-indigo-900 leading-relaxed italic",children:['"',p.summary,'"']})]})]}),r.jsx($e,{variant:"primary",className:"w-full py-4 rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl shadow-orange-100",onClick:()=>g(null),children:" "})]})]})]})},I_=({person:s,onAddInteraction:t,onDeleteInteraction:n})=>{const[i,o]=k.useState(""),[u,p]=k.useState("chat"),[g,v]=k.useState(30),x=k.useRef(null),y={chat:"fa-message",call:"fa-phone",meeting:"fa-users",coffee:"fa-coffee",walk:"fa-person-walking",event:"fa-calendar-star",other:"fa-circle-dot"},b=k.useMemo(()=>[...s.interactions||[]].sort((E,U)=>(U.date||0)-(E.date||0)),[s.interactions]),T=k.useMemo(()=>b.slice(0,g),[b,g]),_=w=>{i.trim()&&(t(i.trim(),w,u),o(""),setTimeout(()=>{x.current&&(x.current.scrollTop=0)},100))},S=w=>{w.key==="Enter"&&(w.preventDefault(),_(5))};return r.jsxs("div",{className:"flex flex-col h-full max-h-full overflow-hidden animate-in fade-in duration-300",children:[r.jsxs("div",{className:"bg-slate-50 p-3 md:p-4 rounded-2xl border border-slate-100 mb-4 shrink-0 shadow-inner",children:[r.jsx(W,{variant:"tiny",className:"text-slate-400 mb-2 block font-black uppercase text-[7px] tracking-widest",children:"   "}),r.jsx("div",{className:"flex gap-1 mb-3 overflow-x-auto no-scrollbar pb-1",children:Object.entries(y).map(([w,E])=>r.jsx("button",{onClick:()=>p(w),className:`w-7 h-7 md:w-8 md:h-8 rounded-lg flex items-center justify-center transition-all shrink-0 ${u===w?"bg-orange-600 text-white shadow-md":"bg-white text-slate-300 border border-slate-100 hover:border-orange-200 hover:text-orange-500"}`,title:w,children:r.jsx("i",{className:`fa-solid ${E} text-[9px] md:text-[10px]`})},w))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{value:i,onChange:w=>o(w.target.value),onKeyDown:S,placeholder:" ...",className:"flex-1 bg-white text-slate-800 rounded-xl px-4 py-2 text-[11px] md:text-xs font-bold outline-none border border-slate-100 focus:border-orange-500 shadow-sm"}),r.jsxs("div",{className:"flex gap-1 shrink-0",children:[r.jsx("button",{onClick:()=>_(5),disabled:!i.trim(),className:"w-8 h-8 md:w-10 md:h-10 bg-emerald-500 text-white rounded-lg flex items-center justify-center shadow-md disabled:opacity-30 transition-all hover:bg-emerald-600 active:scale-95",title:"  (+5 HP)",children:r.jsx("i",{className:"fa-solid fa-plus text-xs"})}),r.jsx("button",{onClick:()=>_(-5),disabled:!i.trim(),className:"w-8 h-8 md:w-10 md:h-10 bg-rose-500 text-white rounded-lg flex items-center justify-center shadow-md disabled:opacity-30 transition-all hover:bg-rose-600 active:scale-95",title:"  (-5 HP)",children:r.jsx("i",{className:"fa-solid fa-minus text-xs"})})]})]})]}),r.jsx("div",{className:"flex-1 min-h-0 bg-white rounded-2xl border border-slate-50 overflow-hidden flex flex-col",children:r.jsxs("div",{ref:x,className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:[T.length>0?T.map(w=>{const E=w.summary.includes("[ +"),U=w.summary.includes("[ -"),R=w.summary.split(" [")[0],M=new Date(w.date);return r.jsxs("div",{className:"group relative flex items-start gap-3 p-3 hover:bg-slate-50 rounded-xl transition-all border border-transparent hover:border-slate-100 animate-in slide-in-from-top-1",children:[r.jsx("div",{className:"shrink-0 pt-0.5",children:r.jsx("div",{className:`w-7 h-7 md:w-8 md:h-8 rounded-lg flex items-center justify-center shadow-sm border border-white ${E?"bg-emerald-500":U?"bg-rose-500":"bg-slate-400"} text-white`,children:r.jsx("i",{className:`fa-solid ${y[w.type]||"fa-circle-dot"} text-[9px] md:text-xs`})})}),r.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[r.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[r.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-slate-800 uppercase tracking-tight",children:M.toLocaleDateString("uk-UA",{day:"numeric",month:"short"})}),r.jsx("span",{className:"text-[8px] md:text-[9px] font-black text-slate-300 uppercase",children:M.toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"})})]}),r.jsx("button",{onClick:H=>{H.stopPropagation(),n(w.id)},className:"text-slate-200 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100 p-1",children:r.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]}),r.jsx("p",{className:"text-[11px] md:text-xs font-bold text-slate-600 leading-snug",children:R}),r.jsxs("div",{className:"mt-1.5 flex gap-1",children:[E&&r.jsx("span",{className:"text-[6px] md:text-[7px] font-black text-emerald-500 bg-emerald-50 px-1.5 py-0.5 rounded border border-emerald-100 uppercase tracking-tighter",children:"+ HP"}),U&&r.jsx("span",{className:"text-[6px] md:text-[7px] font-black text-rose-500 bg-rose-50 px-1.5 py-0.5 rounded border border-rose-100 uppercase tracking-tighter",children:"- HP"})]})]})]},w.id)}):r.jsxs("div",{className:"py-20 text-center opacity-10 flex flex-col items-center",children:[r.jsx("i",{className:"fa-solid fa-clock-rotate-left text-5xl mb-4"}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"  "})]}),g<b.length&&r.jsx("button",{onClick:()=>v(w=>w+30),className:"w-full py-4 text-[8px] font-black text-slate-300 uppercase tracking-widest hover:text-orange-500 transition-colors",children:" ..."})]})})]})},U_=({person:s,tasks:t,onAddTask:n,onToggleTask:i})=>{const[o,u]=k.useState(new Date().toISOString().split("T")[0]),p=[{title:"",icon:"fa-coffee"},{title:"",icon:"fa-phone"},{title:"",icon:"fa-handshake"},{title:"",icon:"fa-cake-candles"}],g=t.filter(v=>v.personId===s.id&&!v.isDeleted);return r.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[r.jsxs("section",{className:"space-y-4",children:[r.jsx(W,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest",children:" "}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:p.map(v=>r.jsxs("button",{onClick:()=>n(`${v.title}  ${s.name}`,new Date(o).getTime()),className:"p-3 bg-slate-50 rounded-2xl border border-slate-100 hover:border-orange-200 transition-all flex flex-col items-center gap-1",children:[r.jsx("i",{className:`fa-solid ${v.icon} text-orange-500 text-xs`}),r.jsx("span",{className:"text-[8px] font-black uppercase",children:v.title})]},v.title))}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[r.jsx("input",{type:"date",value:o,onChange:v=>u(v.target.value),className:"bg-slate-50 border border-slate-100 rounded-xl px-3 py-2 text-[10px] font-bold outline-none focus:ring-2 focus:ring-orange-100"}),r.jsx("input",{onKeyDown:v=>{v.key==="Enter"&&v.target.value&&(n(v.target.value,new Date(o).getTime()),v.target.value="")},placeholder:" ...",className:"flex-1 bg-slate-50 border border-slate-100 rounded-xl px-4 py-2 text-xs font-bold focus:ring-2 focus:ring-orange-100 outline-none"})]})]}),r.jsxs("section",{className:"space-y-2",children:[r.jsx(W,{variant:"tiny",className:"text-slate-400 font-black uppercase",children:" "}),g.map(v=>r.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-3 shadow-sm hover:border-orange-200 transition-all",children:[r.jsx("button",{onClick:()=>i(v),className:`w-5 h-5 rounded-lg border flex items-center justify-center shrink-0 transition-all ${v.status===ge.DONE?"bg-emerald-500 border-emerald-500 text-white":"bg-white border-slate-200 hover:border-orange-400"}`,children:v.status===ge.DONE&&r.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("span",{className:`text-xs font-bold block truncate ${v.status===ge.DONE?"line-through text-slate-300":"text-slate-700"}`,children:v.title}),v.scheduledDate&&r.jsx("span",{className:"text-[7px] font-black text-orange-500 uppercase tracking-widest",children:new Date(v.scheduledDate).toLocaleDateString("uk-UA")})]})]},v.id))]})]})},z_=({person:s,aiEnabled:t,isAnalyzing:n,onAnalyze:i})=>{var o;return r.jsx("div",{className:"animate-in fade-in duration-500 space-y-6",children:t?r.jsxs("section",{className:"bg-slate-950 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/10 blur-[50px]"}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs(W,{variant:"h2",className:"text-xl flex items-center gap-3 font-black uppercase text-white tracking-tight",children:[r.jsx("i",{className:"fa-solid fa-sparkles text-orange-500"})," AI "]}),r.jsx("button",{onClick:i,disabled:n,className:`w-10 h-10 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center transition-all hover:bg-white/10 ${n?"animate-spin":""}`,children:r.jsx("i",{className:"fa-solid fa-rotate text-xs"})})]}),s.aiPortrait?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-5 bg-white/5 rounded-3xl border border-white/5 shadow-inner",children:[r.jsx(W,{variant:"tiny",className:"text-orange-500 mb-3 block font-black uppercase tracking-widest text-[8px]",children:" "}),r.jsxs("p",{className:"text-sm font-medium leading-relaxed text-slate-300 italic",children:['"',s.aiPortrait.summary,'"']})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(W,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest text-[8px]",children:" :"}),r.jsx("div",{className:"space-y-2",children:(o=s.aiPortrait.topics)==null?void 0:o.map((u,p)=>r.jsxs("div",{className:"p-4 bg-white/5 border border-white/5 rounded-2xl text-[11px] font-bold text-slate-300 flex items-center gap-4 group/item hover:bg-white/10 transition-colors",children:[r.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-500 group-hover/item:scale-150 transition-transform"})," ",u]},p))})]})]}):r.jsxs("div",{className:"py-20 text-center space-y-6 flex flex-col items-center",children:[r.jsx("div",{className:"w-20 h-20 rounded-[2rem] bg-white/5 border border-white/10 flex items-center justify-center text-4xl opacity-20",children:r.jsx("i",{className:"fa-solid fa-robot"})}),r.jsx("p",{className:"text-sm font-bold text-slate-400 max-w-xs",children:"      ,    ."}),r.jsx($e,{variant:"primary",className:"w-full py-4 rounded-2xl font-black uppercase tracking-widest text-[10px] shadow-lg shadow-orange-500/20",onClick:i,disabled:n,children:" "})]})]})]}):r.jsxs(Ie,{className:"bg-orange-50 border-orange-200 p-8 text-center flex flex-col items-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-orange-100 text-orange-500 flex items-center justify-center text-2xl mb-4 shadow-inner",children:r.jsx("i",{className:"fa-solid fa-lock"})}),r.jsx(W,{variant:"h3",className:"mb-2 text-orange-900",children:"- "}),r.jsx("p",{className:"text-xs text-orange-600/70 leading-relaxed max-w-xs",children:"    ,  Gemini    ."})]})})},L_=({personId:s,onClose:t,initialTab:n="dossier"})=>{const{people:i,updatePerson:o,character:u,aiEnabled:p,tasks:g,addTask:v,toggleTaskStatus:x,addInteraction:y,deleteInteraction:b,relationshipTypes:T,addRelationshipType:_}=Ye(),S=i.find(D=>D.id===s),[w,E]=k.useState(n),[U,R]=k.useState(!1);if(k.useEffect(()=>{E(n)},[n]),!S)return null;const M=D=>o({...S,...D}),H=(D,L,I)=>{y(S.id,{summary:`${D} [ ${L>0?"+":""}${L}]`,type:I,date:Date.now(),emotion:L>0?"joy":"neutral"});const B=S.rating||0;M({rating:Math.max(0,Math.min(100,B+L))})},O=(D,L)=>{let I=D||prompt("   email:");if(I){const B=I.replace("@","").trim(),te=`https://unavatar.io/${B}?fallback=https://api.dicebear.com/7.x/avataaars/svg?seed=${B}`;M({avatar:te})}},Q=async()=>{if(p){R(!0);try{const D=await t_(S,u);M({aiPortrait:{...D,updatedAt:Date.now()}}),E("ai")}catch{alert("  .")}finally{R(!1)}}};return r.jsxs("div",{className:"fixed top-0 right-0 h-full w-full md:w-[580px] bg-white border-l border-slate-100 z-[110] shadow-[-20px_0_60px_rgba(0,0,0,0.05)] flex flex-col overflow-hidden animate-in slide-in-from-right duration-300",children:[r.jsxs("header",{className:"p-3 md:p-8 border-b border-slate-50 flex justify-between items-start shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-3 md:gap-5 min-w-0",children:[r.jsxs("div",{className:"w-12 h-12 md:w-20 md:h-20 rounded-xl md:rounded-[2rem] bg-slate-50 ring-2 md:ring-4 ring-orange-50 overflow-hidden shadow-lg shrink-0 group relative",children:[r.jsx("img",{src:S.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${S.name}`,className:"w-full h-full object-cover transition-transform group-hover:scale-110"}),r.jsx("button",{onClick:()=>O(),className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx("i",{className:"fa-solid fa-sync text-white text-xs"})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("input",{className:"text-base md:text-xl font-black text-slate-900 bg-transparent border-none p-0 focus:ring-0 w-full mb-0.5 md:mb-1 truncate",value:S.name,onChange:D=>M({name:D.target.value})}),r.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[r.jsx(ft,{variant:"orange",className:"text-[6px] md:text-[8px] uppercase",children:S.status}),r.jsxs(ft,{variant:"yellow",className:"text-[6px] md:text-[8px] uppercase",children:["Karma ",S.rating||0]})]})]})]}),r.jsx("button",{onClick:t,className:"w-8 h-8 md:w-10 md:h-10 rounded-lg md:rounded-2xl bg-slate-50 flex items-center justify-center text-slate-300 hover:text-slate-900 transition-all shrink-0",children:r.jsx("i",{className:"fa-solid fa-xmark text-xs md:text-sm"})})]}),r.jsx("div",{className:"flex border-b border-slate-50 px-1 md:px-4 shrink-0 overflow-x-auto no-scrollbar bg-white sticky top-0 z-30",children:["dossier","dates","skills","vcard","timeline","tasks","ai"].map(D=>r.jsxs("button",{onClick:()=>E(D),className:`flex-none md:flex-1 min-w-[65px] md:min-w-[80px] px-3 py-3 md:py-4 text-[7px] md:text-[9px] font-black uppercase tracking-widest transition-all relative ${w===D?"text-orange-600":"text-slate-400"}`,children:[D==="dossier"?"":D==="dates"?"":D==="skills"?"":D==="vcard"?"":D==="timeline"?"":D==="tasks"?"":"",w===D&&r.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-600"})]},D))}),r.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-8 bg-white",children:[w==="dossier"&&r.jsx(E_,{person:S,onUpdate:M,onAddInteraction:H}),w==="dates"&&r.jsx(M_,{person:S,onUpdate:M}),w==="skills"&&r.jsx(D_,{person:S,onUpdate:M,onAddHobby:D=>M({hobbies:[...S.hobbies,D]}),onAddSkill:D=>M({tags:[...S.tags,D]}),relationshipTypes:T,onAddRelType:_}),w==="vcard"&&r.jsx(R_,{person:S,onUpdate:M,onFetchAvatar:O}),w==="timeline"&&r.jsx(I_,{person:S,onAddInteraction:H,onDeleteInteraction:D=>b(S.id,D)}),w==="tasks"&&r.jsx(U_,{person:S,tasks:g,onAddTask:(D,L)=>v(D,"tasks",void 0,"actions",!0,L,S.id,ge.NEXT_ACTION),onToggleTask:x}),w==="ai"&&r.jsx(z_,{person:S,aiEnabled:p,isAnalyzing:U,onAnalyze:Q})]}),r.jsx("footer",{className:"p-4 md:p-6 border-t border-slate-50 bg-slate-50/30 flex gap-3 md:gap-4 shrink-0 mb-safe",children:r.jsx($e,{variant:"white",onClick:t,className:"flex-1 rounded-xl md:rounded-2xl py-2.5 md:py-4 font-black uppercase text-[7px] md:text-[10px] tracking-widest shadow-sm",children:""})})]})},O_=()=>{const{people:s,addPerson:t,relationshipTypes:n,addRelationshipType:i,tasks:o,toggleTaskStatus:u}=Ye(),[p,g]=k.useState(""),[v,x]=k.useState("all"),[y,b]=k.useState("grid"),[T,_]=k.useState(null),[S,w]=k.useState("dossier"),[E,U]=k.useState({active:!1,status:"acquaintance"}),[R,M]=k.useState(""),[H,O]=k.useState(!1),[Q,D]=k.useState("");k.useRef(null);const{detailsWidth:L,startResizing:I,isResizing:B}=Gn(280,450),te=K=>({friend:"",colleague:"",family:"'",mentor:"",acquaintance:""})[K]||K.charAt(0).toUpperCase()+K.slice(1),Y=K=>{if(K.loop==="none"||!K.lastInteractionAt)return{label:"",color:"slate",icon:"fa-seedling",urgent:!1};const me=(Date.now()-K.lastInteractionAt)/(1e3*60*60*24),$={week:7,month:30,quarter:90,year:365,none:9999}[K.loop]||30;return me>$*1.5?{label:"",color:"rose",icon:"fa-skull-crossbones",urgent:!0,level:0}:me>$?{label:"",color:"amber",icon:"fa-wind",urgent:!0,level:1}:{label:"",color:"emerald",icon:"fa-fire",urgent:!1,level:2}},de=k.useMemo(()=>{const K={all:s.length};return n.forEach(me=>{K[me]=s.filter(j=>j.status===me).length}),K},[s,n]),F=k.useMemo(()=>s.filter(K=>{const me=K.name.toLowerCase().includes(p.toLowerCase())||K.tags.some($=>$.toLowerCase().includes(p.toLowerCase())),j=v==="all"||K.status===v;return me&&j}).sort((K,me)=>(me.rating||0)-(K.rating||0)),[s,p,v]),pe=k.useMemo(()=>{const K=s.reduce(($,ue)=>$+(ue.rating||0),0),me=s.filter($=>Y($).urgent).length;return{avgKarma:s.length?Math.round(K/s.length):0,urgentCount:me}},[s]),q=k.useMemo(()=>o.filter(K=>!K.isDeleted&&K.status!==ge.DONE&&K.personId).slice(0,5),[o]),V=(K,me)=>{w(me),_(K)},ne=K=>{if(K==null||K.preventDefault(),R.trim()){const me=E.status==="all"?"acquaintance":E.status,j=t(R.trim(),me);M(""),U({active:!1,status:"acquaintance"}),_(j),w("dossier")}};return r.jsxs("div",{className:"h-screen flex flex-col md:flex-row bg-main overflow-hidden relative text-main",children:[r.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full",children:[r.jsxs("header",{className:"p-4 md:p-8 bg-card border-b border-theme z-20 flex flex-col md:flex-row justify-between items-start md:items-center gap-3 md:gap-4 shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[r.jsx("div",{className:"w-8 h-8 md:w-12 md:h-12 rounded-lg md:rounded-2xl bg-primary flex items-center justify-center text-white shadow-lg",children:r.jsx("i",{className:"fa-solid fa-users-between-lines text-xs md:text-base"})}),r.jsxs("div",{children:[r.jsx(W,{variant:"h1",className:"text-lg md:text-2xl leading-none mb-0.5",children:""}),r.jsx(W,{variant:"tiny",className:"text-muted uppercase tracking-widest text-[7px] md:text-[10px]",children:" "})]})]}),r.jsxs("div",{className:"flex items-center gap-1.5 md:gap-3 w-full md:w-auto",children:[r.jsxs("div",{className:"relative flex-1 md:w-64",children:[r.jsx("i",{className:"fa-solid fa-magnifying-glass absolute left-3 md:left-4 top-1/2 -translate-y-1/2 text-muted/50 text-[9px] md:text-[10px]"}),r.jsx("input",{value:p,onChange:K=>g(K.target.value),placeholder:"...",className:"w-full bg-main border border-theme rounded-xl py-2 md:py-3 pl-8 md:pl-10 pr-3 text-[11px] md:text-sm font-bold focus:ring-2 focus:ring-primary/20 outline-none text-main"})]}),r.jsxs("div",{className:"flex bg-main p-0.5 md:p-1 rounded-lg md:rounded-xl shrink-0 border border-theme",children:[r.jsx("button",{onClick:()=>b("grid"),className:`w-7 h-7 md:w-10 md:h-10 rounded-md md:rounded-lg flex items-center justify-center transition-all ${y==="grid"?"bg-card shadow-sm text-primary":"text-muted"}`,children:r.jsx("i",{className:"fa-solid fa-grip text-[10px] md:text-xs"})}),r.jsx("button",{onClick:()=>b("list"),className:`w-7 h-7 md:w-10 md:h-10 rounded-md md:rounded-lg flex items-center justify-center transition-all ${y==="list"?"bg-card shadow-sm text-primary":"text-muted"}`,children:r.jsx("i",{className:"fa-solid fa-list text-[10px] md:text-xs"})})]})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 md:p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto pb-32",children:[r.jsxs("div",{className:"flex items-center gap-1.5 overflow-x-auto no-scrollbar mb-4 md:mb-8 pb-1 -mx-3 px-3 md:mx-0 md:px-0",children:[r.jsxs("button",{onClick:()=>x("all"),className:`px-4 py-2 md:px-5 md:py-2.5 rounded-xl text-[8px] md:text-[10px] font-black uppercase tracking-widest transition-all shrink-0 border flex items-center gap-1.5 ${v==="all"?"bg-primary text-white border-primary shadow-md":"bg-card text-muted border-theme"}`,children:[" ",r.jsxs("span",{className:`text-[7px] md:text-[8px] opacity-40 ${v==="all"?"text-white":"text-muted"}`,children:["(",de.all,")"]})]}),n.map(K=>r.jsxs("button",{onClick:()=>x(K),className:`px-4 py-2 md:px-5 md:py-2.5 rounded-xl text-[8px] md:text-[10px] font-black uppercase tracking-widest transition-all shrink-0 border flex items-center gap-1.5 ${v===K?"bg-primary text-white border-primary shadow-md":"bg-card text-muted border-theme"}`,children:[te(K)," ",r.jsxs("span",{className:`text-[7px] md:text-[8px] opacity-40 ${v===K?"text-white":"text-muted"}`,children:["(",de[K]||0,")"]})]},K))]}),y==="grid"?r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-3 md:gap-5",children:[F.map(K=>{const me=Y(K),j=o.filter(ue=>!ue.isDeleted&&ue.status!==ge.DONE&&ue.personId===K.id).length,$=Math.min(100,Math.max(0,K.rating||0));return r.jsxs(Ie,{padding:"none",className:"bg-card border-theme shadow-sm hover:shadow-xl transition-all group overflow-hidden flex flex-col w-full",children:[r.jsxs("div",{onClick:()=>V(K.id,"dossier"),className:"p-4 md:p-5 flex gap-3 md:gap-4 items-start cursor-pointer",children:[r.jsxs("div",{className:"relative shrink-0",children:[r.jsx("img",{src:K.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${K.name}`,className:"w-12 h-12 md:w-16 md:h-16 rounded-xl md:rounded-[1.5rem] bg-main border border-theme shadow-sm object-cover"}),me.urgent&&r.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 md:w-4 md:h-4 bg-rose-500 border-2 border-sidebar rounded-full animate-pulse"})]}),r.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[r.jsxs("div",{className:"flex justify-between items-start mb-0.5 md:mb-1",children:[r.jsx(W,{variant:"h3",className:"text-[12px] md:text-sm font-black uppercase truncate text-main leading-tight",children:K.name}),j>0&&r.jsxs(ft,{variant:"indigo",className:"text-[6px] md:text-[7px] py-0 px-1 shrink-0",children:["Q x",j]})]}),r.jsxs("div",{className:"mb-1 md:mb-2",children:[r.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[r.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase text-muted tracking-tighter",children:"Karma"}),r.jsx("span",{className:"text-[7px] md:text-[8px] font-black text-muted",children:K.rating||0})]}),r.jsx("div",{className:"h-0.5 md:h-1.5 bg-main rounded-full overflow-hidden flex shadow-inner",children:r.jsx("div",{className:`h-full transition-all duration-1000 ${$>70?"bg-emerald-500":$>30?"bg-primary":"bg-rose-500"}`,style:{width:`${$}%`}})})]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(ft,{variant:"slate",className:"text-[6px] md:text-[7px] px-1 py-0",children:te(K.status)}),r.jsx("span",{className:"text-[7px] md:text-[8px] font-black text-muted uppercase tracking-tighter",children:me.label})]})]})]}),r.jsx("div",{className:"px-4 md:px-5 pb-2 md:pb-4 flex flex-wrap gap-1 md:gap-1.5 overflow-hidden h-4 md:h-6",children:K.hobbies.slice(0,3).map(ue=>r.jsxs("span",{className:"text-[7px] md:text-[8px] font-bold text-muted bg-main px-1.5 md:px-2 py-0.5 rounded-full border border-theme truncate max-w-[70px] md:max-w-[80px]",children:["#",ue]},ue))}),r.jsxs("div",{className:"mt-auto border-t border-theme bg-main/30 p-1 md:p-2 grid grid-cols-4 gap-px text-center",children:[r.jsxs("button",{onClick:()=>V(K.id,"dossier"),className:"flex flex-col items-center justify-center py-1 md:py-2 rounded-lg hover:bg-card hover:text-primary text-muted transition-all",children:[r.jsx("i",{className:"fa-solid fa-id-card text-[10px] md:text-[11px] mb-0.5"}),r.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase",children:""})]}),r.jsxs("button",{onClick:()=>V(K.id,"dates"),className:"flex flex-col items-center justify-center py-1 md:py-2 rounded-lg hover:bg-card hover:text-primary text-muted transition-all",children:[r.jsx("i",{className:"fa-solid fa-calendar-day text-[10px] md:text-[11px] mb-0.5"}),r.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase",children:""})]}),r.jsxs("button",{onClick:()=>V(K.id,"timeline"),className:"flex flex-col items-center justify-center py-1 md:py-2 rounded-lg hover:bg-card hover:text-primary text-muted transition-all",children:[r.jsx("i",{className:"fa-solid fa-clock-rotate-left text-[10px] md:text-[11px] mb-0.5"}),r.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase",children:""})]}),r.jsxs("button",{onClick:()=>V(K.id,"tasks"),className:"flex flex-col items-center justify-center py-1 md:py-2 rounded-lg hover:bg-card hover:text-primary text-muted transition-all",children:[r.jsx("i",{className:"fa-solid fa-bolt text-[10px] md:text-[11px] mb-0.5"}),r.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase",children:""})]})]})]},K.id)}),r.jsxs("button",{onClick:()=>U({active:!0,status:v==="all"?"acquaintance":v}),className:"group border-2 border-dashed border-theme rounded-2xl md:rounded-[2rem] p-6 md:p-8 flex flex-col items-center justify-center text-muted hover:border-primary/50 hover:text-primary hover:bg-card transition-all min-h-[120px] md:min-h-[160px] w-full",children:[r.jsx("i",{className:"fa-solid fa-user-plus text-xl md:text-2xl mb-2 md:mb-3 group-hover:scale-110 transition-transform"}),r.jsx("span",{className:"text-[8px] md:text-[10px] font-black uppercase tracking-widest",children:" "})]})]}):r.jsx("div",{className:"bg-card rounded-xl md:rounded-3xl border border-theme overflow-hidden shadow-sm",children:r.jsx("div",{className:"overflow-x-auto no-scrollbar",children:r.jsxs("table",{className:"w-full text-left min-w-[320px]",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-main/50 border-b border-theme",children:[r.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-[8px] md:text-[9px] font-black uppercase text-muted tracking-widest",children:""}),r.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-[8px] md:text-[9px] font-black uppercase text-muted tracking-widest hidden sm:table-cell",children:"HP"}),r.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-[8px] md:text-[9px] font-black uppercase text-muted tracking-widest",children:""}),r.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4"})]})}),r.jsx("tbody",{className:"divide-y divide-theme/30",children:F.map(K=>{const me=Math.min(100,Math.max(0,K.rating||0));return r.jsxs("tr",{onClick:()=>V(K.id,"dossier"),className:"group hover:bg-main/30 transition-colors cursor-pointer",children:[r.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4",children:r.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[r.jsx("img",{src:K.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${K.name}`,className:"w-8 h-8 md:w-8 md:h-8 rounded-full bg-main border border-theme"}),r.jsx("span",{className:"text-[11px] md:text-[13px] font-black text-main truncate max-w-[100px] md:max-w-none",children:K.name})]})}),r.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4 w-24 md:w-48 hidden sm:table-cell",children:r.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[r.jsx("div",{className:"flex-1 h-1 md:h-1.5 bg-main rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full ${me>70?"bg-emerald-500":me>30?"bg-primary":"bg-rose-500"}`,style:{width:`${me}%`}})}),r.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-muted",children:K.rating||0})]})}),r.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4",children:r.jsx(ft,{variant:"slate",className:"text-[6px] md:text-[8px] py-0",children:te(K.status)})}),r.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4 text-right",children:r.jsxs("div",{className:"flex justify-end gap-1.5 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("button",{onClick:j=>{j.stopPropagation(),V(K.id,"timeline")},className:"w-7 h-7 md:w-8 md:h-8 rounded-md bg-card border border-theme text-muted hover:text-primary flex items-center justify-center",children:r.jsx("i",{className:"fa-solid fa-clock-rotate-left text-[10px]"})}),r.jsx("button",{onClick:j=>{j.stopPropagation(),V(K.id,"tasks")},className:"w-7 h-7 md:w-8 md:h-8 rounded-md bg-card border border-theme text-muted hover:text-primary flex items-center justify-center",children:r.jsx("i",{className:"fa-solid fa-bolt text-[10px]"})})]})})]},K.id)})})]})})})]})})]}),r.jsxs("aside",{style:{width:window.innerWidth<1024?"100%":L},className:`${window.innerWidth<1024?"border-t md:border-t-0":"border-l"} bg-sidebar border-theme shrink-0 relative z-30 flex flex-col`,children:[window.innerWidth>=1024&&r.jsx("div",{onMouseDown:I,className:`absolute left-0 top-0 bottom-0 w-[1.5px] cursor-col-resize hover:bg-primary transition-colors z-50 ${B?"bg-primary":"bg-theme"}`}),r.jsxs("header",{className:"p-5 md:p-6 border-b border-theme shrink-0",children:[r.jsx(W,{variant:"tiny",className:"text-muted font-black uppercase tracking-widest mb-1",children:" "}),r.jsx(W,{variant:"h2",className:"text-base md:text-lg",children:"Social Capital"})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 md:p-6 space-y-6 md:space-y-8",children:[r.jsxs("section",{className:"grid grid-cols-2 lg:grid-cols-1 gap-3",children:[r.jsxs("div",{className:"bg-primary p-4 md:p-5 text-white rounded-[1.5rem] md:rounded-[2rem] shadow-xl relative overflow-hidden group",children:[r.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-white/10 blur-2xl group-hover:bg-white/20 transition-all"}),r.jsx(W,{variant:"tiny",className:"text-white opacity-60 font-black mb-1 uppercase text-[7px]",children:" Karma"}),r.jsx("div",{className:"text-2xl md:text-3xl font-black",children:pe.avgKarma}),r.jsx("div",{className:"mt-2 md:mt-3 h-1 bg-white/20 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-white shadow-[0_0_8px_white]",style:{width:`${pe.avgKarma}%`}})})]}),r.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-[1.5rem] md:rounded-[2rem] p-4 md:p-5 text-rose-500",children:[r.jsx(W,{variant:"tiny",className:"text-rose-500 opacity-60 font-black mb-1 uppercase text-[7px]",children:" "}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-2xl md:text-3xl font-black",children:pe.urgentCount}),r.jsx("i",{className:"fa-solid fa-heart-pulse text-rose-500 text-lg md:text-xl animate-pulse"})]})]})]}),r.jsxs("section",{className:"space-y-3 md:space-y-4",children:[r.jsxs(W,{variant:"tiny",className:"text-main font-black uppercase tracking-widest flex items-center gap-2 text-[9px]",children:[r.jsx("i",{className:"fa-solid fa-bolt-lightning text-primary"}),"  '"]}),r.jsx("div",{className:"space-y-2",children:q.map(K=>{const me=s.find(j=>j.id===K.personId);return r.jsx("div",{className:"p-3 bg-main border border-theme rounded-2xl hover:bg-card hover:border-primary transition-all group cursor-pointer shadow-sm",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("button",{onClick:()=>u(K),className:"w-5 h-5 rounded-lg border-2 border-theme mt-0.5 flex items-center justify-center bg-sidebar group-hover:border-primary",children:r.jsx("i",{className:"fa-solid fa-check text-[9px] text-transparent group-hover:text-primary"})}),r.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>me&&V(me.id,"tasks"),children:[r.jsx("div",{className:"text-[10px] md:text-[11px] font-black text-main truncate mb-1",children:K.title}),me&&r.jsxs("span",{className:"text-[7px] md:text-[8px] font-black text-primary uppercase",children:[" ",me.name]})]})]})},K.id)})})]})]})]}),E.active&&r.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 tiktok-blur",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>U({active:!1,status:"acquaintance"})}),r.jsxs(Ie,{className:"w-full max-w-sm relative z-10 shadow-2xl p-6 md:p-8 rounded-[2rem] md:rounded-[2.5rem] bg-card border-theme",children:[r.jsx(W,{variant:"h2",className:"mb-4 md:mb-6 text-lg md:text-xl",children:" "}),r.jsxs("form",{onSubmit:ne,className:"space-y-4 md:space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[9px] md:text-[10px] font-black uppercase text-muted tracking-widest mb-1.5 md:mb-2 block",children:" / '"}),r.jsx("input",{autoFocus:!0,value:R,onChange:K=>M(K.target.value),placeholder:"...",className:"w-full bg-main border border-theme rounded-xl py-3 md:py-4 px-4 md:px-5 text-sm font-bold focus:ring-4 focus:ring-primary/10 outline-none transition-all text-main"})]}),r.jsxs("div",{className:"flex gap-3 md:gap-4",children:[r.jsx($e,{variant:"white",className:"flex-1 rounded-xl md:rounded-2xl py-3",onClick:()=>U({active:!1,status:"acquaintance"}),children:""}),r.jsx($e,{type:"submit",className:"flex-[2] rounded-xl md:rounded-2xl shadow-lg py-3",children:""})]})]})]})]}),T&&r.jsx(L_,{personId:T,onClose:()=>_(null),initialTab:S})]})},V_=()=>{const{character:s,updateCharacter:t,tasks:n,cycle:i,diary:o,hobbies:u}=Ye(),[p,g]=k.useState("status"),v=k.useMemo(()=>({done:n.filter(b=>b.status===ge.DONE&&!b.isDeleted).length}),[n]),x=[{key:"health",label:"'",icon:"fa-heart-pulse",color:"#f43f5e"},{key:"career",label:"'",icon:"fa-briefcase",color:"#6366f1"},{key:"finance",label:"",icon:"fa-coins",color:"#10b981"},{key:"education",label:"",icon:"fa-book-open-reader",color:"#f59e0b"},{key:"relationships",label:"",icon:"fa-people-group",color:"#ec4899"},{key:"rest",label:"",icon:"fa-couch",color:"#06b6d4"}],y=(b,T,_)=>r.jsxs("button",{onClick:()=>g(b),className:`flex items-center gap-2 px-6 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${p===b?"bg-slate-900 text-white shadow-xl":"text-slate-400 hover:bg-slate-100"}`,children:[r.jsx("i",{className:`fa-solid ${_}`}),T]});return r.jsxs("div",{className:"min-h-screen bg-[var(--bg-main)] pb-32",children:[r.jsx("div",{className:"bg-white border-b border-slate-100 px-6 py-8 relative overflow-hidden",children:r.jsxs("div",{className:"max-w-5xl mx-auto flex flex-col md:flex-row items-center gap-8 relative z-10",children:[r.jsx("div",{className:"w-28 h-28 md:w-32 md:h-32 rounded-[2.5rem] bg-white p-1 shadow-2xl ring-4 ring-orange-50 relative overflow-hidden",children:r.jsx("img",{src:s.avatarUrl,alt:"Hero",className:"w-full h-full object-cover rounded-[2rem] bg-slate-50"})}),r.jsxs("div",{className:"flex-1 text-center md:text-left",children:[r.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-3 mb-2",children:[r.jsx(W,{variant:"h1",className:"text-3xl",children:s.name}),r.jsxs(ft,{variant:"orange",children:["LVL ",s.level]})]}),r.jsx(W,{variant:"tiny",className:"text-slate-400 font-black tracking-widest uppercase",children:s.role||s.archetype}),r.jsxs("div",{className:"flex gap-4 mt-4 overflow-x-auto no-scrollbar pb-2",children:[y("status","","fa-bolt-lightning"),y("identity","","fa-user-gear"),y("evolution","","fa-chart-line")]})]})]})}),r.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-10",children:[p==="status"&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 animate-in fade-in duration-300",children:[r.jsxs("section",{className:"space-y-6",children:[r.jsx(W,{variant:"h2",className:"text-xl font-black",children:" "}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs(Ie,{padding:"md",className:"bg-rose-50/50 border-rose-100",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-[10px] font-black uppercase text-rose-600",children:""}),r.jsxs("span",{className:"text-lg font-black text-rose-600",children:[s.energy,"%"]})]}),r.jsx("div",{className:"h-1.5 bg-rose-100 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-rose-500",style:{width:`${s.energy}%`}})})]}),r.jsxs(Ie,{padding:"md",className:"bg-indigo-50/50 border-indigo-100",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-[10px] font-black uppercase text-indigo-600",children:""}),r.jsxs("span",{className:"text-lg font-black text-indigo-600",children:[s.focus,"%"]})]}),r.jsx("div",{className:"h-1.5 bg-indigo-100 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-indigo-500",style:{width:`${s.focus}%`}})})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:x.map(b=>{const T=s.stats[b.key]||0;return r.jsxs(Ie,{padding:"sm",className:"border-slate-100 flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white",style:{backgroundColor:b.color},children:r.jsx("i",{className:`fa-solid ${b.icon} text-[10px]`})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx("span",{className:"text-[9px] font-black text-slate-800 uppercase",children:b.label}),r.jsxs("span",{className:"text-[8px] font-bold text-slate-400",children:["LVL ",Math.floor(T/10)]})]}),r.jsx("div",{className:"h-1 bg-slate-100 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full transition-all duration-1000",style:{width:`${T}%`,backgroundColor:b.color}})})]})]},b.key)})})]}),r.jsxs("section",{className:"space-y-6",children:[r.jsx(W,{variant:"h2",className:"text-xl font-black",children:" "}),r.jsx("div",{className:"space-y-3",children:s.skills.map(b=>r.jsxs(Ie,{padding:"md",className:"border-slate-100 flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center text-lg",children:r.jsx("i",{className:`fa-solid ${b.icon}`})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx("span",{className:"text-xs font-black uppercase text-slate-800",children:b.name}),r.jsxs("span",{className:"text-[9px] font-bold text-slate-400",children:["LVL ",b.level]})]}),r.jsx("div",{className:"h-1 bg-slate-100 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-orange-500",style:{width:`${b.xp%100}%`}})})]})]},b.name))})]})]}),p==="identity"&&r.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[r.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs(W,{variant:"tiny",className:"text-slate-900 font-black uppercase flex items-center gap-2",children:[r.jsx("i",{className:"fa-solid fa-scroll text-orange-500"})," Bio & "]}),r.jsxs(Ie,{padding:"md",className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-1",children:" "}),r.jsx("input",{value:s.role,onChange:b=>t({role:b.target.value}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-bold focus:ring-2 focus:ring-orange-100 outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-1",children:""}),r.jsx("textarea",{value:s.bio,onChange:b=>t({bio:b.target.value}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-medium focus:ring-2 focus:ring-orange-100 outline-none min-h-[80px] resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-1",children:" "}),r.jsx("textarea",{value:s.vision,onChange:b=>t({vision:b.target.value}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-medium italic focus:ring-2 focus:ring-orange-100 outline-none min-h-[60px] resize-none border-l-2 border-orange-200"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(W,{variant:"tiny",className:"text-slate-900 font-black uppercase flex items-center gap-2",children:[r.jsx("i",{className:"fa-solid fa-shield-heart text-indigo-500"}),"  & "]}),r.jsxs(Ie,{padding:"md",className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:""}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:s.views.map((b,T)=>r.jsx(ft,{variant:"indigo",className:"text-[8px] lowercase",children:b},T))}),r.jsx("button",{onClick:()=>{const b=prompt(" :");b&&t({views:[...s.views,b]})},className:"text-[8px] font-black text-indigo-600 uppercase tracking-widest",children:"+  "})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:" (Beliefs)"}),r.jsx("div",{className:"space-y-1.5",children:s.beliefs.map((b,T)=>r.jsxs("div",{className:"text-xs font-medium text-slate-600 flex items-center gap-2 bg-slate-50 p-2 rounded-lg",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-300"}),b]},T))}),r.jsx("button",{onClick:()=>{const b=prompt(" :");b&&t({beliefs:[...s.beliefs,b]})},className:"mt-2 text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"+  "})]})]})]})]}),r.jsxs("section",{children:[r.jsxs(W,{variant:"tiny",className:"text-slate-900 font-black uppercase flex items-center gap-2 mb-4",children:[r.jsx("i",{className:"fa-solid fa-sliders text-emerald-500"}),"  "]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(Ie,{padding:"md",children:[r.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:" "}),r.jsx("input",{value:s.preferences.workStyle,onChange:b=>t({preferences:{...s.preferences,workStyle:b.target.value}}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-bold outline-none"})]}),r.jsxs(Ie,{padding:"md",children:[r.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:" "}),r.jsx("input",{value:s.preferences.planningStyle,onChange:b=>t({preferences:{...s.preferences,planningStyle:b.target.value}}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-bold outline-none"})]}),r.jsxs(Ie,{padding:"md",children:[r.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:"-"}),r.jsx("div",{className:"flex flex-wrap gap-1.5",children:s.preferences.focusBlockers.map((b,T)=>r.jsx(ft,{variant:"rose",className:"text-[7px]",children:b},T))}),r.jsx("button",{onClick:()=>{const b=prompt(" :");b&&t({preferences:{...s.preferences,focusBlockers:[...s.preferences.focusBlockers,b]}})},className:"mt-2 text-[8px] font-black text-rose-600 uppercase tracking-widest",children:"+ "})]})]})]})]}),p==="evolution"&&r.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[r.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(Ie,{className:"bg-slate-900 text-white p-8 border-none flex flex-col items-center justify-center text-center",children:[r.jsx("div",{className:"text-[10px] font-black text-orange-500 uppercase mb-2",children:" "}),r.jsx("div",{className:"text-4xl font-black",children:s.xp}),r.jsx(W,{variant:"tiny",className:"text-slate-500 mt-2",children:"XP POINTS"})]}),r.jsxs(Ie,{className:"p-8 border-slate-100 flex flex-col items-center justify-center text-center shadow-sm",children:[r.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase mb-2",children:"  "}),r.jsx("div",{className:"text-4xl font-black text-slate-900",children:i.currentWeek}),r.jsx(W,{variant:"tiny",className:"text-slate-300 mt-2",children:"12TR WEEK"})]}),r.jsxs(Ie,{className:"p-8 border-slate-100 flex flex-col items-center justify-center text-center shadow-sm",children:[r.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase mb-2",children:" "}),r.jsx("div",{className:"text-4xl font-black text-emerald-600",children:v.done}),r.jsx(W,{variant:"tiny",className:"text-slate-300 mt-2",children:"COMPLETED QUESTS"})]})]}),r.jsxs("section",{className:"space-y-4",children:[r.jsx(W,{variant:"h2",className:"text-xl font-black",children:" "}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.achievements.map(b=>r.jsxs(Ie,{padding:"md",className:"border-slate-100 text-center hover:border-orange-200 transition-all group",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-50 text-orange-600 flex items-center justify-center text-xl mx-auto mb-3 shadow-inner group-hover:scale-110 transition-transform",children:r.jsx("i",{className:`fa-solid ${b.icon}`})}),r.jsx("div",{className:"text-[10px] font-black uppercase text-slate-800 mb-1",children:b.title}),r.jsx("p",{className:"text-[9px] text-slate-400 leading-tight",children:b.description})]},b.id)),r.jsxs("div",{className:"border-2 border-dashed border-slate-100 rounded-[2rem] flex flex-col items-center justify-center p-6 grayscale opacity-30",children:[r.jsx("i",{className:"fa-solid fa-lock mb-2 text-slate-300"}),r.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Locked Achievement"})]})]})]})]})]})]})},H_=()=>{var Y,de;const{theme:s,setTheme:t,aiEnabled:n,setAiEnabled:i,sidebarSettings:o,updateSidebarSetting:u,character:p,updateCharacter:g}=Ye(),[v,x]=k.useState((window.innerWidth<1024,"profile")),[y,b]=k.useState(""),[T,_]=k.useState(!1),[S,w]=k.useState(""),[E,U]=k.useState(!1),{detailsWidth:R,startResizing:M,isResizing:H}=Gn(400,700),[O,Q]=k.useState(window.innerWidth<1024);k.useEffect(()=>{const F=()=>Q(window.innerWidth<1024);window.addEventListener("resize",F);const pe=localStorage.getItem("GEMINI_API_KEY")||"";return b(pe),()=>window.removeEventListener("resize",F)},[]);const D=()=>{localStorage.setItem("GEMINI_API_KEY",y.trim()),alert("API  .")},L=F=>{F.preventDefault(),S.trim()&&(U(!0),w(""),setTimeout(()=>U(!1),3e3))},I=[{id:"profile",icon:"fa-user-astronaut",label:" ",color:"text-orange-500",desc:"  "},{id:"appearance",icon:"fa-palette",label:" & ",color:"text-indigo-500",desc:" "},{id:"ai",icon:"fa-wand-magic-sparkles",label:"Gemini AI",color:"text-emerald-500",desc:" "},{id:"sidebar",icon:"fa-bars-staggered",label:"",color:"text-amber-500",desc:" "},{id:"data",icon:"fa-database",label:"",color:"text-rose-500",desc:" "},{id:"feedback",icon:"fa-comment-dots",label:"",color:"text-violet-500",desc:"  "}],B=[{id:"classic",label:"Classic",main:"#ffffff",accent:"#f97316"},{id:"midnight",label:"Midnight",main:"#020617",accent:"#10b981"},{id:"obsidian",label:"Obsidian",main:"#000000",accent:"#8b5cf6"},{id:"cyberpunk",label:"Cyberpunk",main:"#09090b",accent:"#fef08a"},{id:"dracula",label:"Dracula",main:"#282a36",accent:"#ff79c6"},{id:"nordic-dark",label:"Nordic",main:"#2e3440",accent:"#88c0d0"},{id:"sakura",label:"Sakura",main:"#fff1f2",accent:"#ec4899"},{id:"ocean",label:"Ocean",main:"#f0f9ff",accent:"#0ea5e9"},{id:"forest",label:"Forest",main:"#f0fdf4",accent:"#166534"},{id:"lavender",label:"Lavender",main:"#faf5ff",accent:"#8b5cf6"},{id:"desert",label:"Desert",main:"#fffbeb",accent:"#d97706"},{id:"mars",label:"Mars",main:"#450a0a",accent:"#ef4444"},{id:"slate",label:"Slate",main:"#f8fafc",accent:"#475569"},{id:"coffee",label:"Coffee",main:"#fffaf0",accent:"#92400e"},{id:"gold",label:"Luxury",main:"#1e1b4b",accent:"#fbbf24"},{id:"matrix",label:"Matrix",main:"#000000",accent:"#00ff41"},{id:"glass",label:"Glass",main:"#6366f1",accent:"#ffffff"},{id:"toxic",label:"Toxic",main:"#1a1a1a",accent:"#ccff00"},{id:"sepia",label:"Sepia",main:"#f4ecd8",accent:"#704214"},{id:"paper",label:"Paper",main:"#f5f5f5",accent:"#3b82f6"},{id:"blueprint",label:"Blueprint",main:"#1e3a8a",accent:"#ffffff"},{id:"gameboy",label:"Gameboy",main:"#9bbc0f",accent:"#306230"},{id:"spotify",label:"Spotify",main:"#121212",accent:"#1db954"},{id:"slack",label:"Slack",main:"#ffffff",accent:"#4a154b"},{id:"uber",label:"Uber",main:"#000000",accent:"#ffffff"},{id:"apple",label:"Apple",main:"#f5f5f7",accent:"#007aff"},{id:"stripe",label:"Stripe",main:"#f6f9fc",accent:"#635bff"},{id:"github",label:"Github",main:"#0d1117",accent:"#2ea44f"},{id:"clay",label:"Clay",main:"#fdf2e9",accent:"#e67e22"},{id:"olive",label:"Olive",main:"#f5f5dc",accent:"#808000"}],te=()=>{switch(v){case"profile":return r.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[r.jsxs("div",{className:"flex flex-col items-center gap-4 mb-4",children:[r.jsxs("div",{className:"w-24 h-24 rounded-[2.5rem] bg-[var(--bg-card)] p-1 ring-4 ring-[var(--primary)]/10 relative group shadow-2xl",children:[r.jsx("img",{src:p.avatarUrl,className:"w-full h-full object-cover rounded-[2.2rem]"}),r.jsx("button",{onClick:()=>{const pe=prompt("Avatar URL:",p.avatarUrl);pe&&g({avatarUrl:pe})},className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-[2.2rem] text-white text-[10px] font-black uppercase",children:""})]}),r.jsxs(W,{variant:"tiny",className:"text-[var(--text-muted)]",children:["ID: ",p.name.toUpperCase().replace(/\s+/g,"_")]})]}),r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-[10px] font-black uppercase text-[var(--text-muted)] ml-1",children:""}),r.jsx("input",{value:p.name,onChange:pe=>g({name:pe.target.value}),className:"w-full bg-[var(--bg-card)] border border-[var(--border-color)] rounded-2xl py-4 px-5 text-sm font-bold focus:ring-4 focus:ring-[var(--primary)]/10 outline-none transition-all shadow-sm"})]}),r.jsxs("div",{className:"p-4 bg-slate-900 rounded-3xl text-white",children:[r.jsx(W,{variant:"tiny",className:"text-orange-500 mb-2 font-black",children:" "}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest",children:[" ",p.level]}),r.jsxs("span",{className:"text-[10px] opacity-50",children:[p.xp," XP"]})]})]})]})]});case"appearance":return r.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300 pb-20",children:[r.jsx(W,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest ml-1",children:"  "}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:B.map(pe=>r.jsxs("button",{onClick:()=>t(pe.id),className:`p-3 rounded-[1.2rem] border-2 text-left transition-all ${s===pe.id?"border-[var(--primary)] bg-[var(--bg-main)] shadow-lg scale-[1.05]":"border-[var(--border-color)] bg-[var(--bg-card)] hover:border-[var(--primary)]/30"}`,children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest truncate",children:pe.label}),r.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:pe.accent}})]}),r.jsx("div",{className:"h-6 w-full rounded-md border border-[var(--border-color)]",style:{backgroundColor:pe.main}})]},pe.id))})]});case"ai":return r.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:r.jsxs(Ie,{className:"border-[var(--border-color)] p-8 relative overflow-hidden shadow-2xl",children:[r.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-[var(--primary)]/10 blur-[80px]"}),r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[var(--primary)] flex items-center justify-center shadow-lg",children:r.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-xl text-white"})}),r.jsx("button",{onClick:()=>i(!n),className:`w-14 h-7 rounded-full relative transition-all ${n?"bg-emerald-500":"bg-[var(--text-muted)]/20"}`,children:r.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full transition-all ${n?"right-1.5":"left-1.5"}`})})]}),r.jsx(W,{variant:"h2",className:"mb-2 text-2xl",children:" "}),r.jsx("p",{className:"text-xs text-slate-500 leading-relaxed mb-6 italic",children:"   ,     ."}),r.jsxs("div",{className:"space-y-3 bg-[var(--bg-main)] p-6 rounded-[1.8rem] border border-[var(--border-color)]",children:[r.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-[var(--text-muted)] block",children:"Gemini Cloud API Key"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx("input",{type:T?"text":"password",value:y,onChange:pe=>b(pe.target.value),placeholder:" ...",className:"w-full bg-[var(--bg-card)] border border-[var(--border-color)] rounded-xl py-3 px-4 text-[11px] font-mono outline-none focus:border-[var(--primary)] text-[var(--text-main)]"}),r.jsx("button",{onClick:()=>_(!T),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-muted)] hover:text-[var(--primary)] transition-colors",children:r.jsx("i",{className:`fa-solid ${T?"fa-eye-slash":"fa-eye"}`})})]}),r.jsx("button",{onClick:D,className:"bg-[var(--primary)] text-white px-6 rounded-xl text-[10px] font-black uppercase transition-colors hover:brightness-110",children:"OK"})]})]})]})});case"sidebar":const F=[{id:"today",icon:"fa-star",label:""},{id:"inbox",icon:"fa-inbox",label:""},{id:"next_actions",icon:"fa-bolt",label:""},{id:"projects",icon:"fa-folder-tree",label:""},{id:"calendar",icon:"fa-calendar-days",label:""},{id:"notes",icon:"fa-note-sticky",label:""}];return r.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[r.jsx(W,{variant:"tiny",className:"text-[var(--text-muted)] font-black uppercase tracking-widest ml-2 mb-2",children:"  "}),r.jsx("div",{className:"bg-[var(--bg-card)] border border-[var(--border-color)] rounded-[2rem] overflow-hidden shadow-sm divide-y divide-[var(--border-color)]",children:F.map(pe=>r.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-[var(--bg-main)] transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-9 h-9 rounded-xl bg-[var(--bg-main)] flex items-center justify-center text-[var(--text-muted)] shadow-inner",children:r.jsx("i",{className:`fa-solid ${pe.icon}`})}),r.jsx("span",{className:"text-[11px] font-black uppercase tracking-tight text-[var(--text-main)]",children:pe.label})]}),r.jsx("button",{onClick:()=>u(pe.id,o[pe.id]===!1),className:`w-11 h-6 rounded-full transition-all relative ${o[pe.id]!==!1?"bg-[var(--primary)]":"bg-[var(--text-muted)]/20"}`,children:r.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${o[pe.id]!==!1?"right-1":"left-1"}`})})]},pe.id))})]});case"data":return r.jsx("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:r.jsxs(Ie,{padding:"lg",className:"border-rose-100 bg-rose-50/20",children:[r.jsx(W,{variant:"h2",className:"text-rose-600 mb-2",children:" "}),r.jsx("p",{className:"text-[11px] text-slate-500 mb-6 leading-relaxed",children:"      .       ."}),r.jsx("button",{onClick:()=>{confirm("     ?")&&(localStorage.clear(),window.location.reload())},className:"w-full py-5 rounded-[1.8rem] bg-white text-rose-500 border-2 border-rose-100 text-[10px] font-black uppercase tracking-widest hover:bg-rose-500 hover:text-white hover:border-rose-500 transition-all shadow-sm",children:"   '"})]})});case"feedback":return r.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[r.jsx(W,{variant:"tiny",className:"text-violet-500 font-black mb-2 uppercase",children:"   "}),r.jsxs("form",{onSubmit:L,className:"space-y-4",children:[r.jsx("textarea",{value:S,onChange:pe=>w(pe.target.value),placeholder:"    ...",className:"w-full bg-[var(--bg-card)] border border-[var(--border-color)] rounded-[1.5rem] p-5 text-sm font-medium focus:ring-4 focus:ring-indigo-100 outline-none transition-all shadow-sm min-h-[160px] resize-none leading-relaxed text-[var(--text-main)]"}),r.jsx("button",{type:"submit",disabled:!S.trim()||E,className:`w-full py-5 rounded-[1.8rem] font-black uppercase tracking-widest text-[10px] transition-all shadow-lg flex items-center justify-center gap-3 ${E?"bg-emerald-500 text-white shadow-emerald-100":"bg-indigo-600 text-white shadow-indigo-100 hover:scale-[1.02] active:scale-95"}`,children:E?"!":"  "})]})]});default:return null}};return r.jsxs("div",{className:"h-screen flex flex-col lg:flex-row overflow-hidden relative bg-[var(--bg-main)]",children:[r.jsxs("div",{className:`flex-1 flex flex-col min-w-0 h-full relative transition-all duration-300 ${O&&v?"-translate-x-full absolute":"translate-x-0 relative"}`,children:[r.jsxs("header",{className:"px-6 py-8 md:px-10 md:py-10 bg-[var(--bg-card)] border-b border-[var(--border-color)] sticky top-0 z-20 shrink-0",children:[r.jsx(W,{variant:"h1",className:"text-2xl md:text-3xl font-black tracking-tight",children:""}),r.jsx(W,{variant:"tiny",className:"text-[var(--text-muted)] mt-1 uppercase tracking-[0.2em] text-[8px] md:text-[9px]",children:"  12TR"})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-8 space-y-2",children:I.map(F=>r.jsxs(Ie,{padding:"none",onClick:()=>x(F.id),className:`p-4 md:p-5 flex items-center justify-between group transition-all cursor-pointer border ${v===F.id?"bg-[var(--bg-card)] border-[var(--primary)] shadow-xl":"bg-[var(--bg-card)] border-[var(--border-color)] hover:border-[var(--primary)]/30 shadow-sm"}`,children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[r.jsx("div",{className:`w-10 md:w-12 h-10 md:h-12 rounded-2xl flex items-center justify-center shrink-0 shadow-inner bg-[var(--bg-main)] transition-all ${F.color}`,children:r.jsx("i",{className:`fa-solid ${F.icon} text-lg`})}),r.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[r.jsx(W,{variant:"h3",className:"text-[12px] md:text-[13px] font-black uppercase tracking-tight truncate group-hover:text-[var(--primary)] transition-colors",children:F.label}),r.jsx("p",{className:"text-[9px] font-bold text-[var(--text-muted)] uppercase truncate mt-0.5",children:F.desc})]})]}),r.jsx("i",{className:"fa-solid fa-chevron-right text-[10px] text-[var(--text-muted)] group-hover:text-[var(--primary)] group-hover:translate-x-1 transition-all"})]},F.id))})]}),r.jsxs("div",{className:`flex h-full border-l border-[var(--border-color)] z-[110] bg-[var(--bg-card)] shrink-0 transition-all duration-300 ${O?v?"fixed inset-0 w-full translate-x-0":"fixed inset-0 w-full translate-x-full":""}`,children:[!O&&r.jsx("div",{onMouseDown:M,className:`w-[1px] h-full cursor-col-resize hover:bg-[var(--primary)] z-[120] transition-colors ${H?"bg-[var(--primary)]":"bg-[var(--border-color)]"}`}),r.jsx("div",{style:{width:O?"100vw":R},className:"h-full bg-[var(--bg-card)] relative overflow-hidden flex flex-col shadow-2xl",children:v?r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("header",{className:"p-6 md:p-8 border-b border-[var(--border-color)] flex justify-between items-center bg-[var(--bg-card)] shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[O&&r.jsx("button",{onClick:()=>x(null),className:"w-10 h-10 rounded-2xl bg-[var(--bg-main)] flex items-center justify-center text-[var(--text-muted)]",children:r.jsx("i",{className:"fa-solid fa-chevron-left text-xs"})}),r.jsx("div",{className:"w-10 md:w-11 h-10 md:h-11 rounded-2xl flex items-center justify-center text-white shadow-lg bg-[var(--primary)]",children:r.jsx("i",{className:`fa-solid ${(Y=I.find(F=>F.id===v))==null?void 0:Y.icon}`})}),r.jsx(W,{variant:"h2",className:"text-base md:text-lg font-black uppercase tracking-tight",children:(de=I.find(F=>F.id===v))==null?void 0:de.label})]}),!O&&r.jsx("button",{onClick:()=>x(null),className:"w-10 h-10 rounded-2xl bg-[var(--bg-main)] flex items-center justify-center text-[var(--text-muted)] hover:text-[var(--text-main)] transition-all",children:r.jsx("i",{className:"fa-solid fa-xmark text-sm"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 md:p-12 bg-[var(--bg-main)]/30",children:r.jsx("div",{className:"max-w-xl mx-auto",children:te()})}),r.jsx("footer",{className:"p-6 md:p-8 border-t border-[var(--border-color)] bg-[var(--bg-card)] shrink-0 pb-safe",children:r.jsx($e,{onClick:()=>x(null),className:"w-full rounded-2xl py-4 font-black uppercase tracking-widest text-[10px] shadow-sm",children:""})})]}):!O&&r.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-12 text-center opacity-5 grayscale pointer-events-none select-none",children:[r.jsx("i",{className:"fa-solid fa-gear text-9xl mb-8"}),r.jsx(W,{variant:"h2",className:"text-2xl font-black uppercase tracking-widest",children:" "})]})})]})]})},B_=({item:s,onClose:t})=>{const{shoppingItems:n,shoppingStores:i,updateShoppingItem:o,deleteShoppingItem:u}=Ye(),[p,g]=k.useState(s),[v,x]=k.useState(""),[y,b]=k.useState(""),T=E=>{const U={...p,...E};g(U),o(U)},_=E=>{E.preventDefault();const U=parseFloat(v);if(isNaN(U)||!y.trim())return;const R={id:Math.random().toString(36).substr(2,9),price:U,storeName:y.trim(),date:Date.now()},M=p.priceHistory||[];T({priceHistory:[R,...M]}),x(""),b("")},S=E=>{const U=(p.priceHistory||[]).filter(R=>R.id!==E);T({priceHistory:U})},w=k.useMemo(()=>{const U=n.filter(R=>R.name.toLowerCase()===s.name.toLowerCase()).flatMap(R=>R.priceHistory||[]).map(R=>R.price);return U.length>0?Math.min(...U):null},[n,s.name]);return r.jsxs("div",{className:"h-full flex flex-col bg-card animate-in slide-in-from-right duration-300 text-main",children:[r.jsxs("header",{className:"p-4 md:p-6 border-b border-theme flex justify-between items-center bg-card sticky top-0 z-10",children:[r.jsx(W,{variant:"h2",className:"text-lg md:text-xl",children:" "}),r.jsx("button",{onClick:t,className:"w-9 h-9 rounded-xl bg-main flex items-center justify-center text-muted hover:text-primary transition-colors",children:r.jsx("i",{className:"fa-solid fa-xmark text-lg"})})]}),r.jsxs("div",{className:"flex-1 p-5 md:p-8 space-y-6 overflow-y-auto custom-scrollbar",children:[r.jsxs("section",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(W,{variant:"tiny",className:"text-muted font-black uppercase ml-1 opacity-60",children:""}),r.jsx("input",{value:p.name,onChange:E=>T({name:E.target.value}),className:"w-full bg-main border border-theme rounded-2xl py-3 px-5 text-lg font-black focus:ring-4 focus:ring-primary/10 outline-none transition-all text-main"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(W,{variant:"tiny",className:"text-muted font-black uppercase ml-1 opacity-60",children:" / "}),r.jsx("textarea",{value:p.note||"",onChange:E=>T({note:E.target.value}),className:"w-full bg-main border border-theme rounded-2xl p-4 text-sm font-medium focus:ring-4 focus:ring-primary/10 outline-none min-h-[80px] resize-none leading-relaxed text-main",placeholder:" ?  ..."})]})]}),w!==null&&r.jsxs("section",{className:"bg-primary/5 p-5 md:p-6 rounded-[2rem] border border-primary/20",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("i",{className:"fa-solid fa-trophy text-primary text-xs"}),r.jsx(W,{variant:"tiny",className:"text-primary font-black uppercase tracking-widest text-[9px]",children:" "})]}),r.jsxs("p",{className:"text-sm font-bold text-main leading-tight",children:['   "',s.name,'": ',r.jsx("br",{}),r.jsxs("span",{className:"text-xl md:text-2xl font-black text-primary underline decoration-primary/20 underline-offset-4",children:[w," "]})]})]}),r.jsxs("section",{className:"space-y-3",children:[r.jsxs(W,{variant:"tiny",className:"text-main font-black uppercase flex items-center gap-2 text-[9px]",children:[r.jsx("i",{className:"fa-solid fa-pen-nib text-primary"}),"  "]}),r.jsxs("form",{onSubmit:_,className:"grid grid-cols-2 gap-2 bg-main/50 p-3 rounded-2xl border border-theme",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("span",{className:"text-[7px] font-black uppercase text-muted ml-1",children:""}),r.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",value:v,onChange:E=>x(E.target.value),placeholder:"0.00 ",className:"w-full bg-card border border-theme rounded-xl py-3 px-3 text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-main"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("span",{className:"text-[7px] font-black uppercase text-muted ml-1",children:""}),r.jsx("input",{list:"stores-list",value:y,onChange:E=>b(E.target.value),placeholder:"...",className:"w-full bg-card border border-theme rounded-xl py-3 px-3 text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-main"})]}),r.jsx("datalist",{id:"stores-list",children:i.map(E=>r.jsx("option",{value:E.name},E.id))}),r.jsx("button",{type:"submit",className:"col-span-2 mt-1 py-3 bg-primary text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:brightness-110 transition-all active:scale-95 shadow-md",children:"  "})]})]}),r.jsxs("section",{className:"space-y-4",children:[r.jsx(W,{variant:"tiny",className:"text-muted font-black uppercase ml-1 opacity-60",children:" "}),r.jsxs("div",{className:"space-y-2",children:[(p.priceHistory||[]).map(E=>r.jsxs("div",{className:"flex items-center justify-between p-3.5 bg-card rounded-2xl border border-theme group/log shadow-sm",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm font-black text-main",children:[E.price," "]}),r.jsx(ft,{variant:"slate",className:"text-[8px] py-0 px-1.5 opacity-60",children:E.storeName})]}),r.jsx("div",{className:"text-[8px] font-black text-muted uppercase mt-1 tracking-wider opacity-50",children:new Date(E.date).toLocaleDateString("uk-UA",{day:"numeric",month:"short"})})]}),r.jsx("button",{onClick:()=>S(E.id),className:"w-8 h-8 rounded-lg text-muted hover:text-rose-500 hover:bg-rose-500/10 transition-all flex items-center justify-center",children:r.jsx("i",{className:"fa-solid fa-trash-can text-xs"})})]},E.id)),(!p.priceHistory||p.priceHistory.length===0)&&r.jsx("div",{className:"text-center py-8 bg-main/50 rounded-2xl border border-dashed border-theme",children:r.jsx("p",{className:"text-[10px] font-bold text-muted uppercase tracking-widest",children:" "})})]})]})]}),r.jsxs("footer",{className:"p-4 md:p-6 border-t border-theme bg-main/30 flex gap-3 shrink-0 mb-safe",children:[r.jsx("button",{onClick:()=>{confirm("  ?")&&(u(s.id),t())},className:"w-12 h-12 rounded-2xl bg-rose-500/10 text-rose-500 flex items-center justify-center hover:bg-rose-500 hover:text-white transition-all shadow-sm",children:r.jsx("i",{className:"fa-solid fa-trash-can"})}),r.jsx($e,{onClick:t,variant:"white",className:"flex-1 rounded-2xl py-3 font-black tracking-widest text-[10px]",children:""})]})]})},G_=()=>{var q;const{shoppingStores:s,shoppingItems:t,addStore:n,updateStore:i,deleteStore:o,addShoppingItem:u,toggleShoppingItem:p,deleteShoppingItem:g,detailsWidth:v,theme:x}=Ye(),{startResizing:y,isResizing:b}=Gn(400,700),[T,_]=k.useState("all"),[S,w]=k.useState(null),[E,U]=k.useState(!1),[R,M]=k.useState(""),[H,O]=k.useState(""),[Q,D]=k.useState(window.innerWidth<768),[L,I]=k.useState(!1);k.useEffect(()=>{const V=()=>D(window.innerWidth<768);return window.addEventListener("resize",V),()=>window.removeEventListener("resize",V)},[]);const B=k.useMemo(()=>T==="all"?t:t.filter(V=>V.storeId===T),[t,T]),te=k.useMemo(()=>[...B].sort((V,ne)=>V.isBought===ne.isBought?0:V.isBought?1:-1),[B]),Y=V=>{const K=t.filter(me=>me.name.toLowerCase()===V.toLowerCase()).flatMap(me=>me.priceHistory||[]).map(me=>me.price);return K.length>0?Math.min(...K):null},de=V=>{V.preventDefault(),R.trim()&&(n(R.trim()),M(""),U(!1))},F=V=>{V.preventDefault(),H.trim()&&T!=="all"&&(u(H.trim(),T),O(""))},pe=V=>{_(V),Q&&I(!0)};return r.jsxs("div",{className:"h-screen flex bg-main overflow-hidden relative text-main transition-none",children:[r.jsxs("aside",{className:`w-full md:w-64 border-r border-theme bg-sidebar flex flex-col shrink-0 transition-all duration-300 ${Q&&L?"-translate-x-full absolute":"translate-x-0 relative"}`,children:[r.jsxs("header",{className:"p-6 md:p-8 border-b border-theme flex justify-between items-center bg-card sticky top-0 z-10 shrink-0",children:[r.jsxs("div",{children:[r.jsx(W,{variant:"h2",className:"text-lg md:text-xl",children:""}),r.jsx(W,{variant:"tiny",className:"text-muted tracking-tighter opacity-60",children:"Price Strategy"})]}),r.jsx("button",{onClick:()=>U(!0),className:"w-10 h-10 rounded-2xl bg-primary/10 text-primary flex items-center justify-center hover:bg-primary hover:text-white transition-all shadow-sm",children:r.jsx("i",{className:"fa-solid fa-plus text-xs"})})]}),r.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto custom-scrollbar",children:[r.jsxs("button",{onClick:()=>pe("all"),className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl transition-all ${T==="all"?"bg-primary text-white shadow-lg font-black":"text-muted hover:bg-main/50"}`,children:[r.jsx("i",{className:"fa-solid fa-layer-group text-xs w-4 text-center"}),r.jsx("span",{className:"text-[11px] uppercase tracking-widest",children:" "}),r.jsx("span",{className:`ml-auto text-[8px] font-black ${T==="all"?"text-white/60":"opacity-40"}`,children:t.length})]}),r.jsx("div",{className:"my-4 border-t border-theme opacity-30"}),E&&r.jsx("form",{onSubmit:de,className:"px-2 mb-2 animate-in slide-in-from-top-2",children:r.jsx("input",{autoFocus:!0,value:R,onChange:V=>M(V.target.value),onBlur:()=>!R&&U(!1),placeholder:" ...",className:"w-full bg-main border border-primary/30 rounded-xl py-3 px-4 text-[10px] font-black uppercase outline-none text-main"})}),s.map(V=>r.jsxs("div",{className:"group relative",children:[r.jsxs("button",{onClick:()=>pe(V.id),className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl transition-all ${T===V.id?"bg-primary text-white shadow-lg font-black":"text-muted hover:bg-main/50"}`,children:[r.jsx("i",{className:`fa-solid ${V.icon} text-xs w-4 text-center`,style:T===V.id?{color:"white"}:{color:V.color}}),r.jsx("span",{className:"text-[11px] uppercase tracking-widest truncate pr-6",children:V.name}),r.jsx("span",{className:`ml-auto text-[8px] font-black ${T===V.id?"text-white/60":"opacity-40"}`,children:t.filter(ne=>ne.storeId===V.id).length})]}),r.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx("button",{onClick:()=>{confirm(" ?")&&o(V.id)},className:`text-[10px] p-2 hover:text-rose-500 transition-colors ${T===V.id?"text-white/40 hover:text-white":"text-muted"}`,children:r.jsx("i",{className:"fa-solid fa-trash"})})})]},V.id))]})]}),r.jsxs("main",{className:`flex-1 flex flex-col bg-main relative min-w-0 transition-all duration-300 ${Q&&!L?"translate-x-full":"translate-x-0"}`,children:[r.jsxs("header",{className:"px-6 md:px-10 py-5 md:py-8 border-b border-theme flex flex-col md:flex-row justify-between items-start md:items-center bg-card sticky top-0 z-10 gap-4 shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-3 w-full",children:[Q&&r.jsx("button",{onClick:()=>I(!1),className:"w-9 h-9 rounded-xl bg-main flex items-center justify-center text-muted mr-1",children:r.jsx("i",{className:"fa-solid fa-chevron-left"})}),r.jsxs(W,{variant:"h2",className:"text-xl md:text-2xl font-black uppercase tracking-tight text-main flex items-center gap-3 truncate",children:[r.jsx("i",{className:`fa-solid ${T==="all"?"fa-layer-group":"fa-shop"} opacity-20 text-base md:text-lg`}),T==="all"?" ":((q=s.find(V=>V.id===T))==null?void 0:q.name)||""]})]}),T!=="all"&&r.jsxs("form",{onSubmit:F,className:"flex gap-2 w-full md:w-auto",children:[r.jsx("input",{value:H,onChange:V=>O(V.target.value),placeholder:" ?",className:"flex-1 bg-main border border-theme rounded-xl px-4 py-3 md:py-2 text-[12px] font-bold outline-none md:w-64 focus:ring-2 focus:ring-primary/20 transition-all text-main"}),r.jsx($e,{type:"submit",size:"sm",className:"rounded-xl font-black shadow-lg shrink-0 px-5",children:""})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 md:p-10",children:r.jsx("div",{className:"flex flex-col gap-2 max-w-xl mx-auto md:mx-0 pb-32",children:te.length>0?te.map(V=>{const ne=s.find(j=>j.id===V.storeId),K=Y(V.name),me=V.priceHistory&&V.priceHistory.length>0?V.priceHistory[0]:null;return r.jsxs(Ie,{padding:"none",onClick:()=>w(V.id),className:`p-4 flex items-center justify-between group transition-all cursor-pointer border ${V.isBought?"opacity-40 grayscale bg-main/50":"bg-card border-theme hover:border-primary/30 shadow-sm hover:shadow-md"}`,children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[r.jsx("button",{onClick:j=>{j.stopPropagation(),p(V.id)},className:`w-7 h-7 rounded-lg border-2 flex items-center justify-center transition-all shrink-0 ${V.isBought?"bg-emerald-500 border-emerald-500 text-white shadow-inner":"border-theme bg-main hover:border-primary/50"}`,children:V.isBought&&r.jsx("i",{className:"fa-solid fa-check text-xs"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-wrap",children:[r.jsx("span",{className:`text-[13px] md:text-sm font-bold truncate max-w-[150px] md:max-w-none ${V.isBought?"line-through text-muted":"text-main"}`,children:V.name}),me&&r.jsxs(ft,{variant:"orange",className:"text-[8px] font-black",children:[me.price," "]})]}),r.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mt-1.5 flex-wrap",children:[T==="all"&&ne&&r.jsx(ft,{variant:"slate",className:"text-[7px] py-0 px-1 uppercase opacity-60 tracking-tighter",children:ne.name}),K&&!V.isBought&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-emerald-500 animate-pulse"}),r.jsxs("span",{className:"text-[8px] font-black text-emerald-600 uppercase tracking-widest",children:["Best: ",K," "]})]}),me&&r.jsxs("span",{className:"text-[7px] font-bold text-muted uppercase truncate opacity-50",children:[" : ",me.storeName]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3 shrink-0 ml-2",children:[V.note&&r.jsx("i",{className:"fa-solid fa-comment-dots text-primary/30 text-[10px] animate-bounce"}),r.jsx("i",{className:"fa-solid fa-chevron-right text-[10px] text-muted group-hover:text-primary group-hover:translate-x-0.5 transition-all"})]})]},V.id)}):r.jsxs("div",{className:"py-20 text-center opacity-10 flex flex-col items-center select-none pointer-events-none grayscale",children:[r.jsx("i",{className:"fa-solid fa-basket-shopping text-7xl mb-6"}),r.jsx(W,{variant:"h2",className:"text-xl",children:" "}),r.jsx(W,{variant:"body",className:"mt-2 text-xs",children:"    "})]})})})]}),S&&r.jsxs("div",{className:"fixed md:relative inset-0 md:inset-auto flex h-full border-l border-theme z-[100] md:z-40 bg-card shrink-0 transition-all duration-300",children:[!Q&&r.jsx("div",{onMouseDown:y,className:`w-[1px] h-full cursor-col-resize hover:bg-primary z-[110] transition-colors ${b?"bg-primary":"bg-theme"}`}),r.jsx("div",{style:{width:Q?"100vw":v},className:"h-full bg-card relative overflow-hidden flex flex-col shadow-2xl",children:r.jsx(B_,{item:t.find(V=>V.id===S),onClose:()=>w(null)})})]})]})},q_=()=>{var S;const{activeTab:s,setActiveTab:t,tasks:n,character:i,projects:o,aiEnabled:u,theme:p}=Ye(),[g,v]=zi.useState(!1),[x,y]=k.useState(!1),b=new Date().setHours(0,0,0,0);k.useEffect(()=>{document.documentElement.setAttribute("data-theme",p)},[p]);const T=zi.useMemo(()=>({today:n.filter(w=>!w.isDeleted&&w.status!==ge.DONE&&w.scheduledDate&&new Date(w.scheduledDate).setHours(0,0,0,0)===b).length,inbox:n.filter(w=>!w.isDeleted&&w.status===ge.INBOX&&w.category!=="note"&&!w.projectId&&!w.scheduledDate).length,next_actions:n.filter(w=>!w.isDeleted&&w.status===ge.NEXT_ACTION).length,notes:n.filter(w=>!w.isDeleted&&w.category==="note"&&w.status!==ge.DONE).length,calendar:n.filter(w=>!w.isDeleted&&w.status!==ge.DONE&&!!w.scheduledDate).length,trash:n.filter(w=>w.isDeleted).length}),[n,b]),_=()=>{switch(s){case"dashboard":case"today":return r.jsx(Mp,{});case"map":return r.jsx(Ty,{});case"inbox":return r.jsx(Qc,{});case"next_actions":return r.jsx(Qc,{showNextActions:!0});case"diary":return r.jsx(__,{});case"notes":return r.jsx(C_,{});case"habits":return r.jsx(w_,{});case"people":return r.jsx(O_,{});case"hobbies":return r.jsx(x_,{});case"shopping":return r.jsx(G_,{});case"completed":return r.jsx(Qc,{showCompleted:!0});case"calendar":return r.jsx(p_,{});case"projects":return r.jsx(T_,{});case"hashtags":return r.jsx(h_,{tasks:n.filter(w=>!w.isDeleted)});case"trash":return r.jsx(k_,{});case"character":return r.jsx(V_,{});case"settings":return r.jsx(H_,{});case"focus":return r.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-12 text-center bg-[var(--bg-main)]",children:[r.jsx("div",{className:"w-24 h-24 bg-[var(--primary)]/10 text-[var(--primary)] rounded-full flex items-center justify-center text-4xl mb-6",children:r.jsx("i",{className:"fa-solid fa-bullseye"})}),r.jsx("h2",{className:"text-3xl font-black mb-4",children:" "}),r.jsx("button",{onClick:()=>v(!0),className:"px-10 py-4 bg-[var(--primary)] text-white rounded-2xl font-black shadow-xl",children:"  "})]});default:return r.jsx(Mp,{})}};return r.jsxs("div",{className:"flex min-h-screen bg-[var(--bg-main)] text-[var(--text-main)] transition-colors duration-500 overflow-hidden",children:[r.jsx(by,{activeTab:s,setActiveTab:t,counts:T}),r.jsxs("main",{className:"flex-1 overflow-y-auto relative",children:[_(),g&&r.jsx(g_,{taskTitle:((S=n.find(w=>!w.isDeleted))==null?void 0:S.title)||"  ",onExit:()=>v(!1)}),u&&!x&&r.jsx("button",{onClick:()=>y(!0),className:"fixed bottom-8 right-8 w-14 h-14 rounded-2xl bg-[var(--primary)] text-white shadow-2xl flex items-center justify-center z-40",children:r.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-xl"})})]}),r.jsxs("div",{className:`fixed top-0 right-0 h-screen bg-[var(--bg-card)]/90 border-l border-[var(--border-color)] flex flex-col backdrop-blur-xl transition-all duration-300 z-[100] ${x?"w-80 translate-x-0":"w-0 translate-x-full invisible"}`,children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-[var(--border-color)]",children:[r.jsxs("h3",{className:"font-black text-lg flex items-center gap-3",children:[r.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-[var(--primary)]"})," "]}),r.jsx("button",{onClick:()=>y(!1),className:"text-[var(--text-muted)]",children:r.jsx("i",{className:"fa-solid fa-chevron-right text-xs"})})]}),r.jsx("div",{className:"flex-1 p-6 space-y-4 overflow-y-auto",children:r.jsx("div",{className:"bg-[var(--primary)]/5 p-4 rounded-2xl border border-[var(--primary)]/10 text-sm font-medium leading-relaxed",children:"!    .   ?"})})]})]})},P_=()=>r.jsx(yy,{children:r.jsx(q_,{})}),Hx=document.getElementById("root");if(!Hx)throw new Error("Could not find root element to mount to");const $_=hy.createRoot(Hx);$_.render(r.jsx(zi.StrictMode,{children:r.jsx(P_,{})}));
