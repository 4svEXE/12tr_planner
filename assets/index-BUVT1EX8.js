(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function rv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var $c={exports:{}},Oi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function ov(){if(wp)return Oi;wp=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,o,u){var p=null;if(u!==void 0&&(p=""+u),o.key!==void 0&&(p=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:s,type:i,key:p,ref:o!==void 0?o:null,props:u}}return Oi.Fragment=t,Oi.jsx=n,Oi.jsxs=n,Oi}var Tp;function cv(){return Tp||(Tp=1,$c.exports=ov()),$c.exports}var l=cv(),Fc={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function uv(){if(Cp)return Ie;Cp=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function S(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,D={};function R(E,K,oe){this.props=E,this.context=K,this.refs=D,this.updater=oe||_}R.prototype.isReactComponent={},R.prototype.setState=function(E,K){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,K,"setState")},R.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function U(){}U.prototype=R.prototype;function I(E,K,oe){this.props=E,this.context=K,this.refs=D,this.updater=oe||_}var Y=I.prototype=new U;Y.constructor=I,T(Y,R.prototype),Y.isPureReactComponent=!0;var G=Array.isArray;function W(){}var k={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function A(E,K,oe){var te=oe.ref;return{$$typeof:s,type:E,key:K,ref:te!==void 0?te:null,props:oe}}function z(E,K){return A(E.type,K,E.props)}function V(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function B(E){var K={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(oe){return K[oe]})}var $=/\/+/g;function ae(E,K){return typeof E=="object"&&E!==null&&E.key!=null?B(""+E.key):K.toString(36)}function fe(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(W,W):(E.status="pending",E.then(function(K){E.status==="pending"&&(E.status="fulfilled",E.value=K)},function(K){E.status==="pending"&&(E.status="rejected",E.reason=K)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function O(E,K,oe,te,ye){var ie=typeof E;(ie==="undefined"||ie==="boolean")&&(E=null);var ge=!1;if(E===null)ge=!0;else switch(ie){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(E.$$typeof){case s:case t:ge=!0;break;case y:return ge=E._init,O(ge(E._payload),K,oe,te,ye)}}if(ge)return ye=ye(E),ge=te===""?"."+ae(E,0):te,G(ye)?(oe="",ge!=null&&(oe=ge.replace($,"$&/")+"/"),O(ye,K,oe,"",function(_e){return _e})):ye!=null&&(V(ye)&&(ye=z(ye,oe+(ye.key==null||E&&E.key===ye.key?"":(""+ye.key).replace($,"$&/")+"/")+ge)),K.push(ye)),1;ge=0;var Ee=te===""?".":te+":";if(G(E))for(var ke=0;ke<E.length;ke++)te=E[ke],ie=Ee+ae(te,ke),ge+=O(te,K,oe,ie,ye);else if(ke=S(E),typeof ke=="function")for(E=ke.call(E),ke=0;!(te=E.next()).done;)te=te.value,ie=Ee+ae(te,ke++),ge+=O(te,K,oe,ie,ye);else if(ie==="object"){if(typeof E.then=="function")return O(fe(E),K,oe,te,ye);throw K=String(E),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ge}function q(E,K,oe){if(E==null)return E;var te=[],ye=0;return O(E,te,"","",function(ie){return K.call(oe,ie,ye++)}),te}function he(E){if(E._status===-1){var K=E._result;K=K(),K.then(function(oe){(E._status===0||E._status===-1)&&(E._status=1,E._result=oe)},function(oe){(E._status===0||E._status===-1)&&(E._status=2,E._result=oe)}),E._status===-1&&(E._status=0,E._result=K)}if(E._status===1)return E._result.default;throw E._result}var P=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},Z={map:q,forEach:function(E,K,oe){q(E,function(){K.apply(this,arguments)},oe)},count:function(E){var K=0;return q(E,function(){K++}),K},toArray:function(E){return q(E,function(K){return K})||[]},only:function(E){if(!V(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Ie.Activity=b,Ie.Children=Z,Ie.Component=R,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=I,Ie.StrictMode=i,Ie.Suspense=v,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(E){return k.H.useMemoCache(E)}},Ie.cache=function(E){return function(){return E.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(E,K,oe){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var te=T({},E.props),ye=E.key;if(K!=null)for(ie in K.key!==void 0&&(ye=""+K.key),K)!M.call(K,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&K.ref===void 0||(te[ie]=K[ie]);var ie=arguments.length-2;if(ie===1)te.children=oe;else if(1<ie){for(var ge=Array(ie),Ee=0;Ee<ie;Ee++)ge[Ee]=arguments[Ee+2];te.children=ge}return A(E.type,ye,te)},Ie.createContext=function(E){return E={$$typeof:p,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:u,_context:E},E},Ie.createElement=function(E,K,oe){var te,ye={},ie=null;if(K!=null)for(te in K.key!==void 0&&(ie=""+K.key),K)M.call(K,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ye[te]=K[te]);var ge=arguments.length-2;if(ge===1)ye.children=oe;else if(1<ge){for(var Ee=Array(ge),ke=0;ke<ge;ke++)Ee[ke]=arguments[ke+2];ye.children=Ee}if(E&&E.defaultProps)for(te in ge=E.defaultProps,ge)ye[te]===void 0&&(ye[te]=ge[te]);return A(E,ie,ye)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(E){return{$$typeof:g,render:E}},Ie.isValidElement=V,Ie.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:he}},Ie.memo=function(E,K){return{$$typeof:x,type:E,compare:K===void 0?null:K}},Ie.startTransition=function(E){var K=k.T,oe={};k.T=oe;try{var te=E(),ye=k.S;ye!==null&&ye(oe,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(W,P)}catch(ie){P(ie)}finally{K!==null&&oe.types!==null&&(K.types=oe.types),k.T=K}},Ie.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ie.use=function(E){return k.H.use(E)},Ie.useActionState=function(E,K,oe){return k.H.useActionState(E,K,oe)},Ie.useCallback=function(E,K){return k.H.useCallback(E,K)},Ie.useContext=function(E){return k.H.useContext(E)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(E,K){return k.H.useDeferredValue(E,K)},Ie.useEffect=function(E,K){return k.H.useEffect(E,K)},Ie.useEffectEvent=function(E){return k.H.useEffectEvent(E)},Ie.useId=function(){return k.H.useId()},Ie.useImperativeHandle=function(E,K,oe){return k.H.useImperativeHandle(E,K,oe)},Ie.useInsertionEffect=function(E,K){return k.H.useInsertionEffect(E,K)},Ie.useLayoutEffect=function(E,K){return k.H.useLayoutEffect(E,K)},Ie.useMemo=function(E,K){return k.H.useMemo(E,K)},Ie.useOptimistic=function(E,K){return k.H.useOptimistic(E,K)},Ie.useReducer=function(E,K,oe){return k.H.useReducer(E,K,oe)},Ie.useRef=function(E){return k.H.useRef(E)},Ie.useState=function(E){return k.H.useState(E)},Ie.useSyncExternalStore=function(E,K,oe){return k.H.useSyncExternalStore(E,K,oe)},Ie.useTransition=function(){return k.H.useTransition()},Ie.version="19.2.3",Ie}var Sp;function gu(){return Sp||(Sp=1,Fc.exports=uv()),Fc.exports}var j=gu();const zs=rv(j);var Yc={exports:{}},Vi={},Zc={exports:{}},Kc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function dv(){return _p||(_p=1,(function(s){function t(O,q){var he=O.length;O.push(q);e:for(;0<he;){var P=he-1>>>1,Z=O[P];if(0<o(Z,q))O[P]=q,O[he]=Z,he=P;else break e}}function n(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var q=O[0],he=O.pop();if(he!==q){O[0]=he;e:for(var P=0,Z=O.length,E=Z>>>1;P<E;){var K=2*(P+1)-1,oe=O[K],te=K+1,ye=O[te];if(0>o(oe,he))te<Z&&0>o(ye,oe)?(O[P]=ye,O[te]=he,P=te):(O[P]=oe,O[K]=he,P=K);else if(te<Z&&0>o(ye,he))O[P]=ye,O[te]=he,P=te;else break e}}return q}function o(O,q){var he=O.sortIndex-q.sortIndex;return he!==0?he:O.id-q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var p=Date,g=p.now();s.unstable_now=function(){return p.now()-g}}var v=[],x=[],y=1,b=null,w=3,S=!1,_=!1,T=!1,D=!1,R=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function Y(O){for(var q=n(x);q!==null;){if(q.callback===null)i(x);else if(q.startTime<=O)i(x),q.sortIndex=q.expirationTime,t(v,q);else break;q=n(x)}}function G(O){if(T=!1,Y(O),!_)if(n(v)!==null)_=!0,W||(W=!0,B());else{var q=n(x);q!==null&&fe(G,q.startTime-O)}}var W=!1,k=-1,M=5,A=-1;function z(){return D?!0:!(s.unstable_now()-A<M)}function V(){if(D=!1,W){var O=s.unstable_now();A=O;var q=!0;try{e:{_=!1,T&&(T=!1,U(k),k=-1),S=!0;var he=w;try{t:{for(Y(O),b=n(v);b!==null&&!(b.expirationTime>O&&z());){var P=b.callback;if(typeof P=="function"){b.callback=null,w=b.priorityLevel;var Z=P(b.expirationTime<=O);if(O=s.unstable_now(),typeof Z=="function"){b.callback=Z,Y(O),q=!0;break t}b===n(v)&&i(v),Y(O)}else i(v);b=n(v)}if(b!==null)q=!0;else{var E=n(x);E!==null&&fe(G,E.startTime-O),q=!1}}break e}finally{b=null,w=he,S=!1}q=void 0}}finally{q?B():W=!1}}}var B;if(typeof I=="function")B=function(){I(V)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ae=$.port2;$.port1.onmessage=V,B=function(){ae.postMessage(null)}}else B=function(){R(V,0)};function fe(O,q){k=R(function(){O(s.unstable_now())},q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(O){switch(w){case 1:case 2:case 3:var q=3;break;default:q=w}var he=w;w=q;try{return O()}finally{w=he}},s.unstable_requestPaint=function(){D=!0},s.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var he=w;w=O;try{return q()}finally{w=he}},s.unstable_scheduleCallback=function(O,q,he){var P=s.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?P+he:P):he=P,O){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=he+Z,O={id:y++,callback:q,priorityLevel:O,startTime:he,expirationTime:Z,sortIndex:-1},he>P?(O.sortIndex=he,t(x,O),n(v)===null&&O===n(x)&&(T?(U(k),k=-1):T=!0,fe(G,he-P))):(O.sortIndex=Z,t(v,O),_||S||(_=!0,W||(W=!0,B()))),O},s.unstable_shouldYield=z,s.unstable_wrapCallback=function(O){var q=w;return function(){var he=w;w=q;try{return O.apply(this,arguments)}finally{w=he}}}})(Kc)),Kc}var kp;function fv(){return kp||(kp=1,Zc.exports=dv()),Zc.exports}var Jc={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function mv(){if(jp)return At;jp=1;var s=gu();function t(v){var x="https://react.dev/errors/"+v;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)x+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+v+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,x,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:v,containerInfo:x,implementation:y}}var p=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,x){if(v==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,At.createPortal=function(v,x){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(t(299));return u(v,x,null,y)},At.flushSync=function(v){var x=p.T,y=i.p;try{if(p.T=null,i.p=2,v)return v()}finally{p.T=x,i.p=y,i.d.f()}},At.preconnect=function(v,x){typeof v=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(v,x))},At.prefetchDNS=function(v){typeof v=="string"&&i.d.D(v)},At.preinit=function(v,x){if(typeof v=="string"&&x&&typeof x.as=="string"){var y=x.as,b=g(y,x.crossOrigin),w=typeof x.integrity=="string"?x.integrity:void 0,S=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;y==="style"?i.d.S(v,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:S}):y==="script"&&i.d.X(v,{crossOrigin:b,integrity:w,fetchPriority:S,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},At.preinitModule=function(v,x){if(typeof v=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var y=g(x.as,x.crossOrigin);i.d.M(v,{crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(v)},At.preload=function(v,x){if(typeof v=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var y=x.as,b=g(y,x.crossOrigin);i.d.L(v,y,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},At.preloadModule=function(v,x){if(typeof v=="string")if(x){var y=g(x.as,x.crossOrigin);i.d.m(v,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(v)},At.requestFormReset=function(v){i.d.r(v)},At.unstable_batchedUpdates=function(v,x){return v(x)},At.useFormState=function(v,x,y){return p.H.useFormState(v,x,y)},At.useFormStatus=function(){return p.H.useHostTransitionStatus()},At.version="19.2.3",At}var Ep;function pv(){if(Ep)return Jc.exports;Ep=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Jc.exports=mv(),Jc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function hv(){if(Ap)return Vi;Ap=1;var s=fv(),t=gu(),n=pv();function i(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)a+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,r=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(r=a.return),e=a.return;while(e)}return a.tag===3?r:null}function p(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function g(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function v(e){if(u(e)!==e)throw Error(i(188))}function x(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(i(188));return a!==e?null:e}for(var r=e,c=a;;){var m=r.return;if(m===null)break;var h=m.alternate;if(h===null){if(c=m.return,c!==null){r=c;continue}break}if(m.child===h.child){for(h=m.child;h;){if(h===r)return v(m),e;if(h===c)return v(m),a;h=h.sibling}throw Error(i(188))}if(r.return!==c.return)r=m,c=h;else{for(var N=!1,C=m.child;C;){if(C===r){N=!0,r=m,c=h;break}if(C===c){N=!0,c=m,r=h;break}C=C.sibling}if(!N){for(C=h.child;C;){if(C===r){N=!0,r=h,c=m;break}if(C===c){N=!0,c=h,r=m;break}C=C.sibling}if(!N)throw Error(i(189))}}if(r.alternate!==c)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:a}function y(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=y(e),a!==null)return a;e=e.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),I=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var $=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===$?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case R:return"Profiler";case D:return"StrictMode";case G:return"Suspense";case W:return"SuspenseList";case A:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case I:return e.displayName||"Context";case U:return(e._context.displayName||"Context")+".Consumer";case Y:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return a=e.displayName||null,a!==null?a:ae(e.type)||"Memo";case M:a=e._payload,e=e._init;try{return ae(e(a))}catch{}}return null}var fe=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},P=[],Z=-1;function E(e){return{current:e}}function K(e){0>Z||(e.current=P[Z],P[Z]=null,Z--)}function oe(e,a){Z++,P[Z]=e.current,e.current=a}var te=E(null),ye=E(null),ie=E(null),ge=E(null);function Ee(e,a){switch(oe(ie,a),oe(ye,e),oe(te,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?$m(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=$m(a),e=Fm(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(te),oe(te,e)}function ke(){K(te),K(ye),K(ie)}function _e(e){e.memoizedState!==null&&oe(ge,e);var a=te.current,r=Fm(a,e.type);a!==r&&(oe(ye,e),oe(te,r))}function jt(e){ye.current===e&&(K(te),K(ye)),ge.current===e&&(K(ge),Ii._currentValue=he)}var Et,Ha;function fn(e){if(Et===void 0)try{throw Error()}catch(r){var a=r.stack.trim().match(/\n( *(at )?)/);Et=a&&a[1]||"",Ha=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Et+e+Ha}var Ba=!1;function Ga(e,a){if(!e||Ba)return"";Ba=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ne){var Q=ne}Reflect.construct(e,[],de)}else{try{de.call()}catch(ne){Q=ne}e.call(de.prototype)}}else{try{throw Error()}catch(ne){Q=ne}(de=e())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ne){if(ne&&Q&&typeof ne.stack=="string")return[ne.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),N=h[0],C=h[1];if(N&&C){var L=N.split(`
`),X=C.split(`
`);for(m=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;if(c===L.length||m===X.length)for(c=L.length-1,m=X.length-1;1<=c&&0<=m&&L[c]!==X[m];)m--;for(;1<=c&&0<=m;c--,m--)if(L[c]!==X[m]){if(c!==1||m!==1)do if(c--,m--,0>m||L[c]!==X[m]){var re=`
`+L[c].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=c&&0<=m);break}}}finally{Ba=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?fn(r):""}function Zi(e,a){switch(e.tag){case 26:case 27:case 5:return fn(e.type);case 16:return fn("Lazy");case 13:return e.child!==a&&a!==null?fn("Suspense Fallback"):fn("Suspense");case 19:return fn("SuspenseList");case 0:case 15:return Ga(e.type,!1);case 11:return Ga(e.type.render,!1);case 1:return Ga(e.type,!0);case 31:return fn("Activity");default:return""}}function Ki(e){try{var a="",r=null;do a+=Zi(e,r),r=e,e=e.return;while(e);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var le=Object.prototype.hasOwnProperty,se=s.unstable_scheduleCallback,ce=s.unstable_cancelCallback,pe=s.unstable_shouldYield,pt=s.unstable_requestPaint,Ke=s.unstable_now,qa=s.unstable_getCurrentPriorityLevel,ga=s.unstable_ImmediatePriority,mn=s.unstable_UserBlockingPriority,Pa=s.unstable_NormalPriority,Dr=s.unstable_LowPriority,Cu=s.unstable_IdlePriority,qx=s.log,Px=s.unstable_setDisableYieldValue,Fs=null,Bt=null;function Bn(e){if(typeof qx=="function"&&Px(e),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Fs,e)}catch{}}var Gt=Math.clz32?Math.clz32:Yx,$x=Math.log,Fx=Math.LN2;function Yx(e){return e>>>=0,e===0?32:31-($x(e)/Fx|0)|0}var Ji=256,Xi=262144,Qi=4194304;function va(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wi(e,a,r){var c=e.pendingLanes;if(c===0)return 0;var m=0,h=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var C=c&134217727;return C!==0?(c=C&~h,c!==0?m=va(c):(N&=C,N!==0?m=va(N):r||(r=C&~e,r!==0&&(m=va(r))))):(C=c&~h,C!==0?m=va(C):N!==0?m=va(N):r||(r=c&~e,r!==0&&(m=va(r)))),m===0?0:a!==0&&a!==m&&(a&h)===0&&(h=m&-m,r=a&-a,h>=r||h===32&&(r&4194048)!==0)?a:m}function Ys(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function Zx(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Su(){var e=Qi;return Qi<<=1,(Qi&62914560)===0&&(Qi=4194304),e}function Mr(e){for(var a=[],r=0;31>r;r++)a.push(e);return a}function Zs(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Kx(e,a,r,c,m,h){var N=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var C=e.entanglements,L=e.expirationTimes,X=e.hiddenUpdates;for(r=N&~r;0<r;){var re=31-Gt(r),de=1<<re;C[re]=0,L[re]=-1;var Q=X[re];if(Q!==null)for(X[re]=null,re=0;re<Q.length;re++){var ne=Q[re];ne!==null&&(ne.lane&=-536870913)}r&=~de}c!==0&&_u(e,c,0),h!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=h&~(N&~a))}function _u(e,a,r){e.pendingLanes|=a,e.suspendedLanes&=~a;var c=31-Gt(a);e.entangledLanes|=a,e.entanglements[c]=e.entanglements[c]|1073741824|r&261930}function ku(e,a){var r=e.entangledLanes|=a;for(e=e.entanglements;r;){var c=31-Gt(r),m=1<<c;m&a|e[c]&a&&(e[c]|=a),r&=~m}}function ju(e,a){var r=a&-a;return r=(r&42)!==0?1:Rr(r),(r&(e.suspendedLanes|a))!==0?0:r}function Rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ir(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Eu(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:hp(e.type))}function Au(e,a){var r=q.p;try{return q.p=e,a()}finally{q.p=r}}var Gn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Gn,It="__reactProps$"+Gn,$a="__reactContainer$"+Gn,Ur="__reactEvents$"+Gn,Jx="__reactListeners$"+Gn,Xx="__reactHandles$"+Gn,Du="__reactResources$"+Gn,Ks="__reactMarker$"+Gn;function zr(e){delete e[Tt],delete e[It],delete e[Ur],delete e[Jx],delete e[Xx]}function Fa(e){var a=e[Tt];if(a)return a;for(var r=e.parentNode;r;){if(a=r[$a]||r[Tt]){if(r=a.alternate,a.child!==null||r!==null&&r.child!==null)for(e=Wm(e);e!==null;){if(r=e[Tt])return r;e=Wm(e)}return a}e=r,r=e.parentNode}return null}function Ya(e){if(e=e[Tt]||e[$a]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function Js(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(i(33))}function Za(e){var a=e[Du];return a||(a=e[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Nt(e){e[Ks]=!0}var Mu=new Set,Ru={};function ya(e,a){Ka(e,a),Ka(e+"Capture",a)}function Ka(e,a){for(Ru[e]=a,e=0;e<a.length;e++)Mu.add(a[e])}var Qx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Iu={},Uu={};function Wx(e){return le.call(Uu,e)?!0:le.call(Iu,e)?!1:Qx.test(e)?Uu[e]=!0:(Iu[e]=!0,!1)}function el(e,a,r){if(Wx(a))if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+r)}}function tl(e,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+r)}}function Nn(e,a,r,c){if(c===null)e.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(a,r,""+c)}}function Jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zu(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function eg(e,a,r){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,h=c.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return m.call(this)},set:function(N){r=""+N,h.call(this,N)}}),Object.defineProperty(e,a,{enumerable:c.enumerable}),{getValue:function(){return r},setValue:function(N){r=""+N},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function Lr(e){if(!e._valueTracker){var a=zu(e)?"checked":"value";e._valueTracker=eg(e,a,""+e[a])}}function Lu(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var r=a.getValue(),c="";return e&&(c=zu(e)?e.checked?"true":"false":e.value),e=c,e!==r?(a.setValue(e),!0):!1}function nl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tg=/[\n"\\]/g;function Xt(e){return e.replace(tg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Or(e,a,r,c,m,h,N,C){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),a!=null?N==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Jt(a)):e.value!==""+Jt(a)&&(e.value=""+Jt(a)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),a!=null?Vr(e,N,Jt(a)):r!=null?Vr(e,N,Jt(r)):c!=null&&e.removeAttribute("value"),m==null&&h!=null&&(e.defaultChecked=!!h),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Jt(C):e.removeAttribute("name")}function Ou(e,a,r,c,m,h,N,C){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),a!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||a!=null)){Lr(e);return}r=r!=null?""+Jt(r):"",a=a!=null?""+Jt(a):r,C||a===e.value||(e.value=a),e.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=C?e.checked:!!c,e.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N),Lr(e)}function Vr(e,a,r){a==="number"&&nl(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Ja(e,a,r,c){if(e=e.options,a){a={};for(var m=0;m<r.length;m++)a["$"+r[m]]=!0;for(r=0;r<e.length;r++)m=a.hasOwnProperty("$"+e[r].value),e[r].selected!==m&&(e[r].selected=m),m&&c&&(e[r].defaultSelected=!0)}else{for(r=""+Jt(r),a=null,m=0;m<e.length;m++){if(e[m].value===r){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}a!==null||e[m].disabled||(a=e[m])}a!==null&&(a.selected=!0)}}function Vu(e,a,r){if(a!=null&&(a=""+Jt(a),a!==e.value&&(e.value=a),r==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=r!=null?""+Jt(r):""}function Hu(e,a,r,c){if(a==null){if(c!=null){if(r!=null)throw Error(i(92));if(fe(c)){if(1<c.length)throw Error(i(93));c=c[0]}r=c}r==null&&(r=""),a=r}r=Jt(a),e.defaultValue=r,c=e.textContent,c===r&&c!==""&&c!==null&&(e.value=c),Lr(e)}function Xa(e,a){if(a){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=a;return}}e.textContent=a}var ng=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bu(e,a,r){var c=a.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":c?e.setProperty(a,r):typeof r!="number"||r===0||ng.has(a)?a==="float"?e.cssFloat=r:e[a]=(""+r).trim():e[a]=r+"px"}function Gu(e,a,r){if(a!=null&&typeof a!="object")throw Error(i(62));if(e=e.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&r[m]!==c&&Bu(e,m,c)}else for(var h in a)a.hasOwnProperty(h)&&Bu(e,h,a[h])}function Hr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ag=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(e){return sg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function wn(){}var Br=null;function Gr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qa=null,Wa=null;function qu(e){var a=Ya(e);if(a&&(e=a.stateNode)){var r=e[It]||null;e:switch(e=a.stateNode,a.type){case"input":if(Or(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),a=r.name,r.type==="radio"&&a!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Xt(""+a)+'"][type="radio"]'),a=0;a<r.length;a++){var c=r[a];if(c!==e&&c.form===e.form){var m=c[It]||null;if(!m)throw Error(i(90));Or(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<r.length;a++)c=r[a],c.form===e.form&&Lu(c)}break e;case"textarea":Vu(e,r.value,r.defaultValue);break e;case"select":a=r.value,a!=null&&Ja(e,!!r.multiple,a,!1)}}}var qr=!1;function Pu(e,a,r){if(qr)return e(a,r);qr=!0;try{var c=e(a);return c}finally{if(qr=!1,(Qa!==null||Wa!==null)&&(Pl(),Qa&&(a=Qa,e=Wa,Wa=Qa=null,qu(a),e)))for(a=0;a<e.length;a++)qu(e[a])}}function Xs(e,a){var r=e.stateNode;if(r===null)return null;var c=r[It]||null;if(c===null)return null;r=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,a,typeof r));return r}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(Tn)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{Pr=!1}var qn=null,$r=null,sl=null;function $u(){if(sl)return sl;var e,a=$r,r=a.length,c,m="value"in qn?qn.value:qn.textContent,h=m.length;for(e=0;e<r&&a[e]===m[e];e++);var N=r-e;for(c=1;c<=N&&a[r-c]===m[h-c];c++);return sl=m.slice(e,1<c?1-c:void 0)}function il(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function ll(){return!0}function Fu(){return!1}function Ut(e){function a(r,c,m,h,N){this._reactName=r,this._targetInst=m,this.type=c,this.nativeEvent=h,this.target=N,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(r=e[C],this[C]=r?r(h):h[C]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ll:Fu,this.isPropagationStopped=Fu,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),a}var ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=Ut(ba),Ws=b({},ba,{view:0,detail:0}),ig=Ut(Ws),Fr,Yr,ei,ol=b({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&e.type==="mousemove"?(Fr=e.screenX-ei.screenX,Yr=e.screenY-ei.screenY):Yr=Fr=0,ei=e),Fr)},movementY:function(e){return"movementY"in e?e.movementY:Yr}}),Yu=Ut(ol),lg=b({},ol,{dataTransfer:0}),rg=Ut(lg),og=b({},Ws,{relatedTarget:0}),Zr=Ut(og),cg=b({},ba,{animationName:0,elapsedTime:0,pseudoElement:0}),ug=Ut(cg),dg=b({},ba,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fg=Ut(dg),mg=b({},ba,{data:0}),Zu=Ut(mg),pg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gg(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=xg[e])?!!a[e]:!1}function Kr(){return gg}var vg=b({},Ws,{key:function(e){if(e.key){var a=pg[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=il(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(e){return e.type==="keypress"?il(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?il(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yg=Ut(vg),bg=b({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ku=Ut(bg),Ng=b({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),wg=Ut(Ng),Tg=b({},ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cg=Ut(Tg),Sg=b({},ol,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_g=Ut(Sg),kg=b({},ba,{newState:0,oldState:0}),jg=Ut(kg),Eg=[9,13,27,32],Jr=Tn&&"CompositionEvent"in window,ti=null;Tn&&"documentMode"in document&&(ti=document.documentMode);var Ag=Tn&&"TextEvent"in window&&!ti,Ju=Tn&&(!Jr||ti&&8<ti&&11>=ti),Xu=" ",Qu=!1;function Wu(e,a){switch(e){case"keyup":return Eg.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var es=!1;function Dg(e,a){switch(e){case"compositionend":return ed(a);case"keypress":return a.which!==32?null:(Qu=!0,Xu);case"textInput":return e=a.data,e===Xu&&Qu?null:e;default:return null}}function Mg(e,a){if(es)return e==="compositionend"||!Jr&&Wu(e,a)?(e=$u(),sl=$r=qn=null,es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ju&&a.locale!=="ko"?null:a.data;default:return null}}var Rg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function td(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!Rg[e.type]:a==="textarea"}function nd(e,a,r,c){Qa?Wa?Wa.push(c):Wa=[c]:Qa=c,a=Xl(a,"onChange"),0<a.length&&(r=new rl("onChange","change",null,r,c),e.push({event:r,listeners:a}))}var ni=null,ai=null;function Ig(e){Vm(e,0)}function cl(e){var a=Js(e);if(Lu(a))return e}function ad(e,a){if(e==="change")return a}var sd=!1;if(Tn){var Xr;if(Tn){var Qr="oninput"in document;if(!Qr){var id=document.createElement("div");id.setAttribute("oninput","return;"),Qr=typeof id.oninput=="function"}Xr=Qr}else Xr=!1;sd=Xr&&(!document.documentMode||9<document.documentMode)}function ld(){ni&&(ni.detachEvent("onpropertychange",rd),ai=ni=null)}function rd(e){if(e.propertyName==="value"&&cl(ai)){var a=[];nd(a,ai,e,Gr(e)),Pu(Ig,a)}}function Ug(e,a,r){e==="focusin"?(ld(),ni=a,ai=r,ni.attachEvent("onpropertychange",rd)):e==="focusout"&&ld()}function zg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cl(ai)}function Lg(e,a){if(e==="click")return cl(a)}function Og(e,a){if(e==="input"||e==="change")return cl(a)}function Vg(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var qt=typeof Object.is=="function"?Object.is:Vg;function si(e,a){if(qt(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var r=Object.keys(e),c=Object.keys(a);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var m=r[c];if(!le.call(a,m)||!qt(e[m],a[m]))return!1}return!0}function od(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cd(e,a){var r=od(e);e=0;for(var c;r;){if(r.nodeType===3){if(c=e+r.textContent.length,e<=a&&c>=a)return{node:r,offset:a-e};e=c}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=od(r)}}function ud(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?ud(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function dd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=nl(e.document);a instanceof e.HTMLIFrameElement;){try{var r=typeof a.contentWindow.location.href=="string"}catch{r=!1}if(r)e=a.contentWindow;else break;a=nl(e.document)}return a}function Wr(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var Hg=Tn&&"documentMode"in document&&11>=document.documentMode,ts=null,eo=null,ii=null,to=!1;function fd(e,a,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;to||ts==null||ts!==nl(c)||(c=ts,"selectionStart"in c&&Wr(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ii&&si(ii,c)||(ii=c,c=Xl(eo,"onSelect"),0<c.length&&(a=new rl("onSelect","select",null,a,r),e.push({event:a,listeners:c}),a.target=ts)))}function Na(e,a){var r={};return r[e.toLowerCase()]=a.toLowerCase(),r["Webkit"+e]="webkit"+a,r["Moz"+e]="moz"+a,r}var ns={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},no={},md={};Tn&&(md=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function wa(e){if(no[e])return no[e];if(!ns[e])return e;var a=ns[e],r;for(r in a)if(a.hasOwnProperty(r)&&r in md)return no[e]=a[r];return e}var pd=wa("animationend"),hd=wa("animationiteration"),xd=wa("animationstart"),Bg=wa("transitionrun"),Gg=wa("transitionstart"),qg=wa("transitioncancel"),gd=wa("transitionend"),vd=new Map,ao="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ao.push("scrollEnd");function on(e,a){vd.set(e,a),ya(a,[e])}var ul=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Qt=[],as=0,so=0;function dl(){for(var e=as,a=so=as=0;a<e;){var r=Qt[a];Qt[a++]=null;var c=Qt[a];Qt[a++]=null;var m=Qt[a];Qt[a++]=null;var h=Qt[a];if(Qt[a++]=null,c!==null&&m!==null){var N=c.pending;N===null?m.next=m:(m.next=N.next,N.next=m),c.pending=m}h!==0&&yd(r,m,h)}}function fl(e,a,r,c){Qt[as++]=e,Qt[as++]=a,Qt[as++]=r,Qt[as++]=c,so|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function io(e,a,r,c){return fl(e,a,r,c),ml(e)}function Ta(e,a){return fl(e,null,null,a),ml(e)}function yd(e,a,r){e.lanes|=r;var c=e.alternate;c!==null&&(c.lanes|=r);for(var m=!1,h=e.return;h!==null;)h.childLanes|=r,c=h.alternate,c!==null&&(c.childLanes|=r),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(m=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,m&&a!==null&&(m=31-Gt(r),e=h.hiddenUpdates,c=e[m],c===null?e[m]=[a]:c.push(a),a.lane=r|536870912),h):null}function ml(e){if(50<ki)throw ki=0,hc=null,Error(i(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var ss={};function Pg(e,a,r,c){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,a,r,c){return new Pg(e,a,r,c)}function lo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cn(e,a){var r=e.alternate;return r===null?(r=Pt(e.tag,a,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=a,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,a=e.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function bd(e,a){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,a=r.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function pl(e,a,r,c,m,h){var N=0;if(c=e,typeof e=="function")lo(e)&&(N=1);else if(typeof e=="string")N=K0(e,r,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case A:return e=Pt(31,r,a,m),e.elementType=A,e.lanes=h,e;case T:return Ca(r.children,m,h,a);case D:N=8,m|=24;break;case R:return e=Pt(12,r,a,m|2),e.elementType=R,e.lanes=h,e;case G:return e=Pt(13,r,a,m),e.elementType=G,e.lanes=h,e;case W:return e=Pt(19,r,a,m),e.elementType=W,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:N=10;break e;case U:N=9;break e;case Y:N=11;break e;case k:N=14;break e;case M:N=16,c=null;break e}N=29,r=Error(i(130,e===null?"null":typeof e,"")),c=null}return a=Pt(N,r,a,m),a.elementType=e,a.type=c,a.lanes=h,a}function Ca(e,a,r,c){return e=Pt(7,e,c,a),e.lanes=r,e}function ro(e,a,r){return e=Pt(6,e,null,a),e.lanes=r,e}function Nd(e){var a=Pt(18,null,null,0);return a.stateNode=e,a}function oo(e,a,r){return a=Pt(4,e.children!==null?e.children:[],e.key,a),a.lanes=r,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var wd=new WeakMap;function Wt(e,a){if(typeof e=="object"&&e!==null){var r=wd.get(e);return r!==void 0?r:(a={value:e,source:a,stack:Ki(a)},wd.set(e,a),a)}return{value:e,source:a,stack:Ki(a)}}var is=[],ls=0,hl=null,li=0,en=[],tn=0,Pn=null,pn=1,hn="";function Sn(e,a){is[ls++]=li,is[ls++]=hl,hl=e,li=a}function Td(e,a,r){en[tn++]=pn,en[tn++]=hn,en[tn++]=Pn,Pn=e;var c=pn;e=hn;var m=32-Gt(c)-1;c&=~(1<<m),r+=1;var h=32-Gt(a)+m;if(30<h){var N=m-m%5;h=(c&(1<<N)-1).toString(32),c>>=N,m-=N,pn=1<<32-Gt(a)+m|r<<m|c,hn=h+e}else pn=1<<h|r<<m|c,hn=e}function co(e){e.return!==null&&(Sn(e,1),Td(e,1,0))}function uo(e){for(;e===hl;)hl=is[--ls],is[ls]=null,li=is[--ls],is[ls]=null;for(;e===Pn;)Pn=en[--tn],en[tn]=null,hn=en[--tn],en[tn]=null,pn=en[--tn],en[tn]=null}function Cd(e,a){en[tn++]=pn,en[tn++]=hn,en[tn++]=Pn,pn=a.id,hn=a.overflow,Pn=e}var Ct=null,it=null,qe=!1,$n=null,nn=!1,fo=Error(i(519));function Fn(e){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ri(Wt(a,e)),fo}function Sd(e){var a=e.stateNode,r=e.type,c=e.memoizedProps;switch(a[Tt]=e,a[It]=c,r){case"dialog":Ve("cancel",a),Ve("close",a);break;case"iframe":case"object":case"embed":Ve("load",a);break;case"video":case"audio":for(r=0;r<Ei.length;r++)Ve(Ei[r],a);break;case"source":Ve("error",a);break;case"img":case"image":case"link":Ve("error",a),Ve("load",a);break;case"details":Ve("toggle",a);break;case"input":Ve("invalid",a),Ou(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ve("invalid",a);break;case"textarea":Ve("invalid",a),Hu(a,c.value,c.defaultValue,c.children)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||a.textContent===""+r||c.suppressHydrationWarning===!0||qm(a.textContent,r)?(c.popover!=null&&(Ve("beforetoggle",a),Ve("toggle",a)),c.onScroll!=null&&Ve("scroll",a),c.onScrollEnd!=null&&Ve("scrollend",a),c.onClick!=null&&(a.onclick=wn),a=!0):a=!1,a||Fn(e,!0)}function _d(e){for(Ct=e.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:Ct=Ct.return}}function rs(e){if(e!==Ct)return!1;if(!qe)return _d(e),qe=!0,!1;var a=e.tag,r;if((r=a!==3&&a!==27)&&((r=a===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Ac(e.type,e.memoizedProps)),r=!r),r&&it&&Fn(e),_d(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));it=Qm(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));it=Qm(e)}else a===27?(a=it,la(e.type)?(e=Uc,Uc=null,it=e):it=a):it=Ct?sn(e.stateNode.nextSibling):null;return!0}function Sa(){it=Ct=null,qe=!1}function mo(){var e=$n;return e!==null&&(Vt===null?Vt=e:Vt.push.apply(Vt,e),$n=null),e}function ri(e){$n===null?$n=[e]:$n.push(e)}var po=E(null),_a=null,_n=null;function Yn(e,a,r){oe(po,a._currentValue),a._currentValue=r}function kn(e){e._currentValue=po.current,K(po)}function ho(e,a,r){for(;e!==null;){var c=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),e===r)break;e=e.return}}function xo(e,a,r,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var h=m.dependencies;if(h!==null){var N=m.child;h=h.firstContext;e:for(;h!==null;){var C=h;h=m;for(var L=0;L<a.length;L++)if(C.context===a[L]){h.lanes|=r,C=h.alternate,C!==null&&(C.lanes|=r),ho(h.return,r,e),c||(N=null);break e}h=C.next}}else if(m.tag===18){if(N=m.return,N===null)throw Error(i(341));N.lanes|=r,h=N.alternate,h!==null&&(h.lanes|=r),ho(N,r,e),N=null}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===e){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}}function os(e,a,r,c){e=null;for(var m=a,h=!1;m!==null;){if(!h){if((m.flags&524288)!==0)h=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var N=m.alternate;if(N===null)throw Error(i(387));if(N=N.memoizedProps,N!==null){var C=m.type;qt(m.pendingProps.value,N.value)||(e!==null?e.push(C):e=[C])}}else if(m===ge.current){if(N=m.alternate,N===null)throw Error(i(387));N.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Ii):e=[Ii])}m=m.return}e!==null&&xo(a,e,r,c),a.flags|=262144}function xl(e){for(e=e.firstContext;e!==null;){if(!qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ka(e){_a=e,_n=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function St(e){return kd(_a,e)}function gl(e,a){return _a===null&&ka(e),kd(e,a)}function kd(e,a){var r=a._currentValue;if(a={context:a,memoizedValue:r,next:null},_n===null){if(e===null)throw Error(i(308));_n=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else _n=_n.next=a;return r}var $g=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(r,c){e.push(c)}};this.abort=function(){a.aborted=!0,e.forEach(function(r){return r()})}},Fg=s.unstable_scheduleCallback,Yg=s.unstable_NormalPriority,ht={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function go(){return{controller:new $g,data:new Map,refCount:0}}function oi(e){e.refCount--,e.refCount===0&&Fg(Yg,function(){e.controller.abort()})}var ci=null,vo=0,cs=0,us=null;function Zg(e,a){if(ci===null){var r=ci=[];vo=0,cs=Nc(),us={status:"pending",value:void 0,then:function(c){r.push(c)}}}return vo++,a.then(jd,jd),a}function jd(){if(--vo===0&&ci!==null){us!==null&&(us.status="fulfilled");var e=ci;ci=null,cs=0,us=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function Kg(e,a){var r=[],c={status:"pending",value:null,reason:null,then:function(m){r.push(m)}};return e.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<r.length;m++)(0,r[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<r.length;m++)(0,r[m])(void 0)}),c}var Ed=O.S;O.S=function(e,a){mm=Ke(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Zg(e,a),Ed!==null&&Ed(e,a)};var ja=E(null);function yo(){var e=ja.current;return e!==null?e:at.pooledCache}function vl(e,a){a===null?oe(ja,ja.current):oe(ja,a.pool)}function Ad(){var e=yo();return e===null?null:{parent:ht._currentValue,pool:e}}var ds=Error(i(460)),bo=Error(i(474)),yl=Error(i(542)),bl={then:function(){}};function Dd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Md(e,a,r){switch(r=e[r],r===void 0?e.push(a):r!==a&&(a.then(wn,wn),a=r),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Id(e),e;default:if(typeof a.status=="string")a.then(wn,wn);else{if(e=at,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=a,e.status="pending",e.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Id(e),e}throw Aa=a,ds}}function Ea(e){try{var a=e._init;return a(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Aa=r,ds):r}}var Aa=null;function Rd(){if(Aa===null)throw Error(i(459));var e=Aa;return Aa=null,e}function Id(e){if(e===ds||e===yl)throw Error(i(483))}var fs=null,ui=0;function Nl(e){var a=ui;return ui+=1,fs===null&&(fs=[]),Md(fs,e,a)}function di(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function wl(e,a){throw a.$$typeof===w?Error(i(525)):(e=Object.prototype.toString.call(a),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function Ud(e){function a(F,H){if(e){var J=F.deletions;J===null?(F.deletions=[H],F.flags|=16):J.push(H)}}function r(F,H){if(!e)return null;for(;H!==null;)a(F,H),H=H.sibling;return null}function c(F){for(var H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function m(F,H){return F=Cn(F,H),F.index=0,F.sibling=null,F}function h(F,H,J){return F.index=J,e?(J=F.alternate,J!==null?(J=J.index,J<H?(F.flags|=67108866,H):J):(F.flags|=67108866,H)):(F.flags|=1048576,H)}function N(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function C(F,H,J,ue){return H===null||H.tag!==6?(H=ro(J,F.mode,ue),H.return=F,H):(H=m(H,J),H.return=F,H)}function L(F,H,J,ue){var Se=J.type;return Se===T?re(F,H,J.props.children,ue,J.key):H!==null&&(H.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===M&&Ea(Se)===H.type)?(H=m(H,J.props),di(H,J),H.return=F,H):(H=pl(J.type,J.key,J.props,null,F.mode,ue),di(H,J),H.return=F,H)}function X(F,H,J,ue){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=oo(J,F.mode,ue),H.return=F,H):(H=m(H,J.children||[]),H.return=F,H)}function re(F,H,J,ue,Se){return H===null||H.tag!==7?(H=Ca(J,F.mode,ue,Se),H.return=F,H):(H=m(H,J),H.return=F,H)}function de(F,H,J){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=ro(""+H,F.mode,J),H.return=F,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return J=pl(H.type,H.key,H.props,null,F.mode,J),di(J,H),J.return=F,J;case _:return H=oo(H,F.mode,J),H.return=F,H;case M:return H=Ea(H),de(F,H,J)}if(fe(H)||B(H))return H=Ca(H,F.mode,J,null),H.return=F,H;if(typeof H.then=="function")return de(F,Nl(H),J);if(H.$$typeof===I)return de(F,gl(F,H),J);wl(F,H)}return null}function Q(F,H,J,ue){var Se=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Se!==null?null:C(F,H,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return J.key===Se?L(F,H,J,ue):null;case _:return J.key===Se?X(F,H,J,ue):null;case M:return J=Ea(J),Q(F,H,J,ue)}if(fe(J)||B(J))return Se!==null?null:re(F,H,J,ue,null);if(typeof J.then=="function")return Q(F,H,Nl(J),ue);if(J.$$typeof===I)return Q(F,H,gl(F,J),ue);wl(F,J)}return null}function ne(F,H,J,ue,Se){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return F=F.get(J)||null,C(H,F,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case S:return F=F.get(ue.key===null?J:ue.key)||null,L(H,F,ue,Se);case _:return F=F.get(ue.key===null?J:ue.key)||null,X(H,F,ue,Se);case M:return ue=Ea(ue),ne(F,H,J,ue,Se)}if(fe(ue)||B(ue))return F=F.get(J)||null,re(H,F,ue,Se,null);if(typeof ue.then=="function")return ne(F,H,J,Nl(ue),Se);if(ue.$$typeof===I)return ne(F,H,J,gl(H,ue),Se);wl(H,ue)}return null}function Ne(F,H,J,ue){for(var Se=null,Fe=null,Te=H,ze=H=0,Ge=null;Te!==null&&ze<J.length;ze++){Te.index>ze?(Ge=Te,Te=null):Ge=Te.sibling;var Ye=Q(F,Te,J[ze],ue);if(Ye===null){Te===null&&(Te=Ge);break}e&&Te&&Ye.alternate===null&&a(F,Te),H=h(Ye,H,ze),Fe===null?Se=Ye:Fe.sibling=Ye,Fe=Ye,Te=Ge}if(ze===J.length)return r(F,Te),qe&&Sn(F,ze),Se;if(Te===null){for(;ze<J.length;ze++)Te=de(F,J[ze],ue),Te!==null&&(H=h(Te,H,ze),Fe===null?Se=Te:Fe.sibling=Te,Fe=Te);return qe&&Sn(F,ze),Se}for(Te=c(Te);ze<J.length;ze++)Ge=ne(Te,F,ze,J[ze],ue),Ge!==null&&(e&&Ge.alternate!==null&&Te.delete(Ge.key===null?ze:Ge.key),H=h(Ge,H,ze),Fe===null?Se=Ge:Fe.sibling=Ge,Fe=Ge);return e&&Te.forEach(function(da){return a(F,da)}),qe&&Sn(F,ze),Se}function je(F,H,J,ue){if(J==null)throw Error(i(151));for(var Se=null,Fe=null,Te=H,ze=H=0,Ge=null,Ye=J.next();Te!==null&&!Ye.done;ze++,Ye=J.next()){Te.index>ze?(Ge=Te,Te=null):Ge=Te.sibling;var da=Q(F,Te,Ye.value,ue);if(da===null){Te===null&&(Te=Ge);break}e&&Te&&da.alternate===null&&a(F,Te),H=h(da,H,ze),Fe===null?Se=da:Fe.sibling=da,Fe=da,Te=Ge}if(Ye.done)return r(F,Te),qe&&Sn(F,ze),Se;if(Te===null){for(;!Ye.done;ze++,Ye=J.next())Ye=de(F,Ye.value,ue),Ye!==null&&(H=h(Ye,H,ze),Fe===null?Se=Ye:Fe.sibling=Ye,Fe=Ye);return qe&&Sn(F,ze),Se}for(Te=c(Te);!Ye.done;ze++,Ye=J.next())Ye=ne(Te,F,ze,Ye.value,ue),Ye!==null&&(e&&Ye.alternate!==null&&Te.delete(Ye.key===null?ze:Ye.key),H=h(Ye,H,ze),Fe===null?Se=Ye:Fe.sibling=Ye,Fe=Ye);return e&&Te.forEach(function(lv){return a(F,lv)}),qe&&Sn(F,ze),Se}function nt(F,H,J,ue){if(typeof J=="object"&&J!==null&&J.type===T&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case S:e:{for(var Se=J.key;H!==null;){if(H.key===Se){if(Se=J.type,Se===T){if(H.tag===7){r(F,H.sibling),ue=m(H,J.props.children),ue.return=F,F=ue;break e}}else if(H.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===M&&Ea(Se)===H.type){r(F,H.sibling),ue=m(H,J.props),di(ue,J),ue.return=F,F=ue;break e}r(F,H);break}else a(F,H);H=H.sibling}J.type===T?(ue=Ca(J.props.children,F.mode,ue,J.key),ue.return=F,F=ue):(ue=pl(J.type,J.key,J.props,null,F.mode,ue),di(ue,J),ue.return=F,F=ue)}return N(F);case _:e:{for(Se=J.key;H!==null;){if(H.key===Se)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){r(F,H.sibling),ue=m(H,J.children||[]),ue.return=F,F=ue;break e}else{r(F,H);break}else a(F,H);H=H.sibling}ue=oo(J,F.mode,ue),ue.return=F,F=ue}return N(F);case M:return J=Ea(J),nt(F,H,J,ue)}if(fe(J))return Ne(F,H,J,ue);if(B(J)){if(Se=B(J),typeof Se!="function")throw Error(i(150));return J=Se.call(J),je(F,H,J,ue)}if(typeof J.then=="function")return nt(F,H,Nl(J),ue);if(J.$$typeof===I)return nt(F,H,gl(F,J),ue);wl(F,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,H!==null&&H.tag===6?(r(F,H.sibling),ue=m(H,J),ue.return=F,F=ue):(r(F,H),ue=ro(J,F.mode,ue),ue.return=F,F=ue),N(F)):r(F,H)}return function(F,H,J,ue){try{ui=0;var Se=nt(F,H,J,ue);return fs=null,Se}catch(Te){if(Te===ds||Te===yl)throw Te;var Fe=Pt(29,Te,null,F.mode);return Fe.lanes=ue,Fe.return=F,Fe}finally{}}}var Da=Ud(!0),zd=Ud(!1),Zn=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wo(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Kn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Jn(e,a,r){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Je&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=ml(e),yd(e,null,r),a}return fl(e,c,a,r),ml(e)}function fi(e,a,r){if(a=a.updateQueue,a!==null&&(a=a.shared,(r&4194048)!==0)){var c=a.lanes;c&=e.pendingLanes,r|=c,a.lanes=r,ku(e,r)}}function To(e,a){var r=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var m=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var N={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?m=h=N:h=h.next=N,r=r.next}while(r!==null);h===null?m=h=a:h=h.next=a}else m=h=a;r={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=a:e.next=a,r.lastBaseUpdate=a}var Co=!1;function mi(){if(Co){var e=us;if(e!==null)throw e}}function pi(e,a,r,c){Co=!1;var m=e.updateQueue;Zn=!1;var h=m.firstBaseUpdate,N=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var L=C,X=L.next;L.next=null,N===null?h=X:N.next=X,N=L;var re=e.alternate;re!==null&&(re=re.updateQueue,C=re.lastBaseUpdate,C!==N&&(C===null?re.firstBaseUpdate=X:C.next=X,re.lastBaseUpdate=L))}if(h!==null){var de=m.baseState;N=0,re=X=L=null,C=h;do{var Q=C.lane&-536870913,ne=Q!==C.lane;if(ne?(Be&Q)===Q:(c&Q)===Q){Q!==0&&Q===cs&&(Co=!0),re!==null&&(re=re.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ne=e,je=C;Q=a;var nt=r;switch(je.tag){case 1:if(Ne=je.payload,typeof Ne=="function"){de=Ne.call(nt,de,Q);break e}de=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=je.payload,Q=typeof Ne=="function"?Ne.call(nt,de,Q):Ne,Q==null)break e;de=b({},de,Q);break e;case 2:Zn=!0}}Q=C.callback,Q!==null&&(e.flags|=64,ne&&(e.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[Q]:ne.push(Q))}else ne={lane:Q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},re===null?(X=re=ne,L=de):re=re.next=ne,N|=Q;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;ne=C,C=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);re===null&&(L=de),m.baseState=L,m.firstBaseUpdate=X,m.lastBaseUpdate=re,h===null&&(m.shared.lanes=0),ta|=N,e.lanes=N,e.memoizedState=de}}function Ld(e,a){if(typeof e!="function")throw Error(i(191,e));e.call(a)}function Od(e,a){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Ld(r[e],a)}var ms=E(null),Tl=E(0);function Vd(e,a){e=zn,oe(Tl,e),oe(ms,a),zn=e|a.baseLanes}function So(){oe(Tl,zn),oe(ms,ms.current)}function _o(){zn=Tl.current,K(ms),K(Tl)}var $t=E(null),an=null;function Xn(e){var a=e.alternate;oe(ft,ft.current&1),oe($t,e),an===null&&(a===null||ms.current!==null||a.memoizedState!==null)&&(an=e)}function ko(e){oe(ft,ft.current),oe($t,e),an===null&&(an=e)}function Hd(e){e.tag===22?(oe(ft,ft.current),oe($t,e),an===null&&(an=e)):Qn()}function Qn(){oe(ft,ft.current),oe($t,$t.current)}function Ft(e){K($t),an===e&&(an=null),K(ft)}var ft=E(0);function Cl(e){for(var a=e;a!==null;){if(a.tag===13){var r=a.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Rc(r)||Ic(r)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var jn=0,Ue=null,et=null,xt=null,Sl=!1,ps=!1,Ma=!1,_l=0,hi=0,hs=null,Jg=0;function ut(){throw Error(i(321))}function jo(e,a){if(a===null)return!1;for(var r=0;r<a.length&&r<e.length;r++)if(!qt(e[r],a[r]))return!1;return!0}function Eo(e,a,r,c,m,h){return jn=h,Ue=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,O.H=e===null||e.memoizedState===null?Cf:Po,Ma=!1,h=r(c,m),Ma=!1,ps&&(h=Gd(a,r,c,m)),Bd(e),h}function Bd(e){O.H=vi;var a=et!==null&&et.next!==null;if(jn=0,xt=et=Ue=null,Sl=!1,hi=0,hs=null,a)throw Error(i(300));e===null||gt||(e=e.dependencies,e!==null&&xl(e)&&(gt=!0))}function Gd(e,a,r,c){Ue=e;var m=0;do{if(ps&&(hs=null),hi=0,ps=!1,25<=m)throw Error(i(301));if(m+=1,xt=et=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}O.H=Sf,h=a(r,c)}while(ps);return h}function Xg(){var e=O.H,a=e.useState()[0];return a=typeof a.then=="function"?xi(a):a,e=e.useState()[0],(et!==null?et.memoizedState:null)!==e&&(Ue.flags|=1024),a}function Ao(){var e=_l!==0;return _l=0,e}function Do(e,a,r){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~r}function Mo(e){if(Sl){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}Sl=!1}jn=0,xt=et=Ue=null,ps=!1,hi=_l=0,hs=null}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ue.memoizedState=xt=e:xt=xt.next=e,xt}function mt(){if(et===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var a=xt===null?Ue.memoizedState:xt.next;if(a!==null)xt=a,et=e;else{if(e===null)throw Ue.alternate===null?Error(i(467)):Error(i(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},xt===null?Ue.memoizedState=xt=e:xt=xt.next=e}return xt}function kl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xi(e){var a=hi;return hi+=1,hs===null&&(hs=[]),e=Md(hs,e,a),a=Ue,(xt===null?a.memoizedState:xt.next)===null&&(a=a.alternate,O.H=a===null||a.memoizedState===null?Cf:Po),e}function jl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xi(e);if(e.$$typeof===I)return St(e)}throw Error(i(438,String(e)))}function Ro(e){var a=null,r=Ue.updateQueue;if(r!==null&&(a=r.memoCache),a==null){var c=Ue.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),r===null&&(r=kl(),Ue.updateQueue=r),r.memoCache=a,r=a.data[a.index],r===void 0)for(r=a.data[a.index]=Array(e),c=0;c<e;c++)r[c]=z;return a.index++,r}function En(e,a){return typeof a=="function"?a(e):a}function El(e){var a=mt();return Io(a,et,e)}function Io(e,a,r){var c=e.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var m=e.baseQueue,h=c.pending;if(h!==null){if(m!==null){var N=m.next;m.next=h.next,h.next=N}a.baseQueue=m=h,c.pending=null}if(h=e.baseState,m===null)e.memoizedState=h;else{a=m.next;var C=N=null,L=null,X=a,re=!1;do{var de=X.lane&-536870913;if(de!==X.lane?(Be&de)===de:(jn&de)===de){var Q=X.revertLane;if(Q===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),de===cs&&(re=!0);else if((jn&Q)===Q){X=X.next,Q===cs&&(re=!0);continue}else de={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(C=L=de,N=h):L=L.next=de,Ue.lanes|=Q,ta|=Q;de=X.action,Ma&&r(h,de),h=X.hasEagerState?X.eagerState:r(h,de)}else Q={lane:de,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(C=L=Q,N=h):L=L.next=Q,Ue.lanes|=de,ta|=de;X=X.next}while(X!==null&&X!==a);if(L===null?N=h:L.next=C,!qt(h,e.memoizedState)&&(gt=!0,re&&(r=us,r!==null)))throw r;e.memoizedState=h,e.baseState=N,e.baseQueue=L,c.lastRenderedState=h}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Uo(e){var a=mt(),r=a.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var c=r.dispatch,m=r.pending,h=a.memoizedState;if(m!==null){r.pending=null;var N=m=m.next;do h=e(h,N.action),N=N.next;while(N!==m);qt(h,a.memoizedState)||(gt=!0),a.memoizedState=h,a.baseQueue===null&&(a.baseState=h),r.lastRenderedState=h}return[h,c]}function qd(e,a,r){var c=Ue,m=mt(),h=qe;if(h){if(r===void 0)throw Error(i(407));r=r()}else r=a();var N=!qt((et||m).memoizedState,r);if(N&&(m.memoizedState=r,gt=!0),m=m.queue,Oo(Fd.bind(null,c,m,e),[e]),m.getSnapshot!==a||N||xt!==null&&xt.memoizedState.tag&1){if(c.flags|=2048,xs(9,{destroy:void 0},$d.bind(null,c,m,r,a),null),at===null)throw Error(i(349));h||(jn&127)!==0||Pd(c,a,r)}return r}function Pd(e,a,r){e.flags|=16384,e={getSnapshot:a,value:r},a=Ue.updateQueue,a===null?(a=kl(),Ue.updateQueue=a,a.stores=[e]):(r=a.stores,r===null?a.stores=[e]:r.push(e))}function $d(e,a,r,c){a.value=r,a.getSnapshot=c,Yd(a)&&Zd(e)}function Fd(e,a,r){return r(function(){Yd(a)&&Zd(e)})}function Yd(e){var a=e.getSnapshot;e=e.value;try{var r=a();return!qt(e,r)}catch{return!0}}function Zd(e){var a=Ta(e,2);a!==null&&Ht(a,e,2)}function zo(e){var a=Dt();if(typeof e=="function"){var r=e;if(e=r(),Ma){Bn(!0);try{r()}finally{Bn(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:e},a}function Kd(e,a,r,c){return e.baseState=r,Io(e,et,typeof c=="function"?c:En)}function Qg(e,a,r,c,m){if(Ml(e))throw Error(i(485));if(e=a.action,e!==null){var h={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){h.listeners.push(N)}};O.T!==null?r(!0):h.isTransition=!1,c(h),r=a.pending,r===null?(h.next=a.pending=h,Jd(a,h)):(h.next=r.next,a.pending=r.next=h)}}function Jd(e,a){var r=a.action,c=a.payload,m=e.state;if(a.isTransition){var h=O.T,N={};O.T=N;try{var C=r(m,c),L=O.S;L!==null&&L(N,C),Xd(e,a,C)}catch(X){Lo(e,a,X)}finally{h!==null&&N.types!==null&&(h.types=N.types),O.T=h}}else try{h=r(m,c),Xd(e,a,h)}catch(X){Lo(e,a,X)}}function Xd(e,a,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){Qd(e,a,c)},function(c){return Lo(e,a,c)}):Qd(e,a,r)}function Qd(e,a,r){a.status="fulfilled",a.value=r,Wd(a),e.state=r,a=e.pending,a!==null&&(r=a.next,r===a?e.pending=null:(r=r.next,a.next=r,Jd(e,r)))}function Lo(e,a,r){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=r,Wd(a),a=a.next;while(a!==c)}e.action=null}function Wd(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function ef(e,a){return a}function tf(e,a){if(qe){var r=at.formState;if(r!==null){e:{var c=Ue;if(qe){if(it){t:{for(var m=it,h=nn;m.nodeType!==8;){if(!h){m=null;break t}if(m=sn(m.nextSibling),m===null){m=null;break t}}h=m.data,m=h==="F!"||h==="F"?m:null}if(m){it=sn(m.nextSibling),c=m.data==="F!";break e}}Fn(c)}c=!1}c&&(a=r[0])}}return r=Dt(),r.memoizedState=r.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ef,lastRenderedState:a},r.queue=c,r=Nf.bind(null,Ue,c),c.dispatch=r,c=zo(!1),h=qo.bind(null,Ue,!1,c.queue),c=Dt(),m={state:a,dispatch:null,action:e,pending:null},c.queue=m,r=Qg.bind(null,Ue,m,h,r),m.dispatch=r,c.memoizedState=e,[a,r,!1]}function nf(e){var a=mt();return af(a,et,e)}function af(e,a,r){if(a=Io(e,a,ef)[0],e=El(En)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=xi(a)}catch(N){throw N===ds?yl:N}else c=a;a=mt();var m=a.queue,h=m.dispatch;return r!==a.memoizedState&&(Ue.flags|=2048,xs(9,{destroy:void 0},Wg.bind(null,m,r),null)),[c,h,e]}function Wg(e,a){e.action=a}function sf(e){var a=mt(),r=et;if(r!==null)return af(a,r,e);mt(),a=a.memoizedState,r=mt();var c=r.queue.dispatch;return r.memoizedState=e,[a,c,!1]}function xs(e,a,r,c){return e={tag:e,create:r,deps:c,inst:a,next:null},a=Ue.updateQueue,a===null&&(a=kl(),Ue.updateQueue=a),r=a.lastEffect,r===null?a.lastEffect=e.next=e:(c=r.next,r.next=e,e.next=c,a.lastEffect=e),e}function lf(){return mt().memoizedState}function Al(e,a,r,c){var m=Dt();Ue.flags|=e,m.memoizedState=xs(1|a,{destroy:void 0},r,c===void 0?null:c)}function Dl(e,a,r,c){var m=mt();c=c===void 0?null:c;var h=m.memoizedState.inst;et!==null&&c!==null&&jo(c,et.memoizedState.deps)?m.memoizedState=xs(a,h,r,c):(Ue.flags|=e,m.memoizedState=xs(1|a,h,r,c))}function rf(e,a){Al(8390656,8,e,a)}function Oo(e,a){Dl(2048,8,e,a)}function e0(e){Ue.flags|=4;var a=Ue.updateQueue;if(a===null)a=kl(),Ue.updateQueue=a,a.events=[e];else{var r=a.events;r===null?a.events=[e]:r.push(e)}}function of(e){var a=mt().memoizedState;return e0({ref:a,nextImpl:e}),function(){if((Je&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function cf(e,a){return Dl(4,2,e,a)}function uf(e,a){return Dl(4,4,e,a)}function df(e,a){if(typeof a=="function"){e=e();var r=a(e);return function(){typeof r=="function"?r():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function ff(e,a,r){r=r!=null?r.concat([e]):null,Dl(4,4,df.bind(null,a,e),r)}function Vo(){}function mf(e,a){var r=mt();a=a===void 0?null:a;var c=r.memoizedState;return a!==null&&jo(a,c[1])?c[0]:(r.memoizedState=[e,a],e)}function pf(e,a){var r=mt();a=a===void 0?null:a;var c=r.memoizedState;if(a!==null&&jo(a,c[1]))return c[0];if(c=e(),Ma){Bn(!0);try{e()}finally{Bn(!1)}}return r.memoizedState=[c,a],c}function Ho(e,a,r){return r===void 0||(jn&1073741824)!==0&&(Be&261930)===0?e.memoizedState=a:(e.memoizedState=r,e=hm(),Ue.lanes|=e,ta|=e,r)}function hf(e,a,r,c){return qt(r,a)?r:ms.current!==null?(e=Ho(e,r,c),qt(e,a)||(gt=!0),e):(jn&42)===0||(jn&1073741824)!==0&&(Be&261930)===0?(gt=!0,e.memoizedState=r):(e=hm(),Ue.lanes|=e,ta|=e,a)}function xf(e,a,r,c,m){var h=q.p;q.p=h!==0&&8>h?h:8;var N=O.T,C={};O.T=C,qo(e,!1,a,r);try{var L=m(),X=O.S;if(X!==null&&X(C,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var re=Kg(L,c);gi(e,a,re,Kt(e))}else gi(e,a,c,Kt(e))}catch(de){gi(e,a,{then:function(){},status:"rejected",reason:de},Kt())}finally{q.p=h,N!==null&&C.types!==null&&(N.types=C.types),O.T=N}}function t0(){}function Bo(e,a,r,c){if(e.tag!==5)throw Error(i(476));var m=gf(e).queue;xf(e,m,a,he,r===null?t0:function(){return vf(e),r(c)})}function gf(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:he},next:null};var r={};return a.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:r},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function vf(e){var a=gf(e);a.next===null&&(a=e.alternate.memoizedState),gi(e,a.next.queue,{},Kt())}function Go(){return St(Ii)}function yf(){return mt().memoizedState}function bf(){return mt().memoizedState}function n0(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var r=Kt();e=Kn(r);var c=Jn(a,e,r);c!==null&&(Ht(c,a,r),fi(c,a,r)),a={cache:go()},e.payload=a;return}a=a.return}}function a0(e,a,r){var c=Kt();r={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ml(e)?wf(a,r):(r=io(e,a,r,c),r!==null&&(Ht(r,e,c),Tf(r,a,c)))}function Nf(e,a,r){var c=Kt();gi(e,a,r,c)}function gi(e,a,r,c){var m={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ml(e))wf(a,m);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=a.lastRenderedReducer,h!==null))try{var N=a.lastRenderedState,C=h(N,r);if(m.hasEagerState=!0,m.eagerState=C,qt(C,N))return fl(e,a,m,0),at===null&&dl(),!1}catch{}finally{}if(r=io(e,a,m,c),r!==null)return Ht(r,e,c),Tf(r,a,c),!0}return!1}function qo(e,a,r,c){if(c={lane:2,revertLane:Nc(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ml(e)){if(a)throw Error(i(479))}else a=io(e,r,c,2),a!==null&&Ht(a,e,2)}function Ml(e){var a=e.alternate;return e===Ue||a!==null&&a===Ue}function wf(e,a){ps=Sl=!0;var r=e.pending;r===null?a.next=a:(a.next=r.next,r.next=a),e.pending=a}function Tf(e,a,r){if((r&4194048)!==0){var c=a.lanes;c&=e.pendingLanes,r|=c,a.lanes=r,ku(e,r)}}var vi={readContext:St,use:jl,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};vi.useEffectEvent=ut;var Cf={readContext:St,use:jl,useCallback:function(e,a){return Dt().memoizedState=[e,a===void 0?null:a],e},useContext:St,useEffect:rf,useImperativeHandle:function(e,a,r){r=r!=null?r.concat([e]):null,Al(4194308,4,df.bind(null,a,e),r)},useLayoutEffect:function(e,a){return Al(4194308,4,e,a)},useInsertionEffect:function(e,a){Al(4,2,e,a)},useMemo:function(e,a){var r=Dt();a=a===void 0?null:a;var c=e();if(Ma){Bn(!0);try{e()}finally{Bn(!1)}}return r.memoizedState=[c,a],c},useReducer:function(e,a,r){var c=Dt();if(r!==void 0){var m=r(a);if(Ma){Bn(!0);try{r(a)}finally{Bn(!1)}}}else m=a;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=a0.bind(null,Ue,e),[c.memoizedState,e]},useRef:function(e){var a=Dt();return e={current:e},a.memoizedState=e},useState:function(e){e=zo(e);var a=e.queue,r=Nf.bind(null,Ue,a);return a.dispatch=r,[e.memoizedState,r]},useDebugValue:Vo,useDeferredValue:function(e,a){var r=Dt();return Ho(r,e,a)},useTransition:function(){var e=zo(!1);return e=xf.bind(null,Ue,e.queue,!0,!1),Dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,r){var c=Ue,m=Dt();if(qe){if(r===void 0)throw Error(i(407));r=r()}else{if(r=a(),at===null)throw Error(i(349));(Be&127)!==0||Pd(c,a,r)}m.memoizedState=r;var h={value:r,getSnapshot:a};return m.queue=h,rf(Fd.bind(null,c,h,e),[e]),c.flags|=2048,xs(9,{destroy:void 0},$d.bind(null,c,h,r,a),null),r},useId:function(){var e=Dt(),a=at.identifierPrefix;if(qe){var r=hn,c=pn;r=(c&~(1<<32-Gt(c)-1)).toString(32)+r,a="_"+a+"R_"+r,r=_l++,0<r&&(a+="H"+r.toString(32)),a+="_"}else r=Jg++,a="_"+a+"r_"+r.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:Go,useFormState:tf,useActionState:tf,useOptimistic:function(e){var a=Dt();a.memoizedState=a.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=r,a=qo.bind(null,Ue,!0,r),r.dispatch=a,[e,a]},useMemoCache:Ro,useCacheRefresh:function(){return Dt().memoizedState=n0.bind(null,Ue)},useEffectEvent:function(e){var a=Dt(),r={impl:e};return a.memoizedState=r,function(){if((Je&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},Po={readContext:St,use:jl,useCallback:mf,useContext:St,useEffect:Oo,useImperativeHandle:ff,useInsertionEffect:cf,useLayoutEffect:uf,useMemo:pf,useReducer:El,useRef:lf,useState:function(){return El(En)},useDebugValue:Vo,useDeferredValue:function(e,a){var r=mt();return hf(r,et.memoizedState,e,a)},useTransition:function(){var e=El(En)[0],a=mt().memoizedState;return[typeof e=="boolean"?e:xi(e),a]},useSyncExternalStore:qd,useId:yf,useHostTransitionStatus:Go,useFormState:nf,useActionState:nf,useOptimistic:function(e,a){var r=mt();return Kd(r,et,e,a)},useMemoCache:Ro,useCacheRefresh:bf};Po.useEffectEvent=of;var Sf={readContext:St,use:jl,useCallback:mf,useContext:St,useEffect:Oo,useImperativeHandle:ff,useInsertionEffect:cf,useLayoutEffect:uf,useMemo:pf,useReducer:Uo,useRef:lf,useState:function(){return Uo(En)},useDebugValue:Vo,useDeferredValue:function(e,a){var r=mt();return et===null?Ho(r,e,a):hf(r,et.memoizedState,e,a)},useTransition:function(){var e=Uo(En)[0],a=mt().memoizedState;return[typeof e=="boolean"?e:xi(e),a]},useSyncExternalStore:qd,useId:yf,useHostTransitionStatus:Go,useFormState:sf,useActionState:sf,useOptimistic:function(e,a){var r=mt();return et!==null?Kd(r,et,e,a):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Ro,useCacheRefresh:bf};Sf.useEffectEvent=of;function $o(e,a,r,c){a=e.memoizedState,r=r(c,a),r=r==null?a:b({},a,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fo={enqueueSetState:function(e,a,r){e=e._reactInternals;var c=Kt(),m=Kn(c);m.payload=a,r!=null&&(m.callback=r),a=Jn(e,m,c),a!==null&&(Ht(a,e,c),fi(a,e,c))},enqueueReplaceState:function(e,a,r){e=e._reactInternals;var c=Kt(),m=Kn(c);m.tag=1,m.payload=a,r!=null&&(m.callback=r),a=Jn(e,m,c),a!==null&&(Ht(a,e,c),fi(a,e,c))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var r=Kt(),c=Kn(r);c.tag=2,a!=null&&(c.callback=a),a=Jn(e,c,r),a!==null&&(Ht(a,e,r),fi(a,e,r))}};function _f(e,a,r,c,m,h,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,h,N):a.prototype&&a.prototype.isPureReactComponent?!si(r,c)||!si(m,h):!0}function kf(e,a,r,c){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(r,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(r,c),a.state!==e&&Fo.enqueueReplaceState(a,a.state,null)}function Ra(e,a){var r=a;if("ref"in a){r={};for(var c in a)c!=="ref"&&(r[c]=a[c])}if(e=e.defaultProps){r===a&&(r=b({},r));for(var m in e)r[m]===void 0&&(r[m]=e[m])}return r}function jf(e){ul(e)}function Ef(e){console.error(e)}function Af(e){ul(e)}function Rl(e,a){try{var r=e.onUncaughtError;r(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Df(e,a,r){try{var c=e.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Yo(e,a,r){return r=Kn(r),r.tag=3,r.payload={element:null},r.callback=function(){Rl(e,a)},r}function Mf(e){return e=Kn(e),e.tag=3,e}function Rf(e,a,r,c){var m=r.type.getDerivedStateFromError;if(typeof m=="function"){var h=c.value;e.payload=function(){return m(h)},e.callback=function(){Df(a,r,c)}}var N=r.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){Df(a,r,c),typeof m!="function"&&(na===null?na=new Set([this]):na.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function s0(e,a,r,c,m){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=r.alternate,a!==null&&os(a,r,m,!0),r=$t.current,r!==null){switch(r.tag){case 31:case 13:return an===null?$l():r.alternate===null&&dt===0&&(dt=3),r.flags&=-257,r.flags|=65536,r.lanes=m,c===bl?r.flags|=16384:(a=r.updateQueue,a===null?r.updateQueue=new Set([c]):a.add(c),vc(e,c,m)),!1;case 22:return r.flags|=65536,c===bl?r.flags|=16384:(a=r.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=a):(r=a.retryQueue,r===null?a.retryQueue=new Set([c]):r.add(c)),vc(e,c,m)),!1}throw Error(i(435,r.tag))}return vc(e,c,m),$l(),!1}if(qe)return a=$t.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==fo&&(e=Error(i(422),{cause:c}),ri(Wt(e,r)))):(c!==fo&&(a=Error(i(423),{cause:c}),ri(Wt(a,r))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=Wt(c,r),m=Yo(e.stateNode,c,m),To(e,m),dt!==4&&(dt=2)),!1;var h=Error(i(520),{cause:c});if(h=Wt(h,r),_i===null?_i=[h]:_i.push(h),dt!==4&&(dt=2),a===null)return!0;c=Wt(c,r),r=a;do{switch(r.tag){case 3:return r.flags|=65536,e=m&-m,r.lanes|=e,e=Yo(r.stateNode,c,e),To(r,e),!1;case 1:if(a=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(na===null||!na.has(h))))return r.flags|=65536,m&=-m,r.lanes|=m,m=Mf(m),Rf(m,e,r,c),To(r,m),!1}r=r.return}while(r!==null);return!1}var Zo=Error(i(461)),gt=!1;function _t(e,a,r,c){a.child=e===null?zd(a,null,r,c):Da(a,e.child,r,c)}function If(e,a,r,c,m){r=r.render;var h=a.ref;if("ref"in c){var N={};for(var C in c)C!=="ref"&&(N[C]=c[C])}else N=c;return ka(a),c=Eo(e,a,r,N,h,m),C=Ao(),e!==null&&!gt?(Do(e,a,m),An(e,a,m)):(qe&&C&&co(a),a.flags|=1,_t(e,a,c,m),a.child)}function Uf(e,a,r,c,m){if(e===null){var h=r.type;return typeof h=="function"&&!lo(h)&&h.defaultProps===void 0&&r.compare===null?(a.tag=15,a.type=h,zf(e,a,h,c,m)):(e=pl(r.type,null,c,a,a.mode,m),e.ref=a.ref,e.return=a,a.child=e)}if(h=e.child,!nc(e,m)){var N=h.memoizedProps;if(r=r.compare,r=r!==null?r:si,r(N,c)&&e.ref===a.ref)return An(e,a,m)}return a.flags|=1,e=Cn(h,c),e.ref=a.ref,e.return=a,a.child=e}function zf(e,a,r,c,m){if(e!==null){var h=e.memoizedProps;if(si(h,c)&&e.ref===a.ref)if(gt=!1,a.pendingProps=c=h,nc(e,m))(e.flags&131072)!==0&&(gt=!0);else return a.lanes=e.lanes,An(e,a,m)}return Ko(e,a,r,c,m)}function Lf(e,a,r,c){var m=c.children,h=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(h=h!==null?h.baseLanes|r:r,e!==null){for(c=a.child=e.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~h}else c=0,a.child=null;return Of(e,a,h,r,c)}if((r&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&vl(a,h!==null?h.cachePool:null),h!==null?Vd(a,h):So(),Hd(a);else return c=a.lanes=536870912,Of(e,a,h!==null?h.baseLanes|r:r,r,c)}else h!==null?(vl(a,h.cachePool),Vd(a,h),Qn(),a.memoizedState=null):(e!==null&&vl(a,null),So(),Qn());return _t(e,a,m,r),a.child}function yi(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Of(e,a,r,c,m){var h=yo();return h=h===null?null:{parent:ht._currentValue,pool:h},a.memoizedState={baseLanes:r,cachePool:h},e!==null&&vl(a,null),So(),Hd(a),e!==null&&os(e,a,c,!0),a.childLanes=m,null}function Il(e,a){return a=zl({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function Vf(e,a,r){return Da(a,e.child,null,r),e=Il(a,a.pendingProps),e.flags|=2,Ft(a),a.memoizedState=null,e}function i0(e,a,r){var c=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(qe){if(c.mode==="hidden")return e=Il(a,c),a.lanes=536870912,yi(null,e);if(ko(a),(e=it)?(e=Xm(e,nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Pn!==null?{id:pn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},r=Nd(e),r.return=a,a.child=r,Ct=a,it=null)):e=null,e===null)throw Fn(a);return a.lanes=536870912,null}return Il(a,c)}var h=e.memoizedState;if(h!==null){var N=h.dehydrated;if(ko(a),m)if(a.flags&256)a.flags&=-257,a=Vf(e,a,r);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(i(558));else if(gt||os(e,a,r,!1),m=(r&e.childLanes)!==0,gt||m){if(c=at,c!==null&&(N=ju(c,r),N!==0&&N!==h.retryLane))throw h.retryLane=N,Ta(e,N),Ht(c,e,N),Zo;$l(),a=Vf(e,a,r)}else e=h.treeContext,it=sn(N.nextSibling),Ct=a,qe=!0,$n=null,nn=!1,e!==null&&Cd(a,e),a=Il(a,c),a.flags|=4096;return a}return e=Cn(e.child,{mode:c.mode,children:c.children}),e.ref=a.ref,a.child=e,e.return=a,e}function Ul(e,a){var r=a.ref;if(r===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(e===null||e.ref!==r)&&(a.flags|=4194816)}}function Ko(e,a,r,c,m){return ka(a),r=Eo(e,a,r,c,void 0,m),c=Ao(),e!==null&&!gt?(Do(e,a,m),An(e,a,m)):(qe&&c&&co(a),a.flags|=1,_t(e,a,r,m),a.child)}function Hf(e,a,r,c,m,h){return ka(a),a.updateQueue=null,r=Gd(a,c,r,m),Bd(e),c=Ao(),e!==null&&!gt?(Do(e,a,h),An(e,a,h)):(qe&&c&&co(a),a.flags|=1,_t(e,a,r,h),a.child)}function Bf(e,a,r,c,m){if(ka(a),a.stateNode===null){var h=ss,N=r.contextType;typeof N=="object"&&N!==null&&(h=St(N)),h=new r(c,h),a.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Fo,a.stateNode=h,h._reactInternals=a,h=a.stateNode,h.props=c,h.state=a.memoizedState,h.refs={},No(a),N=r.contextType,h.context=typeof N=="object"&&N!==null?St(N):ss,h.state=a.memoizedState,N=r.getDerivedStateFromProps,typeof N=="function"&&($o(a,r,N,c),h.state=a.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(N=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),N!==h.state&&Fo.enqueueReplaceState(h,h.state,null),pi(a,c,h,m),mi(),h.state=a.memoizedState),typeof h.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(e===null){h=a.stateNode;var C=a.memoizedProps,L=Ra(r,C);h.props=L;var X=h.context,re=r.contextType;N=ss,typeof re=="object"&&re!==null&&(N=St(re));var de=r.getDerivedStateFromProps;re=typeof de=="function"||typeof h.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,re||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(C||X!==N)&&kf(a,h,c,N),Zn=!1;var Q=a.memoizedState;h.state=Q,pi(a,c,h,m),mi(),X=a.memoizedState,C||Q!==X||Zn?(typeof de=="function"&&($o(a,r,de,c),X=a.memoizedState),(L=Zn||_f(a,r,L,c,Q,X,N))?(re||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(a.flags|=4194308)):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=X),h.props=c,h.state=X,h.context=N,c=L):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{h=a.stateNode,wo(e,a),N=a.memoizedProps,re=Ra(r,N),h.props=re,de=a.pendingProps,Q=h.context,X=r.contextType,L=ss,typeof X=="object"&&X!==null&&(L=St(X)),C=r.getDerivedStateFromProps,(X=typeof C=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(N!==de||Q!==L)&&kf(a,h,c,L),Zn=!1,Q=a.memoizedState,h.state=Q,pi(a,c,h,m),mi();var ne=a.memoizedState;N!==de||Q!==ne||Zn||e!==null&&e.dependencies!==null&&xl(e.dependencies)?(typeof C=="function"&&($o(a,r,C,c),ne=a.memoizedState),(re=Zn||_f(a,r,re,c,Q,ne,L)||e!==null&&e.dependencies!==null&&xl(e.dependencies))?(X||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,ne,L),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,ne,L)),typeof h.componentDidUpdate=="function"&&(a.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof h.componentDidUpdate!="function"||N===e.memoizedProps&&Q===e.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&Q===e.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ne),h.props=c,h.state=ne,h.context=L,c=re):(typeof h.componentDidUpdate!="function"||N===e.memoizedProps&&Q===e.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&Q===e.memoizedState||(a.flags|=1024),c=!1)}return h=c,Ul(e,a),c=(a.flags&128)!==0,h||c?(h=a.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:h.render(),a.flags|=1,e!==null&&c?(a.child=Da(a,e.child,null,m),a.child=Da(a,null,r,m)):_t(e,a,r,m),a.memoizedState=h.state,e=a.child):e=An(e,a,m),e}function Gf(e,a,r,c){return Sa(),a.flags|=256,_t(e,a,r,c),a.child}var Jo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xo(e){return{baseLanes:e,cachePool:Ad()}}function Qo(e,a,r){return e=e!==null?e.childLanes&~r:0,a&&(e|=Zt),e}function qf(e,a,r){var c=a.pendingProps,m=!1,h=(a.flags&128)!==0,N;if((N=h)||(N=e!==null&&e.memoizedState===null?!1:(ft.current&2)!==0),N&&(m=!0,a.flags&=-129),N=(a.flags&32)!==0,a.flags&=-33,e===null){if(qe){if(m?Xn(a):Qn(),(e=it)?(e=Xm(e,nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Pn!==null?{id:pn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},r=Nd(e),r.return=a,a.child=r,Ct=a,it=null)):e=null,e===null)throw Fn(a);return Ic(e)?a.lanes=32:a.lanes=536870912,null}var C=c.children;return c=c.fallback,m?(Qn(),m=a.mode,C=zl({mode:"hidden",children:C},m),c=Ca(c,m,r,null),C.return=a,c.return=a,C.sibling=c,a.child=C,c=a.child,c.memoizedState=Xo(r),c.childLanes=Qo(e,N,r),a.memoizedState=Jo,yi(null,c)):(Xn(a),Wo(a,C))}var L=e.memoizedState;if(L!==null&&(C=L.dehydrated,C!==null)){if(h)a.flags&256?(Xn(a),a.flags&=-257,a=ec(e,a,r)):a.memoizedState!==null?(Qn(),a.child=e.child,a.flags|=128,a=null):(Qn(),C=c.fallback,m=a.mode,c=zl({mode:"visible",children:c.children},m),C=Ca(C,m,r,null),C.flags|=2,c.return=a,C.return=a,c.sibling=C,a.child=c,Da(a,e.child,null,r),c=a.child,c.memoizedState=Xo(r),c.childLanes=Qo(e,N,r),a.memoizedState=Jo,a=yi(null,c));else if(Xn(a),Ic(C)){if(N=C.nextSibling&&C.nextSibling.dataset,N)var X=N.dgst;N=X,c=Error(i(419)),c.stack="",c.digest=N,ri({value:c,source:null,stack:null}),a=ec(e,a,r)}else if(gt||os(e,a,r,!1),N=(r&e.childLanes)!==0,gt||N){if(N=at,N!==null&&(c=ju(N,r),c!==0&&c!==L.retryLane))throw L.retryLane=c,Ta(e,c),Ht(N,e,c),Zo;Rc(C)||$l(),a=ec(e,a,r)}else Rc(C)?(a.flags|=192,a.child=e.child,a=null):(e=L.treeContext,it=sn(C.nextSibling),Ct=a,qe=!0,$n=null,nn=!1,e!==null&&Cd(a,e),a=Wo(a,c.children),a.flags|=4096);return a}return m?(Qn(),C=c.fallback,m=a.mode,L=e.child,X=L.sibling,c=Cn(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,X!==null?C=Cn(X,C):(C=Ca(C,m,r,null),C.flags|=2),C.return=a,c.return=a,c.sibling=C,a.child=c,yi(null,c),c=a.child,C=e.child.memoizedState,C===null?C=Xo(r):(m=C.cachePool,m!==null?(L=ht._currentValue,m=m.parent!==L?{parent:L,pool:L}:m):m=Ad(),C={baseLanes:C.baseLanes|r,cachePool:m}),c.memoizedState=C,c.childLanes=Qo(e,N,r),a.memoizedState=Jo,yi(e.child,c)):(Xn(a),r=e.child,e=r.sibling,r=Cn(r,{mode:"visible",children:c.children}),r.return=a,r.sibling=null,e!==null&&(N=a.deletions,N===null?(a.deletions=[e],a.flags|=16):N.push(e)),a.child=r,a.memoizedState=null,r)}function Wo(e,a){return a=zl({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function zl(e,a){return e=Pt(22,e,null,a),e.lanes=0,e}function ec(e,a,r){return Da(a,e.child,null,r),e=Wo(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function Pf(e,a,r){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a),ho(e.return,a,r)}function tc(e,a,r,c,m,h){var N=e.memoizedState;N===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:m,treeForkCount:h}:(N.isBackwards=a,N.rendering=null,N.renderingStartTime=0,N.last=c,N.tail=r,N.tailMode=m,N.treeForkCount=h)}function $f(e,a,r){var c=a.pendingProps,m=c.revealOrder,h=c.tail;c=c.children;var N=ft.current,C=(N&2)!==0;if(C?(N=N&1|2,a.flags|=128):N&=1,oe(ft,N),_t(e,a,c,r),c=qe?li:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pf(e,r,a);else if(e.tag===19)Pf(e,r,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(r=a.child,m=null;r!==null;)e=r.alternate,e!==null&&Cl(e)===null&&(m=r),r=r.sibling;r=m,r===null?(m=a.child,a.child=null):(m=r.sibling,r.sibling=null),tc(a,!1,m,r,h,c);break;case"backwards":case"unstable_legacy-backwards":for(r=null,m=a.child,a.child=null;m!==null;){if(e=m.alternate,e!==null&&Cl(e)===null){a.child=m;break}e=m.sibling,m.sibling=r,r=m,m=e}tc(a,!0,r,null,h,c);break;case"together":tc(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function An(e,a,r){if(e!==null&&(a.dependencies=e.dependencies),ta|=a.lanes,(r&a.childLanes)===0)if(e!==null){if(os(e,a,r,!1),(r&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(i(153));if(a.child!==null){for(e=a.child,r=Cn(e,e.pendingProps),a.child=r,r.return=a;e.sibling!==null;)e=e.sibling,r=r.sibling=Cn(e,e.pendingProps),r.return=a;r.sibling=null}return a.child}function nc(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&xl(e)))}function l0(e,a,r){switch(a.tag){case 3:Ee(a,a.stateNode.containerInfo),Yn(a,ht,e.memoizedState.cache),Sa();break;case 27:case 5:_e(a);break;case 4:Ee(a,a.stateNode.containerInfo);break;case 10:Yn(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,ko(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Xn(a),a.flags|=128,null):(r&a.child.childLanes)!==0?qf(e,a,r):(Xn(a),e=An(e,a,r),e!==null?e.sibling:null);Xn(a);break;case 19:var m=(e.flags&128)!==0;if(c=(r&a.childLanes)!==0,c||(os(e,a,r,!1),c=(r&a.childLanes)!==0),m){if(c)return $f(e,a,r);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),oe(ft,ft.current),c)break;return null;case 22:return a.lanes=0,Lf(e,a,r,a.pendingProps);case 24:Yn(a,ht,e.memoizedState.cache)}return An(e,a,r)}function Ff(e,a,r){if(e!==null)if(e.memoizedProps!==a.pendingProps)gt=!0;else{if(!nc(e,r)&&(a.flags&128)===0)return gt=!1,l0(e,a,r);gt=(e.flags&131072)!==0}else gt=!1,qe&&(a.flags&1048576)!==0&&Td(a,li,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(e=Ea(a.elementType),a.type=e,typeof e=="function")lo(e)?(c=Ra(e,c),a.tag=1,a=Bf(null,a,e,c,r)):(a.tag=0,a=Ko(null,a,e,c,r));else{if(e!=null){var m=e.$$typeof;if(m===Y){a.tag=11,a=If(null,a,e,c,r);break e}else if(m===k){a.tag=14,a=Uf(null,a,e,c,r);break e}}throw a=ae(e)||e,Error(i(306,a,""))}}return a;case 0:return Ko(e,a,a.type,a.pendingProps,r);case 1:return c=a.type,m=Ra(c,a.pendingProps),Bf(e,a,c,m,r);case 3:e:{if(Ee(a,a.stateNode.containerInfo),e===null)throw Error(i(387));c=a.pendingProps;var h=a.memoizedState;m=h.element,wo(e,a),pi(a,c,null,r);var N=a.memoizedState;if(c=N.cache,Yn(a,ht,c),c!==h.cache&&xo(a,[ht],r,!0),mi(),c=N.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:N.cache},a.updateQueue.baseState=h,a.memoizedState=h,a.flags&256){a=Gf(e,a,c,r);break e}else if(c!==m){m=Wt(Error(i(424)),a),ri(m),a=Gf(e,a,c,r);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(it=sn(e.firstChild),Ct=a,qe=!0,$n=null,nn=!0,r=zd(a,null,c,r),a.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Sa(),c===m){a=An(e,a,r);break e}_t(e,a,c,r)}a=a.child}return a;case 26:return Ul(e,a),e===null?(r=ap(a.type,null,a.pendingProps,null))?a.memoizedState=r:qe||(r=a.type,e=a.pendingProps,c=Ql(ie.current).createElement(r),c[Tt]=a,c[It]=e,kt(c,r,e),Nt(c),a.stateNode=c):a.memoizedState=ap(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return _e(a),e===null&&qe&&(c=a.stateNode=ep(a.type,a.pendingProps,ie.current),Ct=a,nn=!0,m=it,la(a.type)?(Uc=m,it=sn(c.firstChild)):it=m),_t(e,a,a.pendingProps.children,r),Ul(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&qe&&((m=c=it)&&(c=z0(c,a.type,a.pendingProps,nn),c!==null?(a.stateNode=c,Ct=a,it=sn(c.firstChild),nn=!1,m=!0):m=!1),m||Fn(a)),_e(a),m=a.type,h=a.pendingProps,N=e!==null?e.memoizedProps:null,c=h.children,Ac(m,h)?c=null:N!==null&&Ac(m,N)&&(a.flags|=32),a.memoizedState!==null&&(m=Eo(e,a,Xg,null,null,r),Ii._currentValue=m),Ul(e,a),_t(e,a,c,r),a.child;case 6:return e===null&&qe&&((e=r=it)&&(r=L0(r,a.pendingProps,nn),r!==null?(a.stateNode=r,Ct=a,it=null,e=!0):e=!1),e||Fn(a)),null;case 13:return qf(e,a,r);case 4:return Ee(a,a.stateNode.containerInfo),c=a.pendingProps,e===null?a.child=Da(a,null,c,r):_t(e,a,c,r),a.child;case 11:return If(e,a,a.type,a.pendingProps,r);case 7:return _t(e,a,a.pendingProps,r),a.child;case 8:return _t(e,a,a.pendingProps.children,r),a.child;case 12:return _t(e,a,a.pendingProps.children,r),a.child;case 10:return c=a.pendingProps,Yn(a,a.type,c.value),_t(e,a,c.children,r),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,ka(a),m=St(m),c=c(m),a.flags|=1,_t(e,a,c,r),a.child;case 14:return Uf(e,a,a.type,a.pendingProps,r);case 15:return zf(e,a,a.type,a.pendingProps,r);case 19:return $f(e,a,r);case 31:return i0(e,a,r);case 22:return Lf(e,a,r,a.pendingProps);case 24:return ka(a),c=St(ht),e===null?(m=yo(),m===null&&(m=at,h=go(),m.pooledCache=h,h.refCount++,h!==null&&(m.pooledCacheLanes|=r),m=h),a.memoizedState={parent:c,cache:m},No(a),Yn(a,ht,m)):((e.lanes&r)!==0&&(wo(e,a),pi(a,null,null,r),mi()),m=e.memoizedState,h=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Yn(a,ht,c)):(c=h.cache,Yn(a,ht,c),c!==m.cache&&xo(a,[ht],r,!0))),_t(e,a,a.pendingProps.children,r),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Dn(e){e.flags|=4}function ac(e,a,r,c,m){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(ym())e.flags|=8192;else throw Aa=bl,bo}else e.flags&=-16777217}function Yf(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!op(a))if(ym())e.flags|=8192;else throw Aa=bl,bo}function Ll(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?Su():536870912,e.lanes|=a,bs|=a)}function bi(e,a){if(!qe)switch(e.tailMode){case"hidden":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function lt(e){var a=e.alternate!==null&&e.alternate.child===e.child,r=0,c=0;if(a)for(var m=e.child;m!==null;)r|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)r|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=r,a}function r0(e,a,r){var c=a.pendingProps;switch(uo(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(a),null;case 1:return lt(a),null;case 3:return r=a.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),kn(ht),ke(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(rs(a)?Dn(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,mo())),lt(a),null;case 26:var m=a.type,h=a.memoizedState;return e===null?(Dn(a),h!==null?(lt(a),Yf(a,h)):(lt(a),ac(a,m,null,c,r))):h?h!==e.memoizedState?(Dn(a),lt(a),Yf(a,h)):(lt(a),a.flags&=-16777217):(e=e.memoizedProps,e!==c&&Dn(a),lt(a),ac(a,m,e,c,r)),null;case 27:if(jt(a),r=ie.current,m=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==c&&Dn(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return lt(a),null}e=te.current,rs(a)?Sd(a):(e=ep(m,c,r),a.stateNode=e,Dn(a))}return lt(a),null;case 5:if(jt(a),m=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==c&&Dn(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return lt(a),null}if(h=te.current,rs(a))Sd(a);else{var N=Ql(ie.current);switch(h){case 1:h=N.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:h=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":h=N.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":h=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":h=N.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof c.is=="string"?N.createElement("select",{is:c.is}):N.createElement("select"),c.multiple?h.multiple=!0:c.size&&(h.size=c.size);break;default:h=typeof c.is=="string"?N.createElement(m,{is:c.is}):N.createElement(m)}}h[Tt]=a,h[It]=c;e:for(N=a.child;N!==null;){if(N.tag===5||N.tag===6)h.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===a)break e;for(;N.sibling===null;){if(N.return===null||N.return===a)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}a.stateNode=h;e:switch(kt(h,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Dn(a)}}return lt(a),ac(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,r),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==c&&Dn(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(e=ie.current,rs(a)){if(e=a.stateNode,r=a.memoizedProps,c=null,m=Ct,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[Tt]=a,e=!!(e.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||qm(e.nodeValue,r)),e||Fn(a,!0)}else e=Ql(e).createTextNode(c),e[Tt]=a,a.stateNode=e}return lt(a),null;case 31:if(r=a.memoizedState,e===null||e.memoizedState!==null){if(c=rs(a),r!==null){if(e===null){if(!c)throw Error(i(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[Tt]=a}else Sa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;lt(a),e=!1}else r=mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return a.flags&256?(Ft(a),a):(Ft(a),null);if((a.flags&128)!==0)throw Error(i(558))}return lt(a),null;case 13:if(c=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=rs(a),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Tt]=a}else Sa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;lt(a),m=!1}else m=mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Ft(a),a):(Ft(a),null)}return Ft(a),(a.flags&128)!==0?(a.lanes=r,a):(r=c!==null,e=e!==null&&e.memoizedState!==null,r&&(c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),h=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==m&&(c.flags|=2048)),r!==e&&r&&(a.child.flags|=8192),Ll(a,a.updateQueue),lt(a),null);case 4:return ke(),e===null&&Sc(a.stateNode.containerInfo),lt(a),null;case 10:return kn(a.type),lt(a),null;case 19:if(K(ft),c=a.memoizedState,c===null)return lt(a),null;if(m=(a.flags&128)!==0,h=c.rendering,h===null)if(m)bi(c,!1);else{if(dt!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(h=Cl(e),h!==null){for(a.flags|=128,bi(c,!1),e=h.updateQueue,a.updateQueue=e,Ll(a,e),a.subtreeFlags=0,e=r,r=a.child;r!==null;)bd(r,e),r=r.sibling;return oe(ft,ft.current&1|2),qe&&Sn(a,c.treeForkCount),a.child}e=e.sibling}c.tail!==null&&Ke()>Gl&&(a.flags|=128,m=!0,bi(c,!1),a.lanes=4194304)}else{if(!m)if(e=Cl(h),e!==null){if(a.flags|=128,m=!0,e=e.updateQueue,a.updateQueue=e,Ll(a,e),bi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!qe)return lt(a),null}else 2*Ke()-c.renderingStartTime>Gl&&r!==536870912&&(a.flags|=128,m=!0,bi(c,!1),a.lanes=4194304);c.isBackwards?(h.sibling=a.child,a.child=h):(e=c.last,e!==null?e.sibling=h:a.child=h,c.last=h)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Ke(),e.sibling=null,r=ft.current,oe(ft,m?r&1|2:r&1),qe&&Sn(a,c.treeForkCount),e):(lt(a),null);case 22:case 23:return Ft(a),_o(),c=a.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(r&536870912)!==0&&(a.flags&128)===0&&(lt(a),a.subtreeFlags&6&&(a.flags|=8192)):lt(a),r=a.updateQueue,r!==null&&Ll(a,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==r&&(a.flags|=2048),e!==null&&K(ja),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),kn(ht),lt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function o0(e,a){switch(uo(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return kn(ht),ke(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return jt(a),null;case 31:if(a.memoizedState!==null){if(Ft(a),a.alternate===null)throw Error(i(340));Sa()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(Ft(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Sa()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return K(ft),null;case 4:return ke(),null;case 10:return kn(a.type),null;case 22:case 23:return Ft(a),_o(),e!==null&&K(ja),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return kn(ht),null;case 25:return null;default:return null}}function Zf(e,a){switch(uo(a),a.tag){case 3:kn(ht),ke();break;case 26:case 27:case 5:jt(a);break;case 4:ke();break;case 31:a.memoizedState!==null&&Ft(a);break;case 13:Ft(a);break;case 19:K(ft);break;case 10:kn(a.type);break;case 22:case 23:Ft(a),_o(),e!==null&&K(ja);break;case 24:kn(ht)}}function Ni(e,a){try{var r=a.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var m=c.next;r=m;do{if((r.tag&e)===e){c=void 0;var h=r.create,N=r.inst;c=h(),N.destroy=c}r=r.next}while(r!==m)}}catch(C){We(a,a.return,C)}}function Wn(e,a,r){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var h=m.next;c=h;do{if((c.tag&e)===e){var N=c.inst,C=N.destroy;if(C!==void 0){N.destroy=void 0,m=a;var L=r,X=C;try{X()}catch(re){We(m,L,re)}}}c=c.next}while(c!==h)}}catch(re){We(a,a.return,re)}}function Kf(e){var a=e.updateQueue;if(a!==null){var r=e.stateNode;try{Od(a,r)}catch(c){We(e,e.return,c)}}}function Jf(e,a,r){r.props=Ra(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(c){We(e,a,c)}}function wi(e,a){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof r=="function"?e.refCleanup=r(c):r.current=c}}catch(m){We(e,a,m)}}function xn(e,a){var r=e.ref,c=e.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(m){We(e,a,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(m){We(e,a,m)}else r.current=null}function Xf(e){var a=e.type,r=e.memoizedProps,c=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break e;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(m){We(e,e.return,m)}}function sc(e,a,r){try{var c=e.stateNode;A0(c,e.type,r,a),c[It]=a}catch(m){We(e,e.return,m)}}function Qf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&la(e.type)||e.tag===4}function ic(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&la(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lc(e,a,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,a):(a=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.appendChild(e),r=r._reactRootContainer,r!=null||a.onclick!==null||(a.onclick=wn));else if(c!==4&&(c===27&&la(e.type)&&(r=e.stateNode,a=null),e=e.child,e!==null))for(lc(e,a,r),e=e.sibling;e!==null;)lc(e,a,r),e=e.sibling}function Ol(e,a,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?r.insertBefore(e,a):r.appendChild(e);else if(c!==4&&(c===27&&la(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ol(e,a,r),e=e.sibling;e!==null;)Ol(e,a,r),e=e.sibling}function Wf(e){var a=e.stateNode,r=e.memoizedProps;try{for(var c=e.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);kt(a,c,r),a[Tt]=e,a[It]=r}catch(h){We(e,e.return,h)}}var Mn=!1,vt=!1,rc=!1,em=typeof WeakSet=="function"?WeakSet:Set,wt=null;function c0(e,a){if(e=e.containerInfo,jc=ir,e=dd(e),Wr(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var m=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var N=0,C=-1,L=-1,X=0,re=0,de=e,Q=null;t:for(;;){for(var ne;de!==r||m!==0&&de.nodeType!==3||(C=N+m),de!==h||c!==0&&de.nodeType!==3||(L=N+c),de.nodeType===3&&(N+=de.nodeValue.length),(ne=de.firstChild)!==null;)Q=de,de=ne;for(;;){if(de===e)break t;if(Q===r&&++X===m&&(C=N),Q===h&&++re===c&&(L=N),(ne=de.nextSibling)!==null)break;de=Q,Q=de.parentNode}de=ne}r=C===-1||L===-1?null:{start:C,end:L}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ec={focusedElem:e,selectionRange:r},ir=!1,wt=a;wt!==null;)if(a=wt,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,wt=e;else for(;wt!==null;){switch(a=wt,h=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)m=e[r],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,r=a,m=h.memoizedProps,h=h.memoizedState,c=r.stateNode;try{var Ne=Ra(r.type,m);e=c.getSnapshotBeforeUpdate(Ne,h),c.__reactInternalSnapshotBeforeUpdate=e}catch(je){We(r,r.return,je)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,r=e.nodeType,r===9)Mc(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=a.sibling,e!==null){e.return=a.return,wt=e;break}wt=a.return}}function tm(e,a,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:In(e,r),c&4&&Ni(5,r);break;case 1:if(In(e,r),c&4)if(e=r.stateNode,a===null)try{e.componentDidMount()}catch(N){We(r,r.return,N)}else{var m=Ra(r.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(m,a,e.__reactInternalSnapshotBeforeUpdate)}catch(N){We(r,r.return,N)}}c&64&&Kf(r),c&512&&wi(r,r.return);break;case 3:if(In(e,r),c&64&&(e=r.updateQueue,e!==null)){if(a=null,r.child!==null)switch(r.child.tag){case 27:case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}try{Od(e,a)}catch(N){We(r,r.return,N)}}break;case 27:a===null&&c&4&&Wf(r);case 26:case 5:In(e,r),a===null&&c&4&&Xf(r),c&512&&wi(r,r.return);break;case 12:In(e,r);break;case 31:In(e,r),c&4&&sm(e,r);break;case 13:In(e,r),c&4&&im(e,r),c&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=v0.bind(null,r),O0(e,r))));break;case 22:if(c=r.memoizedState!==null||Mn,!c){a=a!==null&&a.memoizedState!==null||vt,m=Mn;var h=vt;Mn=c,(vt=a)&&!h?Un(e,r,(r.subtreeFlags&8772)!==0):In(e,r),Mn=m,vt=h}break;case 30:break;default:In(e,r)}}function nm(e){var a=e.alternate;a!==null&&(e.alternate=null,nm(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&zr(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ot=null,zt=!1;function Rn(e,a,r){for(r=r.child;r!==null;)am(e,a,r),r=r.sibling}function am(e,a,r){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Fs,r)}catch{}switch(r.tag){case 26:vt||xn(r,a),Rn(e,a,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:vt||xn(r,a);var c=ot,m=zt;la(r.type)&&(ot=r.stateNode,zt=!1),Rn(e,a,r),Di(r.stateNode),ot=c,zt=m;break;case 5:vt||xn(r,a);case 6:if(c=ot,m=zt,ot=null,Rn(e,a,r),ot=c,zt=m,ot!==null)if(zt)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(r.stateNode)}catch(h){We(r,a,h)}else try{ot.removeChild(r.stateNode)}catch(h){We(r,a,h)}break;case 18:ot!==null&&(zt?(e=ot,Km(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),js(e)):Km(ot,r.stateNode));break;case 4:c=ot,m=zt,ot=r.stateNode.containerInfo,zt=!0,Rn(e,a,r),ot=c,zt=m;break;case 0:case 11:case 14:case 15:Wn(2,r,a),vt||Wn(4,r,a),Rn(e,a,r);break;case 1:vt||(xn(r,a),c=r.stateNode,typeof c.componentWillUnmount=="function"&&Jf(r,a,c)),Rn(e,a,r);break;case 21:Rn(e,a,r);break;case 22:vt=(c=vt)||r.memoizedState!==null,Rn(e,a,r),vt=c;break;default:Rn(e,a,r)}}function sm(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{js(e)}catch(r){We(a,a.return,r)}}}function im(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{js(e)}catch(r){We(a,a.return,r)}}function u0(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new em),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new em),a;default:throw Error(i(435,e.tag))}}function Vl(e,a){var r=u0(e);a.forEach(function(c){if(!r.has(c)){r.add(c);var m=y0.bind(null,e,c);c.then(m,m)}})}function Lt(e,a){var r=a.deletions;if(r!==null)for(var c=0;c<r.length;c++){var m=r[c],h=e,N=a,C=N;e:for(;C!==null;){switch(C.tag){case 27:if(la(C.type)){ot=C.stateNode,zt=!1;break e}break;case 5:ot=C.stateNode,zt=!1;break e;case 3:case 4:ot=C.stateNode.containerInfo,zt=!0;break e}C=C.return}if(ot===null)throw Error(i(160));am(h,N,m),ot=null,zt=!1,h=m.alternate,h!==null&&(h.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)lm(a,e),a=a.sibling}var cn=null;function lm(e,a){var r=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Lt(a,e),Ot(e),c&4&&(Wn(3,e,e.return),Ni(3,e),Wn(5,e,e.return));break;case 1:Lt(a,e),Ot(e),c&512&&(vt||r===null||xn(r,r.return)),c&64&&Mn&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var m=cn;if(Lt(a,e),Ot(e),c&512&&(vt||r===null||xn(r,r.return)),c&4){var h=r!==null?r.memoizedState:null;if(c=e.memoizedState,r===null)if(c===null)if(e.stateNode===null){e:{c=e.type,r=e.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":h=m.getElementsByTagName("title")[0],(!h||h[Ks]||h[Tt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=m.createElement(c),m.head.insertBefore(h,m.querySelector("head > title"))),kt(h,c,r),h[Tt]=e,Nt(h),c=h;break e;case"link":var N=lp("link","href",m).get(c+(r.href||""));if(N){for(var C=0;C<N.length;C++)if(h=N[C],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){N.splice(C,1);break t}}h=m.createElement(c),kt(h,c,r),m.head.appendChild(h);break;case"meta":if(N=lp("meta","content",m).get(c+(r.content||""))){for(C=0;C<N.length;C++)if(h=N[C],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){N.splice(C,1);break t}}h=m.createElement(c),kt(h,c,r),m.head.appendChild(h);break;default:throw Error(i(468,c))}h[Tt]=e,Nt(h),c=h}e.stateNode=c}else rp(m,e.type,e.stateNode);else e.stateNode=ip(m,c,e.memoizedProps);else h!==c?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,c===null?rp(m,e.type,e.stateNode):ip(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&sc(e,e.memoizedProps,r.memoizedProps)}break;case 27:Lt(a,e),Ot(e),c&512&&(vt||r===null||xn(r,r.return)),r!==null&&c&4&&sc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Lt(a,e),Ot(e),c&512&&(vt||r===null||xn(r,r.return)),e.flags&32){m=e.stateNode;try{Xa(m,"")}catch(Ne){We(e,e.return,Ne)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,sc(e,m,r!==null?r.memoizedProps:m)),c&1024&&(rc=!0);break;case 6:if(Lt(a,e),Ot(e),c&4){if(e.stateNode===null)throw Error(i(162));c=e.memoizedProps,r=e.stateNode;try{r.nodeValue=c}catch(Ne){We(e,e.return,Ne)}}break;case 3:if(tr=null,m=cn,cn=Wl(a.containerInfo),Lt(a,e),cn=m,Ot(e),c&4&&r!==null&&r.memoizedState.isDehydrated)try{js(a.containerInfo)}catch(Ne){We(e,e.return,Ne)}rc&&(rc=!1,rm(e));break;case 4:c=cn,cn=Wl(e.stateNode.containerInfo),Lt(a,e),Ot(e),cn=c;break;case 12:Lt(a,e),Ot(e);break;case 31:Lt(a,e),Ot(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Vl(e,c)));break;case 13:Lt(a,e),Ot(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Bl=Ke()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Vl(e,c)));break;case 22:m=e.memoizedState!==null;var L=r!==null&&r.memoizedState!==null,X=Mn,re=vt;if(Mn=X||m,vt=re||L,Lt(a,e),vt=re,Mn=X,Ot(e),c&8192)e:for(a=e.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(r===null||L||Mn||vt||Ia(e)),r=null,a=e;;){if(a.tag===5||a.tag===26){if(r===null){L=r=a;try{if(h=L.stateNode,m)N=h.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{C=L.stateNode;var de=L.memoizedProps.style,Q=de!=null&&de.hasOwnProperty("display")?de.display:null;C.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Ne){We(L,L.return,Ne)}}}else if(a.tag===6){if(r===null){L=a;try{L.stateNode.nodeValue=m?"":L.memoizedProps}catch(Ne){We(L,L.return,Ne)}}}else if(a.tag===18){if(r===null){L=a;try{var ne=L.stateNode;m?Jm(ne,!0):Jm(L.stateNode,!1)}catch(Ne){We(L,L.return,Ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;r===a&&(r=null),a=a.return}r===a&&(r=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=e.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,Vl(e,r))));break;case 19:Lt(a,e),Ot(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Vl(e,c)));break;case 30:break;case 21:break;default:Lt(a,e),Ot(e)}}function Ot(e){var a=e.flags;if(a&2){try{for(var r,c=e.return;c!==null;){if(Qf(c)){r=c;break}c=c.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var m=r.stateNode,h=ic(e);Ol(e,h,m);break;case 5:var N=r.stateNode;r.flags&32&&(Xa(N,""),r.flags&=-33);var C=ic(e);Ol(e,C,N);break;case 3:case 4:var L=r.stateNode.containerInfo,X=ic(e);lc(e,X,L);break;default:throw Error(i(161))}}catch(re){We(e,e.return,re)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function rm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;rm(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function In(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)tm(e,a.alternate,a),a=a.sibling}function Ia(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:Wn(4,a,a.return),Ia(a);break;case 1:xn(a,a.return);var r=a.stateNode;typeof r.componentWillUnmount=="function"&&Jf(a,a.return,r),Ia(a);break;case 27:Di(a.stateNode);case 26:case 5:xn(a,a.return),Ia(a);break;case 22:a.memoizedState===null&&Ia(a);break;case 30:Ia(a);break;default:Ia(a)}e=e.sibling}}function Un(e,a,r){for(r=r&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=e,h=a,N=h.flags;switch(h.tag){case 0:case 11:case 15:Un(m,h,r),Ni(4,h);break;case 1:if(Un(m,h,r),c=h,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(X){We(c,c.return,X)}if(c=h,m=c.updateQueue,m!==null){var C=c.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)Ld(L[m],C)}catch(X){We(c,c.return,X)}}r&&N&64&&Kf(h),wi(h,h.return);break;case 27:Wf(h);case 26:case 5:Un(m,h,r),r&&c===null&&N&4&&Xf(h),wi(h,h.return);break;case 12:Un(m,h,r);break;case 31:Un(m,h,r),r&&N&4&&sm(m,h);break;case 13:Un(m,h,r),r&&N&4&&im(m,h);break;case 22:h.memoizedState===null&&Un(m,h,r),wi(h,h.return);break;case 30:break;default:Un(m,h,r)}a=a.sibling}}function oc(e,a){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&oi(r))}function cc(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&oi(e))}function un(e,a,r,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)om(e,a,r,c),a=a.sibling}function om(e,a,r,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:un(e,a,r,c),m&2048&&Ni(9,a);break;case 1:un(e,a,r,c);break;case 3:un(e,a,r,c),m&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&oi(e)));break;case 12:if(m&2048){un(e,a,r,c),e=a.stateNode;try{var h=a.memoizedProps,N=h.id,C=h.onPostCommit;typeof C=="function"&&C(N,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(L){We(a,a.return,L)}}else un(e,a,r,c);break;case 31:un(e,a,r,c);break;case 13:un(e,a,r,c);break;case 23:break;case 22:h=a.stateNode,N=a.alternate,a.memoizedState!==null?h._visibility&2?un(e,a,r,c):Ti(e,a):h._visibility&2?un(e,a,r,c):(h._visibility|=2,gs(e,a,r,c,(a.subtreeFlags&10256)!==0||!1)),m&2048&&oc(N,a);break;case 24:un(e,a,r,c),m&2048&&cc(a.alternate,a);break;default:un(e,a,r,c)}}function gs(e,a,r,c,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var h=e,N=a,C=r,L=c,X=N.flags;switch(N.tag){case 0:case 11:case 15:gs(h,N,C,L,m),Ni(8,N);break;case 23:break;case 22:var re=N.stateNode;N.memoizedState!==null?re._visibility&2?gs(h,N,C,L,m):Ti(h,N):(re._visibility|=2,gs(h,N,C,L,m)),m&&X&2048&&oc(N.alternate,N);break;case 24:gs(h,N,C,L,m),m&&X&2048&&cc(N.alternate,N);break;default:gs(h,N,C,L,m)}a=a.sibling}}function Ti(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var r=e,c=a,m=c.flags;switch(c.tag){case 22:Ti(r,c),m&2048&&oc(c.alternate,c);break;case 24:Ti(r,c),m&2048&&cc(c.alternate,c);break;default:Ti(r,c)}a=a.sibling}}var Ci=8192;function vs(e,a,r){if(e.subtreeFlags&Ci)for(e=e.child;e!==null;)cm(e,a,r),e=e.sibling}function cm(e,a,r){switch(e.tag){case 26:vs(e,a,r),e.flags&Ci&&e.memoizedState!==null&&J0(r,cn,e.memoizedState,e.memoizedProps);break;case 5:vs(e,a,r);break;case 3:case 4:var c=cn;cn=Wl(e.stateNode.containerInfo),vs(e,a,r),cn=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Ci,Ci=16777216,vs(e,a,r),Ci=c):vs(e,a,r));break;default:vs(e,a,r)}}function um(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function Si(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var c=a[r];wt=c,fm(c,e)}um(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dm(e),e=e.sibling}function dm(e){switch(e.tag){case 0:case 11:case 15:Si(e),e.flags&2048&&Wn(9,e,e.return);break;case 3:Si(e);break;case 12:Si(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,Hl(e)):Si(e);break;default:Si(e)}}function Hl(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var c=a[r];wt=c,fm(c,e)}um(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:Wn(8,a,a.return),Hl(a);break;case 22:r=a.stateNode,r._visibility&2&&(r._visibility&=-3,Hl(a));break;default:Hl(a)}e=e.sibling}}function fm(e,a){for(;wt!==null;){var r=wt;switch(r.tag){case 0:case 11:case 15:Wn(8,r,a);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:oi(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,wt=c;else e:for(r=e;wt!==null;){c=wt;var m=c.sibling,h=c.return;if(nm(c),c===r){wt=null;break e}if(m!==null){m.return=h,wt=m;break e}wt=h}}}var d0={getCacheForType:function(e){var a=St(ht),r=a.data.get(e);return r===void 0&&(r=e(),a.data.set(e,r)),r},cacheSignal:function(){return St(ht).controller.signal}},f0=typeof WeakMap=="function"?WeakMap:Map,Je=0,at=null,Oe=null,Be=0,Qe=0,Yt=null,ea=!1,ys=!1,uc=!1,zn=0,dt=0,ta=0,Ua=0,dc=0,Zt=0,bs=0,_i=null,Vt=null,fc=!1,Bl=0,mm=0,Gl=1/0,ql=null,na=null,bt=0,aa=null,Ns=null,Ln=0,mc=0,pc=null,pm=null,ki=0,hc=null;function Kt(){return(Je&2)!==0&&Be!==0?Be&-Be:O.T!==null?Nc():Eu()}function hm(){if(Zt===0)if((Be&536870912)===0||qe){var e=Xi;Xi<<=1,(Xi&3932160)===0&&(Xi=262144),Zt=e}else Zt=536870912;return e=$t.current,e!==null&&(e.flags|=32),Zt}function Ht(e,a,r){(e===at&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)&&(ws(e,0),sa(e,Be,Zt,!1)),Zs(e,r),((Je&2)===0||e!==at)&&(e===at&&((Je&2)===0&&(Ua|=r),dt===4&&sa(e,Be,Zt,!1)),gn(e))}function xm(e,a,r){if((Je&6)!==0)throw Error(i(327));var c=!r&&(a&127)===0&&(a&e.expiredLanes)===0||Ys(e,a),m=c?h0(e,a):gc(e,a,!0),h=c;do{if(m===0){ys&&!c&&sa(e,a,0,!1);break}else{if(r=e.current.alternate,h&&!m0(r)){m=gc(e,a,!1),h=!1;continue}if(m===2){if(h=a,e.errorRecoveryDisabledLanes&h)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){a=N;e:{var C=e;m=_i;var L=C.current.memoizedState.isDehydrated;if(L&&(ws(C,N).flags|=256),N=gc(C,N,!1),N!==2){if(uc&&!L){C.errorRecoveryDisabledLanes|=h,Ua|=h,m=4;break e}h=Vt,Vt=m,h!==null&&(Vt===null?Vt=h:Vt.push.apply(Vt,h))}m=N}if(h=!1,m!==2)continue}}if(m===1){ws(e,0),sa(e,a,0,!0);break}e:{switch(c=e,h=m,h){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:sa(c,a,Zt,!ea);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=Bl+300-Ke(),10<m)){if(sa(c,a,Zt,!ea),Wi(c,0,!0)!==0)break e;Ln=a,c.timeoutHandle=Ym(gm.bind(null,c,r,Vt,ql,fc,a,Zt,Ua,bs,ea,h,"Throttled",-0,0),m);break e}gm(c,r,Vt,ql,fc,a,Zt,Ua,bs,ea,h,null,-0,0)}}break}while(!0);gn(e)}function gm(e,a,r,c,m,h,N,C,L,X,re,de,Q,ne){if(e.timeoutHandle=-1,de=a.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wn},cm(a,h,de);var Ne=(h&62914560)===h?Bl-Ke():(h&4194048)===h?mm-Ke():0;if(Ne=X0(de,Ne),Ne!==null){Ln=h,e.cancelPendingCommit=Ne(Sm.bind(null,e,a,h,r,c,m,N,C,L,re,de,null,Q,ne)),sa(e,h,N,!X);return}}Sm(e,a,h,r,c,m,N,C,L)}function m0(e){for(var a=e;;){var r=a.tag;if((r===0||r===11||r===15)&&a.flags&16384&&(r=a.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var m=r[c],h=m.getSnapshot;m=m.value;try{if(!qt(h(),m))return!1}catch{return!1}}if(r=a.child,a.subtreeFlags&16384&&r!==null)r.return=a,a=r;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function sa(e,a,r,c){a&=~dc,a&=~Ua,e.suspendedLanes|=a,e.pingedLanes&=~a,c&&(e.warmLanes|=a),c=e.expirationTimes;for(var m=a;0<m;){var h=31-Gt(m),N=1<<h;c[h]=-1,m&=~N}r!==0&&_u(e,r,a)}function Pl(){return(Je&6)===0?(ji(0),!1):!0}function xc(){if(Oe!==null){if(Qe===0)var e=Oe.return;else e=Oe,_n=_a=null,Mo(e),fs=null,ui=0,e=Oe;for(;e!==null;)Zf(e.alternate,e),e=e.return;Oe=null}}function ws(e,a){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,R0(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ln=0,xc(),at=e,Oe=r=Cn(e.current,null),Be=a,Qe=0,Yt=null,ea=!1,ys=Ys(e,a),uc=!1,bs=Zt=dc=Ua=ta=dt=0,Vt=_i=null,fc=!1,(a&8)!==0&&(a|=a&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=a;0<c;){var m=31-Gt(c),h=1<<m;a|=e[m],c&=~h}return zn=a,dl(),r}function vm(e,a){Ue=null,O.H=vi,a===ds||a===yl?(a=Rd(),Qe=3):a===bo?(a=Rd(),Qe=4):Qe=a===Zo?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Yt=a,Oe===null&&(dt=1,Rl(e,Wt(a,e.current)))}function ym(){var e=$t.current;return e===null?!0:(Be&4194048)===Be?an===null:(Be&62914560)===Be||(Be&536870912)!==0?e===an:!1}function bm(){var e=O.H;return O.H=vi,e===null?vi:e}function Nm(){var e=O.A;return O.A=d0,e}function $l(){dt=4,ea||(Be&4194048)!==Be&&$t.current!==null||(ys=!0),(ta&134217727)===0&&(Ua&134217727)===0||at===null||sa(at,Be,Zt,!1)}function gc(e,a,r){var c=Je;Je|=2;var m=bm(),h=Nm();(at!==e||Be!==a)&&(ql=null,ws(e,a)),a=!1;var N=dt;e:do try{if(Qe!==0&&Oe!==null){var C=Oe,L=Yt;switch(Qe){case 8:xc(),N=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(a=!0);var X=Qe;if(Qe=0,Yt=null,Ts(e,C,L,X),r&&ys){N=0;break e}break;default:X=Qe,Qe=0,Yt=null,Ts(e,C,L,X)}}p0(),N=dt;break}catch(re){vm(e,re)}while(!0);return a&&e.shellSuspendCounter++,_n=_a=null,Je=c,O.H=m,O.A=h,Oe===null&&(at=null,Be=0,dl()),N}function p0(){for(;Oe!==null;)wm(Oe)}function h0(e,a){var r=Je;Je|=2;var c=bm(),m=Nm();at!==e||Be!==a?(ql=null,Gl=Ke()+500,ws(e,a)):ys=Ys(e,a);e:do try{if(Qe!==0&&Oe!==null){a=Oe;var h=Yt;t:switch(Qe){case 1:Qe=0,Yt=null,Ts(e,a,h,1);break;case 2:case 9:if(Dd(h)){Qe=0,Yt=null,Tm(a);break}a=function(){Qe!==2&&Qe!==9||at!==e||(Qe=7),gn(e)},h.then(a,a);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Dd(h)?(Qe=0,Yt=null,Tm(a)):(Qe=0,Yt=null,Ts(e,a,h,7));break;case 5:var N=null;switch(Oe.tag){case 26:N=Oe.memoizedState;case 5:case 27:var C=Oe;if(N?op(N):C.stateNode.complete){Qe=0,Yt=null;var L=C.sibling;if(L!==null)Oe=L;else{var X=C.return;X!==null?(Oe=X,Fl(X)):Oe=null}break t}}Qe=0,Yt=null,Ts(e,a,h,5);break;case 6:Qe=0,Yt=null,Ts(e,a,h,6);break;case 8:xc(),dt=6;break e;default:throw Error(i(462))}}x0();break}catch(re){vm(e,re)}while(!0);return _n=_a=null,O.H=c,O.A=m,Je=r,Oe!==null?0:(at=null,Be=0,dl(),dt)}function x0(){for(;Oe!==null&&!pe();)wm(Oe)}function wm(e){var a=Ff(e.alternate,e,zn);e.memoizedProps=e.pendingProps,a===null?Fl(e):Oe=a}function Tm(e){var a=e,r=a.alternate;switch(a.tag){case 15:case 0:a=Hf(r,a,a.pendingProps,a.type,void 0,Be);break;case 11:a=Hf(r,a,a.pendingProps,a.type.render,a.ref,Be);break;case 5:Mo(a);default:Zf(r,a),a=Oe=bd(a,zn),a=Ff(r,a,zn)}e.memoizedProps=e.pendingProps,a===null?Fl(e):Oe=a}function Ts(e,a,r,c){_n=_a=null,Mo(a),fs=null,ui=0;var m=a.return;try{if(s0(e,m,a,r,Be)){dt=1,Rl(e,Wt(r,e.current)),Oe=null;return}}catch(h){if(m!==null)throw Oe=m,h;dt=1,Rl(e,Wt(r,e.current)),Oe=null;return}a.flags&32768?(qe||c===1?e=!0:ys||(Be&536870912)!==0?e=!1:(ea=e=!0,(c===2||c===9||c===3||c===6)&&(c=$t.current,c!==null&&c.tag===13&&(c.flags|=16384))),Cm(a,e)):Fl(a)}function Fl(e){var a=e;do{if((a.flags&32768)!==0){Cm(a,ea);return}e=a.return;var r=r0(a.alternate,a,zn);if(r!==null){Oe=r;return}if(a=a.sibling,a!==null){Oe=a;return}Oe=a=e}while(a!==null);dt===0&&(dt=5)}function Cm(e,a){do{var r=o0(e.alternate,e);if(r!==null){r.flags&=32767,Oe=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!a&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=r}while(e!==null);dt=6,Oe=null}function Sm(e,a,r,c,m,h,N,C,L){e.cancelPendingCommit=null;do Yl();while(bt!==0);if((Je&6)!==0)throw Error(i(327));if(a!==null){if(a===e.current)throw Error(i(177));if(h=a.lanes|a.childLanes,h|=so,Kx(e,r,h,N,C,L),e===at&&(Oe=at=null,Be=0),Ns=a,aa=e,Ln=r,mc=h,pc=m,pm=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,b0(Pa,function(){return Am(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=O.T,O.T=null,m=q.p,q.p=2,N=Je,Je|=4;try{c0(e,a,r)}finally{Je=N,q.p=m,O.T=c}}bt=1,_m(),km(),jm()}}function _m(){if(bt===1){bt=0;var e=aa,a=Ns,r=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||r){r=O.T,O.T=null;var c=q.p;q.p=2;var m=Je;Je|=4;try{lm(a,e);var h=Ec,N=dd(e.containerInfo),C=h.focusedElem,L=h.selectionRange;if(N!==C&&C&&C.ownerDocument&&ud(C.ownerDocument.documentElement,C)){if(L!==null&&Wr(C)){var X=L.start,re=L.end;if(re===void 0&&(re=X),"selectionStart"in C)C.selectionStart=X,C.selectionEnd=Math.min(re,C.value.length);else{var de=C.ownerDocument||document,Q=de&&de.defaultView||window;if(Q.getSelection){var ne=Q.getSelection(),Ne=C.textContent.length,je=Math.min(L.start,Ne),nt=L.end===void 0?je:Math.min(L.end,Ne);!ne.extend&&je>nt&&(N=nt,nt=je,je=N);var F=cd(C,je),H=cd(C,nt);if(F&&H&&(ne.rangeCount!==1||ne.anchorNode!==F.node||ne.anchorOffset!==F.offset||ne.focusNode!==H.node||ne.focusOffset!==H.offset)){var J=de.createRange();J.setStart(F.node,F.offset),ne.removeAllRanges(),je>nt?(ne.addRange(J),ne.extend(H.node,H.offset)):(J.setEnd(H.node,H.offset),ne.addRange(J))}}}}for(de=[],ne=C;ne=ne.parentNode;)ne.nodeType===1&&de.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<de.length;C++){var ue=de[C];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}ir=!!jc,Ec=jc=null}finally{Je=m,q.p=c,O.T=r}}e.current=a,bt=2}}function km(){if(bt===2){bt=0;var e=aa,a=Ns,r=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||r){r=O.T,O.T=null;var c=q.p;q.p=2;var m=Je;Je|=4;try{tm(e,a.alternate,a)}finally{Je=m,q.p=c,O.T=r}}bt=3}}function jm(){if(bt===4||bt===3){bt=0,pt();var e=aa,a=Ns,r=Ln,c=pm;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?bt=5:(bt=0,Ns=aa=null,Em(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(na=null),Ir(r),a=a.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Fs,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=O.T,m=q.p,q.p=2,O.T=null;try{for(var h=e.onRecoverableError,N=0;N<c.length;N++){var C=c[N];h(C.value,{componentStack:C.stack})}}finally{O.T=a,q.p=m}}(Ln&3)!==0&&Yl(),gn(e),m=e.pendingLanes,(r&261930)!==0&&(m&42)!==0?e===hc?ki++:(ki=0,hc=e):ki=0,ji(0)}}function Em(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,oi(a)))}function Yl(){return _m(),km(),jm(),Am()}function Am(){if(bt!==5)return!1;var e=aa,a=mc;mc=0;var r=Ir(Ln),c=O.T,m=q.p;try{q.p=32>r?32:r,O.T=null,r=pc,pc=null;var h=aa,N=Ln;if(bt=0,Ns=aa=null,Ln=0,(Je&6)!==0)throw Error(i(331));var C=Je;if(Je|=4,dm(h.current),om(h,h.current,N,r),Je=C,ji(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Fs,h)}catch{}return!0}finally{q.p=m,O.T=c,Em(e,a)}}function Dm(e,a,r){a=Wt(r,a),a=Yo(e.stateNode,a,2),e=Jn(e,a,2),e!==null&&(Zs(e,2),gn(e))}function We(e,a,r){if(e.tag===3)Dm(e,e,r);else for(;a!==null;){if(a.tag===3){Dm(a,e,r);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(na===null||!na.has(c))){e=Wt(r,e),r=Mf(2),c=Jn(a,r,2),c!==null&&(Rf(r,c,a,e),Zs(c,2),gn(c));break}}a=a.return}}function vc(e,a,r){var c=e.pingCache;if(c===null){c=e.pingCache=new f0;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(r)||(uc=!0,m.add(r),e=g0.bind(null,e,a,r),a.then(e,e))}function g0(e,a,r){var c=e.pingCache;c!==null&&c.delete(a),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,at===e&&(Be&r)===r&&(dt===4||dt===3&&(Be&62914560)===Be&&300>Ke()-Bl?(Je&2)===0&&ws(e,0):dc|=r,bs===Be&&(bs=0)),gn(e)}function Mm(e,a){a===0&&(a=Su()),e=Ta(e,a),e!==null&&(Zs(e,a),gn(e))}function v0(e){var a=e.memoizedState,r=0;a!==null&&(r=a.retryLane),Mm(e,r)}function y0(e,a){var r=0;switch(e.tag){case 31:case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(r=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),Mm(e,r)}function b0(e,a){return se(e,a)}var Zl=null,Cs=null,yc=!1,Kl=!1,bc=!1,ia=0;function gn(e){e!==Cs&&e.next===null&&(Cs===null?Zl=Cs=e:Cs=Cs.next=e),Kl=!0,yc||(yc=!0,w0())}function ji(e,a){if(!bc&&Kl){bc=!0;do for(var r=!1,c=Zl;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var h=0;else{var N=c.suspendedLanes,C=c.pingedLanes;h=(1<<31-Gt(42|e)+1)-1,h&=m&~(N&~C),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,zm(c,h))}else h=Be,h=Wi(c,c===at?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||Ys(c,h)||(r=!0,zm(c,h));c=c.next}while(r);bc=!1}}function N0(){Rm()}function Rm(){Kl=yc=!1;var e=0;ia!==0&&M0()&&(e=ia);for(var a=Ke(),r=null,c=Zl;c!==null;){var m=c.next,h=Im(c,a);h===0?(c.next=null,r===null?Zl=m:r.next=m,m===null&&(Cs=r)):(r=c,(e!==0||(h&3)!==0)&&(Kl=!0)),c=m}bt!==0&&bt!==5||ji(e),ia!==0&&(ia=0)}function Im(e,a){for(var r=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var N=31-Gt(h),C=1<<N,L=m[N];L===-1?((C&r)===0||(C&c)!==0)&&(m[N]=Zx(C,a)):L<=a&&(e.expiredLanes|=C),h&=~C}if(a=at,r=Be,r=Wi(e,e===a?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,r===0||e===a&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&ce(c),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Ys(e,r)){if(a=r&-r,a===e.callbackPriority)return a;switch(c!==null&&ce(c),Ir(r)){case 2:case 8:r=mn;break;case 32:r=Pa;break;case 268435456:r=Cu;break;default:r=Pa}return c=Um.bind(null,e),r=se(r,c),e.callbackPriority=a,e.callbackNode=r,a}return c!==null&&c!==null&&ce(c),e.callbackPriority=2,e.callbackNode=null,2}function Um(e,a){if(bt!==0&&bt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Yl()&&e.callbackNode!==r)return null;var c=Be;return c=Wi(e,e===at?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(xm(e,c,a),Im(e,Ke()),e.callbackNode!=null&&e.callbackNode===r?Um.bind(null,e):null)}function zm(e,a){if(Yl())return null;xm(e,a,!0)}function w0(){I0(function(){(Je&6)!==0?se(ga,N0):Rm()})}function Nc(){if(ia===0){var e=cs;e===0&&(e=Ji,Ji<<=1,(Ji&261888)===0&&(Ji=256)),ia=e}return ia}function Lm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:al(""+e)}function Om(e,a){var r=a.ownerDocument.createElement("input");return r.name=a.name,r.value=a.value,e.id&&r.setAttribute("form",e.id),a.parentNode.insertBefore(r,a),e=new FormData(e),r.parentNode.removeChild(r),e}function T0(e,a,r,c,m){if(a==="submit"&&r&&r.stateNode===m){var h=Lm((m[It]||null).action),N=c.submitter;N&&(a=(a=N[It]||null)?Lm(a.formAction):N.getAttribute("formAction"),a!==null&&(h=a,N=null));var C=new rl("action","action",null,c,m);e.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ia!==0){var L=N?Om(m,N):new FormData(m);Bo(r,{pending:!0,data:L,method:m.method,action:h},null,L)}}else typeof h=="function"&&(C.preventDefault(),L=N?Om(m,N):new FormData(m),Bo(r,{pending:!0,data:L,method:m.method,action:h},h,L))},currentTarget:m}]})}}for(var wc=0;wc<ao.length;wc++){var Tc=ao[wc],C0=Tc.toLowerCase(),S0=Tc[0].toUpperCase()+Tc.slice(1);on(C0,"on"+S0)}on(pd,"onAnimationEnd"),on(hd,"onAnimationIteration"),on(xd,"onAnimationStart"),on("dblclick","onDoubleClick"),on("focusin","onFocus"),on("focusout","onBlur"),on(Bg,"onTransitionRun"),on(Gg,"onTransitionStart"),on(qg,"onTransitionCancel"),on(gd,"onTransitionEnd"),Ka("onMouseEnter",["mouseout","mouseover"]),Ka("onMouseLeave",["mouseout","mouseover"]),Ka("onPointerEnter",["pointerout","pointerover"]),Ka("onPointerLeave",["pointerout","pointerover"]),ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ya("onBeforeInput",["compositionend","keypress","textInput","paste"]),ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ei));function Vm(e,a){a=(a&4)!==0;for(var r=0;r<e.length;r++){var c=e[r],m=c.event;c=c.listeners;e:{var h=void 0;if(a)for(var N=c.length-1;0<=N;N--){var C=c[N],L=C.instance,X=C.currentTarget;if(C=C.listener,L!==h&&m.isPropagationStopped())break e;h=C,m.currentTarget=X;try{h(m)}catch(re){ul(re)}m.currentTarget=null,h=L}else for(N=0;N<c.length;N++){if(C=c[N],L=C.instance,X=C.currentTarget,C=C.listener,L!==h&&m.isPropagationStopped())break e;h=C,m.currentTarget=X;try{h(m)}catch(re){ul(re)}m.currentTarget=null,h=L}}}}function Ve(e,a){var r=a[Ur];r===void 0&&(r=a[Ur]=new Set);var c=e+"__bubble";r.has(c)||(Hm(a,e,2,!1),r.add(c))}function Cc(e,a,r){var c=0;a&&(c|=4),Hm(r,e,c,a)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Sc(e){if(!e[Jl]){e[Jl]=!0,Mu.forEach(function(r){r!=="selectionchange"&&(_0.has(r)||Cc(r,!1,e),Cc(r,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[Jl]||(a[Jl]=!0,Cc("selectionchange",!1,a))}}function Hm(e,a,r,c){switch(hp(a)){case 2:var m=ev;break;case 8:m=tv;break;default:m=Hc}r=m.bind(null,a,r,e),m=void 0,!Pr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(a,r,{capture:!0,passive:m}):e.addEventListener(a,r,!0):m!==void 0?e.addEventListener(a,r,{passive:m}):e.addEventListener(a,r,!1)}function _c(e,a,r,c,m){var h=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var C=c.stateNode.containerInfo;if(C===m)break;if(N===4)for(N=c.return;N!==null;){var L=N.tag;if((L===3||L===4)&&N.stateNode.containerInfo===m)return;N=N.return}for(;C!==null;){if(N=Fa(C),N===null)return;if(L=N.tag,L===5||L===6||L===26||L===27){c=h=N;continue e}C=C.parentNode}}c=c.return}Pu(function(){var X=h,re=Gr(r),de=[];e:{var Q=vd.get(e);if(Q!==void 0){var ne=rl,Ne=e;switch(e){case"keypress":if(il(r)===0)break e;case"keydown":case"keyup":ne=yg;break;case"focusin":Ne="focus",ne=Zr;break;case"focusout":Ne="blur",ne=Zr;break;case"beforeblur":case"afterblur":ne=Zr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=wg;break;case pd:case hd:case xd:ne=ug;break;case gd:ne=Cg;break;case"scroll":case"scrollend":ne=ig;break;case"wheel":ne=_g;break;case"copy":case"cut":case"paste":ne=fg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Ku;break;case"toggle":case"beforetoggle":ne=jg}var je=(a&4)!==0,nt=!je&&(e==="scroll"||e==="scrollend"),F=je?Q!==null?Q+"Capture":null:Q;je=[];for(var H=X,J;H!==null;){var ue=H;if(J=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||J===null||F===null||(ue=Xs(H,F),ue!=null&&je.push(Ai(H,ue,J))),nt)break;H=H.return}0<je.length&&(Q=new ne(Q,Ne,null,r,re),de.push({event:Q,listeners:je}))}}if((a&7)===0){e:{if(Q=e==="mouseover"||e==="pointerover",ne=e==="mouseout"||e==="pointerout",Q&&r!==Br&&(Ne=r.relatedTarget||r.fromElement)&&(Fa(Ne)||Ne[$a]))break e;if((ne||Q)&&(Q=re.window===re?re:(Q=re.ownerDocument)?Q.defaultView||Q.parentWindow:window,ne?(Ne=r.relatedTarget||r.toElement,ne=X,Ne=Ne?Fa(Ne):null,Ne!==null&&(nt=u(Ne),je=Ne.tag,Ne!==nt||je!==5&&je!==27&&je!==6)&&(Ne=null)):(ne=null,Ne=X),ne!==Ne)){if(je=Yu,ue="onMouseLeave",F="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(je=Ku,ue="onPointerLeave",F="onPointerEnter",H="pointer"),nt=ne==null?Q:Js(ne),J=Ne==null?Q:Js(Ne),Q=new je(ue,H+"leave",ne,r,re),Q.target=nt,Q.relatedTarget=J,ue=null,Fa(re)===X&&(je=new je(F,H+"enter",Ne,r,re),je.target=J,je.relatedTarget=nt,ue=je),nt=ue,ne&&Ne)t:{for(je=k0,F=ne,H=Ne,J=0,ue=F;ue;ue=je(ue))J++;ue=0;for(var Se=H;Se;Se=je(Se))ue++;for(;0<J-ue;)F=je(F),J--;for(;0<ue-J;)H=je(H),ue--;for(;J--;){if(F===H||H!==null&&F===H.alternate){je=F;break t}F=je(F),H=je(H)}je=null}else je=null;ne!==null&&Bm(de,Q,ne,je,!1),Ne!==null&&nt!==null&&Bm(de,nt,Ne,je,!0)}}e:{if(Q=X?Js(X):window,ne=Q.nodeName&&Q.nodeName.toLowerCase(),ne==="select"||ne==="input"&&Q.type==="file")var Fe=ad;else if(td(Q))if(sd)Fe=Og;else{Fe=zg;var Te=Ug}else ne=Q.nodeName,!ne||ne.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?X&&Hr(X.elementType)&&(Fe=ad):Fe=Lg;if(Fe&&(Fe=Fe(e,X))){nd(de,Fe,r,re);break e}Te&&Te(e,Q,X),e==="focusout"&&X&&Q.type==="number"&&X.memoizedProps.value!=null&&Vr(Q,"number",Q.value)}switch(Te=X?Js(X):window,e){case"focusin":(td(Te)||Te.contentEditable==="true")&&(ts=Te,eo=X,ii=null);break;case"focusout":ii=eo=ts=null;break;case"mousedown":to=!0;break;case"contextmenu":case"mouseup":case"dragend":to=!1,fd(de,r,re);break;case"selectionchange":if(Hg)break;case"keydown":case"keyup":fd(de,r,re)}var ze;if(Jr)e:{switch(e){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else es?Wu(e,r)&&(Ge="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ge="onCompositionStart");Ge&&(Ju&&r.locale!=="ko"&&(es||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&es&&(ze=$u()):(qn=re,$r="value"in qn?qn.value:qn.textContent,es=!0)),Te=Xl(X,Ge),0<Te.length&&(Ge=new Zu(Ge,e,null,r,re),de.push({event:Ge,listeners:Te}),ze?Ge.data=ze:(ze=ed(r),ze!==null&&(Ge.data=ze)))),(ze=Ag?Dg(e,r):Mg(e,r))&&(Ge=Xl(X,"onBeforeInput"),0<Ge.length&&(Te=new Zu("onBeforeInput","beforeinput",null,r,re),de.push({event:Te,listeners:Ge}),Te.data=ze)),T0(de,e,X,r,re)}Vm(de,a)})}function Ai(e,a,r){return{instance:e,listener:a,currentTarget:r}}function Xl(e,a){for(var r=a+"Capture",c=[];e!==null;){var m=e,h=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||h===null||(m=Xs(e,r),m!=null&&c.unshift(Ai(e,m,h)),m=Xs(e,a),m!=null&&c.push(Ai(e,m,h))),e.tag===3)return c;e=e.return}return[]}function k0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bm(e,a,r,c,m){for(var h=a._reactName,N=[];r!==null&&r!==c;){var C=r,L=C.alternate,X=C.stateNode;if(C=C.tag,L!==null&&L===c)break;C!==5&&C!==26&&C!==27||X===null||(L=X,m?(X=Xs(r,h),X!=null&&N.unshift(Ai(r,X,L))):m||(X=Xs(r,h),X!=null&&N.push(Ai(r,X,L)))),r=r.return}N.length!==0&&e.push({event:a,listeners:N})}var j0=/\r\n?/g,E0=/\u0000|\uFFFD/g;function Gm(e){return(typeof e=="string"?e:""+e).replace(j0,`
`).replace(E0,"")}function qm(e,a){return a=Gm(a),Gm(e)===a}function tt(e,a,r,c,m,h){switch(r){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Xa(e,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Xa(e,""+c);break;case"className":tl(e,"class",c);break;case"tabIndex":tl(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":tl(e,r,c);break;case"style":Gu(e,c,h);break;case"data":if(a!=="object"){tl(e,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||r!=="href")){e.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=al(""+c),e.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(a!=="input"&&tt(e,a,"name",m.name,m,null),tt(e,a,"formEncType",m.formEncType,m,null),tt(e,a,"formMethod",m.formMethod,m,null),tt(e,a,"formTarget",m.formTarget,m,null)):(tt(e,a,"encType",m.encType,m,null),tt(e,a,"method",m.method,m,null),tt(e,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=al(""+c),e.setAttribute(r,c);break;case"onClick":c!=null&&(e.onclick=wn);break;case"onScroll":c!=null&&Ve("scroll",e);break;case"onScrollEnd":c!=null&&Ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(r=c.__html,r!=null){if(m.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}r=al(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""+c):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":c===!0?e.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,c):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(r,c):e.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(r):e.setAttribute(r,c);break;case"popover":Ve("beforetoggle",e),Ve("toggle",e),el(e,"popover",c);break;case"xlinkActuate":Nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Nn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Nn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Nn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Nn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":el(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=ag.get(r)||r,el(e,r,c))}}function kc(e,a,r,c,m,h){switch(r){case"style":Gu(e,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(r=c.__html,r!=null){if(m.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"children":typeof c=="string"?Xa(e,c):(typeof c=="number"||typeof c=="bigint")&&Xa(e,""+c);break;case"onScroll":c!=null&&Ve("scroll",e);break;case"onScrollEnd":c!=null&&Ve("scrollend",e);break;case"onClick":c!=null&&(e.onclick=wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ru.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(m=r.endsWith("Capture"),a=r.slice(2,m?r.length-7:void 0),h=e[It]||null,h=h!=null?h[r]:null,typeof h=="function"&&e.removeEventListener(a,h,m),typeof c=="function")){typeof h!="function"&&h!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(a,c,m);break e}r in e?e[r]=c:c===!0?e.setAttribute(r,""):el(e,r,c)}}}function kt(e,a,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",e),Ve("load",e);var c=!1,m=!1,h;for(h in r)if(r.hasOwnProperty(h)){var N=r[h];if(N!=null)switch(h){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:tt(e,a,h,N,r,null)}}m&&tt(e,a,"srcSet",r.srcSet,r,null),c&&tt(e,a,"src",r.src,r,null);return;case"input":Ve("invalid",e);var C=h=N=m=null,L=null,X=null;for(c in r)if(r.hasOwnProperty(c)){var re=r[c];if(re!=null)switch(c){case"name":m=re;break;case"type":N=re;break;case"checked":L=re;break;case"defaultChecked":X=re;break;case"value":h=re;break;case"defaultValue":C=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,a));break;default:tt(e,a,c,re,r,null)}}Ou(e,h,C,L,X,N,m,!1);return;case"select":Ve("invalid",e),c=N=h=null;for(m in r)if(r.hasOwnProperty(m)&&(C=r[m],C!=null))switch(m){case"value":h=C;break;case"defaultValue":N=C;break;case"multiple":c=C;default:tt(e,a,m,C,r,null)}a=h,r=N,e.multiple=!!c,a!=null?Ja(e,!!c,a,!1):r!=null&&Ja(e,!!c,r,!0);return;case"textarea":Ve("invalid",e),h=m=c=null;for(N in r)if(r.hasOwnProperty(N)&&(C=r[N],C!=null))switch(N){case"value":c=C;break;case"defaultValue":m=C;break;case"children":h=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:tt(e,a,N,C,r,null)}Hu(e,c,m,h);return;case"option":for(L in r)if(r.hasOwnProperty(L)&&(c=r[L],c!=null))switch(L){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:tt(e,a,L,c,r,null)}return;case"dialog":Ve("beforetoggle",e),Ve("toggle",e),Ve("cancel",e),Ve("close",e);break;case"iframe":case"object":Ve("load",e);break;case"video":case"audio":for(c=0;c<Ei.length;c++)Ve(Ei[c],e);break;case"image":Ve("error",e),Ve("load",e);break;case"details":Ve("toggle",e);break;case"embed":case"source":case"link":Ve("error",e),Ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in r)if(r.hasOwnProperty(X)&&(c=r[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:tt(e,a,X,c,r,null)}return;default:if(Hr(a)){for(re in r)r.hasOwnProperty(re)&&(c=r[re],c!==void 0&&kc(e,a,re,c,r,void 0));return}}for(C in r)r.hasOwnProperty(C)&&(c=r[C],c!=null&&tt(e,a,C,c,r,null))}function A0(e,a,r,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,h=null,N=null,C=null,L=null,X=null,re=null;for(ne in r){var de=r[ne];if(r.hasOwnProperty(ne)&&de!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":L=de;default:c.hasOwnProperty(ne)||tt(e,a,ne,null,c,de)}}for(var Q in c){var ne=c[Q];if(de=r[Q],c.hasOwnProperty(Q)&&(ne!=null||de!=null))switch(Q){case"type":h=ne;break;case"name":m=ne;break;case"checked":X=ne;break;case"defaultChecked":re=ne;break;case"value":N=ne;break;case"defaultValue":C=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,a));break;default:ne!==de&&tt(e,a,Q,ne,c,de)}}Or(e,N,C,L,X,re,h,m);return;case"select":ne=N=C=Q=null;for(h in r)if(L=r[h],r.hasOwnProperty(h)&&L!=null)switch(h){case"value":break;case"multiple":ne=L;default:c.hasOwnProperty(h)||tt(e,a,h,null,c,L)}for(m in c)if(h=c[m],L=r[m],c.hasOwnProperty(m)&&(h!=null||L!=null))switch(m){case"value":Q=h;break;case"defaultValue":C=h;break;case"multiple":N=h;default:h!==L&&tt(e,a,m,h,c,L)}a=C,r=N,c=ne,Q!=null?Ja(e,!!r,Q,!1):!!c!=!!r&&(a!=null?Ja(e,!!r,a,!0):Ja(e,!!r,r?[]:"",!1));return;case"textarea":ne=Q=null;for(C in r)if(m=r[C],r.hasOwnProperty(C)&&m!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:tt(e,a,C,null,c,m)}for(N in c)if(m=c[N],h=r[N],c.hasOwnProperty(N)&&(m!=null||h!=null))switch(N){case"value":Q=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==h&&tt(e,a,N,m,c,h)}Vu(e,Q,ne);return;case"option":for(var Ne in r)if(Q=r[Ne],r.hasOwnProperty(Ne)&&Q!=null&&!c.hasOwnProperty(Ne))switch(Ne){case"selected":e.selected=!1;break;default:tt(e,a,Ne,null,c,Q)}for(L in c)if(Q=c[L],ne=r[L],c.hasOwnProperty(L)&&Q!==ne&&(Q!=null||ne!=null))switch(L){case"selected":e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:tt(e,a,L,Q,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in r)Q=r[je],r.hasOwnProperty(je)&&Q!=null&&!c.hasOwnProperty(je)&&tt(e,a,je,null,c,Q);for(X in c)if(Q=c[X],ne=r[X],c.hasOwnProperty(X)&&Q!==ne&&(Q!=null||ne!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:tt(e,a,X,Q,c,ne)}return;default:if(Hr(a)){for(var nt in r)Q=r[nt],r.hasOwnProperty(nt)&&Q!==void 0&&!c.hasOwnProperty(nt)&&kc(e,a,nt,void 0,c,Q);for(re in c)Q=c[re],ne=r[re],!c.hasOwnProperty(re)||Q===ne||Q===void 0&&ne===void 0||kc(e,a,re,Q,c,ne);return}}for(var F in r)Q=r[F],r.hasOwnProperty(F)&&Q!=null&&!c.hasOwnProperty(F)&&tt(e,a,F,null,c,Q);for(de in c)Q=c[de],ne=r[de],!c.hasOwnProperty(de)||Q===ne||Q==null&&ne==null||tt(e,a,de,Q,c,ne)}function Pm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,r=performance.getEntriesByType("resource"),c=0;c<r.length;c++){var m=r[c],h=m.transferSize,N=m.initiatorType,C=m.duration;if(h&&C&&Pm(N)){for(N=0,C=m.responseEnd,c+=1;c<r.length;c++){var L=r[c],X=L.startTime;if(X>C)break;var re=L.transferSize,de=L.initiatorType;re&&Pm(de)&&(L=L.responseEnd,N+=re*(L<C?1:(C-X)/(L-X)))}if(--c,a+=8*(h+N)/(m.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var jc=null,Ec=null;function Ql(e){return e.nodeType===9?e:e.ownerDocument}function $m(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fm(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function Ac(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Dc=null;function M0(){var e=window.event;return e&&e.type==="popstate"?e===Dc?!1:(Dc=e,!0):(Dc=null,!1)}var Ym=typeof setTimeout=="function"?setTimeout:void 0,R0=typeof clearTimeout=="function"?clearTimeout:void 0,Zm=typeof Promise=="function"?Promise:void 0,I0=typeof queueMicrotask=="function"?queueMicrotask:typeof Zm<"u"?function(e){return Zm.resolve(null).then(e).catch(U0)}:Ym;function U0(e){setTimeout(function(){throw e})}function la(e){return e==="head"}function Km(e,a){var r=a,c=0;do{var m=r.nextSibling;if(e.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"||r==="/&"){if(c===0){e.removeChild(m),js(a);return}c--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")c++;else if(r==="html")Di(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Di(r);for(var h=r.firstChild;h;){var N=h.nextSibling,C=h.nodeName;h[Ks]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&h.rel.toLowerCase()==="stylesheet"||r.removeChild(h),h=N}}else r==="body"&&Di(e.ownerDocument.body);r=m}while(r);js(a)}function Jm(e,a){var r=e;e=0;do{var c=r.nextSibling;if(r.nodeType===1?a?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(a?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=c}while(r)}function Mc(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var r=a;switch(a=a.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Mc(r),zr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function z0(e,a,r,c){for(;e.nodeType===1;){var m=r;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Ks])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var h=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=sn(e.nextSibling),e===null)break}return null}function L0(e,a,r){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=sn(e.nextSibling),e===null))return null;return e}function Xm(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=sn(e.nextSibling),e===null))return null;return e}function Rc(e){return e.data==="$?"||e.data==="$~"}function Ic(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function O0(e,a){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||r.readyState!=="loading")a();else{var c=function(){a(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function sn(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var Uc=null;function Qm(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(a===0)return sn(e.nextSibling);a--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||a++}e=e.nextSibling}return null}function Wm(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(a===0)return e;a--}else r!=="/$"&&r!=="/&"||a++}e=e.previousSibling}return null}function ep(e,a,r){switch(a=Ql(r),e){case"html":if(e=a.documentElement,!e)throw Error(i(452));return e;case"head":if(e=a.head,!e)throw Error(i(453));return e;case"body":if(e=a.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Di(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);zr(e)}var ln=new Map,tp=new Set;function Wl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var On=q.d;q.d={f:V0,r:H0,D:B0,C:G0,L:q0,m:P0,X:F0,S:$0,M:Y0};function V0(){var e=On.f(),a=Pl();return e||a}function H0(e){var a=Ya(e);a!==null&&a.tag===5&&a.type==="form"?vf(a):On.r(e)}var Ss=typeof document>"u"?null:document;function np(e,a,r){var c=Ss;if(c&&typeof a=="string"&&a){var m=Xt(a);m='link[rel="'+e+'"][href="'+m+'"]',typeof r=="string"&&(m+='[crossorigin="'+r+'"]'),tp.has(m)||(tp.add(m),e={rel:e,crossOrigin:r,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),kt(a,"link",e),Nt(a),c.head.appendChild(a)))}}function B0(e){On.D(e),np("dns-prefetch",e,null)}function G0(e,a){On.C(e,a),np("preconnect",e,a)}function q0(e,a,r){On.L(e,a,r);var c=Ss;if(c&&e&&a){var m='link[rel="preload"][as="'+Xt(a)+'"]';a==="image"&&r&&r.imageSrcSet?(m+='[imagesrcset="'+Xt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(m+='[imagesizes="'+Xt(r.imageSizes)+'"]')):m+='[href="'+Xt(e)+'"]';var h=m;switch(a){case"style":h=_s(e);break;case"script":h=ks(e)}ln.has(h)||(e=b({rel:"preload",href:a==="image"&&r&&r.imageSrcSet?void 0:e,as:a},r),ln.set(h,e),c.querySelector(m)!==null||a==="style"&&c.querySelector(Mi(h))||a==="script"&&c.querySelector(Ri(h))||(a=c.createElement("link"),kt(a,"link",e),Nt(a),c.head.appendChild(a)))}}function P0(e,a){On.m(e,a);var r=Ss;if(r&&e){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Xt(c)+'"][href="'+Xt(e)+'"]',h=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ks(e)}if(!ln.has(h)&&(e=b({rel:"modulepreload",href:e},a),ln.set(h,e),r.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ri(h)))return}c=r.createElement("link"),kt(c,"link",e),Nt(c),r.head.appendChild(c)}}}function $0(e,a,r){On.S(e,a,r);var c=Ss;if(c&&e){var m=Za(c).hoistableStyles,h=_s(e);a=a||"default";var N=m.get(h);if(!N){var C={loading:0,preload:null};if(N=c.querySelector(Mi(h)))C.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":a},r),(r=ln.get(h))&&zc(e,r);var L=N=c.createElement("link");Nt(L),kt(L,"link",e),L._p=new Promise(function(X,re){L.onload=X,L.onerror=re}),L.addEventListener("load",function(){C.loading|=1}),L.addEventListener("error",function(){C.loading|=2}),C.loading|=4,er(N,a,c)}N={type:"stylesheet",instance:N,count:1,state:C},m.set(h,N)}}}function F0(e,a){On.X(e,a);var r=Ss;if(r&&e){var c=Za(r).hoistableScripts,m=ks(e),h=c.get(m);h||(h=r.querySelector(Ri(m)),h||(e=b({src:e,async:!0},a),(a=ln.get(m))&&Lc(e,a),h=r.createElement("script"),Nt(h),kt(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(m,h))}}function Y0(e,a){On.M(e,a);var r=Ss;if(r&&e){var c=Za(r).hoistableScripts,m=ks(e),h=c.get(m);h||(h=r.querySelector(Ri(m)),h||(e=b({src:e,async:!0,type:"module"},a),(a=ln.get(m))&&Lc(e,a),h=r.createElement("script"),Nt(h),kt(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(m,h))}}function ap(e,a,r,c){var m=(m=ie.current)?Wl(m):null;if(!m)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(a=_s(r.href),r=Za(m).hoistableStyles,c=r.get(a),c||(c={type:"style",instance:null,count:0,state:null},r.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=_s(r.href);var h=Za(m).hoistableStyles,N=h.get(e);if(N||(m=m.ownerDocument||m,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,N),(h=m.querySelector(Mi(e)))&&!h._p&&(N.instance=h,N.state.loading=5),ln.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ln.set(e,r),h||Z0(m,e,r,N.state))),a&&c===null)throw Error(i(528,""));return N}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=r.async,r=r.src,typeof r=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ks(r),r=Za(m).hoistableScripts,c=r.get(a),c||(c={type:"script",instance:null,count:0,state:null},r.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function _s(e){return'href="'+Xt(e)+'"'}function Mi(e){return'link[rel="stylesheet"]['+e+"]"}function sp(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Z0(e,a,r,c){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=e.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),kt(a,"link",r),Nt(a),e.head.appendChild(a))}function ks(e){return'[src="'+Xt(e)+'"]'}function Ri(e){return"script[async]"+e}function ip(e,a,r){if(a.count++,a.instance===null)switch(a.type){case"style":var c=e.querySelector('style[data-href~="'+Xt(r.href)+'"]');if(c)return a.instance=c,Nt(c),c;var m=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Nt(c),kt(c,"style",m),er(c,r.precedence,e),a.instance=c;case"stylesheet":m=_s(r.href);var h=e.querySelector(Mi(m));if(h)return a.state.loading|=4,a.instance=h,Nt(h),h;c=sp(r),(m=ln.get(m))&&zc(c,m),h=(e.ownerDocument||e).createElement("link"),Nt(h);var N=h;return N._p=new Promise(function(C,L){N.onload=C,N.onerror=L}),kt(h,"link",c),a.state.loading|=4,er(h,r.precedence,e),a.instance=h;case"script":return h=ks(r.src),(m=e.querySelector(Ri(h)))?(a.instance=m,Nt(m),m):(c=r,(m=ln.get(h))&&(c=b({},r),Lc(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),Nt(m),kt(m,"link",c),e.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,er(c,r.precedence,e));return a.instance}function er(e,a,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,h=m,N=0;N<c.length;N++){var C=c[N];if(C.dataset.precedence===a)h=C;else if(h!==m)break}h?h.parentNode.insertBefore(e,h.nextSibling):(a=r.nodeType===9?r.head:r,a.insertBefore(e,a.firstChild))}function zc(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function Lc(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var tr=null;function lp(e,a,r){if(tr===null){var c=new Map,m=tr=new Map;m.set(r,c)}else m=tr,c=m.get(r),c||(c=new Map,m.set(r,c));if(c.has(e))return c;for(c.set(e,null),r=r.getElementsByTagName(e),m=0;m<r.length;m++){var h=r[m];if(!(h[Ks]||h[Tt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var N=h.getAttribute(a)||"";N=e+N;var C=c.get(N);C?C.push(h):c.set(N,[h])}}return c}function rp(e,a,r){e=e.ownerDocument||e,e.head.insertBefore(r,a==="title"?e.querySelector("head > title"):null)}function K0(e,a,r){if(r===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function op(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function J0(e,a,r,c){if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=_s(c.href),h=a.querySelector(Mi(m));if(h){a=h._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=nr.bind(e),a.then(e,e)),r.state.loading|=4,r.instance=h,Nt(h);return}h=a.ownerDocument||a,c=sp(c),(m=ln.get(m))&&zc(c,m),h=h.createElement("link"),Nt(h);var N=h;N._p=new Promise(function(C,L){N.onload=C,N.onerror=L}),kt(h,"link",c),r.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,a),(a=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=nr.bind(e),a.addEventListener("load",r),a.addEventListener("error",r))}}var Oc=0;function X0(e,a){return e.stylesheets&&e.count===0&&sr(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var c=setTimeout(function(){if(e.stylesheets&&sr(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+a);0<e.imgBytes&&Oc===0&&(Oc=62500*D0());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&sr(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Oc?50:800)+a);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function nr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ar=null;function sr(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ar=new Map,a.forEach(Q0,e),ar=null,nr.call(e))}function Q0(e,a){if(!(a.state.loading&4)){var r=ar.get(e);if(r)var c=r.get(null);else{r=new Map,ar.set(e,r);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<m.length;h++){var N=m[h];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(r.set(N.dataset.precedence,N),c=N)}c&&r.set(null,c)}m=a.instance,N=m.getAttribute("data-precedence"),h=r.get(N)||c,h===c&&r.set(null,m),r.set(N,m),this.count++,c=nr.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),h?h.parentNode.insertBefore(m,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),a.state.loading|=4}}var Ii={$$typeof:I,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function W0(e,a,r,c,m,h,N,C,L){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mr(0),this.hiddenUpdates=Mr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=h,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function cp(e,a,r,c,m,h,N,C,L,X,re,de){return e=new W0(e,a,r,N,L,X,re,de,C),a=1,h===!0&&(a|=24),h=Pt(3,null,null,a),e.current=h,h.stateNode=e,a=go(),a.refCount++,e.pooledCache=a,a.refCount++,h.memoizedState={element:c,isDehydrated:r,cache:a},No(h),e}function up(e){return e?(e=ss,e):ss}function dp(e,a,r,c,m,h){m=up(m),c.context===null?c.context=m:c.pendingContext=m,c=Kn(a),c.payload={element:r},h=h===void 0?null:h,h!==null&&(c.callback=h),r=Jn(e,c,a),r!==null&&(Ht(r,e,a),fi(r,e,a))}function fp(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<a?r:a}}function Vc(e,a){fp(e,a),(e=e.alternate)&&fp(e,a)}function mp(e){if(e.tag===13||e.tag===31){var a=Ta(e,67108864);a!==null&&Ht(a,e,67108864),Vc(e,67108864)}}function pp(e){if(e.tag===13||e.tag===31){var a=Kt();a=Rr(a);var r=Ta(e,a);r!==null&&Ht(r,e,a),Vc(e,a)}}var ir=!0;function ev(e,a,r,c){var m=O.T;O.T=null;var h=q.p;try{q.p=2,Hc(e,a,r,c)}finally{q.p=h,O.T=m}}function tv(e,a,r,c){var m=O.T;O.T=null;var h=q.p;try{q.p=8,Hc(e,a,r,c)}finally{q.p=h,O.T=m}}function Hc(e,a,r,c){if(ir){var m=Bc(c);if(m===null)_c(e,a,c,lr,r),xp(e,c);else if(av(m,e,a,r,c))c.stopPropagation();else if(xp(e,c),a&4&&-1<nv.indexOf(e)){for(;m!==null;){var h=Ya(m);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var N=va(h.pendingLanes);if(N!==0){var C=h;for(C.pendingLanes|=2,C.entangledLanes|=2;N;){var L=1<<31-Gt(N);C.entanglements[1]|=L,N&=~L}gn(h),(Je&6)===0&&(Gl=Ke()+500,ji(0))}}break;case 31:case 13:C=Ta(h,2),C!==null&&Ht(C,h,2),Pl(),Vc(h,2)}if(h=Bc(c),h===null&&_c(e,a,c,lr,r),h===m)break;m=h}m!==null&&c.stopPropagation()}else _c(e,a,c,null,r)}}function Bc(e){return e=Gr(e),Gc(e)}var lr=null;function Gc(e){if(lr=null,e=Fa(e),e!==null){var a=u(e);if(a===null)e=null;else{var r=a.tag;if(r===13){if(e=p(a),e!==null)return e;e=null}else if(r===31){if(e=g(a),e!==null)return e;e=null}else if(r===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return lr=e,null}function hp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qa()){case ga:return 2;case mn:return 8;case Pa:case Dr:return 32;case Cu:return 268435456;default:return 32}default:return 32}}var qc=!1,ra=null,oa=null,ca=null,Ui=new Map,zi=new Map,ua=[],nv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xp(e,a){switch(e){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":Ui.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":zi.delete(a.pointerId)}}function Li(e,a,r,c,m,h){return e===null||e.nativeEvent!==h?(e={blockedOn:a,domEventName:r,eventSystemFlags:c,nativeEvent:h,targetContainers:[m]},a!==null&&(a=Ya(a),a!==null&&mp(a)),e):(e.eventSystemFlags|=c,a=e.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),e)}function av(e,a,r,c,m){switch(a){case"focusin":return ra=Li(ra,e,a,r,c,m),!0;case"dragenter":return oa=Li(oa,e,a,r,c,m),!0;case"mouseover":return ca=Li(ca,e,a,r,c,m),!0;case"pointerover":var h=m.pointerId;return Ui.set(h,Li(Ui.get(h)||null,e,a,r,c,m)),!0;case"gotpointercapture":return h=m.pointerId,zi.set(h,Li(zi.get(h)||null,e,a,r,c,m)),!0}return!1}function gp(e){var a=Fa(e.target);if(a!==null){var r=u(a);if(r!==null){if(a=r.tag,a===13){if(a=p(r),a!==null){e.blockedOn=a,Au(e.priority,function(){pp(r)});return}}else if(a===31){if(a=g(r),a!==null){e.blockedOn=a,Au(e.priority,function(){pp(r)});return}}else if(a===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rr(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var r=Bc(e.nativeEvent);if(r===null){r=e.nativeEvent;var c=new r.constructor(r.type,r);Br=c,r.target.dispatchEvent(c),Br=null}else return a=Ya(r),a!==null&&mp(a),e.blockedOn=r,!1;a.shift()}return!0}function vp(e,a,r){rr(e)&&r.delete(a)}function sv(){qc=!1,ra!==null&&rr(ra)&&(ra=null),oa!==null&&rr(oa)&&(oa=null),ca!==null&&rr(ca)&&(ca=null),Ui.forEach(vp),zi.forEach(vp)}function or(e,a){e.blockedOn===a&&(e.blockedOn=null,qc||(qc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,sv)))}var cr=null;function yp(e){cr!==e&&(cr=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){cr===e&&(cr=null);for(var a=0;a<e.length;a+=3){var r=e[a],c=e[a+1],m=e[a+2];if(typeof c!="function"){if(Gc(c||r)===null)continue;break}var h=Ya(r);h!==null&&(e.splice(a,3),a-=3,Bo(h,{pending:!0,data:m,method:r.method,action:c},c,m))}}))}function js(e){function a(L){return or(L,e)}ra!==null&&or(ra,e),oa!==null&&or(oa,e),ca!==null&&or(ca,e),Ui.forEach(a),zi.forEach(a);for(var r=0;r<ua.length;r++){var c=ua[r];c.blockedOn===e&&(c.blockedOn=null)}for(;0<ua.length&&(r=ua[0],r.blockedOn===null);)gp(r),r.blockedOn===null&&ua.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var m=r[c],h=r[c+1],N=m[It]||null;if(typeof h=="function")N||yp(r);else if(N){var C=null;if(h&&h.hasAttribute("formAction")){if(m=h,N=h[It]||null)C=N.formAction;else if(Gc(m)!==null)continue}else C=N.action;typeof C=="function"?r[c+1]=C:(r.splice(c,3),c-=3),yp(r)}}}function bp(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(N){return m=N})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),c||setTimeout(r,20)}function r(){if(!c&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(r,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function Pc(e){this._internalRoot=e}ur.prototype.render=Pc.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(i(409));var r=a.current,c=Kt();dp(r,c,e,a,null,null)},ur.prototype.unmount=Pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;dp(e.current,2,null,e,null,null),Pl(),a[$a]=null}};function ur(e){this._internalRoot=e}ur.prototype.unstable_scheduleHydration=function(e){if(e){var a=Eu();e={blockedOn:null,target:e,priority:a};for(var r=0;r<ua.length&&a!==0&&a<ua[r].priority;r++);ua.splice(r,0,e),r===0&&gp(e)}};var Np=t.version;if(Np!=="19.2.3")throw Error(i(527,Np,"19.2.3"));q.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=x(a),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var iv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dr.isDisabled&&dr.supportsFiber)try{Fs=dr.inject(iv),Bt=dr}catch{}}return Vi.createRoot=function(e,a){if(!o(e))throw Error(i(299));var r=!1,c="",m=jf,h=Ef,N=Af;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError)),a=cp(e,1,!1,null,null,r,c,null,m,h,N,bp),e[$a]=a.current,Sc(e),new Pc(a)},Vi.hydrateRoot=function(e,a,r){if(!o(e))throw Error(i(299));var c=!1,m="",h=jf,N=Ef,C=Af,L=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(N=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.formState!==void 0&&(L=r.formState)),a=cp(e,1,!0,a,r??null,c,m,L,h,N,C,bp),a.context=up(null),r=a.current,c=Kt(),c=Rr(c),m=Kn(c),m.callback=null,Jn(r,m,c),r=c,a.current.lanes=r,Zs(a,r),gn(a),e[$a]=a.current,Sc(e),new ur(a)},Vi.version="19.2.3",Vi}var Dp;function xv(){if(Dp)return Yc.exports;Dp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Yc.exports=hv(),Yc.exports}var gv=xv(),me=(s=>(s.INBOX="INBOX",s.NEXT_ACTION="NEXT_ACTION",s.DOING="DOING",s.DONE="DONE",s.WAITING="WAITING",s.REFERENCE="REFERENCE",s))(me||{}),Pe=(s=>(s.UI="UI",s.UNI="UNI",s.NUI="NUI",s.NUNI="NUNI",s))(Pe||{});const cx="12tr_gamified_engine_state",vv=s=>{try{localStorage.setItem(cx,JSON.stringify(s))}catch(t){console.error("Failed to save state to localStorage",t)}},yv=()=>{try{const s=localStorage.getItem(cx);return s?JSON.parse(s):null}catch(s){return console.error("Failed to load state from localStorage",s),null}},bv=()=>{const s=new Date().setHours(0,0,0,0),t=new Date().toISOString().split("T")[0],n=["","","","'",""].map(w=>({id:`tag-${Math.random().toString(36).substr(2,5)}`,name:w,color:w===""?"#ef4444":"#f97316"})),i=["","","","",""].map(w=>({id:`hobby-${Math.random().toString(36).substr(2,5)}`,name:w,color:"#6366f1"})),o="folder_insights",u=[{id:o,name:"",color:"#f97316",status:"active",progress:0,isStrategic:!1,description:"FOLDER_NOTE"},{id:"goal_1",name:" React Advanced",color:"#6366f1",status:"active",progress:30,isStrategic:!0,type:"goal",sphere:"education"},{id:"goal_2",name:" 42",color:"#ef4444",status:"active",progress:10,isStrategic:!0,type:"goal",sphere:"health"},{id:"sub_1",name:"Hooks Mastery",color:"#6366f1",parentFolderId:"goal_1",status:"active",progress:50,isStrategic:!1,type:"subproject"},{id:"sub_2",name:" ",color:"#ef4444",parentFolderId:"goal_2",status:"active",progress:0,isStrategic:!1,type:"subproject"}],p=[{id:"p1",name:" ",status:"friend",rating:85,birthDate:"1995-05-12",birthDateShowInCalendar:!0,birthDateRepeatYearly:!0,tags:[""],hobbies:[""],socials:{telegram:"elena_pro"},notes:[{id:"n1",text:"   ",date:t}],memories:[],interactions:[],importantDates:[{id:"id1",label:" ",date:"2020-09-15",showInCalendar:!0,repeatYearly:!0}],loop:"month",createdAt:Date.now()},{id:"p2",name:" ",status:"colleague",rating:40,tags:[""],hobbies:[""],socials:{linkedin:"max-dev"},notes:[],memories:[],interactions:[],importantDates:[],loop:"week",createdAt:Date.now()},{id:"p3",name:" ",status:"mentor",rating:95,tags:[""],hobbies:[""],socials:{},notes:[],memories:[],interactions:[],importantDates:[],loop:"quarter",createdAt:Date.now()},{id:"p4",name:" '",status:"family",rating:100,birthDate:"1970-01-01",importantDates:[{id:"id2",label:"",date:"2024-06-20",showInCalendar:!0,repeatYearly:!0}],loop:"month",tags:[],hobbies:[],socials:{},notes:[],memories:[],interactions:[],createdAt:Date.now()},{id:"p5",name:" ",status:"acquaintance",rating:20,tags:[""],hobbies:[],socials:{},notes:[],memories:[],interactions:[],importantDates:[],loop:"none",createdAt:Date.now()}],g=[];[0,1,2,3,4,5,6].forEach(w=>{g.push({id:`tb-${w}-1`,title:" ",startHour:7,endHour:9,type:"routine",dayOfWeek:w,color:"#10b981"},{id:`tb-${w}-2`,title:" ",startHour:10,endHour:13,type:"work",dayOfWeek:w,color:"#f97316"},{id:`tb-${w}-3`,title:"  ",startHour:13,endHour:14,type:"rest",dayOfWeek:w,color:"#06b6d4"},{id:`tb-${w}-4`,title:"/",startHour:15,endHour:18,type:"study",dayOfWeek:w,color:"#6366f1"},{id:`tb-${w}-5`,title:" ",startHour:21,endHour:22,type:"routine",dayOfWeek:w,color:"#ec4899"})});const x=["   .","   ,     .","   ,    .","     .","     ''  ."].map((w,S)=>({id:`note-ins-${S}`,title:w,status:me.INBOX,priority:Pe.NUI,difficulty:1,xp:10,tags:["insight"],createdAt:Date.now(),category:"note",projectId:o})),y=[{id:"subt-1",title:" useMemo  useCallback",status:me.NEXT_ACTION,priority:Pe.UI,difficulty:2,xp:100,tags:[""],createdAt:Date.now(),projectId:"sub_1"},{id:"subt-2",title:" custom hook  API",status:me.INBOX,priority:Pe.UNI,difficulty:3,xp:150,tags:[""],createdAt:Date.now(),projectId:"sub_1"},{id:"subt-3",title:"   ",status:me.NEXT_ACTION,priority:Pe.NUI,difficulty:1,xp:40,tags:[""],createdAt:Date.now(),projectId:"sub_2"},{id:"subt-4",title:"  ",status:me.INBOX,priority:Pe.NUNI,difficulty:1,xp:30,tags:[""],createdAt:Date.now(),projectId:"sub_2"},{id:"in-1",title:"  ",status:me.INBOX,priority:Pe.NUNI,difficulty:1,xp:20,tags:[],createdAt:Date.now(),category:"unsorted"},{id:"in-2",title:"   GPT-5",status:me.INBOX,priority:Pe.NUI,difficulty:2,xp:50,tags:[""],createdAt:Date.now(),category:"unsorted"},{id:"in-3",title:": -  ",status:me.INBOX,priority:Pe.NUI,difficulty:1,xp:100,tags:[],createdAt:Date.now(),category:"unsorted"},{id:"in-4",title:"  ",status:me.INBOX,priority:Pe.UI,difficulty:1,xp:30,tags:[],createdAt:Date.now(),category:"unsorted"},{id:"in-5",title:" ",status:me.INBOX,priority:Pe.NUNI,difficulty:2,xp:20,tags:[],createdAt:Date.now(),category:"unsorted"},{id:"nx-1",title:"   ",status:me.NEXT_ACTION,priority:Pe.UI,difficulty:2,xp:60,tags:[""],createdAt:Date.now(),category:"tasks"},{id:"nx-2",title:"  ",status:me.NEXT_ACTION,priority:Pe.UI,difficulty:1,xp:40,tags:[""],createdAt:Date.now(),category:"tasks",personId:"p3"},{id:"nx-3",title:"   ",status:me.NEXT_ACTION,priority:Pe.UNI,difficulty:1,xp:30,tags:[],createdAt:Date.now(),category:"tasks"},{id:"nx-4",title:" LinkedIn",status:me.NEXT_ACTION,priority:Pe.NUI,difficulty:2,xp:120,tags:[""],createdAt:Date.now(),category:"tasks"},{id:"nx-5",title:"   ",status:me.NEXT_ACTION,priority:Pe.UI,difficulty:3,xp:150,tags:[""],createdAt:Date.now(),category:"tasks"},{id:"cal-1",title:"  ",status:me.INBOX,isEvent:!0,scheduledDate:s+36e5*10,priority:Pe.UI,difficulty:2,xp:80,tags:[""],createdAt:Date.now()},{id:"cal-2",title:"  ",status:me.INBOX,isEvent:!0,scheduledDate:s+36e5*19,priority:Pe.NUNI,difficulty:1,xp:50,tags:["'"],createdAt:Date.now(),personId:"p1"},{id:"cal-3",title:"",status:me.INBOX,isEvent:!0,scheduledDate:s+864e5*2,priority:Pe.UI,difficulty:2,xp:100,tags:[],createdAt:Date.now()},{id:"cal-4",title:" ",status:me.INBOX,isEvent:!0,scheduledDate:s+864e5*5,priority:Pe.UI,difficulty:3,xp:300,tags:[""],createdAt:Date.now()},{id:"cal-5",title:" ",status:me.INBOX,isEvent:!0,scheduledDate:s+864e5*7,priority:Pe.UI,difficulty:1,xp:50,tags:[],createdAt:Date.now()},{id:"hab-1",title:" 10",status:me.INBOX,priority:Pe.NUI,difficulty:1,xp:30,tags:["habit"],createdAt:Date.now(),projectSection:"habits",habitHistory:{[t]:{status:"completed"}}},{id:"hab-2",title:" 20 ",status:me.INBOX,priority:Pe.NUI,difficulty:1,xp:40,tags:["habit"],createdAt:Date.now(),projectSection:"habits"},{id:"hab-3",title:" 2",status:me.INBOX,priority:Pe.NUI,difficulty:1,xp:25,tags:["habit"],createdAt:Date.now(),projectSection:"habits"},{id:"hab-4",title:" 2",status:me.INBOX,priority:Pe.NUI,difficulty:1,xp:20,tags:["habit"],createdAt:Date.now(),projectSection:"habits"},{id:"hab-5",title:"English 15m",status:me.INBOX,priority:Pe.NUI,difficulty:1,xp:50,tags:["habit"],createdAt:Date.now(),projectSection:"habits"}],b=[{id:"d-1",date:t,content:JSON.stringify([{id:"b1",type:"heading",content:"  "},{id:"b2",type:"text",content:"   12TR.   ."}]),createdAt:Date.now(),updatedAt:Date.now()},{id:"d-2",date:new Date(s-864e5).toISOString().split("T")[0],content:JSON.stringify([{id:"b3",type:"text",content:"  ,   ."}]),createdAt:Date.now()-864e5,updatedAt:Date.now()-864e5},{id:"d-3",date:new Date(s-1728e5).toISOString().split("T")[0],content:JSON.stringify([{id:"b4",type:"quote",content:"   ,    ."}]),createdAt:Date.now()-1728e5,updatedAt:Date.now()-1728e5},{id:"d-4",date:new Date(s-2592e5).toISOString().split("T")[0],content:JSON.stringify([{id:"b5",type:"text",content:"    ."}]),createdAt:Date.now()-2592e5,updatedAt:Date.now()-2592e5},{id:"d-5",date:new Date(s-3456e5).toISOString().split("T")[0],content:JSON.stringify([{id:"b6",type:"heading",content:" "},{id:"b7",type:"task",content:"   ",checked:!0}]),createdAt:Date.now()-3456e5,updatedAt:Date.now()-3456e5}];return{tags:n,hobbies:i,projects:u,people:p,tasks:[...y,...x],diary:b,timeBlocks:g}},ux=j.createContext(void 0),Nv=({children:s})=>{const t=yv(),[n,i]=j.useState((t==null?void 0:t.activeTab)||"dashboard"),[o,u]=j.useState((t==null?void 0:t.theme)||"classic"),[p,g]=j.useState((t==null?void 0:t.detailsWidth)||450),[v,x]=j.useState((t==null?void 0:t.isSidebarCollapsed)||!1),[y,b]=j.useState((t==null?void 0:t.sidebarSettings)||{}),[w,S]=j.useState((t==null?void 0:t.aiEnabled)??!1),[_,T]=j.useState(Date.now()),[D,R]=j.useState("month"),[U,I]=j.useState((t==null?void 0:t.cycle)||{id:"c1",startDate:Date.now(),endDate:Date.now()+1e3*60*60*24*84,currentWeek:1,globalExecutionScore:0}),[Y,G]=j.useState((t==null?void 0:t.tasks)||[]),[W,k]=j.useState((t==null?void 0:t.projects)||[]),[M,A]=j.useState((t==null?void 0:t.diary)||[]),[z,V]=j.useState((t==null?void 0:t.people)||[]),[B,$]=j.useState((t==null?void 0:t.tags)||[]),[ae,fe]=j.useState((t==null?void 0:t.hobbies)||[]),[O,q]=j.useState((t==null?void 0:t.shoppingStores)||[]),[he,P]=j.useState((t==null?void 0:t.shoppingItems)||[]),[Z,E]=j.useState((t==null?void 0:t.inboxCategories)||[{id:"pinned",title:"",icon:"fa-thumbtack",isPinned:!0,scope:"inbox"},{id:"unsorted",title:"",icon:"fa-inbox",isPinned:!1,scope:"inbox"},{id:"tasks",title:"",icon:"fa-bolt",isPinned:!1,scope:"actions"},{id:"notes",title:"",icon:"fa-note-sticky",isPinned:!1,scope:"inbox"}]),[K,oe]=j.useState((t==null?void 0:t.timeBlocks)||[]),[te,ye]=j.useState((t==null?void 0:t.blockHistory)||{}),[ie,ge]=j.useState((t==null?void 0:t.routinePresets)||[]),[Ee,ke]=j.useState((t==null?void 0:t.reportTemplate)||[]),[_e,jt]=j.useState((t==null?void 0:t.relationshipTypes)||["friend","colleague","family","mentor","acquaintance"]),[Et,Ha]=j.useState((t==null?void 0:t.character)||{name:"",race:"Human",archetype:"Strategist",role:"",level:1,xp:0,gold:0,bio:"   .",vision:"   .",avatarUrl:"https://api.dicebear.com/7.x/avataaars/svg?seed=Hero",energy:100,maxEnergy:100,focus:100,goals:[],views:[],beliefs:[],preferences:{focusBlockers:[]},skills:[],achievements:[],stats:{health:50,career:50,finance:50,education:50,relationships:50,rest:50}});j.useEffect(()=>{if(Y.length===0&&W.length===0&&z.length===0){const se=bv();G(se.tasks),k(se.projects),V(se.people),$(se.tags),fe(se.hobbies),A(se.diary)}},[]),j.useEffect(()=>{document.documentElement.setAttribute("data-theme",o),vv({tasks:Y,projects:W,people:z,relationshipTypes:_e,character:Et,tags:B,hobbies:ae,cycle:U,diary:M,inboxCategories:Z,detailsWidth:p,sidebarSettings:y,isSidebarCollapsed:v,aiEnabled:w,timeBlocks:K,blockHistory:te,routinePresets:ie,activeTab:n,theme:o,reportTemplate:Ee,shoppingStores:O,shoppingItems:he})},[Y,W,z,_e,Et,B,ae,U,M,Z,p,y,v,w,K,te,ie,n,o,Ee,O,he]);const fn=j.useCallback((le,se)=>{b(ce=>({...ce,[le]:se}))},[]),Ba=j.useCallback(le=>{Ha(se=>({...se,...le}))},[]),Ga=j.useCallback(le=>{ke(le)},[]),Zi=j.useCallback((le,se,ce)=>{let pe=ce;return A(pt=>ce?pt.map(Ke=>Ke.id===ce?{...Ke,date:le,content:se,updatedAt:Date.now()}:Ke):(pe=Math.random().toString(36).substr(2,9),[{id:pe,date:le,content:se,createdAt:Date.now(),updatedAt:Date.now()},...pt])),pe||""},[]),Ki=j.useMemo(()=>({tasks:Y,projects:W,people:z,relationshipTypes:_e,cycle:U,character:Et,tags:B,hobbies:ae,diary:M,inboxCategories:Z,timeBlocks:K,blockHistory:te,routinePresets:ie,activeTab:n,setActiveTab:i,theme:o,setTheme:u,detailsWidth:p,setDetailsWidth:g,sidebarSettings:y,isSidebarCollapsed:v,setSidebarCollapsed:x,updateSidebarSetting:fn,aiEnabled:w,setAiEnabled:S,updateCharacter:Ba,calendarDate:_,setCalendarDate:T,calendarViewMode:D,setCalendarViewMode:R,reportTemplate:Ee,updateReportTemplate:Ga,shoppingStores:O,shoppingItems:he,addTask:(le,se="unsorted",ce,pe="actions",pt=!1,Ke,qa,ga=me.INBOX)=>{const mn=Math.random().toString(36).substr(2,9),Pa={id:mn,title:le,status:ga,priority:Pe.NUI,difficulty:1,xp:50,tags:[],createdAt:Date.now(),category:se,projectId:ce,projectSection:pe,isEvent:pt,scheduledDate:Ke,personId:qa};return G(Dr=>[Pa,...Dr]),mn},addProject:le=>{const se=Math.random().toString(36).substr(2,9);return k(ce=>[...ce,{...le,id:se,progress:0,status:"active"}]),se},updateTask:le=>G(se=>se.some(pe=>pe.id===le.id)?se.map(pe=>pe.id===le.id?le:pe):[le,...se]),updateProject:le=>k(se=>se.map(ce=>ce.id===le.id?le:ce)),deleteProject:le=>k(se=>se.filter(ce=>ce.id!==le)),deleteTask:(le,se=!1)=>G(ce=>se?ce.filter(pe=>pe.id!==le):ce.map(pe=>pe.id===le?{...pe,isDeleted:!0}:pe)),restoreTask:le=>G(se=>se.map(ce=>ce.id===le?{...ce,isDeleted:!1}:ce)),moveTaskToCategory:(le,se)=>G(ce=>ce.map(pe=>pe.id===le?{...pe,category:se}:pe)),moveTaskToProjectSection:(le,se)=>G(ce=>ce.map(pe=>pe.id===le?{...pe,projectSection:se}:pe)),setProjectParent:(le,se)=>k(ce=>ce.map(pe=>pe.id===le?{...pe,parentFolderId:se}:pe)),scheduleTask:(le,se)=>G(ce=>ce.map(pe=>pe.id===le?{...pe,scheduledDate:se}:pe)),toggleTaskStatus:le=>{const se=le.status!==me.DONE;G(ce=>ce.map(pe=>pe.id===le.id?{...pe,status:se?me.DONE:me.INBOX,completedAt:se?Date.now():void 0}:pe))},toggleHabitStatus:(le,se,ce,pe)=>G(pt=>pt.map(Ke=>{var qa,ga;if(Ke.id===le){const mn={...Ke.habitHistory||{}};return mn[se]={status:ce||(((qa=mn[se])==null?void 0:qa.status)==="completed"?"none":"completed"),note:pe||((ga=mn[se])==null?void 0:ga.note)},{...Ke,habitHistory:mn}}return Ke})),toggleTaskPin:le=>G(se=>se.map(ce=>ce.id===le?{...ce,isPinned:!ce.isPinned}:ce)),undoLastAction:()=>{},pendingUndo:!1,addTag:le=>{const se={id:Math.random().toString(36).substr(2,9),name:le,color:"#f97316"};return $(ce=>[...ce,se]),se},renameTag:(le,se)=>$(ce=>ce.map(pe=>pe.name===le?{...pe,name:se}:pe)),deleteTag:le=>$(se=>se.filter(ce=>ce.name!==le)),addHobby:le=>{const se={id:Math.random().toString(36).substr(2,9),name:le,color:"#f97316"};return fe(ce=>[...ce,se]),se},renameHobby:(le,se)=>fe(ce=>ce.map(pe=>pe.name===le?{...pe,name:se}:pe)),deleteHobby:le=>fe(se=>se.filter(ce=>ce.name!==le)),saveDiaryEntry:Zi,deleteDiaryEntry:le=>A(se=>se.filter(ce=>ce.id!==le)),addInboxCategory:(le,se,ce)=>E(pe=>[...pe,{id:Math.random().toString(36).substr(2,9),title:le,icon:"fa-folder",isPinned:!1,scope:se,color:ce}]),updateInboxCategory:(le,se)=>E(ce=>ce.map(pe=>pe.id===le?{...pe,...se}:pe)),deleteInboxCategory:le=>E(se=>se.filter(ce=>ce.id!==le)),addTimeBlock:le=>oe(se=>[...se,{...le,id:Math.random().toString(36).substr(2,9)}]),updateTimeBlock:le=>oe(se=>se.map(ce=>ce.id===le.id?le:ce)),deleteTimeBlock:le=>oe(se=>se.filter(ce=>ce.id!==le)),setBlockStatus:(le,se,ce)=>ye(pe=>({...pe,[le]:{...pe[le]||{},[se]:ce}})),saveRoutineAsPreset:(le,se)=>{const ce=K.filter(pe=>pe.dayOfWeek===se);ge(pe=>[...pe,{id:Math.random().toString(36).substr(2,9),name:le,blocks:ce}])},applyRoutinePreset:(le,se)=>{const ce=ie.find(pe=>pe.id===le);ce&&oe(pe=>[...pe.filter(pt=>pt.dayOfWeek!==se),...ce.blocks.map(pt=>({...pt,id:Math.random().toString(36).substr(2,9),dayOfWeek:se}))])},addChecklistItem:(le,se)=>G(ce=>ce.map(pe=>pe.id===le?{...pe,checklist:[...pe.checklist||[],{id:Math.random().toString(36).substr(2,9),title:se,completed:!1}]}:pe)),toggleChecklistItem:(le,se)=>G(ce=>ce.map(pe=>{var pt;return pe.id===le?{...pe,checklist:(pt=pe.checklist)==null?void 0:pt.map(Ke=>Ke.id===se?{...Ke,completed:!Ke.completed}:Ke)}:pe})),removeChecklistItem:(le,se)=>G(ce=>ce.map(pe=>{var pt;return pe.id===le?{...pe,checklist:(pt=pe.checklist)==null?void 0:pt.filter(Ke=>Ke.id!==se)}:pe})),addPerson:(le,se="acquaintance")=>{const ce=`p-${Math.random().toString(36).substr(2,9)}`;return V(pe=>[...pe,{id:ce,name:le,status:se,rating:5,tags:[],hobbies:[],socials:{},notes:[],memories:[],interactions:[],importantDates:[],loop:"month",createdAt:Date.now()}]),ce},updatePerson:le=>V(se=>se.map(ce=>ce.id===le.id?le:ce)),deletePerson:le=>V(se=>se.filter(ce=>ce.id!==le)),addPersonMemory:(le,se)=>V(ce=>ce.map(pe=>pe.id===le?{...pe,memories:[{...se,id:Math.random().toString(36).substr(2,9)},...pe.memories]}:pe)),addPersonNote:(le,se)=>V(ce=>ce.map(pe=>pe.id===le?{...pe,notes:[{id:Math.random().toString(36).substr(2,9),text:se,date:new Date().toISOString()},...pe.notes]}:pe)),addInteraction:(le,se)=>V(ce=>ce.map(pe=>pe.id===le?{...pe,lastInteractionAt:se.date,interactions:[{...se,id:Math.random().toString(36).substr(2,9)},...pe.interactions||[]]}:pe)),deleteInteraction:(le,se)=>V(ce=>ce.map(pe=>pe.id===le?{...pe,interactions:(pe.interactions||[]).filter(pt=>pt.id!==se)}:pe)),addRelationshipType:le=>jt(se=>[...new Set([...se,le])]),deleteRelationshipType:le=>jt(se=>se.filter(ce=>ce!==le)),updateCycle:le=>I(se=>({...se,...le})),toggleCycleDay:le=>{},setWeeklyScore:(le,se)=>{},addStore:(le,se="fa-shop",ce="#f97316")=>q(pe=>[...pe,{id:Math.random().toString(36).substr(2,9),name:le,icon:se,color:ce}]),updateStore:le=>q(se=>se.map(ce=>ce.id===le.id?le:ce)),deleteStore:le=>{q(se=>se.filter(ce=>ce.id!==le)),P(se=>se.filter(ce=>ce.storeId!==le))},addShoppingItem:(le,se)=>P(ce=>[...ce,{id:Math.random().toString(36).substr(2,9),name:le,storeId:se,isBought:!1}]),updateShoppingItem:le=>P(se=>se.map(ce=>ce.id===le.id?le:ce)),toggleShoppingItem:le=>P(se=>se.map(ce=>ce.id===le?{...ce,isBought:!ce.isBought}:ce)),deleteShoppingItem:le=>P(se=>se.filter(ce=>ce.id!==le))}),[Y,W,z,_e,U,Et,B,ae,M,Z,K,te,ie,n,o,p,y,v,w,_,D,Ee,O,he,Zi,fn,Ba,Ga,S]);return l.jsx(ux.Provider,{value:Ki,children:s})},He=()=>{const s=j.useContext(ux);if(!s)throw new Error("useApp must be used within an AppProvider");return s},ee=({variant:s,children:t,className:n="",italic:i=!1,onDoubleClick:o,onClick:u})=>{const p=i?"italic":"",g={h1:"text-4xl font-black tracking-tighter font-heading",h2:"text-2xl font-black tracking-tight font-heading",h3:"text-lg font-bold font-heading",body:"text-sm font-medium leading-relaxed",caption:"text-xs font-bold uppercase tracking-widest opacity-60",tiny:"text-[10px] font-black uppercase tracking-widest"};return l.jsx("div",{className:`${g[s]} ${p} ${n}`,style:{color:"var(--text-main)"},onDoubleClick:o,onClick:u,children:t})},wv=({activeTab:s,setActiveTab:t,counts:n})=>{const{tasks:i,updateTask:o,scheduleTask:u,toggleTaskStatus:p,isSidebarCollapsed:g,setSidebarCollapsed:v,sidebarSettings:x,updateSidebarSetting:y,aiEnabled:b,setAiEnabled:w,theme:S,setTheme:_}=He(),[T,D]=j.useState(!1),R=[{id:"today",icon:"fa-star",label:"",acceptDrop:!0},{id:"dashboard",icon:"fa-house",label:""},{id:"inbox",icon:"fa-inbox",label:"",acceptDrop:!0},{id:"next_actions",icon:"fa-bolt",label:"",acceptDrop:!0},{id:"projects",icon:"fa-folder-tree",label:""},{id:"calendar",icon:"fa-calendar-days",label:""},{id:"notes",icon:"fa-note-sticky",label:"",acceptDrop:!0}],U=[{id:"diary",icon:"fa-book-open",label:""},{id:"habits",icon:"fa-repeat",label:""},{id:"people",icon:"fa-user-ninja",label:""},{id:"focus",icon:"fa-bullseye",label:""},{id:"character",icon:"fa-user-shield",label:""},{id:"shopping",icon:"fa-cart-shopping",label:""}],I=[{id:"hashtags",icon:"fa-hashtag",label:""},{id:"hobbies",icon:"fa-masks-theater",label:""},{id:"completed",icon:"fa-circle-check",label:"",acceptDrop:!0},{id:"trash",icon:"fa-trash-can",label:"",acceptDrop:!0}],Y=j.useMemo(()=>[...R,...U,...I],[]),G=(k,M)=>{k.preventDefault();const A=k.dataTransfer.getData("taskId");if(!A)return;const z=i.find(V=>V.id===A);if(z)switch(M){case"today":u(A,new Date().setHours(0,0,0,0));break;case"inbox":o({...z,status:me.INBOX,scheduledDate:void 0,projectId:void 0,category:"unsorted",isDeleted:!1});break;case"next_actions":o({...z,status:me.NEXT_ACTION,isDeleted:!1});break;case"notes":o({...z,category:"note",status:me.INBOX,isDeleted:!1});break;case"completed":z.status!==me.DONE&&p(z);break;case"trash":o({...z,isDeleted:!0});break}},W=k=>{if(x[k.id]===!1)return null;const M=s===k.id;return l.jsx("div",{onDragOver:A=>A.preventDefault(),onDrop:A=>G(A,k.id),className:"relative group px-1",children:l.jsxs("button",{onClick:()=>t(k.id),className:`w-full flex items-center gap-2 px-2 py-1.5 rounded-xl transition-all ${M?"bg-orange-50 text-orange-700 border border-orange-100 shadow-sm":"text-slate-500 hover:bg-slate-50"}`,children:[l.jsx("span",{className:`w-4 flex justify-center text-xs ${M?"text-orange-600":""}`,children:l.jsx("i",{className:`fa-solid ${k.icon}`})}),!g&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"flex-1 text-left font-black text-[9px] tracking-widest truncate uppercase leading-none",children:k.label}),n[k.id]>0&&l.jsx("span",{className:"h-3.5 min-w-[14px] flex items-center justify-center rounded-full text-[7px] font-black px-1 bg-slate-100 text-slate-500",children:n[k.id]})]})]})},k.id)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`${g?"w-14":"w-48"} hidden md:flex bg-[var(--bg-sidebar)] border-r border-[var(--border-color)] flex-col h-screen sticky top-0 z-40 transition-all duration-300 ease-in-out shrink-0`,children:[l.jsxs("div",{className:"p-4 flex items-center justify-between",children:[!g&&l.jsx("div",{className:"text-xl font-black font-heading text-orange-600 tracking-tighter leading-none",children:"12TR"}),l.jsx("button",{onClick:()=>v(!g),className:"w-8 h-8 rounded-xl hover:bg-black/5 flex items-center justify-center text-slate-300 hover:text-slate-600",children:l.jsx("i",{className:`fa-solid ${g?"fa-bars":"fa-chevron-left"}`})})]}),l.jsxs("nav",{className:"flex-1 space-y-0.5 py-2 overflow-y-auto no-scrollbar pl-0.5",children:[R.map(W),l.jsx("div",{className:"my-3 mx-4 border-t border-[var(--border-color)] opacity-50"}),!g&&l.jsx("div",{className:"px-4 mb-1",children:l.jsx("span",{className:"text-[7px] uppercase font-black tracking-widest text-slate-300",children:"Toolbox"})}),U.map(W)]}),l.jsxs("div",{className:"px-1 py-4 border-t border-[var(--border-color)] space-y-0.5 opacity-50",children:[I.map(W),l.jsxs("button",{onClick:()=>t("settings"),className:`w-full flex items-center gap-2 px-2.5 py-1.5 rounded-xl transition-all ${s==="settings"?"bg-orange-50 text-orange-700":"text-slate-400 hover:bg-black/5"}`,children:[l.jsx("span",{className:"w-4 flex justify-center text-[10px]",children:l.jsx("i",{className:"fa-solid fa-gear"})}),!g&&l.jsx("span",{className:"font-black text-[9px] tracking-widest uppercase",children:""})]})]})]}),l.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 h-16 bg-[var(--bg-sidebar)]/90 backdrop-blur-xl border-t border-[var(--border-color)] z-50 flex items-center justify-around px-4 pb-safe",children:[{id:"today",icon:"fa-star",label:""},{id:"inbox",icon:"fa-inbox",label:""},{id:"next_actions",icon:"fa-bolt",label:""},{id:"calendar",icon:"fa-calendar-days",label:""},{id:"menu",icon:"fa-grid-2",label:"",isMenuTrigger:!0}].map(k=>l.jsxs("button",{onClick:()=>k.isMenuTrigger?D(!0):t(k.id),className:`flex flex-col items-center justify-center w-12 h-12 rounded-2xl transition-all ${!k.isMenuTrigger&&s===k.id?"text-orange-600 bg-orange-50 shadow-inner":"text-slate-400"}`,children:[l.jsx("i",{className:`fa-solid ${k.isMenuTrigger?"fa-table-cells-large":k.icon} text-lg mb-0.5`}),l.jsx("span",{className:"text-[6px] font-black uppercase tracking-tighter",children:k.label})]},k.id))}),T&&l.jsxs("div",{className:"fixed inset-0 z-[200] bg-[var(--bg-main)] md:hidden animate-in fade-in slide-in-from-bottom duration-300 flex flex-col",children:[l.jsxs("header",{className:"p-6 border-b border-[var(--border-color)] flex justify-between items-center bg-[var(--bg-card)]",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-2xl bg-orange-600 flex items-center justify-center text-white shadow-lg",children:l.jsx("i",{className:"fa-solid fa-table-cells-large"})}),l.jsx(ee,{variant:"h2",className:"text-xl",children:" "})]}),l.jsx("button",{onClick:()=>D(!1),className:"w-10 h-10 rounded-2xl bg-black/5 flex items-center justify-center text-slate-400",children:l.jsx("i",{className:"fa-solid fa-xmark"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l.jsxs("div",{className:"grid grid-cols-3 gap-4 pb-20",children:[Y.map(k=>{if(x[k.id]===!1)return null;const M=s===k.id;return l.jsxs("button",{onClick:()=>{t(k.id),D(!1)},className:`flex flex-col items-center justify-center p-4 rounded-3xl border transition-all ${M?"bg-orange-600 border-orange-600 text-white shadow-xl shadow-orange-100":"bg-[var(--bg-card)] border-[var(--border-color)] text-slate-500 shadow-sm"}`,children:[l.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center mb-2 ${M?"bg-white/10":"bg-black/5"}`,children:l.jsx("i",{className:`fa-solid ${k.icon} text-lg`})}),l.jsx("span",{className:"text-[8px] font-black uppercase text-center leading-tight",children:k.label})]},k.id)}),l.jsxs("button",{onClick:()=>{t("settings"),D(!1)},className:"flex flex-col items-center justify-center p-4 rounded-3xl bg-indigo-50 border-indigo-100 text-indigo-600 shadow-sm",children:[l.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center mb-2 bg-white",children:l.jsx("i",{className:"fa-solid fa-gear text-lg"})}),l.jsx("span",{className:"text-[8px] font-black uppercase text-center leading-tight",children:""})]})]})})]})]})},Me=({children:s,className:t="",blur:n=!1,padding:i="md",hover:o=!1,onClick:u,draggable:p,onDragStart:g})=>{const v="border transition-none",x=n?"backdrop-blur-xl bg-[var(--bg-card)]/80":"bg-[var(--bg-card)]",y="border-[var(--border-color)]",b="rounded-[var(--radius)]",w=o?"hover:shadow-lg hover:border-[var(--primary)]/30":"shadow-sm",S={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return l.jsx("div",{className:`${v} ${x} ${y} ${b} ${w} ${S[i]} ${t}`,onClick:u,draggable:p,onDragStart:g,style:{color:"var(--text-main)"},children:s})},dx=({value:s,onChange:t,onSelectTag:n,onEnter:i,onBlur:o,placeholder:u,className:p,autoFocus:g=!1})=>{const{tags:v,addTag:x}=He(),[y,b]=j.useState(!1),[w,S]=j.useState(""),[_,T]=j.useState(0),D=j.useRef(null),R=M=>{let A=M.target.value;const z=M.target.selectionStart||0;T(z),t(A),U(A,z)},U=(M,A)=>{const V=M.slice(0,A).split(/\s/),B=V[V.length-1];B.startsWith("#")?(S(B.slice(1)),b(!0)):B.length>0?(S(B),b(!0)):b(!1)},I=M=>{const A=M.target.selectionStart||0;T(A),b(!0),S("")},Y=M=>{M.key==="Enter"&&(y&&G.length>0?(M.preventDefault(),W(G[0].name)):i&&(M.preventDefault(),i())),M.key==="Escape"&&b(!1)},G=v.filter(M=>M.name.toLowerCase().includes(w.toLowerCase())),W=M=>{const A=s.slice(0,_),z=s.slice(_),V=A.split(/\s/);V[V.length-1],V[V.length-1]=`#${M} `;const B=V.join(" ").replace(/\s\s+/g," ")+z;t(B),n(M),b(!1),setTimeout(()=>{var $;return($=D.current)==null?void 0:$.focus()},0)},k=()=>{if(!w)return;const M=x(w);W(M.name)};return l.jsxs("div",{className:"relative w-full h-full flex items-center overflow-visible",children:[l.jsx("input",{ref:D,type:"text",autoFocus:g,value:s,onChange:R,onFocus:I,onKeyDown:Y,onBlur:()=>{setTimeout(()=>{b(!1),o==null||o()},200)},placeholder:u,className:`${p} outline-none`}),y&&l.jsx("div",{className:"absolute z-[100] top-full mt-1 w-64 bg-white rounded-xl shadow-2xl border border-slate-100 p-2 tiktok-blur animate-in slide-in-from-top-2 duration-200",children:l.jsxs("div",{className:"max-h-48 overflow-y-auto custom-scrollbar",children:[G.length>0?G.map(M=>l.jsxs("button",{type:"button",onMouseDown:A=>{A.preventDefault(),W(M.name)},className:"w-full flex items-center gap-2 px-2 py-1.5 hover:bg-slate-50 rounded-lg transition-colors text-left",children:[l.jsx("div",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:M.color}}),l.jsxs("span",{className:"text-[10px] font-bold text-slate-700 truncate",children:["#",M.name]})]},M.id)):l.jsx("div",{className:"p-2 text-[10px] font-bold text-slate-400 text-center uppercase tracking-widest",children:" "}),w&&!v.some(M=>M.name===w)&&l.jsxs("button",{type:"button",onMouseDown:M=>{M.preventDefault(),k()},className:"w-full flex items-center gap-2 px-2 py-1.5 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors text-left border-t border-slate-50 mt-1",children:[l.jsx("i",{className:"fa-solid fa-plus text-[8px]"}),l.jsxs("span",{className:"text-[10px] font-black italic",children:[' "#',w,'"']})]})]})})]})},Tv=({block:s,index:t,isFocused:n,onUpdate:i,onKeyDown:o,onFocus:u,allBlocks:p,onAddBlock:g})=>{const v=j.useRef(null),[x,y]=j.useState(!1);j.useEffect(()=>{v.current&&v.current.innerHTML!==s.content&&(v.current.innerHTML=s.content)},[s.id]),j.useEffect(()=>{n&&v.current&&v.current.focus()},[n]);const b=()=>{switch(s.type){case"heading":return"text-2xl font-black text-slate-900 mb-2 mt-4";case"h2":return"text-xl font-black text-slate-800 mb-1.5 mt-3";case"h3":return"text-lg font-bold text-slate-700 mb-1 mt-2";case"quote":return"border-l-4 border-orange-200 pl-4 italic text-slate-500 my-2";case"divider":return"h-px bg-slate-100 my-4 w-full";case"task":return`text-[15px] font-medium ${s.checked?"line-through text-slate-300":"text-slate-800"}`;default:return"text-[15px] font-medium text-slate-700 leading-relaxed"}};return s.type==="divider"?l.jsx("div",{className:"relative group/divider pr-4",onClick:u,children:l.jsx("div",{className:"h-px bg-slate-100 my-4 w-full"})}):l.jsxs("div",{className:"flex items-start gap-1 w-full group/row mb-1 relative pl-0.5",children:[l.jsxs("div",{className:"absolute -left-8 top-0.5 opacity-0 group-hover/row:opacity-100 transition-opacity z-20",children:[l.jsx("button",{onClick:()=>y(!x),className:"w-7 h-7 rounded-lg bg-white text-slate-400 hover:text-orange-500 flex items-center justify-center border border-slate-100 shadow-sm hover:shadow-md transition-all",children:l.jsx("i",{className:"fa-solid fa-plus text-xs"})}),x&&l.jsxs("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white shadow-xl border border-slate-100 rounded-xl py-2 z-50 animate-in fade-in zoom-in-95 duration-200",children:[l.jsx("div",{className:"px-3 py-1 text-[8px] font-black text-slate-300 uppercase tracking-widest",children:""}),l.jsxs("button",{onClick:()=>{g("text"),y(!1)},className:"w-full text-left px-3 py-1.5 hover:bg-slate-50 text-xs font-bold text-slate-600 flex items-center gap-2",children:[l.jsx("i",{className:"fa-solid fa-font opacity-40"})," "]}),l.jsxs("button",{onClick:()=>{g("heading"),y(!1)},className:"w-full text-left px-3 py-1.5 hover:bg-slate-50 text-xs font-bold text-slate-600 flex items-center gap-2",children:[l.jsx("i",{className:"fa-solid fa-heading opacity-40"}),"  1"]}),l.jsxs("button",{onClick:()=>{g("h2"),y(!1)},className:"w-full text-left px-3 py-1.5 hover:bg-slate-50 text-xs font-bold text-slate-600 flex items-center gap-2",children:[l.jsx("i",{className:"fa-solid fa-heading opacity-40 text-[10px]"}),"  2"]}),l.jsx("div",{className:"px-3 py-1 mt-1 text-[8px] font-black text-slate-300 uppercase tracking-widest border-t border-slate-50",children:""}),l.jsxs("button",{onClick:()=>{g("task"),y(!1)},className:"w-full text-left px-3 py-1.5 hover:bg-slate-50 text-xs font-bold text-slate-600 flex items-center gap-2",children:[l.jsx("i",{className:"fa-regular fa-square-check opacity-40"})," -"]}),l.jsxs("button",{onClick:()=>{g("bullet"),y(!1)},className:"w-full text-left px-3 py-1.5 hover:bg-slate-50 text-xs font-bold text-slate-600 flex items-center gap-2",children:[l.jsx("i",{className:"fa-solid fa-list-ul opacity-40"})," "]}),l.jsxs("button",{onClick:()=>{g("divider"),y(!1)},className:"w-full text-left px-3 py-1.5 hover:bg-slate-50 text-xs font-bold text-slate-600 flex items-center gap-2",children:[l.jsx("i",{className:"fa-solid fa-minus opacity-40"})," "]})]})]}),l.jsxs("div",{className:"flex-1 min-w-0 flex items-start gap-3",children:[s.type==="task"&&l.jsx("button",{onClick:()=>i({checked:!s.checked}),className:`w-4 h-4 rounded border mt-1.5 shrink-0 transition-colors ${s.checked?"bg-emerald-500 border-emerald-500 text-white":"border-slate-200"}`,children:s.checked&&l.jsx("i",{className:"fa-solid fa-check text-[9px]"})}),s.type==="bullet"&&l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300 mt-3 shrink-0"}),s.type==="number"&&l.jsxs("span",{className:"text-xs font-bold text-slate-400 mt-1 shrink-0",children:[t+1,"."]}),l.jsx("div",{ref:v,contentEditable:!0,suppressContentEditableWarning:!0,"data-placeholder":s.type==="text"?" '+'   ...":"",onInput:w=>i({content:w.currentTarget.innerHTML}),onKeyDown:w=>{var S;return o(w,s,((S=v.current)==null?void 0:S.innerHTML)||"")},onFocus:u,className:`focus:ring-0 outline-none w-full bg-transparent empty:before:content-[attr(data-placeholder)] empty:before:text-slate-200 block-input ${b()}`})]})]})},fx=({id:s,date:t,onClose:n,standaloneMode:i=!1,initialContent:o,onContentChange:u})=>{const{diary:p,saveDiaryEntry:g}=He(),[v,x]=j.useState(s),[y,b]=j.useState([]),[w,S]=j.useState(!1),[_,T]=j.useState(null),[D,R]=j.useState(null),U=j.useRef(null);j.useEffect(()=>{var M;const k=i?o:(M=p.find(A=>A.id===v))==null?void 0:M.content;if(k)try{const A=JSON.parse(k);b(Array.isArray(A)?A:[{id:"b1",type:"text",content:k}])}catch{b([{id:"b1",type:"text",content:k}])}else b([{id:"b1",type:"text",content:""}])},[s,v]);const I=()=>{const k=JSON.stringify(y);if(i)u==null||u(k);else{const M=g(t,k,v);v||x(M)}S(!1)};j.useEffect(()=>{if(y.length!==0)return S(!0),U.current&&clearTimeout(U.current),U.current=window.setTimeout(I,1e3),()=>{U.current&&clearTimeout(U.current)}},[y]),j.useEffect(()=>{const k=()=>{const M=window.getSelection();if(!M||M.isCollapsed||!M.toString().trim()){R(null);return}const z=M.getRangeAt(0).getBoundingClientRect();R({top:z.top-50+window.scrollY,left:z.left+z.width/2-60+window.scrollX})};return document.addEventListener("mouseup",k),()=>document.removeEventListener("mouseup",k)},[]);const Y=k=>{if(document.execCommand(k,!1),_){const M=document.activeElement;if(M&&M.contentEditable==="true"){const A=y.map(z=>z.id===_?{...z,content:M.innerHTML}:z);b(A)}}},G=(k,M="text")=>{const A={id:Math.random().toString(36).substr(2,9),type:M,content:"",checked:!1},z=y.findIndex(B=>B.id===k),V=[...y];V.splice(z+1,0,A),b(V),T(A.id)},W=(k,M,A)=>{if(k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),G(M.id,M.type==="task"?"task":"text")),k.key==="Backspace"&&(A===""||A==="<br>")&&y.length>1){k.preventDefault();const z=y.findIndex(V=>V.id===M.id);z>0&&T(y[z-1].id),b(V=>V.filter(B=>B.id!==M.id))}};return l.jsxs("div",{className:"h-full flex flex-col bg-white relative",children:[D&&l.jsxs("div",{className:"fixed z-[200] flex bg-slate-900 text-white p-1 rounded-xl shadow-2xl animate-in fade-in slide-in-from-bottom-1 duration-200",style:{top:D.top,left:D.left},children:[l.jsx("button",{onMouseDown:k=>{k.preventDefault(),Y("bold")},className:"w-8 h-8 hover:bg-white/10 rounded-lg",children:l.jsx("i",{className:"fa-solid fa-bold text-xs"})}),l.jsx("button",{onMouseDown:k=>{k.preventDefault(),Y("italic")},className:"w-8 h-8 hover:bg-white/10 rounded-lg",children:l.jsx("i",{className:"fa-solid fa-italic text-xs"})}),l.jsx("button",{onMouseDown:k=>{k.preventDefault(),Y("strikethrough")},className:"w-8 h-8 hover:bg-white/10 rounded-lg",children:l.jsx("i",{className:"fa-solid fa-strikethrough text-xs"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar space-y-1 p-2 pl-8",children:y.map((k,M)=>l.jsx(Tv,{block:k,index:M,allBlocks:y,isFocused:_===k.id,onUpdate:A=>b(z=>z.map(V=>V.id===k.id?{...V,...A}:V)),onKeyDown:W,onFocus:()=>T(k.id),onAddBlock:A=>G(k.id,A)},k.id))}),l.jsxs("footer",{className:"px-4 py-3 border-t border-slate-50 flex items-center justify-between shrink-0 bg-white/80 backdrop-blur",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w?"bg-orange-400 animate-pulse":"bg-emerald-400"}`}),l.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-slate-400",children:w?"":""})]}),l.jsx("div",{className:"flex gap-4",children:l.jsx("button",{className:"text-[9px] font-black uppercase text-slate-300 hover:text-slate-600 transition-colors",children:""})})]})]})},qs=({task:s,onClose:t})=>{const{updateTask:n,projects:i,people:o,addTask:u,addChecklistItem:p,toggleChecklistItem:g,removeChecklistItem:v,toggleTaskStatus:x,deleteTask:y}=He(),[b,w]=j.useState("notes"),[S,_]=j.useState(!1),[T,D]=j.useState(!1),[R,U]=j.useState(""),[I,Y]=j.useState(""),[G,W]=j.useState(s.title),k=j.useRef(null);j.useEffect(()=>{W(s.title)},[s.id,s.title]),j.useEffect(()=>{const O=q=>{k.current&&!k.current.contains(q.target)&&D(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]);const M=O=>{n({...s,scheduledDate:O}),_(!1)},A=O=>{O.preventDefault(),R.trim()&&(p(s.id,R.trim()),U(""))},z=()=>{u(s.title+" ()",s.category,s.projectId,s.projectSection,s.isEvent,s.scheduledDate),D(!1),alert("   ")},V=()=>{const O=`${window.location.origin}${window.location.pathname}?task=${s.id}`;navigator.clipboard.writeText(O),alert(" ")},B=O=>{n({...s,tags:s.tags.filter(q=>q!==O)})},$=s.status===me.DONE,ae=({title:O,children:q})=>l.jsxs("div",{className:"py-2 border-b border-slate-50 last:border-0",children:[l.jsx("div",{className:"px-4 py-1.5 text-[9px] font-black text-slate-300 uppercase tracking-[0.15em]",children:O}),q]}),fe=({icon:O,label:q,onClick:he,danger:P=!1})=>l.jsxs("button",{onClick:()=>{he(),D(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-[13px] transition-all hover:bg-slate-50 ${P?"text-rose-500 hover:bg-rose-50":"text-slate-600 font-medium"}`,children:[l.jsx("i",{className:`fa-solid ${O} w-4 text-center opacity-60 text-xs`}),l.jsx("span",{children:q})]});return l.jsxs("div",{className:"w-full flex flex-col h-full bg-white relative",children:[l.jsxs("header",{className:"flex items-center justify-between px-4 h-14 border-b border-slate-100 shrink-0 bg-white sticky top-0 z-40",children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[s.category!=="note"&&l.jsx("button",{onClick:()=>x(s),className:`w-5 h-5 rounded-[6px] border-2 flex items-center justify-center shrink-0 transition-all ${$?"bg-emerald-500 border-emerald-500 text-white shadow-sm":"border-slate-200 bg-white hover:border-blue-400"}`,children:$&&l.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>_(!S),className:`flex items-center gap-2 px-2.5 py-1.5 rounded-xl text-[13px] font-semibold transition-all ${s.scheduledDate?"text-blue-600 bg-blue-50":"text-slate-400 hover:bg-slate-50"}`,children:[l.jsx("i",{className:"fa-regular fa-calendar text-[15px]"}),l.jsx("span",{className:"truncate",children:s.scheduledDate?new Date(s.scheduledDate).toLocaleDateString("uk-UA",{day:"numeric",month:"short"}):"  "})]}),S&&l.jsxs("div",{className:"absolute top-full left-0 mt-2 w-72 bg-white shadow-2xl rounded-[1.5rem] border border-slate-100 z-[100] p-5",children:[l.jsx("input",{type:"datetime-local",className:"w-full bg-slate-50 p-4 rounded-2xl border-none outline-none",onChange:O=>M(new Date(O.target.value).getTime())}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4",children:[l.jsx("button",{onClick:()=>M(Date.now()),className:"py-2.5 text-[10px] font-black uppercase bg-slate-50 text-slate-600 rounded-xl",children:""}),l.jsx("button",{onClick:()=>M(void 0),className:"py-2.5 text-[10px] font-black uppercase text-rose-500 rounded-xl",children:""})]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[s.category!=="note"&&l.jsx("button",{title:s.isEvent?" ":" ",onClick:()=>n({...s,isEvent:!s.isEvent}),className:`w-9 h-9 rounded-xl transition-all ${s.isEvent?"text-pink-500 bg-pink-50":"text-slate-400 hover:bg-slate-50"}`,children:l.jsx("i",{className:`fa-solid ${s.isEvent?"fa-calendar-star":"fa-flag"} text-xs`})}),l.jsx("button",{title:"",className:"w-9 h-9 rounded-xl text-slate-400 hover:text-indigo-500 hover:bg-indigo-50 transition-all",children:l.jsx("i",{className:"fa-solid fa-tag text-xs"})}),l.jsxs("div",{className:"relative",ref:k,children:[l.jsx("button",{onClick:()=>D(!T),className:`w-9 h-9 rounded-xl transition-all ${T?"text-slate-800 bg-slate-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:l.jsx("i",{className:"fa-solid fa-ellipsis"})}),T&&l.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white shadow-[0_25px_60px_rgba(0,0,0,0.2)] border border-slate-100 rounded-[1.5rem] z-[100] overflow-hidden",children:[l.jsxs(ae,{title:"  ",children:[l.jsx(fe,{icon:"fa-plus",label:" ",onClick:()=>w("checklist")}),l.jsx(fe,{icon:"fa-link",label:" ",onClick:()=>{}}),l.jsx(fe,{icon:"fa-thumbtack",label:s.isPinned?"":"",onClick:()=>n({...s,isPinned:!s.isPinned})})]}),l.jsxs(ae,{title:" ",children:[l.jsx(fe,{icon:"fa-ban",label:" ",onClick:()=>n({...s,isDeleted:!0})}),l.jsx(fe,{icon:"fa-tags",label:"",onClick:()=>{}})]}),l.jsxs(ae,{title:"  ",children:[l.jsx(fe,{icon:"fa-paperclip",label:" ",onClick:()=>{}}),l.jsx(fe,{icon:"fa-copy",label:" ",onClick:z}),l.jsx(fe,{icon:"fa-share-nodes",label:" ",onClick:V})]}),l.jsxs(ae,{title:"  ",children:[l.jsx(fe,{icon:"fa-clock-rotate-left",label:"  ",onClick:()=>{}}),l.jsx(fe,{icon:"fa-floppy-disk",label:"  ",onClick:()=>{}}),l.jsx(fe,{icon:"fa-file-lines",label:"  ",onClick:()=>n({...s,category:"note"})}),l.jsx(fe,{icon:"fa-print",label:"",onClick:()=>window.print()})]}),l.jsx("div",{className:"p-1 bg-rose-50/30 border-t border-slate-50",children:l.jsx(fe,{icon:"fa-trash-can",label:"",danger:!0,onClick:()=>{confirm("?")&&(y(s.id),t())}})})]})]}),l.jsx("div",{className:"h-6 w-px bg-slate-100 mx-2"}),l.jsx("button",{onClick:t,className:"w-9 h-9 rounded-xl text-slate-300 hover:text-slate-600 hover:bg-slate-50 transition-all",children:l.jsx("i",{className:"fa-solid fa-xmark text-sm"})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-white",children:l.jsxs("div",{className:"p-6 md:p-10 max-w-2xl mx-auto space-y-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("textarea",{value:G,onChange:O=>W(O.target.value),onBlur:()=>n({...s,title:G}),rows:1,className:`w-full bg-transparent text-3xl font-black border-none focus:ring-0 p-0 placeholder:text-slate-100 resize-none leading-[1.1] outline-none ${$?"line-through text-slate-200":"text-slate-900"}`,placeholder:" ..."}),l.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("i",{className:"fa-solid fa-folder-open text-[10px] text-slate-300"}),l.jsxs("select",{value:s.projectId||"",onChange:O=>n({...s,projectId:O.target.value||void 0}),className:"bg-transparent border-none text-[11px] font-black uppercase text-blue-500 p-0 focus:ring-0 cursor-pointer hover:underline",children:[l.jsx("option",{value:"",children:" "}),i.map(O=>l.jsx("option",{value:O.id,children:O.name},O.id))]})]}),s.tags.map(O=>l.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 px-2 py-1 rounded-lg",children:[l.jsxs("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-tight",children:["#",O]}),l.jsx("button",{onClick:()=>B(O),className:"text-slate-400 hover:text-rose-500 transition-colors",children:l.jsx("i",{className:"fa-solid fa-xmark text-[10px]"})})]},O)),l.jsx("div",{className:"flex-1 min-w-[120px]",children:l.jsx(dx,{value:I,onChange:Y,placeholder:" ...",onSelectTag:O=>{s.tags.includes(O)||n({...s,tags:[...s.tags,O]}),Y("")},className:"text-[11px] font-black uppercase text-slate-300 w-full"})})]})]}),l.jsxs("div",{className:"flex gap-10 border-b border-slate-50",children:[l.jsx("button",{onClick:()=>w("notes"),className:`pb-4 text-xs font-black uppercase tracking-[0.2em] border-b-2 transition-all ${b==="notes"?"border-blue-500 text-slate-900":"border-transparent text-slate-300 hover:text-slate-50"}`,children:""}),l.jsxs("button",{onClick:()=>w("checklist"),className:`pb-4 text-xs font-black uppercase tracking-[0.2em] border-b-2 transition-all ${b==="checklist"?"border-blue-500 text-slate-900":"border-transparent text-slate-300 hover:text-slate-50"}`,children:["- (",(s.checklist||[]).length,")"]})]}),l.jsx("div",{className:"min-h-[400px]",children:b==="checklist"?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("form",{onSubmit:A,className:"flex gap-3 bg-slate-50/50 p-2 rounded-xl focus-within:bg-white focus-within:ring-2 focus-within:ring-blue-50 transition-all",children:[l.jsx("div",{className:"w-5 h-5 rounded-[6px] border-2 border-slate-100 shrink-0 mt-0.5 flex items-center justify-center text-slate-100",children:l.jsx("i",{className:"fa-solid fa-plus text-[10px]"})}),l.jsx("input",{value:R,onChange:O=>U(O.target.value),placeholder:" ...",className:"flex-1 bg-transparent border-none text-[13px] font-medium outline-none focus:ring-0 placeholder:text-slate-200"})]}),l.jsx("div",{className:"space-y-px",children:(s.checklist||[]).map(O=>l.jsxs("div",{className:"flex items-center gap-3 px-2 py-1.5 group/item hover:bg-slate-50 rounded-lg transition-all",children:[l.jsx("button",{onClick:()=>g(s.id,O.id),className:`w-4 h-4 rounded-[6px] border-2 flex items-center justify-center transition-all shrink-0 ${O.completed?"bg-emerald-500 border-emerald-500 text-white shadow-sm":"border-slate-200 bg-white hover:border-blue-400"}`,children:O.completed&&l.jsx("i",{className:"fa-solid fa-check text-[8px]"})}),l.jsx("span",{className:`text-[13px] font-medium flex-1 truncate ${O.completed?"text-slate-300 line-through":"text-slate-700"}`,children:O.title}),l.jsx("button",{onClick:()=>v(s.id,O.id),className:"opacity-0 group-hover/item:opacity-100 text-slate-200 hover:text-rose-500 p-1",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]},O.id))})]}):l.jsx("div",{className:"h-full",children:l.jsx(fx,{id:s.id,date:new Date(s.createdAt).toISOString().split("T")[0],onClose:()=>{},standaloneMode:!0,initialContent:s.content,onContentChange:O=>n({...s,content:O})})})})]})})]})},Hn=(s=300,t=800)=>{const{detailsWidth:n,setDetailsWidth:i}=He(),[o,u]=j.useState(!1),p=j.useCallback(x=>{x.preventDefault(),u(!0)},[]),g=j.useCallback(()=>{u(!1)},[]),v=j.useCallback(x=>{if(!o)return;const y=window.innerWidth-x.clientX,b=Math.min(t,window.innerWidth*.7),w=Math.max(s,window.innerWidth*.2);y>=w&&y<=b&&i(y)},[o,i,s,t]);return j.useEffect(()=>(o?(window.addEventListener("mousemove",v),window.addEventListener("mouseup",g),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",g),document.body.style.cursor="",document.body.style.userSelect=""),()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",g)}),[o,v,g]),{isResizing:o,startResizing:p,detailsWidth:n}},Cv=()=>{const{tasks:s,people:t,setActiveTab:n,setCalendarDate:i,setCalendarViewMode:o}=He(),u=new Date,p=j.useMemo(()=>{const x=new Date(u),y=u.getDay(),b=u.getDate()-y+(y===0?-6:1);return x.setDate(b),Array.from({length:7},(w,S)=>{const _=new Date(x);return _.setDate(x.getDate()+S),_})},[]),g=x=>{const y=x.getFullYear(),b=String(x.getMonth()+1).padStart(2,"0"),w=String(x.getDate()).padStart(2,"0"),S=`${y}-${b}-${w}`,_=x.getMonth(),T=x.getDate(),D=x.getFullYear(),R={event:!1,quest:!1};return s.forEach(I=>{if(I.isDeleted||!I.scheduledDate)return;const Y=new Date(I.scheduledDate),G=Y.getFullYear(),W=String(Y.getMonth()+1).padStart(2,"0"),k=String(Y.getDate()).padStart(2,"0");`${G}-${W}-${k}`===S&&(I.isEvent?R.event=!0:R.quest=!0)}),t.some(I=>{var Y;if(I.birthDate&&I.birthDateShowInCalendar!==!1){const G=new Date(I.birthDate);if(G.getMonth()===_&&G.getDate()===T&&(I.birthDateRepeatYearly!==!1||G.getFullYear()===D))return!0}return(Y=I.importantDates)==null?void 0:Y.some(G=>{if(!G.showInCalendar)return!1;const W=new Date(G.date);return W.getMonth()===_&&W.getDate()===T&&(G.repeatYearly||W.getFullYear()===D)})})&&(R.event=!0),R},v=x=>{i(x.getTime()),o("week"),n("calendar")};return l.jsx("div",{className:"bg-[var(--bg-main)]/50 p-1 rounded-xl border border-[var(--border-color)] shadow-inner w-full",children:l.jsx("div",{className:"flex justify-between items-center gap-0.5",children:p.map((x,y)=>{const b=x.toDateString()===u.toDateString(),w=g(x);return l.jsxs("button",{onClick:()=>v(x),className:"flex flex-col items-center gap-0.5 group flex-1 min-w-0 transition-transform active:scale-90",children:[l.jsx("span",{className:`text-[5px] md:text-[6px] font-black uppercase leading-none transition-colors ${b?"text-[var(--primary)]":"text-[var(--text-muted)] opacity-50"}`,children:x.toLocaleString("uk-UA",{weekday:"short"}).slice(0,2)}),l.jsx("div",{className:`w-5 h-5 md:w-6 md:h-6 rounded-lg flex items-center justify-center text-[8px] md:text-[9px] font-black transition-all ${b?"bg-[var(--primary)] text-white shadow-lg ring-1 ring-[var(--primary)]/20":"text-[var(--text-main)] hover:bg-[var(--bg-card)] hover:shadow-sm hover:text-[var(--primary)]"}`,children:x.getDate()}),l.jsxs("div",{className:"h-0.5 flex items-center justify-center gap-0.5",children:[w.event&&l.jsx("div",{className:"w-0.5 h-0.5 rounded-full bg-blue-400"}),w.quest&&l.jsx("div",{className:"w-0.5 h-0.5 rounded-full bg-rose-400"})]})]},y)})})})},Mp=()=>{var P;const{tasks:s,projects:t,timeBlocks:n,toggleTaskStatus:i,toggleHabitStatus:o,character:u,cycle:p,setActiveTab:g,setCalendarViewMode:v,aiEnabled:x,people:y}=He(),[b,w]=j.useState(new Date),[S,_]=j.useState(null),[T,D]=j.useState("tasks"),[R,U]=j.useState("all"),[I,Y]=j.useState("day"),[G,W]=j.useState(!1),[k,M]=j.useState(!0),{detailsWidth:A,startResizing:z,isResizing:V}=Hn(300,800);j.useEffect(()=>{const Z=setInterval(()=>w(new Date),6e4);return()=>clearInterval(Z)},[]);const B=j.useMemo(()=>new Date().setHours(0,0,0,0),[]),$=j.useMemo(()=>new Date().toISOString().split("T")[0]),ae=j.useMemo(()=>{const Z=s.filter(ge=>!ge.isDeleted&&ge.projectSection!=="habits"),K=(()=>{const ge=new Date;return I==="day"?new Date().setHours(0,0,0,0):I==="week"?ge.setDate(ge.getDate()-7):ge.setMonth(ge.getMonth()-1)})(),oe=Z.filter(ge=>(ge.completedAt||ge.createdAt)>=K),te=oe.filter(ge=>ge.status===me.DONE),ye=oe.length>0?Math.round(te.length/oe.length*100):0,ie={health:{done:0,total:0},career:{done:0,total:0},finance:{done:0,total:0},rest:{done:0,total:0}};return s.forEach(ge=>{if(ge.isDeleted)return;const Ee=t.find(ke=>ke.id===ge.projectId);Ee!=null&&Ee.sphere&&ie[Ee.sphere]&&(ie[Ee.sphere].total++,ge.status===me.DONE&&ie[Ee.sphere].done++)}),{kpi:ye,doneCount:te.length,totalCount:oe.length,spheres:ie}},[s,t,I]),fe=j.useMemo(()=>{const Z=s.filter(K=>!K.isDeleted&&(K.projectSection==="habits"||K.tags.includes("habit")));if(Z.length===0)return 0;const E=Z.filter(K=>{var oe,te;return((te=(oe=K.habitHistory)==null?void 0:oe[$])==null?void 0:te.status)==="completed"}).length;return Math.round(E/Z.length*100)},[s,$]),O=j.useMemo(()=>s.filter(E=>{if(E.isDeleted||E.status===me.DONE||E.projectSection==="habits"||E.category==="note")return!1;const K=E.scheduledDate&&new Date(E.scheduledDate).setHours(0,0,0,0)===B;return R==="calendar"?K:R==="projects"?!!E.projectId:K||E.status===me.NEXT_ACTION||E.status===me.INBOX&&!E.scheduledDate&&!E.projectId}).sort((E,K)=>{if(R==="calendar")return(E.scheduledDate||0)-(K.scheduledDate||0);const oe={[Pe.UI]:4,[Pe.UNI]:3,[Pe.NUI]:2,[Pe.NUNI]:1};return(oe[K.priority]||0)-(oe[E.priority]||0)}),[s,B,R]),q=j.useMemo(()=>{const Z=s.filter(E=>!E.isDeleted&&E.tags.includes("insight"));return Z.length===0?"   .":Z[b.getHours()%Z.length].title},[s,b]),he=async()=>{if(!x)return alert("   ");W(!0),await new Promise(Z=>setTimeout(Z,1500)),alert(` :  KPI  ${ae.kpi}%.      ${Object.entries(ae.spheres).sort((Z,E)=>E[1].total-Z[1].total)[0][0]}.     !`),W(!1)};return l.jsxs("div",{className:"h-screen flex bg-[var(--bg-main)] overflow-hidden relative text-[var(--text-main)] transition-none",children:[l.jsxs("div",{className:`flex-1 flex flex-col min-w-0 h-full transition-all duration-300 ${window.innerWidth<1024&&S?"-translate-x-full absolute":"translate-x-0 relative"}`,children:[l.jsx("header",{className:"p-3 md:p-4 bg-[var(--bg-card)] border-b border-[var(--border-color)] shrink-0",children:l.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col gap-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ee,{variant:"h1",className:"text-xl font-black text-[var(--text-main)]",children:""}),l.jsx("div",{className:"text-[10px] font-black text-[var(--text-muted)] opacity-50 uppercase tracking-widest pt-1",children:b.toLocaleDateString("uk-UA",{weekday:"short",day:"numeric",month:"short"})})]}),l.jsxs("div",{className:"flex bg-[var(--bg-main)] p-0.5 rounded-lg border border-[var(--border-color)]",children:[l.jsx("button",{onClick:()=>D("tasks"),className:`px-3 py-1 rounded-md text-[8px] font-black uppercase tracking-widest transition-all ${T==="tasks"?"bg-[var(--bg-card)] text-[var(--primary)] shadow-sm":"text-[var(--text-muted)]"}`,children:""}),l.jsx("button",{onClick:()=>D("progress"),className:`px-3 py-1 rounded-md text-[8px] font-black uppercase tracking-widest transition-all ${T==="progress"?"bg-[var(--bg-card)] text-[var(--primary)] shadow-sm":"text-[var(--text-muted)]"}`,children:""})]})]}),l.jsx("div",{className:"md:hidden",children:l.jsx(Cv,{})}),l.jsxs("div",{className:"flex items-center gap-2 bg-black/5 px-2 py-1 rounded-lg border border-theme overflow-hidden",children:[l.jsx("button",{onClick:()=>M(!k),className:`shrink-0 text-[10px] ${k?"text-[var(--primary)]":"text-[var(--text-muted)]"}`,children:l.jsx("i",{className:`fa-solid ${k?"fa-eye":"fa-eye-slash"}`})}),l.jsx("div",{className:"flex-1 overflow-hidden",children:l.jsxs("p",{className:`text-[9px] font-bold text-[var(--text-muted)] uppercase tracking-tight truncate ${k?"":"hidden"}`,children:[l.jsx("span",{className:"text-[var(--primary)] mr-2",children:""})," ",q]})})]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 md:p-6 transition-none",children:l.jsx("div",{className:"max-w-6xl mx-auto space-y-4 pb-32",children:T==="tasks"?l.jsxs(l.Fragment,{children:[l.jsxs(Me,{padding:"none",className:"bg-[var(--bg-card)] border-[var(--border-color)] p-2.5 rounded-xl shadow-sm flex items-center gap-3 relative border-l-4 border-l-[var(--primary)] transition-none",children:[l.jsx("div",{className:"min-w-0 flex-1 pl-1",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-[var(--primary)]",children:":"}),l.jsx("span",{className:"text-11px font-black text-[var(--text-main)] truncate uppercase",children:((P=n.find(Z=>Z.dayOfWeek===b.getDay()&&b.getHours()>=Z.startHour&&b.getHours()<Z.endHour))==null?void 0:P.title)||" "})]})}),l.jsx("button",{onClick:()=>g("calendar"),className:"w-7 h-7 rounded-lg bg-[var(--bg-main)] text-[var(--text-muted)] hover:bg-[var(--primary)] hover:text-white flex items-center justify-center shrink-0 transition-none",children:l.jsx("i",{className:"fa-solid fa-clock-rotate-left text-[10px]"})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 items-start transition-none",children:[l.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[l.jsxs("section",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center px-1",children:[l.jsx(ee,{variant:"tiny",className:"font-black uppercase text-[8px] tracking-[0.2em] text-[var(--text-muted)] opacity-70",children:" "}),l.jsx("div",{className:"flex bg-black/5 p-0.5 rounded-lg border border-theme",children:["all","projects","calendar"].map(Z=>l.jsx("button",{onClick:()=>U(Z),className:`px-2 py-0.5 rounded-md text-[7px] font-black uppercase tracking-widest transition-none ${R===Z?"bg-[var(--bg-card)] text-[var(--primary)] shadow-sm":"text-[var(--text-muted)]"}`,children:Z==="all"?"":Z==="projects"?"":""},Z))})]}),l.jsx("div",{className:"grid grid-cols-1 gap-1",children:O.map(Z=>l.jsxs(Me,{padding:"none",onClick:()=>_(Z.id),className:`flex items-center gap-2.5 px-2.5 py-1.5 transition-none cursor-pointer shadow-sm rounded-lg group border ${S===Z.id?"bg-blue-50/50 border-blue-200 shadow-md":"bg-[var(--bg-card)] border-[var(--border-color)] hover:border-[var(--primary)]/30"}`,children:[l.jsx("button",{onClick:E=>{E.stopPropagation(),i(Z)},className:`w-4 h-4 rounded-md border-2 flex items-center justify-center shrink-0 transition-all ${Z.status===me.DONE?"bg-emerald-500 border-emerald-500 text-white":"border-[var(--border-color)] bg-black/5 text-transparent"}`,children:l.jsx("i",{className:"fa-solid fa-check text-[7px]"})}),l.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between gap-4",children:[l.jsx("div",{className:`text-[11px] font-bold truncate leading-tight ${Z.status===me.DONE?"text-[var(--text-muted)] opacity-40 line-through":"text-[var(--text-main)]"}`,children:Z.title}),Z.content&&Z.content!=="[]"&&l.jsx("i",{className:"fa-regular fa-file-lines text-slate-300 text-[9px]"})]})]},Z.id))})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsxs(ee,{variant:"tiny",className:"font-black uppercase text-[8px] tracking-[0.2em] text-[var(--text-muted)] opacity-70 px-1",children:[" (",fe,"%)"]}),l.jsx("div",{className:"flex overflow-x-auto no-scrollbar gap-2 pb-1",children:s.filter(Z=>!Z.isDeleted&&Z.projectSection==="habits").map(Z=>{var K,oe;const E=((oe=(K=Z.habitHistory)==null?void 0:K[$])==null?void 0:oe.status)==="completed";return l.jsxs("button",{onClick:()=>o(Z.id,$,E?"none":"completed"),className:`shrink-0 w-24 p-2 rounded-xl border transition-none flex flex-col items-center gap-1.5 ${E?"bg-emerald-50/10 border-emerald-500/20 text-emerald-500 shadow-inner":"bg-[var(--bg-card)] border-[var(--border-color)] text-[var(--text-muted)] opacity-60"}`,children:[l.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center text-[9px] ${E?"bg-emerald-500 text-white shadow-sm":"bg-black/5 border border-theme"}`,children:l.jsx("i",{className:`fa-solid ${E?"fa-check":"fa-repeat"}`})}),l.jsx("span",{className:"text-[6px] font-black uppercase text-center leading-tight truncate w-full",children:Z.title})]},Z.id)})})]})]}),l.jsx("div",{className:"lg:col-span-4 space-y-6",children:l.jsxs("section",{className:"space-y-2",children:[l.jsx(ee,{variant:"tiny",className:"font-black uppercase text-[8px] tracking-[0.2em] text-[var(--text-muted)] opacity-70 px-1",children:" "}),l.jsx("div",{className:"space-y-1",children:s.filter(Z=>!Z.isDeleted&&Z.isEvent&&Z.scheduledDate&&Z.scheduledDate>=B).slice(0,3).map(Z=>l.jsxs("div",{className:"p-2 bg-[var(--bg-card)] border border-[var(--border-color)] rounded-lg flex items-center gap-2.5 shadow-sm",children:[l.jsx("div",{className:"w-6 h-6 rounded-md flex items-center justify-center shrink-0 bg-pink-500/10 text-pink-500",children:l.jsx("i",{className:"fa-solid fa-calendar-star text-[8px]"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"text-[9px] font-black text-[var(--text-main)] truncate uppercase",children:Z.title}),l.jsx("div",{className:"text-[7px] font-bold text-[var(--text-muted)] opacity-50 uppercase",children:new Date(Z.scheduledDate).toLocaleDateString("uk-UA",{day:"numeric",month:"short"})})]})]},Z.id))})]})})]})]}):l.jsx("div",{className:"space-y-6 animate-in fade-in duration-500",children:l.jsxs(Me,{className:"bg-[var(--bg-card)] border-[var(--border-color)] p-6 shadow-sm rounded-2xl",children:[l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[{key:"health",label:"'",color:"rose"},{key:"career",label:"'",color:"indigo"},{key:"finance",label:"",color:"emerald"},{key:"rest",label:"",color:"cyan"}].map(Z=>{const E=ae.spheres[Z.key],K=E.total>0?Math.round(E.done/E.total*100):0;return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsx("span",{className:"text-[8px] font-black uppercase text-[var(--text-muted)] tracking-widest opacity-60",children:Z.label}),l.jsxs("span",{className:"text-sm font-black text-[var(--text-main)]",children:[K,"%"]})]}),l.jsx("div",{className:"h-1.5 bg-black/5 rounded-full overflow-hidden border border-theme",children:l.jsx("div",{className:`h-full ${Z.color==="rose"?"bg-rose-500":Z.color==="indigo"?"bg-indigo-500":Z.color==="emerald"?"bg-emerald-500":"bg-cyan-500"}`,style:{width:`${K}%`}})})]},Z.key)})}),l.jsxs("div",{className:"mt-8 pt-6 border-t border-theme flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"w-12 h-12 rounded-xl bg-[var(--primary)]/10 flex items-center justify-center text-[var(--primary)] text-xl font-black shadow-inner",children:[ae.kpi,"%"]}),l.jsxs("div",{children:[l.jsx(ee,{variant:"tiny",className:"text-[var(--text-muted)] font-black text-[8px] uppercase tracking-widest opacity-60",children:" "}),l.jsxs("div",{className:"text-10px font-black text-[var(--text-main)] uppercase",children:[" ",ae.doneCount," "]})]})]}),l.jsxs("button",{onClick:he,disabled:G,className:"w-full md:w-auto flex items-center justify-center gap-2 bg-[var(--text-main)] text-[var(--bg-main)] px-8 py-3 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all hover:scale-[1.02] disabled:opacity-50",children:[G?l.jsx("i",{className:"fa-solid fa-circle-notch animate-spin"}):l.jsx("i",{className:"fa-solid fa-sparkles text-[var(--primary)]"}),"  "]})]})]})})})})]}),l.jsx("div",{className:`flex h-full border-l border-[var(--border-color)] z-[110] bg-[var(--bg-card)] shrink-0 transition-all duration-300 ${window.innerWidth<1024?S?"fixed inset-0 w-full translate-x-0":"fixed inset-0 w-full translate-x-full":S?"translate-x-0":"translate-x-full absolute"}`,style:{width:S?window.innerWidth<1024?"100vw":A:0},children:S&&l.jsxs("div",{className:"h-full w-full relative",children:[window.innerWidth>=1024&&l.jsx("div",{onMouseDown:z,className:`absolute left-0 top-0 bottom-0 w-[1px] cursor-col-resize hover:bg-[var(--primary)] z-[100] ${V?"bg-[var(--primary)]":"bg-[var(--border-color)]"}`}),l.jsx(qs,{task:s.find(Z=>Z.id===S),onClose:()=>_(null)})]})})]})},Rp=10,Sv=()=>{const[s,t]=j.useState(Array(Rp).fill(null).map(()=>Array(Rp).fill(!0))),n=(i,o)=>{const u=[...s];u[i]=[...u[i]],u[i][o]=!1,t(u)};return l.jsxs("div",{className:"p-8 h-full bg-slate-950 overflow-auto",children:[l.jsxs("div",{className:"mb-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-heading font-bold text-white",children:" "}),l.jsx("p",{className:"text-slate-400",children:" ,       ."})]}),l.jsxs("div",{className:"bg-slate-900 px-6 py-2 rounded-full border border-slate-800 text-yellow-400 font-bold flex items-center gap-3",children:[l.jsx("i",{className:"fa-solid fa-compass"})," : 12%"]})]}),l.jsx("div",{className:"inline-grid grid-cols-5 md:grid-cols-10 gap-2 bg-slate-900/50 p-4 rounded-3xl shadow-2xl border border-slate-800 backdrop-blur-md",children:s.map((i,o)=>i.map((u,p)=>l.jsxs("div",{onClick:()=>n(o,p),className:`w-14 h-14 md:w-20 md:h-20 rounded-xl cursor-pointer flex items-center justify-center relative overflow-hidden group ${u?"bg-slate-800 border border-slate-700 hover:bg-slate-700":"bg-emerald-900/20 border border-emerald-500/30 shadow-[inset_0_0_20px_rgba(16,185,129,0.1)]"}`,children:[u?l.jsx("div",{className:"text-slate-600 group-hover:scale-125",children:l.jsx("i",{className:"fa-solid fa-cloud"})}):l.jsx("div",{className:"text-2xl text-white",children:Math.random()>.9?l.jsx("i",{className:"fa-solid fa-gem text-cyan-400"}):Math.random()>.7?l.jsx("i",{className:"fa-solid fa-tree text-emerald-500"}):l.jsx("i",{className:"fa-solid fa-chess-rook text-slate-400"})}),u&&l.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-black/40 to-transparent pointer-events-none"})]},`${o}-${p}`)))})]})};var Ze;(function(s){s.assertEqual=o=>{};function t(o){}s.assertIs=t;function n(o){throw new Error}s.assertNever=n,s.arrayToEnum=o=>{const u={};for(const p of o)u[p]=p;return u},s.getValidEnumValues=o=>{const u=s.objectKeys(o).filter(g=>typeof o[o[g]]!="number"),p={};for(const g of u)p[g]=o[g];return s.objectValues(p)},s.objectValues=o=>s.objectKeys(o).map(function(u){return o[u]}),s.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const u=[];for(const p in o)Object.prototype.hasOwnProperty.call(o,p)&&u.push(p);return u},s.find=(o,u)=>{for(const p of o)if(u(p))return p},s.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function i(o,u=" | "){return o.map(p=>typeof p=="string"?`'${p}'`:p).join(u)}s.joinValues=i,s.jsonStringifyReplacer=(o,u)=>typeof u=="bigint"?u.toString():u})(Ze||(Ze={}));var Ip;(function(s){s.mergeShapes=(t,n)=>({...t,...n})})(Ip||(Ip={}));const we=Ze.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fa=s=>{switch(typeof s){case"undefined":return we.undefined;case"string":return we.string;case"number":return Number.isNaN(s)?we.nan:we.number;case"boolean":return we.boolean;case"function":return we.function;case"bigint":return we.bigint;case"symbol":return we.symbol;case"object":return Array.isArray(s)?we.array:s===null?we.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?we.promise:typeof Map<"u"&&s instanceof Map?we.map:typeof Set<"u"&&s instanceof Set?we.set:typeof Date<"u"&&s instanceof Date?we.date:we.object;default:return we.unknown}},xe=Ze.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Vn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(u){return u.message},i={_errors:[]},o=u=>{for(const p of u.issues)if(p.code==="invalid_union")p.unionErrors.map(o);else if(p.code==="invalid_return_type")o(p.returnTypeError);else if(p.code==="invalid_arguments")o(p.argumentsError);else if(p.path.length===0)i._errors.push(n(p));else{let g=i,v=0;for(;v<p.path.length;){const x=p.path[v];v===p.path.length-1?(g[x]=g[x]||{_errors:[]},g[x]._errors.push(n(p))):g[x]=g[x]||{_errors:[]},g=g[x],v++}}};return o(this),i}static assert(t){if(!(t instanceof Vn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ze.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},i=[];for(const o of this.issues)if(o.path.length>0){const u=o.path[0];n[u]=n[u]||[],n[u].push(t(o))}else i.push(t(o));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}Vn.create=s=>new Vn(s);const eu=(s,t)=>{let n;switch(s.code){case xe.invalid_type:s.received===we.undefined?n="Required":n=`Expected ${s.expected}, received ${s.received}`;break;case xe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(s.expected,Ze.jsonStringifyReplacer)}`;break;case xe.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ze.joinValues(s.keys,", ")}`;break;case xe.invalid_union:n="Invalid input";break;case xe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ze.joinValues(s.options)}`;break;case xe.invalid_enum_value:n=`Invalid enum value. Expected ${Ze.joinValues(s.options)}, received '${s.received}'`;break;case xe.invalid_arguments:n="Invalid function arguments";break;case xe.invalid_return_type:n="Invalid function return type";break;case xe.invalid_date:n="Invalid date";break;case xe.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(n=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?n=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?n=`Invalid input: must end with "${s.validation.endsWith}"`:Ze.assertNever(s.validation):s.validation!=="regex"?n=`Invalid ${s.validation}`:n="Invalid";break;case xe.too_small:s.type==="array"?n=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?n=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?n=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="bigint"?n=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?n=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:n="Invalid input";break;case xe.too_big:s.type==="array"?n=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?n=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?n=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?n=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?n=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:n="Invalid input";break;case xe.custom:n="Invalid input";break;case xe.invalid_intersection_types:n="Intersection results could not be merged";break;case xe.not_multiple_of:n=`Number must be a multiple of ${s.multipleOf}`;break;case xe.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ze.assertNever(s)}return{message:n}};let _v=eu;function kv(){return _v}const jv=s=>{const{data:t,path:n,errorMaps:i,issueData:o}=s,u=[...n,...o.path||[]],p={...o,path:u};if(o.message!==void 0)return{...o,path:u,message:o.message};let g="";const v=i.filter(x=>!!x).slice().reverse();for(const x of v)g=x(p,{data:t,defaultError:g}).message;return{...o,path:u,message:g}};function ve(s,t){const n=kv(),i=jv({issueData:t,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,n,n===eu?void 0:eu].filter(o=>!!o)});s.common.issues.push(i)}class Rt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const i=[];for(const o of n){if(o.status==="aborted")return Re;o.status==="dirty"&&t.dirty(),i.push(o.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,n){const i=[];for(const o of n){const u=await o.key,p=await o.value;i.push({key:u,value:p})}return Rt.mergeObjectSync(t,i)}static mergeObjectSync(t,n){const i={};for(const o of n){const{key:u,value:p}=o;if(u.status==="aborted"||p.status==="aborted")return Re;u.status==="dirty"&&t.dirty(),p.status==="dirty"&&t.dirty(),u.value!=="__proto__"&&(typeof p.value<"u"||o.alwaysSet)&&(i[u.value]=p.value)}return{status:t.value,value:i}}}const Re=Object.freeze({status:"aborted"}),Gi=s=>({status:"dirty",value:s}),rn=s=>({status:"valid",value:s}),Up=s=>s.status==="aborted",zp=s=>s.status==="dirty",Ls=s=>s.status==="valid",gr=s=>typeof Promise<"u"&&s instanceof Promise;var Ce;(function(s){s.errToObj=t=>typeof t=="string"?{message:t}:t||{},s.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ce||(Ce={}));class bn{constructor(t,n,i,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=i,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Lp=(s,t)=>{if(Ls(t))return{success:!0,data:t.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Vn(s.common.issues);return this._error=n,this._error}}};function Le(s){if(!s)return{};const{errorMap:t,invalid_type_error:n,required_error:i,description:o}=s;if(t&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(p,g)=>{const{message:v}=s;return p.code==="invalid_enum_value"?{message:v??g.defaultError}:typeof g.data>"u"?{message:v??i??g.defaultError}:p.code!=="invalid_type"?{message:g.defaultError}:{message:v??n??g.defaultError}},description:o}}class $e{get description(){return this._def.description}_getType(t){return fa(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:fa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Rt,ctx:{common:t.parent.common,data:t.data,parsedType:fa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(gr(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const i=this.safeParse(t,n);if(i.success)return i.data;throw i.error}safeParse(t,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fa(t)},o=this._parseSync({data:t,path:i.path,parent:i});return Lp(i,o)}"~validate"(t){var i,o;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fa(t)};if(!this["~standard"].async)try{const u=this._parseSync({data:t,path:[],parent:n});return Ls(u)?{value:u.value}:{issues:n.common.issues}}catch(u){(o=(i=u==null?void 0:u.message)==null?void 0:i.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(u=>Ls(u)?{value:u.value}:{issues:n.common.issues})}async parseAsync(t,n){const i=await this.safeParseAsync(t,n);if(i.success)return i.data;throw i.error}async safeParseAsync(t,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fa(t)},o=this._parse({data:t,path:i.path,parent:i}),u=await(gr(o)?o:Promise.resolve(o));return Lp(i,u)}refine(t,n){const i=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,u)=>{const p=t(o),g=()=>u.addIssue({code:xe.custom,...i(o)});return typeof Promise<"u"&&p instanceof Promise?p.then(v=>v?!0:(g(),!1)):p?!0:(g(),!1)})}refinement(t,n){return this._refinement((i,o)=>t(i)?!0:(o.addIssue(typeof n=="function"?n(i,o):n),!1))}_refinement(t){return new Hs({schema:this,typeName:De.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ma.create(this,this._def)}nullable(){return Bs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yn.create(this)}promise(){return wr.create(this,this._def)}or(t){return yr.create([this,t],this._def)}and(t){return br.create(this,t,this._def)}transform(t){return new Hs({...Le(this._def),schema:this,typeName:De.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new su({...Le(this._def),innerType:this,defaultValue:n,typeName:De.ZodDefault})}brand(){return new Xv({typeName:De.ZodBranded,type:this,...Le(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new iu({...Le(this._def),innerType:this,catchValue:n,typeName:De.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return vu.create(this,t)}readonly(){return lu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ev=/^c[^\s-]{8,}$/i,Av=/^[0-9a-z]+$/,Dv=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Mv=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Rv=/^[a-z0-9_-]{21}$/i,Iv=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Uv=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zv=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Lv="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Xc;const Ov=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Vv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Hv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Bv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Gv=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qv=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,mx="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Pv=new RegExp(`^${mx}$`);function px(s){let t="[0-5]\\d";s.precision?t=`${t}\\.\\d{${s.precision}}`:s.precision==null&&(t=`${t}(\\.\\d+)?`);const n=s.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function $v(s){return new RegExp(`^${px(s)}$`)}function Fv(s){let t=`${mx}T${px(s)}`;const n=[];return n.push(s.local?"Z?":"Z"),s.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Yv(s,t){return!!((t==="v4"||!t)&&Ov.test(s)||(t==="v6"||!t)&&Hv.test(s))}function Zv(s,t){if(!Iv.test(s))return!1;try{const[n]=s.split(".");if(!n)return!1;const i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||t&&o.alg!==t)}catch{return!1}}function Kv(s,t){return!!((t==="v4"||!t)&&Vv.test(s)||(t==="v6"||!t)&&Bv.test(s))}class vn extends $e{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==we.string){const u=this._getOrReturnCtx(t);return ve(u,{code:xe.invalid_type,expected:we.string,received:u.parsedType}),Re}const i=new Rt;let o;for(const u of this._def.checks)if(u.kind==="min")t.data.length<u.value&&(o=this._getOrReturnCtx(t,o),ve(o,{code:xe.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),i.dirty());else if(u.kind==="max")t.data.length>u.value&&(o=this._getOrReturnCtx(t,o),ve(o,{code:xe.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),i.dirty());else if(u.kind==="length"){const p=t.data.length>u.value,g=t.data.length<u.value;(p||g)&&(o=this._getOrReturnCtx(t,o),p?ve(o,{code:xe.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):g&&ve(o,{code:xe.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),i.dirty())}else if(u.kind==="email")zv.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"email",code:xe.invalid_string,message:u.message}),i.dirty());else if(u.kind==="emoji")Xc||(Xc=new RegExp(Lv,"u")),Xc.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"emoji",code:xe.invalid_string,message:u.message}),i.dirty());else if(u.kind==="uuid")Mv.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"uuid",code:xe.invalid_string,message:u.message}),i.dirty());else if(u.kind==="nanoid")Rv.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"nanoid",code:xe.invalid_string,message:u.message}),i.dirty());else if(u.kind==="cuid")Ev.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"cuid",code:xe.invalid_string,message:u.message}),i.dirty());else if(u.kind==="cuid2")Av.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"cuid2",code:xe.invalid_string,message:u.message}),i.dirty());else if(u.kind==="ulid")Dv.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"ulid",code:xe.invalid_string,message:u.message}),i.dirty());else if(u.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),ve(o,{validation:"url",code:xe.invalid_string,message:u.message}),i.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"regex",code:xe.invalid_string,message:u.message}),i.dirty())):u.kind==="trim"?t.data=t.data.trim():u.kind==="includes"?t.data.includes(u.value,u.position)||(o=this._getOrReturnCtx(t,o),ve(o,{code:xe.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),i.dirty()):u.kind==="toLowerCase"?t.data=t.data.toLowerCase():u.kind==="toUpperCase"?t.data=t.data.toUpperCase():u.kind==="startsWith"?t.data.startsWith(u.value)||(o=this._getOrReturnCtx(t,o),ve(o,{code:xe.invalid_string,validation:{startsWith:u.value},message:u.message}),i.dirty()):u.kind==="endsWith"?t.data.endsWith(u.value)||(o=this._getOrReturnCtx(t,o),ve(o,{code:xe.invalid_string,validation:{endsWith:u.value},message:u.message}),i.dirty()):u.kind==="datetime"?Fv(u).test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{code:xe.invalid_string,validation:"datetime",message:u.message}),i.dirty()):u.kind==="date"?Pv.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{code:xe.invalid_string,validation:"date",message:u.message}),i.dirty()):u.kind==="time"?$v(u).test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{code:xe.invalid_string,validation:"time",message:u.message}),i.dirty()):u.kind==="duration"?Uv.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"duration",code:xe.invalid_string,message:u.message}),i.dirty()):u.kind==="ip"?Yv(t.data,u.version)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"ip",code:xe.invalid_string,message:u.message}),i.dirty()):u.kind==="jwt"?Zv(t.data,u.alg)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"jwt",code:xe.invalid_string,message:u.message}),i.dirty()):u.kind==="cidr"?Kv(t.data,u.version)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"cidr",code:xe.invalid_string,message:u.message}),i.dirty()):u.kind==="base64"?Gv.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"base64",code:xe.invalid_string,message:u.message}),i.dirty()):u.kind==="base64url"?qv.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"base64url",code:xe.invalid_string,message:u.message}),i.dirty()):Ze.assertNever(u);return{status:i.value,value:t.data}}_regex(t,n,i){return this.refinement(o=>t.test(o),{validation:n,code:xe.invalid_string,...Ce.errToObj(i)})}_addCheck(t){return new vn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ce.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ce.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ce.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ce.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ce.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ce.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ce.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ce.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ce.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ce.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ce.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ce.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ce.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ce.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ce.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ce.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Ce.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Ce.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Ce.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Ce.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Ce.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Ce.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Ce.errToObj(n)})}nonempty(t){return this.min(1,Ce.errToObj(t))}trim(){return new vn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}vn.create=s=>new vn({checks:[],typeName:De.ZodString,coerce:(s==null?void 0:s.coerce)??!1,...Le(s)});function Jv(s,t){const n=(s.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,o=n>i?n:i,u=Number.parseInt(s.toFixed(o).replace(".","")),p=Number.parseInt(t.toFixed(o).replace(".",""));return u%p/10**o}class La extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==we.number){const u=this._getOrReturnCtx(t);return ve(u,{code:xe.invalid_type,expected:we.number,received:u.parsedType}),Re}let i;const o=new Rt;for(const u of this._def.checks)u.kind==="int"?Ze.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),ve(i,{code:xe.invalid_type,expected:"integer",received:"float",message:u.message}),o.dirty()):u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(i=this._getOrReturnCtx(t,i),ve(i,{code:xe.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),o.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(i=this._getOrReturnCtx(t,i),ve(i,{code:xe.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),o.dirty()):u.kind==="multipleOf"?Jv(t.data,u.value)!==0&&(i=this._getOrReturnCtx(t,i),ve(i,{code:xe.not_multiple_of,multipleOf:u.value,message:u.message}),o.dirty()):u.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),ve(i,{code:xe.not_finite,message:u.message}),o.dirty()):Ze.assertNever(u);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Ce.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ce.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ce.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ce.toString(n))}setLimit(t,n,i,o){return new La({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:Ce.toString(o)}]})}_addCheck(t){return new La({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ce.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ce.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ce.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Ce.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ce.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ce.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ze.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(n)&&Number.isFinite(t)}}La.create=s=>new La({checks:[],typeName:De.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...Le(s)});class Oa extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==we.bigint)return this._getInvalidInput(t);let i;const o=new Rt;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(i=this._getOrReturnCtx(t,i),ve(i,{code:xe.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),o.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(i=this._getOrReturnCtx(t,i),ve(i,{code:xe.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),o.dirty()):u.kind==="multipleOf"?t.data%u.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),ve(i,{code:xe.not_multiple_of,multipleOf:u.value,message:u.message}),o.dirty()):Ze.assertNever(u);return{status:o.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return ve(n,{code:xe.invalid_type,expected:we.bigint,received:n.parsedType}),Re}gte(t,n){return this.setLimit("min",t,!0,Ce.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ce.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ce.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ce.toString(n))}setLimit(t,n,i,o){return new Oa({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:Ce.toString(o)}]})}_addCheck(t){return new Oa({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ce.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ce.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Oa.create=s=>new Oa({checks:[],typeName:De.ZodBigInt,coerce:(s==null?void 0:s.coerce)??!1,...Le(s)});class vr extends $e{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==we.boolean){const i=this._getOrReturnCtx(t);return ve(i,{code:xe.invalid_type,expected:we.boolean,received:i.parsedType}),Re}return rn(t.data)}}vr.create=s=>new vr({typeName:De.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...Le(s)});class Os extends $e{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==we.date){const u=this._getOrReturnCtx(t);return ve(u,{code:xe.invalid_type,expected:we.date,received:u.parsedType}),Re}if(Number.isNaN(t.data.getTime())){const u=this._getOrReturnCtx(t);return ve(u,{code:xe.invalid_date}),Re}const i=new Rt;let o;for(const u of this._def.checks)u.kind==="min"?t.data.getTime()<u.value&&(o=this._getOrReturnCtx(t,o),ve(o,{code:xe.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),i.dirty()):u.kind==="max"?t.data.getTime()>u.value&&(o=this._getOrReturnCtx(t,o),ve(o,{code:xe.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),i.dirty()):Ze.assertNever(u);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Os({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Ce.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Ce.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Os.create=s=>new Os({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:De.ZodDate,...Le(s)});class Op extends $e{_parse(t){if(this._getType(t)!==we.symbol){const i=this._getOrReturnCtx(t);return ve(i,{code:xe.invalid_type,expected:we.symbol,received:i.parsedType}),Re}return rn(t.data)}}Op.create=s=>new Op({typeName:De.ZodSymbol,...Le(s)});class Vp extends $e{_parse(t){if(this._getType(t)!==we.undefined){const i=this._getOrReturnCtx(t);return ve(i,{code:xe.invalid_type,expected:we.undefined,received:i.parsedType}),Re}return rn(t.data)}}Vp.create=s=>new Vp({typeName:De.ZodUndefined,...Le(s)});class Hp extends $e{_parse(t){if(this._getType(t)!==we.null){const i=this._getOrReturnCtx(t);return ve(i,{code:xe.invalid_type,expected:we.null,received:i.parsedType}),Re}return rn(t.data)}}Hp.create=s=>new Hp({typeName:De.ZodNull,...Le(s)});class Bp extends $e{constructor(){super(...arguments),this._any=!0}_parse(t){return rn(t.data)}}Bp.create=s=>new Bp({typeName:De.ZodAny,...Le(s)});class tu extends $e{constructor(){super(...arguments),this._unknown=!0}_parse(t){return rn(t.data)}}tu.create=s=>new tu({typeName:De.ZodUnknown,...Le(s)});class pa extends $e{_parse(t){const n=this._getOrReturnCtx(t);return ve(n,{code:xe.invalid_type,expected:we.never,received:n.parsedType}),Re}}pa.create=s=>new pa({typeName:De.ZodNever,...Le(s)});class Gp extends $e{_parse(t){if(this._getType(t)!==we.undefined){const i=this._getOrReturnCtx(t);return ve(i,{code:xe.invalid_type,expected:we.void,received:i.parsedType}),Re}return rn(t.data)}}Gp.create=s=>new Gp({typeName:De.ZodVoid,...Le(s)});class yn extends $e{_parse(t){const{ctx:n,status:i}=this._processInputParams(t),o=this._def;if(n.parsedType!==we.array)return ve(n,{code:xe.invalid_type,expected:we.array,received:n.parsedType}),Re;if(o.exactLength!==null){const p=n.data.length>o.exactLength.value,g=n.data.length<o.exactLength.value;(p||g)&&(ve(n,{code:p?xe.too_big:xe.too_small,minimum:g?o.exactLength.value:void 0,maximum:p?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(ve(n,{code:xe.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(ve(n,{code:xe.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((p,g)=>o.type._parseAsync(new bn(n,p,n.path,g)))).then(p=>Rt.mergeArray(i,p));const u=[...n.data].map((p,g)=>o.type._parseSync(new bn(n,p,n.path,g)));return Rt.mergeArray(i,u)}get element(){return this._def.type}min(t,n){return new yn({...this._def,minLength:{value:t,message:Ce.toString(n)}})}max(t,n){return new yn({...this._def,maxLength:{value:t,message:Ce.toString(n)}})}length(t,n){return new yn({...this._def,exactLength:{value:t,message:Ce.toString(n)}})}nonempty(t){return this.min(1,t)}}yn.create=(s,t)=>new yn({type:s,minLength:null,maxLength:null,exactLength:null,typeName:De.ZodArray,...Le(t)});function Ms(s){if(s instanceof yt){const t={};for(const n in s.shape){const i=s.shape[n];t[n]=ma.create(Ms(i))}return new yt({...s._def,shape:()=>t})}else return s instanceof yn?new yn({...s._def,type:Ms(s.element)}):s instanceof ma?ma.create(Ms(s.unwrap())):s instanceof Bs?Bs.create(Ms(s.unwrap())):s instanceof Va?Va.create(s.items.map(t=>Ms(t))):s}class yt extends $e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Ze.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==we.object){const x=this._getOrReturnCtx(t);return ve(x,{code:xe.invalid_type,expected:we.object,received:x.parsedType}),Re}const{status:i,ctx:o}=this._processInputParams(t),{shape:u,keys:p}=this._getCached(),g=[];if(!(this._def.catchall instanceof pa&&this._def.unknownKeys==="strip"))for(const x in o.data)p.includes(x)||g.push(x);const v=[];for(const x of p){const y=u[x],b=o.data[x];v.push({key:{status:"valid",value:x},value:y._parse(new bn(o,b,o.path,x)),alwaysSet:x in o.data})}if(this._def.catchall instanceof pa){const x=this._def.unknownKeys;if(x==="passthrough")for(const y of g)v.push({key:{status:"valid",value:y},value:{status:"valid",value:o.data[y]}});else if(x==="strict")g.length>0&&(ve(o,{code:xe.unrecognized_keys,keys:g}),i.dirty());else if(x!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const x=this._def.catchall;for(const y of g){const b=o.data[y];v.push({key:{status:"valid",value:y},value:x._parse(new bn(o,b,o.path,y)),alwaysSet:y in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const x=[];for(const y of v){const b=await y.key,w=await y.value;x.push({key:b,value:w,alwaysSet:y.alwaysSet})}return x}).then(x=>Rt.mergeObjectSync(i,x)):Rt.mergeObjectSync(i,v)}get shape(){return this._def.shape()}strict(t){return Ce.errToObj,new yt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,i)=>{var u,p;const o=((p=(u=this._def).errorMap)==null?void 0:p.call(u,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:Ce.errToObj(t).message??o}:{message:o}}}:{}})}strip(){return new yt({...this._def,unknownKeys:"strip"})}passthrough(){return new yt({...this._def,unknownKeys:"passthrough"})}extend(t){return new yt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new yt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:De.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new yt({...this._def,catchall:t})}pick(t){const n={};for(const i of Ze.objectKeys(t))t[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new yt({...this._def,shape:()=>n})}omit(t){const n={};for(const i of Ze.objectKeys(this.shape))t[i]||(n[i]=this.shape[i]);return new yt({...this._def,shape:()=>n})}deepPartial(){return Ms(this)}partial(t){const n={};for(const i of Ze.objectKeys(this.shape)){const o=this.shape[i];t&&!t[i]?n[i]=o:n[i]=o.optional()}return new yt({...this._def,shape:()=>n})}required(t){const n={};for(const i of Ze.objectKeys(this.shape))if(t&&!t[i])n[i]=this.shape[i];else{let u=this.shape[i];for(;u instanceof ma;)u=u._def.innerType;n[i]=u}return new yt({...this._def,shape:()=>n})}keyof(){return hx(Ze.objectKeys(this.shape))}}yt.create=(s,t)=>new yt({shape:()=>s,unknownKeys:"strip",catchall:pa.create(),typeName:De.ZodObject,...Le(t)});yt.strictCreate=(s,t)=>new yt({shape:()=>s,unknownKeys:"strict",catchall:pa.create(),typeName:De.ZodObject,...Le(t)});yt.lazycreate=(s,t)=>new yt({shape:s,unknownKeys:"strip",catchall:pa.create(),typeName:De.ZodObject,...Le(t)});class yr extends $e{_parse(t){const{ctx:n}=this._processInputParams(t),i=this._def.options;function o(u){for(const g of u)if(g.result.status==="valid")return g.result;for(const g of u)if(g.result.status==="dirty")return n.common.issues.push(...g.ctx.common.issues),g.result;const p=u.map(g=>new Vn(g.ctx.common.issues));return ve(n,{code:xe.invalid_union,unionErrors:p}),Re}if(n.common.async)return Promise.all(i.map(async u=>{const p={...n,common:{...n.common,issues:[]},parent:null};return{result:await u._parseAsync({data:n.data,path:n.path,parent:p}),ctx:p}})).then(o);{let u;const p=[];for(const v of i){const x={...n,common:{...n.common,issues:[]},parent:null},y=v._parseSync({data:n.data,path:n.path,parent:x});if(y.status==="valid")return y;y.status==="dirty"&&!u&&(u={result:y,ctx:x}),x.common.issues.length&&p.push(x.common.issues)}if(u)return n.common.issues.push(...u.ctx.common.issues),u.result;const g=p.map(v=>new Vn(v));return ve(n,{code:xe.invalid_union,unionErrors:g}),Re}}get options(){return this._def.options}}yr.create=(s,t)=>new yr({options:s,typeName:De.ZodUnion,...Le(t)});function nu(s,t){const n=fa(s),i=fa(t);if(s===t)return{valid:!0,data:s};if(n===we.object&&i===we.object){const o=Ze.objectKeys(t),u=Ze.objectKeys(s).filter(g=>o.indexOf(g)!==-1),p={...s,...t};for(const g of u){const v=nu(s[g],t[g]);if(!v.valid)return{valid:!1};p[g]=v.data}return{valid:!0,data:p}}else if(n===we.array&&i===we.array){if(s.length!==t.length)return{valid:!1};const o=[];for(let u=0;u<s.length;u++){const p=s[u],g=t[u],v=nu(p,g);if(!v.valid)return{valid:!1};o.push(v.data)}return{valid:!0,data:o}}else return n===we.date&&i===we.date&&+s==+t?{valid:!0,data:s}:{valid:!1}}class br extends $e{_parse(t){const{status:n,ctx:i}=this._processInputParams(t),o=(u,p)=>{if(Up(u)||Up(p))return Re;const g=nu(u.value,p.value);return g.valid?((zp(u)||zp(p))&&n.dirty(),{status:n.value,value:g.data}):(ve(i,{code:xe.invalid_intersection_types}),Re)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([u,p])=>o(u,p)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}br.create=(s,t,n)=>new br({left:s,right:t,typeName:De.ZodIntersection,...Le(n)});class Va extends $e{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==we.array)return ve(i,{code:xe.invalid_type,expected:we.array,received:i.parsedType}),Re;if(i.data.length<this._def.items.length)return ve(i,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Re;!this._def.rest&&i.data.length>this._def.items.length&&(ve(i,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const u=[...i.data].map((p,g)=>{const v=this._def.items[g]||this._def.rest;return v?v._parse(new bn(i,p,i.path,g)):null}).filter(p=>!!p);return i.common.async?Promise.all(u).then(p=>Rt.mergeArray(n,p)):Rt.mergeArray(n,u)}get items(){return this._def.items}rest(t){return new Va({...this._def,rest:t})}}Va.create=(s,t)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Va({items:s,typeName:De.ZodTuple,rest:null,...Le(t)})};class Nr extends $e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==we.object)return ve(i,{code:xe.invalid_type,expected:we.object,received:i.parsedType}),Re;const o=[],u=this._def.keyType,p=this._def.valueType;for(const g in i.data)o.push({key:u._parse(new bn(i,g,i.path,g)),value:p._parse(new bn(i,i.data[g],i.path,g)),alwaysSet:g in i.data});return i.common.async?Rt.mergeObjectAsync(n,o):Rt.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,i){return n instanceof $e?new Nr({keyType:t,valueType:n,typeName:De.ZodRecord,...Le(i)}):new Nr({keyType:vn.create(),valueType:t,typeName:De.ZodRecord,...Le(n)})}}class qp extends $e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==we.map)return ve(i,{code:xe.invalid_type,expected:we.map,received:i.parsedType}),Re;const o=this._def.keyType,u=this._def.valueType,p=[...i.data.entries()].map(([g,v],x)=>({key:o._parse(new bn(i,g,i.path,[x,"key"])),value:u._parse(new bn(i,v,i.path,[x,"value"]))}));if(i.common.async){const g=new Map;return Promise.resolve().then(async()=>{for(const v of p){const x=await v.key,y=await v.value;if(x.status==="aborted"||y.status==="aborted")return Re;(x.status==="dirty"||y.status==="dirty")&&n.dirty(),g.set(x.value,y.value)}return{status:n.value,value:g}})}else{const g=new Map;for(const v of p){const x=v.key,y=v.value;if(x.status==="aborted"||y.status==="aborted")return Re;(x.status==="dirty"||y.status==="dirty")&&n.dirty(),g.set(x.value,y.value)}return{status:n.value,value:g}}}}qp.create=(s,t,n)=>new qp({valueType:t,keyType:s,typeName:De.ZodMap,...Le(n)});class $i extends $e{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==we.set)return ve(i,{code:xe.invalid_type,expected:we.set,received:i.parsedType}),Re;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(ve(i,{code:xe.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(ve(i,{code:xe.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const u=this._def.valueType;function p(v){const x=new Set;for(const y of v){if(y.status==="aborted")return Re;y.status==="dirty"&&n.dirty(),x.add(y.value)}return{status:n.value,value:x}}const g=[...i.data.values()].map((v,x)=>u._parse(new bn(i,v,i.path,x)));return i.common.async?Promise.all(g).then(v=>p(v)):p(g)}min(t,n){return new $i({...this._def,minSize:{value:t,message:Ce.toString(n)}})}max(t,n){return new $i({...this._def,maxSize:{value:t,message:Ce.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}$i.create=(s,t)=>new $i({valueType:s,minSize:null,maxSize:null,typeName:De.ZodSet,...Le(t)});class au extends $e{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}au.create=(s,t)=>new au({getter:s,typeName:De.ZodLazy,...Le(t)});class Pp extends $e{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return ve(n,{received:n.data,code:xe.invalid_literal,expected:this._def.value}),Re}return{status:"valid",value:t.data}}get value(){return this._def.value}}Pp.create=(s,t)=>new Pp({value:s,typeName:De.ZodLiteral,...Le(t)});function hx(s,t){return new Vs({values:s,typeName:De.ZodEnum,...Le(t)})}class Vs extends $e{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),i=this._def.values;return ve(n,{expected:Ze.joinValues(i),received:n.parsedType,code:xe.invalid_type}),Re}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),i=this._def.values;return ve(n,{received:n.data,code:xe.invalid_enum_value,options:i}),Re}return rn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Vs.create(t,{...this._def,...n})}exclude(t,n=this._def){return Vs.create(this.options.filter(i=>!t.includes(i)),{...this._def,...n})}}Vs.create=hx;class $p extends $e{_parse(t){const n=Ze.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==we.string&&i.parsedType!==we.number){const o=Ze.objectValues(n);return ve(i,{expected:Ze.joinValues(o),received:i.parsedType,code:xe.invalid_type}),Re}if(this._cache||(this._cache=new Set(Ze.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const o=Ze.objectValues(n);return ve(i,{received:i.data,code:xe.invalid_enum_value,options:o}),Re}return rn(t.data)}get enum(){return this._def.values}}$p.create=(s,t)=>new $p({values:s,typeName:De.ZodNativeEnum,...Le(t)});class wr extends $e{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==we.promise&&n.common.async===!1)return ve(n,{code:xe.invalid_type,expected:we.promise,received:n.parsedType}),Re;const i=n.parsedType===we.promise?n.data:Promise.resolve(n.data);return rn(i.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}wr.create=(s,t)=>new wr({type:s,typeName:De.ZodPromise,...Le(t)});class Hs extends $e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===De.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:i}=this._processInputParams(t),o=this._def.effect||null,u={addIssue:p=>{ve(i,p),p.fatal?n.abort():n.dirty()},get path(){return i.path}};if(u.addIssue=u.addIssue.bind(u),o.type==="preprocess"){const p=o.transform(i.data,u);if(i.common.async)return Promise.resolve(p).then(async g=>{if(n.value==="aborted")return Re;const v=await this._def.schema._parseAsync({data:g,path:i.path,parent:i});return v.status==="aborted"?Re:v.status==="dirty"||n.value==="dirty"?Gi(v.value):v});{if(n.value==="aborted")return Re;const g=this._def.schema._parseSync({data:p,path:i.path,parent:i});return g.status==="aborted"?Re:g.status==="dirty"||n.value==="dirty"?Gi(g.value):g}}if(o.type==="refinement"){const p=g=>{const v=o.refinement(g,u);if(i.common.async)return Promise.resolve(v);if(v instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(i.common.async===!1){const g=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return g.status==="aborted"?Re:(g.status==="dirty"&&n.dirty(),p(g.value),{status:n.value,value:g.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(g=>g.status==="aborted"?Re:(g.status==="dirty"&&n.dirty(),p(g.value).then(()=>({status:n.value,value:g.value}))))}if(o.type==="transform")if(i.common.async===!1){const p=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Ls(p))return Re;const g=o.transform(p.value,u);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:g}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(p=>Ls(p)?Promise.resolve(o.transform(p.value,u)).then(g=>({status:n.value,value:g})):Re);Ze.assertNever(o)}}Hs.create=(s,t,n)=>new Hs({schema:s,typeName:De.ZodEffects,effect:t,...Le(n)});Hs.createWithPreprocess=(s,t,n)=>new Hs({schema:t,effect:{type:"preprocess",transform:s},typeName:De.ZodEffects,...Le(n)});class ma extends $e{_parse(t){return this._getType(t)===we.undefined?rn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ma.create=(s,t)=>new ma({innerType:s,typeName:De.ZodOptional,...Le(t)});class Bs extends $e{_parse(t){return this._getType(t)===we.null?rn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Bs.create=(s,t)=>new Bs({innerType:s,typeName:De.ZodNullable,...Le(t)});class su extends $e{_parse(t){const{ctx:n}=this._processInputParams(t);let i=n.data;return n.parsedType===we.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}su.create=(s,t)=>new su({innerType:s,typeName:De.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Le(t)});class iu extends $e{_parse(t){const{ctx:n}=this._processInputParams(t),i={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return gr(o)?o.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new Vn(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Vn(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}iu.create=(s,t)=>new iu({innerType:s,typeName:De.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Le(t)});class Fp extends $e{_parse(t){if(this._getType(t)!==we.nan){const i=this._getOrReturnCtx(t);return ve(i,{code:xe.invalid_type,expected:we.nan,received:i.parsedType}),Re}return{status:"valid",value:t.data}}}Fp.create=s=>new Fp({typeName:De.ZodNaN,...Le(s)});class Xv extends $e{_parse(t){const{ctx:n}=this._processInputParams(t),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class vu extends $e{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?Re:u.status==="dirty"?(n.dirty(),Gi(u.value)):this._def.out._parseAsync({data:u.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Re:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(t,n){return new vu({in:t,out:n,typeName:De.ZodPipeline})}}class lu extends $e{_parse(t){const n=this._def.innerType._parse(t),i=o=>(Ls(o)&&(o.value=Object.freeze(o.value)),o);return gr(n)?n.then(o=>i(o)):i(n)}unwrap(){return this._def.innerType}}lu.create=(s,t)=>new lu({innerType:s,typeName:De.ZodReadonly,...Le(t)});var De;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(De||(De={}));const za=vn.create,Yp=La.create;Oa.create;const Qv=vr.create;Os.create;const Zp=tu.create;pa.create;const qi=yn.create,Wv=yt.create,ey=yr.create;br.create;Va.create;const ty=Nr.create,ny=au.create,ay=Vs.create;wr.create;ma.create;Bs.create;const Es={string:(s=>vn.create({...s,coerce:!0})),number:(s=>La.create({...s,coerce:!0})),boolean:(s=>vr.create({...s,coerce:!0})),bigint:(s=>Oa.create({...s,coerce:!0})),date:(s=>Os.create({...s,coerce:!0}))};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let sy,iy;function ly(){return{geminiUrl:sy,vertexUrl:iy}}function ry(s,t,n){var i,o,u;if(!(!((i=s.httpOptions)===null||i===void 0)&&i.baseUrl)){const p=ly();return s.vertexai?(o=p.vertexUrl)!==null&&o!==void 0?o:t:(u=p.geminiUrl)!==null&&u!==void 0?u:n}return s.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ps{}function Ae(s,t){const n=/\{([^}]+)\}/g;return s.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const u=t[o];return u!=null?String(u):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function f(s,t,n){for(let u=0;u<t.length-1;u++){const p=t[u];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in s))if(Array.isArray(n))s[g]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(s[g])){const v=s[g];if(Array.isArray(n))for(let x=0;x<v.length;x++){const y=v[x];f(y,t.slice(u+1),n[x])}else for(const x of v)f(x,t.slice(u+1),n)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in s||(s[g]=[{}]);const v=s[g];f(v[0],t.slice(u+1),n);return}(!s[p]||typeof s[p]!="object")&&(s[p]={}),s=s[p]}const i=t[t.length-1],o=s[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else s[i]=n}function d(s,t){try{if(t.length===1&&t[0]==="_self")return s;for(let n=0;n<t.length;n++){if(typeof s!="object"||s===null)return;const i=t[n];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in s){const u=s[o];return Array.isArray(u)?u.map(p=>d(p,t.slice(n+1))):void 0}else return}else s=s[i]}return s}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kp;(function(s){s.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",s.OUTCOME_OK="OUTCOME_OK",s.OUTCOME_FAILED="OUTCOME_FAILED",s.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Kp||(Kp={}));var Jp;(function(s){s.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",s.PYTHON="PYTHON"})(Jp||(Jp={}));var be;(function(s){s.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",s.STRING="STRING",s.NUMBER="NUMBER",s.INTEGER="INTEGER",s.BOOLEAN="BOOLEAN",s.ARRAY="ARRAY",s.OBJECT="OBJECT",s.NULL="NULL"})(be||(be={}));var Xp;(function(s){s.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",s.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",s.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",s.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",s.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",s.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Xp||(Xp={}));var Qp;(function(s){s.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",s.SEVERITY="SEVERITY",s.PROBABILITY="PROBABILITY"})(Qp||(Qp={}));var Wp;(function(s){s.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE",s.OFF="OFF"})(Wp||(Wp={}));var eh;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(eh||(eh={}));var th;(function(s){s.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",s.NO_AUTH="NO_AUTH",s.API_KEY_AUTH="API_KEY_AUTH",s.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",s.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",s.OAUTH="OAUTH",s.OIDC_AUTH="OIDC_AUTH"})(th||(th={}));var nh;(function(s){s.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",s.STOP="STOP",s.MAX_TOKENS="MAX_TOKENS",s.SAFETY="SAFETY",s.RECITATION="RECITATION",s.LANGUAGE="LANGUAGE",s.OTHER="OTHER",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT",s.SPII="SPII",s.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",s.IMAGE_SAFETY="IMAGE_SAFETY",s.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(nh||(nh={}));var ah;(function(s){s.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",s.NEGLIGIBLE="NEGLIGIBLE",s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH"})(ah||(ah={}));var sh;(function(s){s.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",s.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",s.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",s.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",s.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(sh||(sh={}));var ih;(function(s){s.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(ih||(ih={}));var lh;(function(s){s.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",s.ON_DEMAND="ON_DEMAND",s.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(lh||(lh={}));var Tr;(function(s){s.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",s.TEXT="TEXT",s.IMAGE="IMAGE",s.AUDIO="AUDIO"})(Tr||(Tr={}));var rh;(function(s){s.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",s.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",s.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",s.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(rh||(rh={}));var ru;(function(s){s.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",s.JOB_STATE_QUEUED="JOB_STATE_QUEUED",s.JOB_STATE_PENDING="JOB_STATE_PENDING",s.JOB_STATE_RUNNING="JOB_STATE_RUNNING",s.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",s.JOB_STATE_FAILED="JOB_STATE_FAILED",s.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",s.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",s.JOB_STATE_PAUSED="JOB_STATE_PAUSED",s.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",s.JOB_STATE_UPDATING="JOB_STATE_UPDATING",s.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ru||(ru={}));var oh;(function(s){s.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",s.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",s.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",s.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",s.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",s.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",s.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(oh||(oh={}));var ch;(function(s){s.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",s.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",s.BALANCED="BALANCED",s.PRIORITIZE_COST="PRIORITIZE_COST"})(ch||(ch={}));var uh;(function(s){s.UNSPECIFIED="UNSPECIFIED",s.BLOCKING="BLOCKING",s.NON_BLOCKING="NON_BLOCKING"})(uh||(uh={}));var dh;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(dh||(dh={}));var fh;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE"})(fh||(fh={}));var mh;(function(s){s.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",s.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",s.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(mh||(mh={}));var ph;(function(s){s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE"})(ph||(ph={}));var hh;(function(s){s.DONT_ALLOW="DONT_ALLOW",s.ALLOW_ADULT="ALLOW_ADULT",s.ALLOW_ALL="ALLOW_ALL"})(hh||(hh={}));var xh;(function(s){s.auto="auto",s.en="en",s.ja="ja",s.ko="ko",s.hi="hi"})(xh||(xh={}));var gh;(function(s){s.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",s.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",s.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",s.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",s.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(gh||(gh={}));var vh;(function(s){s.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",s.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",s.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",s.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(vh||(vh={}));var yh;(function(s){s.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",s.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",s.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",s.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(yh||(yh={}));var bh;(function(s){s.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",s.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",s.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",s.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",s.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",s.EDIT_MODE_STYLE="EDIT_MODE_STYLE",s.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",s.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(bh||(bh={}));var Nh;(function(s){s.STATE_UNSPECIFIED="STATE_UNSPECIFIED",s.PROCESSING="PROCESSING",s.ACTIVE="ACTIVE",s.FAILED="FAILED"})(Nh||(Nh={}));var wh;(function(s){s.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",s.UPLOADED="UPLOADED",s.GENERATED="GENERATED"})(wh||(wh={}));var Th;(function(s){s.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",s.TEXT="TEXT",s.IMAGE="IMAGE",s.VIDEO="VIDEO",s.AUDIO="AUDIO",s.DOCUMENT="DOCUMENT"})(Th||(Th={}));var Ch;(function(s){s.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",s.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",s.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ch||(Ch={}));var Sh;(function(s){s.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",s.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",s.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Sh||(Sh={}));var _h;(function(s){s.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",s.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",s.NO_INTERRUPTION="NO_INTERRUPTION"})(_h||(_h={}));var kh;(function(s){s.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",s.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",s.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(kh||(kh={}));var jh;(function(s){s.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",s.SILENT="SILENT",s.WHEN_IDLE="WHEN_IDLE",s.INTERRUPT="INTERRUPT"})(jh||(jh={}));var Eh;(function(s){s.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",s.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",s.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",s.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",s.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",s.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",s.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",s.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",s.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",s.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",s.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",s.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",s.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Eh||(Eh={}));var Rs;(function(s){s.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",s.PLAY="PLAY",s.PAUSE="PAUSE",s.STOP="STOP",s.RESET_CONTEXT="RESET_CONTEXT"})(Rs||(Rs={}));class Hi{get text(){var t,n,i,o,u,p,g,v;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let x="",y=!1;const b=[];for(const w of(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[S,_]of Object.entries(w))S!=="text"&&S!=="thought"&&(_!==null||_!==void 0)&&b.push(S);if(typeof w.text=="string"){if(typeof w.thought=="boolean"&&w.thought)continue;y=!0,x+=w.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?x:void 0}get data(){var t,n,i,o,u,p,g,v;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let x="";const y=[];for(const b of(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[w,S]of Object.entries(b))w!=="inlineData"&&(S!==null||S!==void 0)&&y.push(w);b.inlineData&&typeof b.inlineData.data=="string"&&(x+=atob(b.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),x.length>0?btoa(x):void 0}get functionCalls(){var t,n,i,o,u,p,g,v;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const x=(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((x==null?void 0:x.length)!==0)return x}get executableCode(){var t,n,i,o,u,p,g,v,x;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((y==null?void 0:y.length)!==0)return(x=y==null?void 0:y[0])===null||x===void 0?void 0:x.code}get codeExecutionResult(){var t,n,i,o,u,p,g,v,x;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((y==null?void 0:y.length)!==0)return(x=y==null?void 0:y[0])===null||x===void 0?void 0:x.output}}class Ah{}class Dh{}class oy{}class cy{}class Mh{}class Rh{}class Ih{}class uy{}class Uh{}class zh{}class Lh{}class dy{}class ou{constructor(t){const n={};for(const i of t.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class fy{}class my{}class py{get text(){var t,n,i;let o="",u=!1;const p=[];for(const g of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[v,x]of Object.entries(g))v!=="text"&&v!=="thought"&&x!==null&&p.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;u=!0,o+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?o:void 0}get data(){var t,n,i;let o="";const u=[];for(const p of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[g,v]of Object.entries(p))g!=="inlineData"&&v!==null&&u.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(o+=atob(p.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class hy{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function st(s,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(s.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function xx(s,t){const n=st(s,t);return n?n.startsWith("publishers/")&&s.isVertexAI()?`projects/${s.getProject()}/locations/${s.getLocation()}/${n}`:n.startsWith("models/")&&s.isVertexAI()?`projects/${s.getProject()}/locations/${s.getLocation()}/publishers/google/${n}`:n:""}function gx(s,t){return Array.isArray(t)?t.map(n=>Cr(s,n)):[Cr(s,t)]}function Cr(s,t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function xy(s,t){const n=Cr(s,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function gy(s,t){const n=Cr(s,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Oh(s,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function vx(s,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>Oh(s,n)):[Oh(s,t)]}function cu(s){return s!=null&&typeof s=="object"&&"parts"in s&&Array.isArray(s.parts)}function Vh(s){return s!=null&&typeof s=="object"&&"functionCall"in s}function Hh(s){return s!=null&&typeof s=="object"&&"functionResponse"in s}function Mt(s,t){if(t==null)throw new Error("ContentUnion is required");return cu(t)?t:{role:"user",parts:vx(s,t)}}function yx(s,t){if(!t)return[];if(s.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const i=Mt(s,n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(s.isVertexAI()){const n=Mt(s,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Mt(s,n)):[Mt(s,t)]}function dn(s,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Vh(t)||Hh(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Mt(s,t)]}const n=[],i=[],o=cu(t[0]);for(const u of t){const p=cu(u);if(p!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(p)n.push(u);else{if(Vh(u)||Hh(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(u)}}return o||n.push({role:"user",parts:vx(s,i)}),n}const vy=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Bh=ay(["string","number","integer","object","array","boolean","null"]),yy=ey([Bh,qi(Bh)]);function by(s=!0){const t=ny(()=>{const n=Wv({type:yy.optional(),format:za().optional(),title:za().optional(),description:za().optional(),default:Zp().optional(),items:t.optional(),minItems:Es.string().optional(),maxItems:Es.string().optional(),enum:qi(Zp()).optional(),properties:ty(za(),t).optional(),required:qi(za()).optional(),minProperties:Es.string().optional(),maxProperties:Es.string().optional(),propertyOrdering:qi(za()).optional(),minimum:Yp().optional(),maximum:Yp().optional(),minLength:Es.string().optional(),maxLength:Es.string().optional(),pattern:za().optional(),anyOf:qi(t).optional(),additionalProperties:Qv().optional()});return s?n.strict():n});return t}function Ny(s,t){s.includes("null")&&(t.nullable=!0);const n=s.filter(i=>i!=="null");if(n.length===1)t.type=Object.keys(be).includes(n[0].toUpperCase())?be[n[0].toUpperCase()]:be.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const i of n)t.anyOf.push({type:Object.keys(be).includes(i.toUpperCase())?be[i.toUpperCase()]:be.TYPE_UNSPECIFIED})}}function Is(s){const t={},n=["items"],i=["anyOf"],o=["properties"];if(s.type&&s.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=s.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(t.nullable=!0,s=u[1]):u[1].type==="null"&&(t.nullable=!0,s=u[0])),s.type instanceof Array&&Ny(s.type,t);for(const[p,g]of Object.entries(s))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.keys(be).includes(g.toUpperCase())?g.toUpperCase():be.TYPE_UNSPECIFIED}else if(n.includes(p))t[p]=Is(g);else if(i.includes(p)){const v=[];for(const x of g){if(x.type=="null"){t.nullable=!0;continue}v.push(Is(x))}t[p]=v}else if(o.includes(p)){const v={};for(const[x,y]of Object.entries(g))v[x]=Is(y);t[p]=v}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Sr(s,t){if(Object.keys(t).includes("$schema")){delete t.$schema;const n=by().parse(t);return Is(n)}else return Is(t)}function bx(s,t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function yu(s,t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Fi(s,t){if(t.functionDeclarations)for(const n of t.functionDeclarations)n.parameters&&(n.parameters=Sr(s,n.parameters)),n.response&&(n.response=Sr(s,n.response));return t}function Yi(s,t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const n=[];for(const i of t)n.push(i);return n}function wy(s,t,n,i=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===i;return s.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${s.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${s.getProject()}/locations/${s.getLocation()}/${t}`:o?`projects/${s.getProject()}/locations/${s.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function ha(s,t){if(typeof t!="string")throw new Error("name must be a string");return wy(s,t,"cachedContents")}function Nx(s,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function xa(s,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Ty(s){return s!=null&&typeof s=="object"&&"name"in s}function Cy(s){return s!=null&&typeof s=="object"&&"video"in s}function Sy(s){return s!=null&&typeof s=="object"&&"uri"in s}function wx(s,t){var n;let i;if(Ty(t)&&(i=t.name),!(Sy(t)&&(i=t.uri,i===void 0))&&!(Cy(t)&&(i=(n=t.video)===null||n===void 0?void 0:n.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const u=i.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${i}`);i=u[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function Tx(s,t){let n;return s.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Cx(s,t){for(const n of["models","tunedModels","publisherModels"])if(_y(t,n))return t[n];return[]}function _y(s,t){return s!==null&&typeof s=="object"&&t in s}function ky(s,t={}){const n=s,i={name:n.name,description:n.description,parameters:Is(_r(n.inputSchema))};return t.behavior&&(i.behavior=t.behavior),{functionDeclarations:[i]}}function jy(s,t={}){const n=[],i=new Set;for(const o of s){const u=o.name;if(i.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);i.add(u);const p=ky(o,t);p.functionDeclarations&&n.push(...p.functionDeclarations)}return{functionDeclarations:n}}function Ey(s){const t=[];for(const n of s)t.push(_r(n));return t}function Ay(s){const t={};for(const[n,i]of Object.entries(s)){const o=i;t[n]=_r(o)}return t}function _r(s){const t=new Set(["items"]),n=new Set(["anyOf"]),i=new Set(["properties"]),o={};for(const[u,p]of Object.entries(s))if(t.has(u))o[u]=_r(p);else if(n.has(u))o[u]=Ey(p);else if(i.has(u))o[u]=Ay(p);else if(u==="type"){const g=p.toUpperCase();o[u]=Object.keys(be).includes(g)?g:be.TYPE_UNSPECIFIED}else vy.has(u)&&(o[u]=p);return o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dy(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function My(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function Ry(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(n,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function Iy(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],Dy(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],My(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],Ry(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function Gh(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>Iy(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function Uy(s,t){const n={},i=d(t,["behavior"]);i!=null&&f(n,["behavior"],i);const o=d(t,["description"]);o!=null&&f(n,["description"],o);const u=d(t,["name"]);u!=null&&f(n,["name"],u);const p=d(t,["parameters"]);p!=null&&f(n,["parameters"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],g),n}function zy(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function Ly(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],zy(s,i)),n}function Oy(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function Vy(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],Oy(s,i)),n}function Hy(){return{}}function By(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(x=>Uy(s,x))),f(n,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearch"]);o!=null&&f(n,["googleSearch"],Ly(s,o));const u=d(t,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],Vy(s,u)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(n,["urlContext"],Hy());const g=d(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function Gy(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["allowedFunctionNames"]);return o!=null&&f(n,["allowedFunctionNames"],o),n}function qy(s,t){const n={},i=d(t,["latitude"]);i!=null&&f(n,["latitude"],i);const o=d(t,["longitude"]);return o!=null&&f(n,["longitude"],o),n}function Py(s,t){const n={},i=d(t,["latLng"]);i!=null&&f(n,["latLng"],qy(s,i));const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function $y(s,t){const n={},i=d(t,["functionCallingConfig"]);i!=null&&f(n,["functionCallingConfig"],Gy(s,i));const o=d(t,["retrievalConfig"]);return o!=null&&f(n,["retrievalConfig"],Py(s,o)),n}function Fy(s,t,n){const i={},o=d(t,["ttl"]);n!==void 0&&o!=null&&f(n,["ttl"],o);const u=d(t,["expireTime"]);n!==void 0&&u!=null&&f(n,["expireTime"],u);const p=d(t,["displayName"]);n!==void 0&&p!=null&&f(n,["displayName"],p);const g=d(t,["contents"]);if(n!==void 0&&g!=null){let b=dn(s,g);Array.isArray(b)&&(b=b.map(w=>Gh(s,w))),f(n,["contents"],b)}const v=d(t,["systemInstruction"]);n!==void 0&&v!=null&&f(n,["systemInstruction"],Gh(s,Mt(s,v)));const x=d(t,["tools"]);if(n!==void 0&&x!=null){let b=x;Array.isArray(b)&&(b=b.map(w=>By(s,w))),f(n,["tools"],b)}const y=d(t,["toolConfig"]);if(n!==void 0&&y!=null&&f(n,["toolConfig"],$y(s,y)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function Yy(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["model"],xx(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],Fy(s,o,n)),n}function Zy(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],ha(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Ky(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],ha(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Jy(s,t,n){const i={},o=d(t,["ttl"]);n!==void 0&&o!=null&&f(n,["ttl"],o);const u=d(t,["expireTime"]);return n!==void 0&&u!=null&&f(n,["expireTime"],u),i}function Xy(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],ha(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],Jy(s,o,n)),n}function Qy(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);return n!==void 0&&u!=null&&f(n,["_query","pageToken"],u),i}function Wy(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],Qy(s,i,n)),n}function eb(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function tb(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function nb(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function ab(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],eb(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],tb(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],nb(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function qh(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>ab(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function sb(s,t){const n={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&f(n,["description"],i);const o=d(t,["name"]);o!=null&&f(n,["name"],o);const u=d(t,["parameters"]);u!=null&&f(n,["parameters"],u);const p=d(t,["response"]);return p!=null&&f(n,["response"],p),n}function ib(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function lb(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],ib(s,i)),n}function rb(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function ob(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],rb(s,i)),n}function cb(){return{}}function ub(s,t){const n={},i=d(t,["apiKeyString"]);return i!=null&&f(n,["apiKeyString"],i),n}function db(s,t){const n={},i=d(t,["apiKeyConfig"]);i!=null&&f(n,["apiKeyConfig"],ub(s,i));const o=d(t,["authType"]);o!=null&&f(n,["authType"],o);const u=d(t,["googleServiceAccountConfig"]);u!=null&&f(n,["googleServiceAccountConfig"],u);const p=d(t,["httpBasicAuthConfig"]);p!=null&&f(n,["httpBasicAuthConfig"],p);const g=d(t,["oauthConfig"]);g!=null&&f(n,["oauthConfig"],g);const v=d(t,["oidcConfig"]);return v!=null&&f(n,["oidcConfig"],v),n}function fb(s,t){const n={},i=d(t,["authConfig"]);return i!=null&&f(n,["authConfig"],db(s,i)),n}function mb(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>sb(s,b))),f(n,["functionDeclarations"],y)}const o=d(t,["retrieval"]);o!=null&&f(n,["retrieval"],o);const u=d(t,["googleSearch"]);u!=null&&f(n,["googleSearch"],lb(s,u));const p=d(t,["googleSearchRetrieval"]);p!=null&&f(n,["googleSearchRetrieval"],ob(s,p)),d(t,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],cb());const v=d(t,["googleMaps"]);if(v!=null&&f(n,["googleMaps"],fb(s,v)),d(t,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const x=d(t,["codeExecution"]);return x!=null&&f(n,["codeExecution"],x),n}function pb(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["allowedFunctionNames"]);return o!=null&&f(n,["allowedFunctionNames"],o),n}function hb(s,t){const n={},i=d(t,["latitude"]);i!=null&&f(n,["latitude"],i);const o=d(t,["longitude"]);return o!=null&&f(n,["longitude"],o),n}function xb(s,t){const n={},i=d(t,["latLng"]);i!=null&&f(n,["latLng"],hb(s,i));const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function gb(s,t){const n={},i=d(t,["functionCallingConfig"]);i!=null&&f(n,["functionCallingConfig"],pb(s,i));const o=d(t,["retrievalConfig"]);return o!=null&&f(n,["retrievalConfig"],xb(s,o)),n}function vb(s,t,n){const i={},o=d(t,["ttl"]);n!==void 0&&o!=null&&f(n,["ttl"],o);const u=d(t,["expireTime"]);n!==void 0&&u!=null&&f(n,["expireTime"],u);const p=d(t,["displayName"]);n!==void 0&&p!=null&&f(n,["displayName"],p);const g=d(t,["contents"]);if(n!==void 0&&g!=null){let w=dn(s,g);Array.isArray(w)&&(w=w.map(S=>qh(s,S))),f(n,["contents"],w)}const v=d(t,["systemInstruction"]);n!==void 0&&v!=null&&f(n,["systemInstruction"],qh(s,Mt(s,v)));const x=d(t,["tools"]);if(n!==void 0&&x!=null){let w=x;Array.isArray(w)&&(w=w.map(S=>mb(s,S))),f(n,["tools"],w)}const y=d(t,["toolConfig"]);n!==void 0&&y!=null&&f(n,["toolConfig"],gb(s,y));const b=d(t,["kmsKeyName"]);return n!==void 0&&b!=null&&f(n,["encryption_spec","kmsKeyName"],b),i}function yb(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["model"],xx(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],vb(s,o,n)),n}function bb(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],ha(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Nb(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],ha(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function wb(s,t,n){const i={},o=d(t,["ttl"]);n!==void 0&&o!=null&&f(n,["ttl"],o);const u=d(t,["expireTime"]);return n!==void 0&&u!=null&&f(n,["expireTime"],u),i}function Tb(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],ha(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],wb(s,o,n)),n}function Cb(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);return n!==void 0&&u!=null&&f(n,["_query","pageToken"],u),i}function Sb(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],Cb(s,i,n)),n}function pr(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["model"]);u!=null&&f(n,["model"],u);const p=d(t,["createTime"]);p!=null&&f(n,["createTime"],p);const g=d(t,["updateTime"]);g!=null&&f(n,["updateTime"],g);const v=d(t,["expireTime"]);v!=null&&f(n,["expireTime"],v);const x=d(t,["usageMetadata"]);return x!=null&&f(n,["usageMetadata"],x),n}function _b(){return{}}function kb(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["cachedContents"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>pr(s,p))),f(n,["cachedContents"],u)}return n}function hr(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["model"]);u!=null&&f(n,["model"],u);const p=d(t,["createTime"]);p!=null&&f(n,["createTime"],p);const g=d(t,["updateTime"]);g!=null&&f(n,["updateTime"],g);const v=d(t,["expireTime"]);v!=null&&f(n,["expireTime"],v);const x=d(t,["usageMetadata"]);return x!=null&&f(n,["usageMetadata"],x),n}function jb(){return{}}function Eb(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["cachedContents"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>hr(s,p))),f(n,["cachedContents"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gs;(function(s){s.PAGED_ITEM_BATCH_JOBS="batchJobs",s.PAGED_ITEM_MODELS="models",s.PAGED_ITEM_TUNING_JOBS="tuningJobs",s.PAGED_ITEM_FILES="files",s.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Gs||(Gs={}));class kr{constructor(t,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,i,o)}init(t,n,i){var o,u;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let p={config:{}};i?typeof i=="object"?p=Object.assign({},i):p=i:p={config:{}},p.config&&(p.config.pageToken=n.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(u=(o=p.config)===null||o===void 0?void 0:o.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ab extends Ps{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new kr(Gs.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=yb(this.apiClient,t);return g=Ae("cachedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>hr(this.apiClient,y))}else{const x=Yy(this.apiClient,t);return g=Ae("cachedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>pr(this.apiClient,y))}}async get(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=bb(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>hr(this.apiClient,y))}else{const x=Zy(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>pr(this.apiClient,y))}}async delete(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Nb(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(()=>{const y=jb(),b=new zh;return Object.assign(b,y),b})}else{const x=Ky(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(()=>{const y=_b(),b=new zh;return Object.assign(b,y),b})}}async update(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Tb(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>hr(this.apiClient,y))}else{const x=Xy(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>pr(this.apiClient,y))}}async listInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Sb(this.apiClient,t);return g=Ae("cachedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=Eb(this.apiClient,y),w=new Lh;return Object.assign(w,b),w})}else{const x=Wy(this.apiClient,t);return g=Ae("cachedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=kb(this.apiClient,y),w=new Lh;return Object.assign(w,b),w})}}}function Ph(s){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&s[t],i=0;if(n)return n.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&i>=s.length&&(s=void 0),{value:s&&s[i++],done:!s}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function rt(s){return this instanceof rt?(this.v=s,this):new rt(s)}function Us(s,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,t||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),o[Symbol.asyncIterator]=function(){return this},o;function p(S){return function(_){return Promise.resolve(_).then(S,b)}}function g(S,_){i[S]&&(o[S]=function(T){return new Promise(function(D,R){u.push([S,T,D,R])>1||v(S,T)})},_&&(o[S]=_(o[S])))}function v(S,_){try{x(i[S](_))}catch(T){w(u[0][3],T)}}function x(S){S.value instanceof rt?Promise.resolve(S.value.v).then(y,b):w(u[0][2],S)}function y(S){v("next",S)}function b(S){v("throw",S)}function w(S,_){S(_),u.shift(),u.length&&v(u[0][0],u[0][1])}}function Pi(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=s[Symbol.asyncIterator],n;return t?t.call(s):(s=typeof Ph=="function"?Ph(s):s[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=s[u]&&function(p){return new Promise(function(g,v){p=s[u](p),o(g,v,p.done,p.value)})}}function o(u,p,g,v){Promise.resolve(v).then(function(x){u({value:x,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Db(s){var t;if(s.candidates==null||s.candidates.length===0)return!1;const n=(t=s.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Sx(n)}function Sx(s){if(s.parts===void 0||s.parts.length===0)return!1;for(const t of s.parts)if(t===void 0||Object.keys(t).length===0||!t.thought&&t.text!==void 0&&t.text==="")return!1;return!0}function Mb(s){if(s.length!==0){for(const t of s)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function $h(s){if(s===void 0||s.length===0)return[];const t=[],n=s.length;let i=0;for(;i<n;)if(s[i].role==="user")t.push(s[i]),i++;else{const o=[];let u=!0;for(;i<n&&s[i].role==="model";)o.push(s[i]),u&&!Sx(s[i])&&(u=!1),i++;u?t.push(...o):t.pop()}return t}class Rb{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Ib(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Ib{constructor(t,n,i,o={},u=[]){this.apiClient=t,this.modelsModule=n,this.model=i,this.config=o,this.history=u,this.sendPromise=Promise.resolve(),Mb(u)}async sendMessage(t){var n;await this.sendPromise;const i=Mt(this.apiClient,t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var u,p,g;const v=await o,x=(p=(u=v.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content,y=v.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let w=[];y!=null&&(w=(g=y.slice(b))!==null&&g!==void 0?g:[]);const S=x?[x]:[];this.recordHistory(i,S,w)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(t){var n;await this.sendPromise;const i=Mt(this.apiClient,t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const u=await o;return this.processStreamResponse(u,i)}getHistory(t=!1){const n=t?$h(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var i,o;return Us(this,arguments,function*(){var p,g,v,x;const y=[];try{for(var b=!0,w=Pi(t),S;S=yield rt(w.next()),p=S.done,!p;b=!0){x=S.value,b=!1;const _=x;if(Db(_)){const T=(o=(i=_.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;T!==void 0&&y.push(T)}yield yield rt(_)}}catch(_){g={error:_}}finally{try{!b&&!p&&(v=w.return)&&(yield rt(v.call(w)))}finally{if(g)throw g.error}}this.recordHistory(n,y)})}recordHistory(t,n,i){let o=[];n.length>0&&n.every(u=>u.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...$h(i)):this.history.push(t),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ub(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);return n!==void 0&&u!=null&&f(n,["_query","pageToken"],u),i}function zb(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],Ub(s,i,n)),n}function Lb(s,t){const n={},i=d(t,["details"]);i!=null&&f(n,["details"],i);const o=d(t,["message"]);o!=null&&f(n,["message"],o);const u=d(t,["code"]);return u!=null&&f(n,["code"],u),n}function Ob(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["mimeType"]);u!=null&&f(n,["mimeType"],u);const p=d(t,["sizeBytes"]);p!=null&&f(n,["sizeBytes"],p);const g=d(t,["createTime"]);g!=null&&f(n,["createTime"],g);const v=d(t,["expirationTime"]);v!=null&&f(n,["expirationTime"],v);const x=d(t,["updateTime"]);x!=null&&f(n,["updateTime"],x);const y=d(t,["sha256Hash"]);y!=null&&f(n,["sha256Hash"],y);const b=d(t,["uri"]);b!=null&&f(n,["uri"],b);const w=d(t,["downloadUri"]);w!=null&&f(n,["downloadUri"],w);const S=d(t,["state"]);S!=null&&f(n,["state"],S);const _=d(t,["source"]);_!=null&&f(n,["source"],_);const T=d(t,["videoMetadata"]);T!=null&&f(n,["videoMetadata"],T);const D=d(t,["error"]);return D!=null&&f(n,["error"],Lb(s,D)),n}function Vb(s,t){const n={},i=d(t,["file"]);i!=null&&f(n,["file"],Ob(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Hb(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","file"],wx(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Bb(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","file"],wx(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Gb(s,t){const n={},i=d(t,["details"]);i!=null&&f(n,["details"],i);const o=d(t,["message"]);o!=null&&f(n,["message"],o);const u=d(t,["code"]);return u!=null&&f(n,["code"],u),n}function uu(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["mimeType"]);u!=null&&f(n,["mimeType"],u);const p=d(t,["sizeBytes"]);p!=null&&f(n,["sizeBytes"],p);const g=d(t,["createTime"]);g!=null&&f(n,["createTime"],g);const v=d(t,["expirationTime"]);v!=null&&f(n,["expirationTime"],v);const x=d(t,["updateTime"]);x!=null&&f(n,["updateTime"],x);const y=d(t,["sha256Hash"]);y!=null&&f(n,["sha256Hash"],y);const b=d(t,["uri"]);b!=null&&f(n,["uri"],b);const w=d(t,["downloadUri"]);w!=null&&f(n,["downloadUri"],w);const S=d(t,["state"]);S!=null&&f(n,["state"],S);const _=d(t,["source"]);_!=null&&f(n,["source"],_);const T=d(t,["videoMetadata"]);T!=null&&f(n,["videoMetadata"],T);const D=d(t,["error"]);return D!=null&&f(n,["error"],Gb(s,D)),n}function qb(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["files"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>uu(s,p))),f(n,["files"],u)}return n}function Pb(){return{}}function $b(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fb extends Ps{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new kr(Gs.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>uu(this.apiClient,n))}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=zb(this.apiClient,t);return u=Ae("files",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>{const x=qb(this.apiClient,v),y=new dy;return Object.assign(y,x),y})}}async createInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Vb(this.apiClient,t);return u=Ae("upload/v1beta/files",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(()=>{const v=Pb(),x=new fy;return Object.assign(x,v),x})}}async get(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Hb(this.apiClient,t);return u=Ae("files/{file}",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>uu(this.apiClient,v))}}async delete(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Bb(this.apiClient,t);return u=Ae("files/{file}",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(()=>{const v=$b(),x=new my;return Object.assign(x,v),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yb(s,t){const n={},i=d(t,["voiceName"]);return i!=null&&f(n,["voiceName"],i),n}function Zb(s,t){const n={},i=d(t,["voiceName"]);return i!=null&&f(n,["voiceName"],i),n}function _x(s,t){const n={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(n,["prebuiltVoiceConfig"],Yb(s,i)),n}function Kb(s,t){const n={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(n,["prebuiltVoiceConfig"],Zb(s,i)),n}function Jb(s,t){const n={},i=d(t,["speaker"]);i!=null&&f(n,["speaker"],i);const o=d(t,["voiceConfig"]);return o!=null&&f(n,["voiceConfig"],_x(s,o)),n}function Xb(s,t){const n={},i=d(t,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>Jb(s,u))),f(n,["speakerVoiceConfigs"],o)}return n}function Qb(s,t){const n={},i=d(t,["voiceConfig"]);i!=null&&f(n,["voiceConfig"],_x(s,i));const o=d(t,["multiSpeakerVoiceConfig"]);o!=null&&f(n,["multiSpeakerVoiceConfig"],Xb(s,o));const u=d(t,["languageCode"]);return u!=null&&f(n,["languageCode"],u),n}function Wb(s,t){const n={},i=d(t,["voiceConfig"]);if(i!=null&&f(n,["voiceConfig"],Kb(s,i)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function eN(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function tN(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function nN(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function aN(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function sN(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(n,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function iN(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function lN(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],eN(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],nN(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],sN(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function rN(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],tN(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],aN(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],iN(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function oN(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>lN(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function cN(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>rN(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function uN(s,t){const n={},i=d(t,["behavior"]);i!=null&&f(n,["behavior"],i);const o=d(t,["description"]);o!=null&&f(n,["description"],o);const u=d(t,["name"]);u!=null&&f(n,["name"],u);const p=d(t,["parameters"]);p!=null&&f(n,["parameters"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],g),n}function dN(s,t){const n={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&f(n,["description"],i);const o=d(t,["name"]);o!=null&&f(n,["name"],o);const u=d(t,["parameters"]);u!=null&&f(n,["parameters"],u);const p=d(t,["response"]);return p!=null&&f(n,["response"],p),n}function fN(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function mN(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function pN(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],fN(s,i)),n}function hN(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],mN(s,i)),n}function xN(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function gN(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function vN(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],xN(s,i)),n}function yN(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],gN(s,i)),n}function bN(){return{}}function NN(s,t){const n={},i=d(t,["apiKeyString"]);return i!=null&&f(n,["apiKeyString"],i),n}function wN(s,t){const n={},i=d(t,["apiKeyConfig"]);i!=null&&f(n,["apiKeyConfig"],NN(s,i));const o=d(t,["authType"]);o!=null&&f(n,["authType"],o);const u=d(t,["googleServiceAccountConfig"]);u!=null&&f(n,["googleServiceAccountConfig"],u);const p=d(t,["httpBasicAuthConfig"]);p!=null&&f(n,["httpBasicAuthConfig"],p);const g=d(t,["oauthConfig"]);g!=null&&f(n,["oauthConfig"],g);const v=d(t,["oidcConfig"]);return v!=null&&f(n,["oidcConfig"],v),n}function TN(s,t){const n={},i=d(t,["authConfig"]);return i!=null&&f(n,["authConfig"],wN(s,i)),n}function CN(){return{}}function SN(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(x=>uN(s,x))),f(n,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearch"]);o!=null&&f(n,["googleSearch"],pN(s,o));const u=d(t,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],vN(s,u)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(n,["urlContext"],CN());const g=d(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function _N(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>dN(s,b))),f(n,["functionDeclarations"],y)}const o=d(t,["retrieval"]);o!=null&&f(n,["retrieval"],o);const u=d(t,["googleSearch"]);u!=null&&f(n,["googleSearch"],hN(s,u));const p=d(t,["googleSearchRetrieval"]);p!=null&&f(n,["googleSearchRetrieval"],yN(s,p)),d(t,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],bN());const v=d(t,["googleMaps"]);if(v!=null&&f(n,["googleMaps"],TN(s,v)),d(t,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const x=d(t,["codeExecution"]);return x!=null&&f(n,["codeExecution"],x),n}function kN(s,t){const n={},i=d(t,["handle"]);if(i!=null&&f(n,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function jN(s,t){const n={},i=d(t,["handle"]);i!=null&&f(n,["handle"],i);const o=d(t,["transparent"]);return o!=null&&f(n,["transparent"],o),n}function Fh(){return{}}function Yh(){return{}}function EN(s,t){const n={},i=d(t,["disabled"]);i!=null&&f(n,["disabled"],i);const o=d(t,["startOfSpeechSensitivity"]);o!=null&&f(n,["startOfSpeechSensitivity"],o);const u=d(t,["endOfSpeechSensitivity"]);u!=null&&f(n,["endOfSpeechSensitivity"],u);const p=d(t,["prefixPaddingMs"]);p!=null&&f(n,["prefixPaddingMs"],p);const g=d(t,["silenceDurationMs"]);return g!=null&&f(n,["silenceDurationMs"],g),n}function AN(s,t){const n={},i=d(t,["disabled"]);i!=null&&f(n,["disabled"],i);const o=d(t,["startOfSpeechSensitivity"]);o!=null&&f(n,["startOfSpeechSensitivity"],o);const u=d(t,["endOfSpeechSensitivity"]);u!=null&&f(n,["endOfSpeechSensitivity"],u);const p=d(t,["prefixPaddingMs"]);p!=null&&f(n,["prefixPaddingMs"],p);const g=d(t,["silenceDurationMs"]);return g!=null&&f(n,["silenceDurationMs"],g),n}function DN(s,t){const n={},i=d(t,["automaticActivityDetection"]);i!=null&&f(n,["automaticActivityDetection"],EN(s,i));const o=d(t,["activityHandling"]);o!=null&&f(n,["activityHandling"],o);const u=d(t,["turnCoverage"]);return u!=null&&f(n,["turnCoverage"],u),n}function MN(s,t){const n={},i=d(t,["automaticActivityDetection"]);i!=null&&f(n,["automaticActivityDetection"],AN(s,i));const o=d(t,["activityHandling"]);o!=null&&f(n,["activityHandling"],o);const u=d(t,["turnCoverage"]);return u!=null&&f(n,["turnCoverage"],u),n}function RN(s,t){const n={},i=d(t,["targetTokens"]);return i!=null&&f(n,["targetTokens"],i),n}function IN(s,t){const n={},i=d(t,["targetTokens"]);return i!=null&&f(n,["targetTokens"],i),n}function UN(s,t){const n={},i=d(t,["triggerTokens"]);i!=null&&f(n,["triggerTokens"],i);const o=d(t,["slidingWindow"]);return o!=null&&f(n,["slidingWindow"],RN(s,o)),n}function zN(s,t){const n={},i=d(t,["triggerTokens"]);i!=null&&f(n,["triggerTokens"],i);const o=d(t,["slidingWindow"]);return o!=null&&f(n,["slidingWindow"],IN(s,o)),n}function LN(s,t){const n={},i=d(t,["proactiveAudio"]);return i!=null&&f(n,["proactiveAudio"],i),n}function ON(s,t){const n={},i=d(t,["proactiveAudio"]);return i!=null&&f(n,["proactiveAudio"],i),n}function VN(s,t,n){const i={},o=d(t,["generationConfig"]);n!==void 0&&o!=null&&f(n,["setup","generationConfig"],o);const u=d(t,["responseModalities"]);n!==void 0&&u!=null&&f(n,["setup","generationConfig","responseModalities"],u);const p=d(t,["temperature"]);n!==void 0&&p!=null&&f(n,["setup","generationConfig","temperature"],p);const g=d(t,["topP"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topP"],g);const v=d(t,["topK"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","topK"],v);const x=d(t,["maxOutputTokens"]);n!==void 0&&x!=null&&f(n,["setup","generationConfig","maxOutputTokens"],x);const y=d(t,["mediaResolution"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","mediaResolution"],y);const b=d(t,["seed"]);n!==void 0&&b!=null&&f(n,["setup","generationConfig","seed"],b);const w=d(t,["speechConfig"]);n!==void 0&&w!=null&&f(n,["setup","generationConfig","speechConfig"],Qb(s,yu(s,w)));const S=d(t,["enableAffectiveDialog"]);n!==void 0&&S!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],S);const _=d(t,["systemInstruction"]);n!==void 0&&_!=null&&f(n,["setup","systemInstruction"],oN(s,Mt(s,_)));const T=d(t,["tools"]);if(n!==void 0&&T!=null){let W=Yi(s,T);Array.isArray(W)&&(W=W.map(k=>SN(s,Fi(s,k)))),f(n,["setup","tools"],W)}const D=d(t,["sessionResumption"]);n!==void 0&&D!=null&&f(n,["setup","sessionResumption"],kN(s,D));const R=d(t,["inputAudioTranscription"]);n!==void 0&&R!=null&&f(n,["setup","inputAudioTranscription"],Fh());const U=d(t,["outputAudioTranscription"]);n!==void 0&&U!=null&&f(n,["setup","outputAudioTranscription"],Fh());const I=d(t,["realtimeInputConfig"]);n!==void 0&&I!=null&&f(n,["setup","realtimeInputConfig"],DN(s,I));const Y=d(t,["contextWindowCompression"]);n!==void 0&&Y!=null&&f(n,["setup","contextWindowCompression"],UN(s,Y));const G=d(t,["proactivity"]);return n!==void 0&&G!=null&&f(n,["setup","proactivity"],LN(s,G)),i}function HN(s,t,n){const i={},o=d(t,["generationConfig"]);n!==void 0&&o!=null&&f(n,["setup","generationConfig"],o);const u=d(t,["responseModalities"]);n!==void 0&&u!=null&&f(n,["setup","generationConfig","responseModalities"],u);const p=d(t,["temperature"]);n!==void 0&&p!=null&&f(n,["setup","generationConfig","temperature"],p);const g=d(t,["topP"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topP"],g);const v=d(t,["topK"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","topK"],v);const x=d(t,["maxOutputTokens"]);n!==void 0&&x!=null&&f(n,["setup","generationConfig","maxOutputTokens"],x);const y=d(t,["mediaResolution"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","mediaResolution"],y);const b=d(t,["seed"]);n!==void 0&&b!=null&&f(n,["setup","generationConfig","seed"],b);const w=d(t,["speechConfig"]);n!==void 0&&w!=null&&f(n,["setup","generationConfig","speechConfig"],Wb(s,yu(s,w)));const S=d(t,["enableAffectiveDialog"]);n!==void 0&&S!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],S);const _=d(t,["systemInstruction"]);n!==void 0&&_!=null&&f(n,["setup","systemInstruction"],cN(s,Mt(s,_)));const T=d(t,["tools"]);if(n!==void 0&&T!=null){let W=Yi(s,T);Array.isArray(W)&&(W=W.map(k=>_N(s,Fi(s,k)))),f(n,["setup","tools"],W)}const D=d(t,["sessionResumption"]);n!==void 0&&D!=null&&f(n,["setup","sessionResumption"],jN(s,D));const R=d(t,["inputAudioTranscription"]);n!==void 0&&R!=null&&f(n,["setup","inputAudioTranscription"],Yh());const U=d(t,["outputAudioTranscription"]);n!==void 0&&U!=null&&f(n,["setup","outputAudioTranscription"],Yh());const I=d(t,["realtimeInputConfig"]);n!==void 0&&I!=null&&f(n,["setup","realtimeInputConfig"],MN(s,I));const Y=d(t,["contextWindowCompression"]);n!==void 0&&Y!=null&&f(n,["setup","contextWindowCompression"],zN(s,Y));const G=d(t,["proactivity"]);return n!==void 0&&G!=null&&f(n,["setup","proactivity"],ON(s,G)),i}function BN(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["setup","model"],st(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],VN(s,o,n)),n}function GN(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["setup","model"],st(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],HN(s,o,n)),n}function qN(){return{}}function PN(){return{}}function $N(){return{}}function FN(){return{}}function YN(s,t){const n={},i=d(t,["media"]);i!=null&&f(n,["mediaChunks"],gx(s,i));const o=d(t,["audio"]);o!=null&&f(n,["audio"],gy(s,o));const u=d(t,["audioStreamEnd"]);u!=null&&f(n,["audioStreamEnd"],u);const p=d(t,["video"]);p!=null&&f(n,["video"],xy(s,p));const g=d(t,["text"]);return g!=null&&f(n,["text"],g),d(t,["activityStart"])!=null&&f(n,["activityStart"],qN()),d(t,["activityEnd"])!=null&&f(n,["activityEnd"],$N()),n}function ZN(s,t){const n={},i=d(t,["media"]);if(i!=null&&f(n,["mediaChunks"],gx(s,i)),d(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=d(t,["audioStreamEnd"]);if(o!=null&&f(n,["audioStreamEnd"],o),d(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(d(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return d(t,["activityStart"])!=null&&f(n,["activityStart"],PN()),d(t,["activityEnd"])!=null&&f(n,["activityEnd"],FN()),n}function kx(s,t){const n={},i=d(t,["text"]);i!=null&&f(n,["text"],i);const o=d(t,["weight"]);return o!=null&&f(n,["weight"],o),n}function KN(s,t){const n={},i=d(t,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>kx(s,u))),f(n,["weightedPrompts"],o)}return n}function jx(s,t){const n={},i=d(t,["temperature"]);i!=null&&f(n,["temperature"],i);const o=d(t,["topK"]);o!=null&&f(n,["topK"],o);const u=d(t,["seed"]);u!=null&&f(n,["seed"],u);const p=d(t,["guidance"]);p!=null&&f(n,["guidance"],p);const g=d(t,["bpm"]);g!=null&&f(n,["bpm"],g);const v=d(t,["density"]);v!=null&&f(n,["density"],v);const x=d(t,["brightness"]);x!=null&&f(n,["brightness"],x);const y=d(t,["scale"]);y!=null&&f(n,["scale"],y);const b=d(t,["muteBass"]);b!=null&&f(n,["muteBass"],b);const w=d(t,["muteDrums"]);w!=null&&f(n,["muteDrums"],w);const S=d(t,["onlyBassAndDrums"]);return S!=null&&f(n,["onlyBassAndDrums"],S),n}function JN(s,t){const n={},i=d(t,["musicGenerationConfig"]);return i!=null&&f(n,["musicGenerationConfig"],jx(s,i)),n}function Ex(s,t){const n={},i=d(t,["model"]);return i!=null&&f(n,["model"],i),n}function Ax(s,t){const n={},i=d(t,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>kx(s,u))),f(n,["weightedPrompts"],o)}return n}function du(s,t){const n={},i=d(t,["setup"]);i!=null&&f(n,["setup"],Ex(s,i));const o=d(t,["clientContent"]);o!=null&&f(n,["clientContent"],Ax(s,o));const u=d(t,["musicGenerationConfig"]);u!=null&&f(n,["musicGenerationConfig"],jx(s,u));const p=d(t,["playbackControl"]);return p!=null&&f(n,["playbackControl"],p),n}function XN(){return{}}function QN(){return{}}function WN(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function ew(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function tw(s,t){const n={},i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function nw(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function aw(s,t){const n={},i=d(t,["fileUri"]);i!=null&&f(n,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function sw(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function iw(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],WN(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],tw(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],aw(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function lw(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],ew(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],nw(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],sw(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function rw(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>iw(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function ow(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>lw(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function Zh(s,t){const n={},i=d(t,["text"]);i!=null&&f(n,["text"],i);const o=d(t,["finished"]);return o!=null&&f(n,["finished"],o),n}function Kh(s,t){const n={},i=d(t,["text"]);i!=null&&f(n,["text"],i);const o=d(t,["finished"]);return o!=null&&f(n,["finished"],o),n}function cw(s,t){const n={},i=d(t,["retrievedUrl"]);i!=null&&f(n,["retrievedUrl"],i);const o=d(t,["urlRetrievalStatus"]);return o!=null&&f(n,["urlRetrievalStatus"],o),n}function uw(s,t){const n={},i=d(t,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>cw(s,u))),f(n,["urlMetadata"],o)}return n}function dw(s,t){const n={},i=d(t,["modelTurn"]);i!=null&&f(n,["modelTurn"],rw(s,i));const o=d(t,["turnComplete"]);o!=null&&f(n,["turnComplete"],o);const u=d(t,["interrupted"]);u!=null&&f(n,["interrupted"],u);const p=d(t,["groundingMetadata"]);p!=null&&f(n,["groundingMetadata"],p);const g=d(t,["generationComplete"]);g!=null&&f(n,["generationComplete"],g);const v=d(t,["inputTranscription"]);v!=null&&f(n,["inputTranscription"],Zh(s,v));const x=d(t,["outputTranscription"]);x!=null&&f(n,["outputTranscription"],Zh(s,x));const y=d(t,["urlContextMetadata"]);return y!=null&&f(n,["urlContextMetadata"],uw(s,y)),n}function fw(s,t){const n={},i=d(t,["modelTurn"]);i!=null&&f(n,["modelTurn"],ow(s,i));const o=d(t,["turnComplete"]);o!=null&&f(n,["turnComplete"],o);const u=d(t,["interrupted"]);u!=null&&f(n,["interrupted"],u);const p=d(t,["groundingMetadata"]);p!=null&&f(n,["groundingMetadata"],p);const g=d(t,["generationComplete"]);g!=null&&f(n,["generationComplete"],g);const v=d(t,["inputTranscription"]);v!=null&&f(n,["inputTranscription"],Kh(s,v));const x=d(t,["outputTranscription"]);return x!=null&&f(n,["outputTranscription"],Kh(s,x)),n}function mw(s,t){const n={},i=d(t,["id"]);i!=null&&f(n,["id"],i);const o=d(t,["args"]);o!=null&&f(n,["args"],o);const u=d(t,["name"]);return u!=null&&f(n,["name"],u),n}function pw(s,t){const n={},i=d(t,["args"]);i!=null&&f(n,["args"],i);const o=d(t,["name"]);return o!=null&&f(n,["name"],o),n}function hw(s,t){const n={},i=d(t,["functionCalls"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>mw(s,u))),f(n,["functionCalls"],o)}return n}function xw(s,t){const n={},i=d(t,["functionCalls"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>pw(s,u))),f(n,["functionCalls"],o)}return n}function gw(s,t){const n={},i=d(t,["ids"]);return i!=null&&f(n,["ids"],i),n}function vw(s,t){const n={},i=d(t,["ids"]);return i!=null&&f(n,["ids"],i),n}function fr(s,t){const n={},i=d(t,["modality"]);i!=null&&f(n,["modality"],i);const o=d(t,["tokenCount"]);return o!=null&&f(n,["tokenCount"],o),n}function mr(s,t){const n={},i=d(t,["modality"]);i!=null&&f(n,["modality"],i);const o=d(t,["tokenCount"]);return o!=null&&f(n,["tokenCount"],o),n}function yw(s,t){const n={},i=d(t,["promptTokenCount"]);i!=null&&f(n,["promptTokenCount"],i);const o=d(t,["cachedContentTokenCount"]);o!=null&&f(n,["cachedContentTokenCount"],o);const u=d(t,["responseTokenCount"]);u!=null&&f(n,["responseTokenCount"],u);const p=d(t,["toolUsePromptTokenCount"]);p!=null&&f(n,["toolUsePromptTokenCount"],p);const g=d(t,["thoughtsTokenCount"]);g!=null&&f(n,["thoughtsTokenCount"],g);const v=d(t,["totalTokenCount"]);v!=null&&f(n,["totalTokenCount"],v);const x=d(t,["promptTokensDetails"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(_=>fr(s,_))),f(n,["promptTokensDetails"],S)}const y=d(t,["cacheTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(_=>fr(s,_))),f(n,["cacheTokensDetails"],S)}const b=d(t,["responseTokensDetails"]);if(b!=null){let S=b;Array.isArray(S)&&(S=S.map(_=>fr(s,_))),f(n,["responseTokensDetails"],S)}const w=d(t,["toolUsePromptTokensDetails"]);if(w!=null){let S=w;Array.isArray(S)&&(S=S.map(_=>fr(s,_))),f(n,["toolUsePromptTokensDetails"],S)}return n}function bw(s,t){const n={},i=d(t,["promptTokenCount"]);i!=null&&f(n,["promptTokenCount"],i);const o=d(t,["cachedContentTokenCount"]);o!=null&&f(n,["cachedContentTokenCount"],o);const u=d(t,["candidatesTokenCount"]);u!=null&&f(n,["responseTokenCount"],u);const p=d(t,["toolUsePromptTokenCount"]);p!=null&&f(n,["toolUsePromptTokenCount"],p);const g=d(t,["thoughtsTokenCount"]);g!=null&&f(n,["thoughtsTokenCount"],g);const v=d(t,["totalTokenCount"]);v!=null&&f(n,["totalTokenCount"],v);const x=d(t,["promptTokensDetails"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(T=>mr(s,T))),f(n,["promptTokensDetails"],_)}const y=d(t,["cacheTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(T=>mr(s,T))),f(n,["cacheTokensDetails"],_)}const b=d(t,["candidatesTokensDetails"]);if(b!=null){let _=b;Array.isArray(_)&&(_=_.map(T=>mr(s,T))),f(n,["responseTokensDetails"],_)}const w=d(t,["toolUsePromptTokensDetails"]);if(w!=null){let _=w;Array.isArray(_)&&(_=_.map(T=>mr(s,T))),f(n,["toolUsePromptTokensDetails"],_)}const S=d(t,["trafficType"]);return S!=null&&f(n,["trafficType"],S),n}function Nw(s,t){const n={},i=d(t,["timeLeft"]);return i!=null&&f(n,["timeLeft"],i),n}function ww(s,t){const n={},i=d(t,["timeLeft"]);return i!=null&&f(n,["timeLeft"],i),n}function Tw(s,t){const n={},i=d(t,["newHandle"]);i!=null&&f(n,["newHandle"],i);const o=d(t,["resumable"]);o!=null&&f(n,["resumable"],o);const u=d(t,["lastConsumedClientMessageIndex"]);return u!=null&&f(n,["lastConsumedClientMessageIndex"],u),n}function Cw(s,t){const n={},i=d(t,["newHandle"]);i!=null&&f(n,["newHandle"],i);const o=d(t,["resumable"]);o!=null&&f(n,["resumable"],o);const u=d(t,["lastConsumedClientMessageIndex"]);return u!=null&&f(n,["lastConsumedClientMessageIndex"],u),n}function Sw(s,t){const n={};d(t,["setupComplete"])!=null&&f(n,["setupComplete"],XN());const o=d(t,["serverContent"]);o!=null&&f(n,["serverContent"],dw(s,o));const u=d(t,["toolCall"]);u!=null&&f(n,["toolCall"],hw(s,u));const p=d(t,["toolCallCancellation"]);p!=null&&f(n,["toolCallCancellation"],gw(s,p));const g=d(t,["usageMetadata"]);g!=null&&f(n,["usageMetadata"],yw(s,g));const v=d(t,["goAway"]);v!=null&&f(n,["goAway"],Nw(s,v));const x=d(t,["sessionResumptionUpdate"]);return x!=null&&f(n,["sessionResumptionUpdate"],Tw(s,x)),n}function _w(s,t){const n={};d(t,["setupComplete"])!=null&&f(n,["setupComplete"],QN());const o=d(t,["serverContent"]);o!=null&&f(n,["serverContent"],fw(s,o));const u=d(t,["toolCall"]);u!=null&&f(n,["toolCall"],xw(s,u));const p=d(t,["toolCallCancellation"]);p!=null&&f(n,["toolCallCancellation"],vw(s,p));const g=d(t,["usageMetadata"]);g!=null&&f(n,["usageMetadata"],bw(s,g));const v=d(t,["goAway"]);v!=null&&f(n,["goAway"],ww(s,v));const x=d(t,["sessionResumptionUpdate"]);return x!=null&&f(n,["sessionResumptionUpdate"],Cw(s,x)),n}function kw(){return{}}function jw(s,t){const n={},i=d(t,["text"]);i!=null&&f(n,["text"],i);const o=d(t,["weight"]);return o!=null&&f(n,["weight"],o),n}function Ew(s,t){const n={},i=d(t,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>jw(s,u))),f(n,["weightedPrompts"],o)}return n}function Aw(s,t){const n={},i=d(t,["temperature"]);i!=null&&f(n,["temperature"],i);const o=d(t,["topK"]);o!=null&&f(n,["topK"],o);const u=d(t,["seed"]);u!=null&&f(n,["seed"],u);const p=d(t,["guidance"]);p!=null&&f(n,["guidance"],p);const g=d(t,["bpm"]);g!=null&&f(n,["bpm"],g);const v=d(t,["density"]);v!=null&&f(n,["density"],v);const x=d(t,["brightness"]);x!=null&&f(n,["brightness"],x);const y=d(t,["scale"]);y!=null&&f(n,["scale"],y);const b=d(t,["muteBass"]);b!=null&&f(n,["muteBass"],b);const w=d(t,["muteDrums"]);w!=null&&f(n,["muteDrums"],w);const S=d(t,["onlyBassAndDrums"]);return S!=null&&f(n,["onlyBassAndDrums"],S),n}function Dw(s,t){const n={},i=d(t,["clientContent"]);i!=null&&f(n,["clientContent"],Ew(s,i));const o=d(t,["musicGenerationConfig"]);return o!=null&&f(n,["musicGenerationConfig"],Aw(s,o)),n}function Mw(s,t){const n={},i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);o!=null&&f(n,["mimeType"],o);const u=d(t,["sourceMetadata"]);return u!=null&&f(n,["sourceMetadata"],Dw(s,u)),n}function Rw(s,t){const n={},i=d(t,["audioChunks"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>Mw(s,u))),f(n,["audioChunks"],o)}return n}function Iw(s,t){const n={},i=d(t,["text"]);i!=null&&f(n,["text"],i);const o=d(t,["filteredReason"]);return o!=null&&f(n,["filteredReason"],o),n}function Uw(s,t){const n={};d(t,["setupComplete"])!=null&&f(n,["setupComplete"],kw());const o=d(t,["serverContent"]);o!=null&&f(n,["serverContent"],Rw(s,o));const u=d(t,["filteredPrompt"]);return u!=null&&f(n,["filteredPrompt"],Iw(s,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zw(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function Lw(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function Ow(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(n,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function Vw(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],zw(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],Lw(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],Ow(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function jr(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>Vw(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function Hw(s,t){const n={},i=d(t,["anyOf"]);i!=null&&f(n,["anyOf"],i);const o=d(t,["default"]);o!=null&&f(n,["default"],o);const u=d(t,["description"]);u!=null&&f(n,["description"],u);const p=d(t,["enum"]);p!=null&&f(n,["enum"],p);const g=d(t,["example"]);g!=null&&f(n,["example"],g);const v=d(t,["format"]);v!=null&&f(n,["format"],v);const x=d(t,["items"]);x!=null&&f(n,["items"],x);const y=d(t,["maxItems"]);y!=null&&f(n,["maxItems"],y);const b=d(t,["maxLength"]);b!=null&&f(n,["maxLength"],b);const w=d(t,["maxProperties"]);w!=null&&f(n,["maxProperties"],w);const S=d(t,["maximum"]);S!=null&&f(n,["maximum"],S);const _=d(t,["minItems"]);_!=null&&f(n,["minItems"],_);const T=d(t,["minLength"]);T!=null&&f(n,["minLength"],T);const D=d(t,["minProperties"]);D!=null&&f(n,["minProperties"],D);const R=d(t,["minimum"]);R!=null&&f(n,["minimum"],R);const U=d(t,["nullable"]);U!=null&&f(n,["nullable"],U);const I=d(t,["pattern"]);I!=null&&f(n,["pattern"],I);const Y=d(t,["properties"]);Y!=null&&f(n,["properties"],Y);const G=d(t,["propertyOrdering"]);G!=null&&f(n,["propertyOrdering"],G);const W=d(t,["required"]);W!=null&&f(n,["required"],W);const k=d(t,["title"]);k!=null&&f(n,["title"],k);const M=d(t,["type"]);return M!=null&&f(n,["type"],M),n}function Bw(s,t){const n={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(t,["category"]);i!=null&&f(n,["category"],i);const o=d(t,["threshold"]);return o!=null&&f(n,["threshold"],o),n}function Gw(s,t){const n={},i=d(t,["behavior"]);i!=null&&f(n,["behavior"],i);const o=d(t,["description"]);o!=null&&f(n,["description"],o);const u=d(t,["name"]);u!=null&&f(n,["name"],u);const p=d(t,["parameters"]);p!=null&&f(n,["parameters"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],g),n}function qw(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function Pw(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],qw(s,i)),n}function $w(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function Fw(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],$w(s,i)),n}function Yw(){return{}}function Zw(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(x=>Gw(s,x))),f(n,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearch"]);o!=null&&f(n,["googleSearch"],Pw(s,o));const u=d(t,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],Fw(s,u)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(n,["urlContext"],Yw());const g=d(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function Kw(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["allowedFunctionNames"]);return o!=null&&f(n,["allowedFunctionNames"],o),n}function Jw(s,t){const n={},i=d(t,["latitude"]);i!=null&&f(n,["latitude"],i);const o=d(t,["longitude"]);return o!=null&&f(n,["longitude"],o),n}function Xw(s,t){const n={},i=d(t,["latLng"]);i!=null&&f(n,["latLng"],Jw(s,i));const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function Qw(s,t){const n={},i=d(t,["functionCallingConfig"]);i!=null&&f(n,["functionCallingConfig"],Kw(s,i));const o=d(t,["retrievalConfig"]);return o!=null&&f(n,["retrievalConfig"],Xw(s,o)),n}function Ww(s,t){const n={},i=d(t,["voiceName"]);return i!=null&&f(n,["voiceName"],i),n}function Dx(s,t){const n={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(n,["prebuiltVoiceConfig"],Ww(s,i)),n}function e1(s,t){const n={},i=d(t,["speaker"]);i!=null&&f(n,["speaker"],i);const o=d(t,["voiceConfig"]);return o!=null&&f(n,["voiceConfig"],Dx(s,o)),n}function t1(s,t){const n={},i=d(t,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>e1(s,u))),f(n,["speakerVoiceConfigs"],o)}return n}function n1(s,t){const n={},i=d(t,["voiceConfig"]);i!=null&&f(n,["voiceConfig"],Dx(s,i));const o=d(t,["multiSpeakerVoiceConfig"]);o!=null&&f(n,["multiSpeakerVoiceConfig"],t1(s,o));const u=d(t,["languageCode"]);return u!=null&&f(n,["languageCode"],u),n}function a1(s,t){const n={},i=d(t,["includeThoughts"]);i!=null&&f(n,["includeThoughts"],i);const o=d(t,["thinkingBudget"]);return o!=null&&f(n,["thinkingBudget"],o),n}function s1(s,t,n){const i={},o=d(t,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],jr(s,Mt(s,o)));const u=d(t,["temperature"]);u!=null&&f(i,["temperature"],u);const p=d(t,["topP"]);p!=null&&f(i,["topP"],p);const g=d(t,["topK"]);g!=null&&f(i,["topK"],g);const v=d(t,["candidateCount"]);v!=null&&f(i,["candidateCount"],v);const x=d(t,["maxOutputTokens"]);x!=null&&f(i,["maxOutputTokens"],x);const y=d(t,["stopSequences"]);y!=null&&f(i,["stopSequences"],y);const b=d(t,["responseLogprobs"]);b!=null&&f(i,["responseLogprobs"],b);const w=d(t,["logprobs"]);w!=null&&f(i,["logprobs"],w);const S=d(t,["presencePenalty"]);S!=null&&f(i,["presencePenalty"],S);const _=d(t,["frequencyPenalty"]);_!=null&&f(i,["frequencyPenalty"],_);const T=d(t,["seed"]);T!=null&&f(i,["seed"],T);const D=d(t,["responseMimeType"]);D!=null&&f(i,["responseMimeType"],D);const R=d(t,["responseSchema"]);if(R!=null&&f(i,["responseSchema"],Hw(s,Sr(s,R))),d(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=d(t,["safetySettings"]);if(n!==void 0&&U!=null){let z=U;Array.isArray(z)&&(z=z.map(V=>Bw(s,V))),f(n,["safetySettings"],z)}const I=d(t,["tools"]);if(n!==void 0&&I!=null){let z=Yi(s,I);Array.isArray(z)&&(z=z.map(V=>Zw(s,Fi(s,V)))),f(n,["tools"],z)}const Y=d(t,["toolConfig"]);if(n!==void 0&&Y!=null&&f(n,["toolConfig"],Qw(s,Y)),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=d(t,["cachedContent"]);n!==void 0&&G!=null&&f(n,["cachedContent"],ha(s,G));const W=d(t,["responseModalities"]);W!=null&&f(i,["responseModalities"],W);const k=d(t,["mediaResolution"]);k!=null&&f(i,["mediaResolution"],k);const M=d(t,["speechConfig"]);if(M!=null&&f(i,["speechConfig"],n1(s,bx(s,M))),d(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const A=d(t,["thinkingConfig"]);return A!=null&&f(i,["thinkingConfig"],a1(s,A)),i}function Jh(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],st(s,i));const o=d(t,["contents"]);if(o!=null){let p=dn(s,o);Array.isArray(p)&&(p=p.map(g=>jr(s,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["generationConfig"],s1(s,u,n)),n}function i1(s,t,n){const i={},o=d(t,["taskType"]);n!==void 0&&o!=null&&f(n,["requests[]","taskType"],o);const u=d(t,["title"]);n!==void 0&&u!=null&&f(n,["requests[]","title"],u);const p=d(t,["outputDimensionality"]);if(n!==void 0&&p!=null&&f(n,["requests[]","outputDimensionality"],p),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function l1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],st(s,i));const o=d(t,["contents"]);o!=null&&f(n,["requests[]","content"],yx(s,o));const u=d(t,["config"]);u!=null&&f(n,["config"],i1(s,u,n));const p=d(t,["model"]);return p!==void 0&&f(n,["requests[]","model"],st(s,p)),n}function r1(s,t,n){const i={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=d(t,["numberOfImages"]);n!==void 0&&o!=null&&f(n,["parameters","sampleCount"],o);const u=d(t,["aspectRatio"]);n!==void 0&&u!=null&&f(n,["parameters","aspectRatio"],u);const p=d(t,["guidanceScale"]);if(n!==void 0&&p!=null&&f(n,["parameters","guidanceScale"],p),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=d(t,["safetyFilterLevel"]);n!==void 0&&g!=null&&f(n,["parameters","safetySetting"],g);const v=d(t,["personGeneration"]);n!==void 0&&v!=null&&f(n,["parameters","personGeneration"],v);const x=d(t,["includeSafetyAttributes"]);n!==void 0&&x!=null&&f(n,["parameters","includeSafetyAttributes"],x);const y=d(t,["includeRaiReason"]);n!==void 0&&y!=null&&f(n,["parameters","includeRaiReason"],y);const b=d(t,["language"]);n!==void 0&&b!=null&&f(n,["parameters","language"],b);const w=d(t,["outputMimeType"]);n!==void 0&&w!=null&&f(n,["parameters","outputOptions","mimeType"],w);const S=d(t,["outputCompressionQuality"]);if(n!==void 0&&S!=null&&f(n,["parameters","outputOptions","compressionQuality"],S),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function o1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],st(s,i));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["config"]);return u!=null&&f(n,["config"],r1(s,u,n)),n}function c1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","name"],st(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function u1(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);n!==void 0&&u!=null&&f(n,["_query","pageToken"],u);const p=d(t,["filter"]);n!==void 0&&p!=null&&f(n,["_query","filter"],p);const g=d(t,["queryBase"]);return n!==void 0&&g!=null&&f(n,["_url","models_url"],Tx(s,g)),i}function d1(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],u1(s,i,n)),n}function f1(s,t,n){const i={},o=d(t,["displayName"]);n!==void 0&&o!=null&&f(n,["displayName"],o);const u=d(t,["description"]);n!==void 0&&u!=null&&f(n,["description"],u);const p=d(t,["defaultCheckpointId"]);return n!==void 0&&p!=null&&f(n,["defaultCheckpointId"],p),i}function m1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","name"],st(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],f1(s,o,n)),n}function p1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","name"],st(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function h1(s,t){const n={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function x1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],st(s,i));const o=d(t,["contents"]);if(o!=null){let p=dn(s,o);Array.isArray(p)&&(p=p.map(g=>jr(s,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["config"],h1(s,u)),n}function g1(s,t){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(t,["imageBytes"]);i!=null&&f(n,["bytesBase64Encoded"],xa(s,i));const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function v1(s,t,n){const i={},o=d(t,["numberOfVideos"]);if(n!==void 0&&o!=null&&f(n,["parameters","sampleCount"],o),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=d(t,["durationSeconds"]);if(n!==void 0&&u!=null&&f(n,["parameters","durationSeconds"],u),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=d(t,["aspectRatio"]);if(n!==void 0&&p!=null&&f(n,["parameters","aspectRatio"],p),d(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const g=d(t,["personGeneration"]);if(n!==void 0&&g!=null&&f(n,["parameters","personGeneration"],g),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=d(t,["negativePrompt"]);if(n!==void 0&&v!=null&&f(n,["parameters","negativePrompt"],v),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");if(d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return i}function y1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],st(s,i));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["image"]);u!=null&&f(n,["instances[0]","image"],g1(s,u));const p=d(t,["config"]);return p!=null&&f(n,["config"],v1(s,p,n)),n}function b1(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function N1(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function w1(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function T1(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],b1(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],N1(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],w1(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function $s(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>T1(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function C1(s,t){const n={},i=d(t,["anyOf"]);i!=null&&f(n,["anyOf"],i);const o=d(t,["default"]);o!=null&&f(n,["default"],o);const u=d(t,["description"]);u!=null&&f(n,["description"],u);const p=d(t,["enum"]);p!=null&&f(n,["enum"],p);const g=d(t,["example"]);g!=null&&f(n,["example"],g);const v=d(t,["format"]);v!=null&&f(n,["format"],v);const x=d(t,["items"]);x!=null&&f(n,["items"],x);const y=d(t,["maxItems"]);y!=null&&f(n,["maxItems"],y);const b=d(t,["maxLength"]);b!=null&&f(n,["maxLength"],b);const w=d(t,["maxProperties"]);w!=null&&f(n,["maxProperties"],w);const S=d(t,["maximum"]);S!=null&&f(n,["maximum"],S);const _=d(t,["minItems"]);_!=null&&f(n,["minItems"],_);const T=d(t,["minLength"]);T!=null&&f(n,["minLength"],T);const D=d(t,["minProperties"]);D!=null&&f(n,["minProperties"],D);const R=d(t,["minimum"]);R!=null&&f(n,["minimum"],R);const U=d(t,["nullable"]);U!=null&&f(n,["nullable"],U);const I=d(t,["pattern"]);I!=null&&f(n,["pattern"],I);const Y=d(t,["properties"]);Y!=null&&f(n,["properties"],Y);const G=d(t,["propertyOrdering"]);G!=null&&f(n,["propertyOrdering"],G);const W=d(t,["required"]);W!=null&&f(n,["required"],W);const k=d(t,["title"]);k!=null&&f(n,["title"],k);const M=d(t,["type"]);return M!=null&&f(n,["type"],M),n}function S1(s,t){const n={},i=d(t,["featureSelectionPreference"]);return i!=null&&f(n,["featureSelectionPreference"],i),n}function _1(s,t){const n={},i=d(t,["method"]);i!=null&&f(n,["method"],i);const o=d(t,["category"]);o!=null&&f(n,["category"],o);const u=d(t,["threshold"]);return u!=null&&f(n,["threshold"],u),n}function k1(s,t){const n={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&f(n,["description"],i);const o=d(t,["name"]);o!=null&&f(n,["name"],o);const u=d(t,["parameters"]);u!=null&&f(n,["parameters"],u);const p=d(t,["response"]);return p!=null&&f(n,["response"],p),n}function j1(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function E1(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],j1(s,i)),n}function A1(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function D1(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],A1(s,i)),n}function M1(){return{}}function R1(s,t){const n={},i=d(t,["apiKeyString"]);return i!=null&&f(n,["apiKeyString"],i),n}function I1(s,t){const n={},i=d(t,["apiKeyConfig"]);i!=null&&f(n,["apiKeyConfig"],R1(s,i));const o=d(t,["authType"]);o!=null&&f(n,["authType"],o);const u=d(t,["googleServiceAccountConfig"]);u!=null&&f(n,["googleServiceAccountConfig"],u);const p=d(t,["httpBasicAuthConfig"]);p!=null&&f(n,["httpBasicAuthConfig"],p);const g=d(t,["oauthConfig"]);g!=null&&f(n,["oauthConfig"],g);const v=d(t,["oidcConfig"]);return v!=null&&f(n,["oidcConfig"],v),n}function U1(s,t){const n={},i=d(t,["authConfig"]);return i!=null&&f(n,["authConfig"],I1(s,i)),n}function Mx(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>k1(s,b))),f(n,["functionDeclarations"],y)}const o=d(t,["retrieval"]);o!=null&&f(n,["retrieval"],o);const u=d(t,["googleSearch"]);u!=null&&f(n,["googleSearch"],E1(s,u));const p=d(t,["googleSearchRetrieval"]);p!=null&&f(n,["googleSearchRetrieval"],D1(s,p)),d(t,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],M1());const v=d(t,["googleMaps"]);if(v!=null&&f(n,["googleMaps"],U1(s,v)),d(t,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const x=d(t,["codeExecution"]);return x!=null&&f(n,["codeExecution"],x),n}function z1(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["allowedFunctionNames"]);return o!=null&&f(n,["allowedFunctionNames"],o),n}function L1(s,t){const n={},i=d(t,["latitude"]);i!=null&&f(n,["latitude"],i);const o=d(t,["longitude"]);return o!=null&&f(n,["longitude"],o),n}function O1(s,t){const n={},i=d(t,["latLng"]);i!=null&&f(n,["latLng"],L1(s,i));const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function V1(s,t){const n={},i=d(t,["functionCallingConfig"]);i!=null&&f(n,["functionCallingConfig"],z1(s,i));const o=d(t,["retrievalConfig"]);return o!=null&&f(n,["retrievalConfig"],O1(s,o)),n}function H1(s,t){const n={},i=d(t,["voiceName"]);return i!=null&&f(n,["voiceName"],i),n}function B1(s,t){const n={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(n,["prebuiltVoiceConfig"],H1(s,i)),n}function G1(s,t){const n={},i=d(t,["voiceConfig"]);if(i!=null&&f(n,["voiceConfig"],B1(s,i)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function q1(s,t){const n={},i=d(t,["includeThoughts"]);i!=null&&f(n,["includeThoughts"],i);const o=d(t,["thinkingBudget"]);return o!=null&&f(n,["thinkingBudget"],o),n}function P1(s,t,n){const i={},o=d(t,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],$s(s,Mt(s,o)));const u=d(t,["temperature"]);u!=null&&f(i,["temperature"],u);const p=d(t,["topP"]);p!=null&&f(i,["topP"],p);const g=d(t,["topK"]);g!=null&&f(i,["topK"],g);const v=d(t,["candidateCount"]);v!=null&&f(i,["candidateCount"],v);const x=d(t,["maxOutputTokens"]);x!=null&&f(i,["maxOutputTokens"],x);const y=d(t,["stopSequences"]);y!=null&&f(i,["stopSequences"],y);const b=d(t,["responseLogprobs"]);b!=null&&f(i,["responseLogprobs"],b);const w=d(t,["logprobs"]);w!=null&&f(i,["logprobs"],w);const S=d(t,["presencePenalty"]);S!=null&&f(i,["presencePenalty"],S);const _=d(t,["frequencyPenalty"]);_!=null&&f(i,["frequencyPenalty"],_);const T=d(t,["seed"]);T!=null&&f(i,["seed"],T);const D=d(t,["responseMimeType"]);D!=null&&f(i,["responseMimeType"],D);const R=d(t,["responseSchema"]);R!=null&&f(i,["responseSchema"],C1(s,Sr(s,R)));const U=d(t,["routingConfig"]);U!=null&&f(i,["routingConfig"],U);const I=d(t,["modelSelectionConfig"]);I!=null&&f(i,["modelConfig"],S1(s,I));const Y=d(t,["safetySettings"]);if(n!==void 0&&Y!=null){let ae=Y;Array.isArray(ae)&&(ae=ae.map(fe=>_1(s,fe))),f(n,["safetySettings"],ae)}const G=d(t,["tools"]);if(n!==void 0&&G!=null){let ae=Yi(s,G);Array.isArray(ae)&&(ae=ae.map(fe=>Mx(s,Fi(s,fe)))),f(n,["tools"],ae)}const W=d(t,["toolConfig"]);n!==void 0&&W!=null&&f(n,["toolConfig"],V1(s,W));const k=d(t,["labels"]);n!==void 0&&k!=null&&f(n,["labels"],k);const M=d(t,["cachedContent"]);n!==void 0&&M!=null&&f(n,["cachedContent"],ha(s,M));const A=d(t,["responseModalities"]);A!=null&&f(i,["responseModalities"],A);const z=d(t,["mediaResolution"]);z!=null&&f(i,["mediaResolution"],z);const V=d(t,["speechConfig"]);V!=null&&f(i,["speechConfig"],G1(s,bx(s,V)));const B=d(t,["audioTimestamp"]);B!=null&&f(i,["audioTimestamp"],B);const $=d(t,["thinkingConfig"]);return $!=null&&f(i,["thinkingConfig"],q1(s,$)),i}function Xh(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],st(s,i));const o=d(t,["contents"]);if(o!=null){let p=dn(s,o);Array.isArray(p)&&(p=p.map(g=>$s(s,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["generationConfig"],P1(s,u,n)),n}function $1(s,t,n){const i={},o=d(t,["taskType"]);n!==void 0&&o!=null&&f(n,["instances[]","task_type"],o);const u=d(t,["title"]);n!==void 0&&u!=null&&f(n,["instances[]","title"],u);const p=d(t,["outputDimensionality"]);n!==void 0&&p!=null&&f(n,["parameters","outputDimensionality"],p);const g=d(t,["mimeType"]);n!==void 0&&g!=null&&f(n,["instances[]","mimeType"],g);const v=d(t,["autoTruncate"]);return n!==void 0&&v!=null&&f(n,["parameters","autoTruncate"],v),i}function F1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],st(s,i));const o=d(t,["contents"]);o!=null&&f(n,["instances[]","content"],yx(s,o));const u=d(t,["config"]);return u!=null&&f(n,["config"],$1(s,u,n)),n}function Y1(s,t,n){const i={},o=d(t,["outputGcsUri"]);n!==void 0&&o!=null&&f(n,["parameters","storageUri"],o);const u=d(t,["negativePrompt"]);n!==void 0&&u!=null&&f(n,["parameters","negativePrompt"],u);const p=d(t,["numberOfImages"]);n!==void 0&&p!=null&&f(n,["parameters","sampleCount"],p);const g=d(t,["aspectRatio"]);n!==void 0&&g!=null&&f(n,["parameters","aspectRatio"],g);const v=d(t,["guidanceScale"]);n!==void 0&&v!=null&&f(n,["parameters","guidanceScale"],v);const x=d(t,["seed"]);n!==void 0&&x!=null&&f(n,["parameters","seed"],x);const y=d(t,["safetyFilterLevel"]);n!==void 0&&y!=null&&f(n,["parameters","safetySetting"],y);const b=d(t,["personGeneration"]);n!==void 0&&b!=null&&f(n,["parameters","personGeneration"],b);const w=d(t,["includeSafetyAttributes"]);n!==void 0&&w!=null&&f(n,["parameters","includeSafetyAttributes"],w);const S=d(t,["includeRaiReason"]);n!==void 0&&S!=null&&f(n,["parameters","includeRaiReason"],S);const _=d(t,["language"]);n!==void 0&&_!=null&&f(n,["parameters","language"],_);const T=d(t,["outputMimeType"]);n!==void 0&&T!=null&&f(n,["parameters","outputOptions","mimeType"],T);const D=d(t,["outputCompressionQuality"]);n!==void 0&&D!=null&&f(n,["parameters","outputOptions","compressionQuality"],D);const R=d(t,["addWatermark"]);n!==void 0&&R!=null&&f(n,["parameters","addWatermark"],R);const U=d(t,["enhancePrompt"]);return n!==void 0&&U!=null&&f(n,["parameters","enhancePrompt"],U),i}function Z1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],st(s,i));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["config"]);return u!=null&&f(n,["config"],Y1(s,u,n)),n}function bu(s,t){const n={},i=d(t,["gcsUri"]);i!=null&&f(n,["gcsUri"],i);const o=d(t,["imageBytes"]);o!=null&&f(n,["bytesBase64Encoded"],xa(s,o));const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function K1(s,t){const n={},i=d(t,["maskMode"]);i!=null&&f(n,["maskMode"],i);const o=d(t,["segmentationClasses"]);o!=null&&f(n,["maskClasses"],o);const u=d(t,["maskDilation"]);return u!=null&&f(n,["dilation"],u),n}function J1(s,t){const n={},i=d(t,["controlType"]);i!=null&&f(n,["controlType"],i);const o=d(t,["enableControlImageComputation"]);return o!=null&&f(n,["computeControl"],o),n}function X1(s,t){const n={},i=d(t,["styleDescription"]);return i!=null&&f(n,["styleDescription"],i),n}function Q1(s,t){const n={},i=d(t,["subjectType"]);i!=null&&f(n,["subjectType"],i);const o=d(t,["subjectDescription"]);return o!=null&&f(n,["subjectDescription"],o),n}function W1(s,t){const n={},i=d(t,["referenceImage"]);i!=null&&f(n,["referenceImage"],bu(s,i));const o=d(t,["referenceId"]);o!=null&&f(n,["referenceId"],o);const u=d(t,["referenceType"]);u!=null&&f(n,["referenceType"],u);const p=d(t,["maskImageConfig"]);p!=null&&f(n,["maskImageConfig"],K1(s,p));const g=d(t,["controlImageConfig"]);g!=null&&f(n,["controlImageConfig"],J1(s,g));const v=d(t,["styleImageConfig"]);v!=null&&f(n,["styleImageConfig"],X1(s,v));const x=d(t,["subjectImageConfig"]);return x!=null&&f(n,["subjectImageConfig"],Q1(s,x)),n}function eT(s,t,n){const i={},o=d(t,["outputGcsUri"]);n!==void 0&&o!=null&&f(n,["parameters","storageUri"],o);const u=d(t,["negativePrompt"]);n!==void 0&&u!=null&&f(n,["parameters","negativePrompt"],u);const p=d(t,["numberOfImages"]);n!==void 0&&p!=null&&f(n,["parameters","sampleCount"],p);const g=d(t,["aspectRatio"]);n!==void 0&&g!=null&&f(n,["parameters","aspectRatio"],g);const v=d(t,["guidanceScale"]);n!==void 0&&v!=null&&f(n,["parameters","guidanceScale"],v);const x=d(t,["seed"]);n!==void 0&&x!=null&&f(n,["parameters","seed"],x);const y=d(t,["safetyFilterLevel"]);n!==void 0&&y!=null&&f(n,["parameters","safetySetting"],y);const b=d(t,["personGeneration"]);n!==void 0&&b!=null&&f(n,["parameters","personGeneration"],b);const w=d(t,["includeSafetyAttributes"]);n!==void 0&&w!=null&&f(n,["parameters","includeSafetyAttributes"],w);const S=d(t,["includeRaiReason"]);n!==void 0&&S!=null&&f(n,["parameters","includeRaiReason"],S);const _=d(t,["language"]);n!==void 0&&_!=null&&f(n,["parameters","language"],_);const T=d(t,["outputMimeType"]);n!==void 0&&T!=null&&f(n,["parameters","outputOptions","mimeType"],T);const D=d(t,["outputCompressionQuality"]);n!==void 0&&D!=null&&f(n,["parameters","outputOptions","compressionQuality"],D);const R=d(t,["editMode"]);n!==void 0&&R!=null&&f(n,["parameters","editMode"],R);const U=d(t,["baseSteps"]);return n!==void 0&&U!=null&&f(n,["parameters","editConfig","baseSteps"],U),i}function tT(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],st(s,i));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["referenceImages"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>W1(s,v))),f(n,["instances[0]","referenceImages"],g)}const p=d(t,["config"]);return p!=null&&f(n,["config"],eT(s,p,n)),n}function nT(s,t,n){const i={},o=d(t,["includeRaiReason"]);n!==void 0&&o!=null&&f(n,["parameters","includeRaiReason"],o);const u=d(t,["outputMimeType"]);n!==void 0&&u!=null&&f(n,["parameters","outputOptions","mimeType"],u);const p=d(t,["outputCompressionQuality"]);n!==void 0&&p!=null&&f(n,["parameters","outputOptions","compressionQuality"],p);const g=d(t,["numberOfImages"]);n!==void 0&&g!=null&&f(n,["parameters","sampleCount"],g);const v=d(t,["mode"]);return n!==void 0&&v!=null&&f(n,["parameters","mode"],v),i}function aT(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],st(s,i));const o=d(t,["image"]);o!=null&&f(n,["instances[0]","image"],bu(s,o));const u=d(t,["upscaleFactor"]);u!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],u);const p=d(t,["config"]);return p!=null&&f(n,["config"],nT(s,p,n)),n}function sT(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","name"],st(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function iT(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);n!==void 0&&u!=null&&f(n,["_query","pageToken"],u);const p=d(t,["filter"]);n!==void 0&&p!=null&&f(n,["_query","filter"],p);const g=d(t,["queryBase"]);return n!==void 0&&g!=null&&f(n,["_url","models_url"],Tx(s,g)),i}function lT(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],iT(s,i,n)),n}function rT(s,t,n){const i={},o=d(t,["displayName"]);n!==void 0&&o!=null&&f(n,["displayName"],o);const u=d(t,["description"]);n!==void 0&&u!=null&&f(n,["description"],u);const p=d(t,["defaultCheckpointId"]);return n!==void 0&&p!=null&&f(n,["defaultCheckpointId"],p),i}function oT(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],st(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],rT(s,o,n)),n}function cT(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","name"],st(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function uT(s,t,n){const i={},o=d(t,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],$s(s,Mt(s,o)));const u=d(t,["tools"]);if(n!==void 0&&u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>Mx(s,v))),f(n,["tools"],g)}const p=d(t,["generationConfig"]);return n!==void 0&&p!=null&&f(n,["generationConfig"],p),i}function dT(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],st(s,i));const o=d(t,["contents"]);if(o!=null){let p=dn(s,o);Array.isArray(p)&&(p=p.map(g=>$s(s,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["config"],uT(s,u,n)),n}function fT(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],st(s,i));const o=d(t,["contents"]);if(o!=null){let p=dn(s,o);Array.isArray(p)&&(p=p.map(g=>$s(s,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["config"],u),n}function mT(s,t,n){const i={},o=d(t,["numberOfVideos"]);n!==void 0&&o!=null&&f(n,["parameters","sampleCount"],o);const u=d(t,["outputGcsUri"]);n!==void 0&&u!=null&&f(n,["parameters","storageUri"],u);const p=d(t,["fps"]);n!==void 0&&p!=null&&f(n,["parameters","fps"],p);const g=d(t,["durationSeconds"]);n!==void 0&&g!=null&&f(n,["parameters","durationSeconds"],g);const v=d(t,["seed"]);n!==void 0&&v!=null&&f(n,["parameters","seed"],v);const x=d(t,["aspectRatio"]);n!==void 0&&x!=null&&f(n,["parameters","aspectRatio"],x);const y=d(t,["resolution"]);n!==void 0&&y!=null&&f(n,["parameters","resolution"],y);const b=d(t,["personGeneration"]);n!==void 0&&b!=null&&f(n,["parameters","personGeneration"],b);const w=d(t,["pubsubTopic"]);n!==void 0&&w!=null&&f(n,["parameters","pubsubTopic"],w);const S=d(t,["negativePrompt"]);n!==void 0&&S!=null&&f(n,["parameters","negativePrompt"],S);const _=d(t,["enhancePrompt"]);n!==void 0&&_!=null&&f(n,["parameters","enhancePrompt"],_);const T=d(t,["generateAudio"]);return n!==void 0&&T!=null&&f(n,["parameters","generateAudio"],T),i}function pT(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],st(s,i));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["image"]);u!=null&&f(n,["instances[0]","image"],bu(s,u));const p=d(t,["config"]);return p!=null&&f(n,["config"],mT(s,p,n)),n}function hT(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function xT(s,t){const n={},i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function gT(s,t){const n={},i=d(t,["fileUri"]);i!=null&&f(n,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function vT(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],hT(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],xT(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],gT(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function yT(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>vT(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function bT(s,t){const n={},i=d(t,["citationSources"]);return i!=null&&f(n,["citations"],i),n}function NT(s,t){const n={},i=d(t,["retrievedUrl"]);i!=null&&f(n,["retrievedUrl"],i);const o=d(t,["urlRetrievalStatus"]);return o!=null&&f(n,["urlRetrievalStatus"],o),n}function wT(s,t){const n={},i=d(t,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>NT(s,u))),f(n,["urlMetadata"],o)}return n}function TT(s,t){const n={},i=d(t,["content"]);i!=null&&f(n,["content"],yT(s,i));const o=d(t,["citationMetadata"]);o!=null&&f(n,["citationMetadata"],bT(s,o));const u=d(t,["tokenCount"]);u!=null&&f(n,["tokenCount"],u);const p=d(t,["finishReason"]);p!=null&&f(n,["finishReason"],p);const g=d(t,["urlContextMetadata"]);g!=null&&f(n,["urlContextMetadata"],wT(s,g));const v=d(t,["avgLogprobs"]);v!=null&&f(n,["avgLogprobs"],v);const x=d(t,["groundingMetadata"]);x!=null&&f(n,["groundingMetadata"],x);const y=d(t,["index"]);y!=null&&f(n,["index"],y);const b=d(t,["logprobsResult"]);b!=null&&f(n,["logprobsResult"],b);const w=d(t,["safetyRatings"]);return w!=null&&f(n,["safetyRatings"],w),n}function Qh(s,t){const n={},i=d(t,["candidates"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(v=>TT(s,v))),f(n,["candidates"],g)}const o=d(t,["modelVersion"]);o!=null&&f(n,["modelVersion"],o);const u=d(t,["promptFeedback"]);u!=null&&f(n,["promptFeedback"],u);const p=d(t,["usageMetadata"]);return p!=null&&f(n,["usageMetadata"],p),n}function CT(s,t){const n={},i=d(t,["values"]);return i!=null&&f(n,["values"],i),n}function ST(){return{}}function _T(s,t){const n={},i=d(t,["embeddings"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>CT(s,p))),f(n,["embeddings"],u)}return d(t,["metadata"])!=null&&f(n,["metadata"],ST()),n}function kT(s,t){const n={},i=d(t,["bytesBase64Encoded"]);i!=null&&f(n,["imageBytes"],xa(s,i));const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function Rx(s,t){const n={},i=d(t,["safetyAttributes","categories"]);i!=null&&f(n,["categories"],i);const o=d(t,["safetyAttributes","scores"]);o!=null&&f(n,["scores"],o);const u=d(t,["contentType"]);return u!=null&&f(n,["contentType"],u),n}function jT(s,t){const n={},i=d(t,["_self"]);i!=null&&f(n,["image"],kT(s,i));const o=d(t,["raiFilteredReason"]);o!=null&&f(n,["raiFilteredReason"],o);const u=d(t,["_self"]);return u!=null&&f(n,["safetyAttributes"],Rx(s,u)),n}function ET(s,t){const n={},i=d(t,["predictions"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>jT(s,p))),f(n,["generatedImages"],u)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&f(n,["positivePromptSafetyAttributes"],Rx(s,o)),n}function AT(s,t){const n={},i=d(t,["baseModel"]);i!=null&&f(n,["baseModel"],i);const o=d(t,["createTime"]);o!=null&&f(n,["createTime"],o);const u=d(t,["updateTime"]);return u!=null&&f(n,["updateTime"],u),n}function fu(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["description"]);u!=null&&f(n,["description"],u);const p=d(t,["version"]);p!=null&&f(n,["version"],p);const g=d(t,["_self"]);g!=null&&f(n,["tunedModelInfo"],AT(s,g));const v=d(t,["inputTokenLimit"]);v!=null&&f(n,["inputTokenLimit"],v);const x=d(t,["outputTokenLimit"]);x!=null&&f(n,["outputTokenLimit"],x);const y=d(t,["supportedGenerationMethods"]);return y!=null&&f(n,["supportedActions"],y),n}function DT(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["_self"]);if(o!=null){let u=Cx(s,o);Array.isArray(u)&&(u=u.map(p=>fu(s,p))),f(n,["models"],u)}return n}function MT(){return{}}function RT(s,t){const n={},i=d(t,["totalTokens"]);i!=null&&f(n,["totalTokens"],i);const o=d(t,["cachedContentTokenCount"]);return o!=null&&f(n,["cachedContentTokenCount"],o),n}function IT(s,t){const n={},i=d(t,["video","uri"]);i!=null&&f(n,["uri"],i);const o=d(t,["video","encodedVideo"]);o!=null&&f(n,["videoBytes"],xa(s,o));const u=d(t,["encoding"]);return u!=null&&f(n,["mimeType"],u),n}function UT(s,t){const n={},i=d(t,["_self"]);return i!=null&&f(n,["video"],IT(s,i)),n}function zT(s,t){const n={},i=d(t,["generatedSamples"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(g=>UT(s,g))),f(n,["generatedVideos"],p)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(n,["raiMediaFilteredCount"],o);const u=d(t,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function LT(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);p!=null&&f(n,["error"],p);const g=d(t,["response","generateVideoResponse"]);return g!=null&&f(n,["response"],zT(s,g)),n}function OT(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function VT(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function HT(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function BT(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],OT(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],VT(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],HT(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function GT(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>BT(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function qT(s,t){const n={},i=d(t,["citations"]);return i!=null&&f(n,["citations"],i),n}function PT(s,t){const n={},i=d(t,["content"]);i!=null&&f(n,["content"],GT(s,i));const o=d(t,["citationMetadata"]);o!=null&&f(n,["citationMetadata"],qT(s,o));const u=d(t,["finishMessage"]);u!=null&&f(n,["finishMessage"],u);const p=d(t,["finishReason"]);p!=null&&f(n,["finishReason"],p);const g=d(t,["avgLogprobs"]);g!=null&&f(n,["avgLogprobs"],g);const v=d(t,["groundingMetadata"]);v!=null&&f(n,["groundingMetadata"],v);const x=d(t,["index"]);x!=null&&f(n,["index"],x);const y=d(t,["logprobsResult"]);y!=null&&f(n,["logprobsResult"],y);const b=d(t,["safetyRatings"]);return b!=null&&f(n,["safetyRatings"],b),n}function Wh(s,t){const n={},i=d(t,["candidates"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(y=>PT(s,y))),f(n,["candidates"],x)}const o=d(t,["createTime"]);o!=null&&f(n,["createTime"],o);const u=d(t,["responseId"]);u!=null&&f(n,["responseId"],u);const p=d(t,["modelVersion"]);p!=null&&f(n,["modelVersion"],p);const g=d(t,["promptFeedback"]);g!=null&&f(n,["promptFeedback"],g);const v=d(t,["usageMetadata"]);return v!=null&&f(n,["usageMetadata"],v),n}function $T(s,t){const n={},i=d(t,["truncated"]);i!=null&&f(n,["truncated"],i);const o=d(t,["token_count"]);return o!=null&&f(n,["tokenCount"],o),n}function FT(s,t){const n={},i=d(t,["values"]);i!=null&&f(n,["values"],i);const o=d(t,["statistics"]);return o!=null&&f(n,["statistics"],$T(s,o)),n}function YT(s,t){const n={},i=d(t,["billableCharacterCount"]);return i!=null&&f(n,["billableCharacterCount"],i),n}function ZT(s,t){const n={},i=d(t,["predictions[]","embeddings"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>FT(s,p))),f(n,["embeddings"],u)}const o=d(t,["metadata"]);return o!=null&&f(n,["metadata"],YT(s,o)),n}function KT(s,t){const n={},i=d(t,["gcsUri"]);i!=null&&f(n,["gcsUri"],i);const o=d(t,["bytesBase64Encoded"]);o!=null&&f(n,["imageBytes"],xa(s,o));const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function Ix(s,t){const n={},i=d(t,["safetyAttributes","categories"]);i!=null&&f(n,["categories"],i);const o=d(t,["safetyAttributes","scores"]);o!=null&&f(n,["scores"],o);const u=d(t,["contentType"]);return u!=null&&f(n,["contentType"],u),n}function Nu(s,t){const n={},i=d(t,["_self"]);i!=null&&f(n,["image"],KT(s,i));const o=d(t,["raiFilteredReason"]);o!=null&&f(n,["raiFilteredReason"],o);const u=d(t,["_self"]);u!=null&&f(n,["safetyAttributes"],Ix(s,u));const p=d(t,["prompt"]);return p!=null&&f(n,["enhancedPrompt"],p),n}function JT(s,t){const n={},i=d(t,["predictions"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>Nu(s,p))),f(n,["generatedImages"],u)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&f(n,["positivePromptSafetyAttributes"],Ix(s,o)),n}function XT(s,t){const n={},i=d(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>Nu(s,u))),f(n,["generatedImages"],o)}return n}function QT(s,t){const n={},i=d(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>Nu(s,u))),f(n,["generatedImages"],o)}return n}function WT(s,t){const n={},i=d(t,["endpoint"]);i!=null&&f(n,["name"],i);const o=d(t,["deployedModelId"]);return o!=null&&f(n,["deployedModelId"],o),n}function eC(s,t){const n={},i=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&f(n,["baseModel"],i);const o=d(t,["createTime"]);o!=null&&f(n,["createTime"],o);const u=d(t,["updateTime"]);return u!=null&&f(n,["updateTime"],u),n}function tC(s,t){const n={},i=d(t,["checkpointId"]);i!=null&&f(n,["checkpointId"],i);const o=d(t,["epoch"]);o!=null&&f(n,["epoch"],o);const u=d(t,["step"]);return u!=null&&f(n,["step"],u),n}function mu(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["description"]);u!=null&&f(n,["description"],u);const p=d(t,["versionId"]);p!=null&&f(n,["version"],p);const g=d(t,["deployedModels"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(S=>WT(s,S))),f(n,["endpoints"],w)}const v=d(t,["labels"]);v!=null&&f(n,["labels"],v);const x=d(t,["_self"]);x!=null&&f(n,["tunedModelInfo"],eC(s,x));const y=d(t,["defaultCheckpointId"]);y!=null&&f(n,["defaultCheckpointId"],y);const b=d(t,["checkpoints"]);if(b!=null){let w=b;Array.isArray(w)&&(w=w.map(S=>tC(s,S))),f(n,["checkpoints"],w)}return n}function nC(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["_self"]);if(o!=null){let u=Cx(s,o);Array.isArray(u)&&(u=u.map(p=>mu(s,p))),f(n,["models"],u)}return n}function aC(){return{}}function sC(s,t){const n={},i=d(t,["totalTokens"]);return i!=null&&f(n,["totalTokens"],i),n}function iC(s,t){const n={},i=d(t,["tokensInfo"]);return i!=null&&f(n,["tokensInfo"],i),n}function lC(s,t){const n={},i=d(t,["gcsUri"]);i!=null&&f(n,["uri"],i);const o=d(t,["bytesBase64Encoded"]);o!=null&&f(n,["videoBytes"],xa(s,o));const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function rC(s,t){const n={},i=d(t,["_self"]);return i!=null&&f(n,["video"],lC(s,i)),n}function oC(s,t){const n={},i=d(t,["videos"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(g=>rC(s,g))),f(n,["generatedVideos"],p)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(n,["raiMediaFilteredCount"],o);const u=d(t,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function cC(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);p!=null&&f(n,["error"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],oC(s,g)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uC="Content-Type",dC="X-Server-Timeout",fC="User-Agent",pu="x-goog-api-client",mC="1.3.0",pC=`google-genai-sdk/${mC}`,hC="v1beta1",xC="v1beta",ex=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Ux extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class hu extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class gC{constructor(t){var n,i;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:hC,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:xC,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,i);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))o.searchParams.append(p,String(g));let u={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=t.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,n,t.abortSignal),this.unaryApiCall(o,u,t.httpMethod)}patchHttpOptions(t,n){const i=JSON.parse(JSON.stringify(t));for(const[o,u]of Object.entries(n))typeof u=="object"?i[o]=Object.assign(Object.assign({},i[o]),u):u!==void 0&&(i[o]=u);return i}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let u={};return u.body=t.body,u=await this.includeExtraHttpOptionsToRequestInit(u,n,t.abortSignal),this.streamApiCall(o,u,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,i){if(n&&n.timeout||i){const o=new AbortController,u=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=u}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await tx(o),new ou(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await tx(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){var n;return Us(this,arguments,function*(){const o=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),u=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let p="";for(;;){const{done:g,value:v}=yield rt(o.read());if(g){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const x=u.decode(v);try{const b=JSON.parse(x);if("error"in b){const w=JSON.parse(JSON.stringify(b.error)),S=w.status,_=w.code,T=`got status: ${S}. ${JSON.stringify(b)}`;if(_>=400&&_<500)throw new Ux(T);if(_>=500&&_<600)throw new hu(T)}}catch(b){const w=b;if(w.name==="ClientError"||w.name==="ServerError")throw b}p+=x;let y=p.match(ex);for(;y;){const b=y[1];try{const w=new Response(b,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield rt(new ou(w)),p=p.slice(y[0].length),y=p.match(ex)}catch(w){throw new Error(`exception parsing stream chunk ${b}. ${w}`)}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const t={},n=pC+" "+this.clientOptions.userAgentExtra;return t[fC]=n,t[pu]=n,t[uC]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))n.append(i,o);t.timeout&&t.timeout>0&&n.append(dC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const u=this.clientOptions.uploader,p=await u.stat(t);o.sizeBytes=String(p.size);const g=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=g;const v=await this.fetchUploadUrl(o,n);return u.upload(t,v,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n){var i;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const u={file:t},p=await this.request({path:Ae("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:o});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(i=p==null?void 0:p.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function tx(s){var t;if(s===void 0)throw new hu("response is undefined");if(!s.ok){const n=s.status,i=s.statusText;let o;!((t=s.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await s.json():o={error:{message:await s.text(),code:s.status,status:s.statusText}};const u=`got status: ${n} ${i}. ${JSON.stringify(o)}`;throw n>=400&&n<500?new Ux(u):n>=500&&n<600?new hu(u):new Error(u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vC="mcp_used/unknown";function zx(s){for(const t of s)if(wu(t)||typeof t=="object"&&"inputSchema"in t)return!0;return!1}function Lx(s){var t;const n=(t=s[pu])!==null&&t!==void 0?t:"";s[pu]=(n+` ${vC}`).trimStart()}function yC(s){var t,n,i;return(i=(n=(t=s.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>wu(o)))!==null&&i!==void 0?i:!1}function bC(s){var t,n,i;return(i=(n=(t=s.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>!wu(o)))!==null&&i!==void 0?i:!1}function wu(s){return s!==null&&typeof s=="object"&&s instanceof Tu}function NC(s,t=100){return Us(this,arguments,function*(){let i,o=0;for(;o<t;){const u=yield rt(s.listTools({cursor:i}));for(const p of u.tools)yield yield rt(p),o++;if(!u.nextCursor)break;i=u.nextCursor}})}class Tu{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Tu(t,n)}async initialize(){var t,n,i,o;if(this.mcpTools.length>0)return;const u={},p=[];for(const y of this.mcpClients)try{for(var g=!0,v=(n=void 0,Pi(NC(y))),x;x=await v.next(),t=x.done,!t;g=!0){o=x.value,g=!1;const b=o;p.push(b);const w=b.name;if(u[w])throw new Error(`Duplicate function name ${w} found in MCP tools. Please ensure function names are unique.`);u[w]=y}}catch(b){n={error:b}}finally{try{!g&&!t&&(i=v.return)&&await i.call(v)}finally{if(n)throw n.error}}this.mcpTools=p,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),jy(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const i of t)if(i.name in this.functionNameToMcpClient){const u=await this.functionNameToMcpClient[i.name].callTool({name:i.name,arguments:i.args});n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function wC(s,t,n){const i=new hy;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const u=Uw(s,o);Object.assign(i,u),t(i)}class TC{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i}async connect(t){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),p=_C(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),v=`${o}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${g}`;let x=()=>{};const y=new Promise(I=>{x=I}),b=t.callbacks,w=function(){x({})},S=this.apiClient,_={onopen:w,onmessage:I=>{wC(S,b.onmessage,I)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(I){},onclose:(i=b==null?void 0:b.onclose)!==null&&i!==void 0?i:function(I){}},T=this.webSocketFactory.create(v,SC(p),_);T.connect(),await y;const D=st(this.apiClient,t.model),R=Ex(this.apiClient,{model:D}),U=du(this.apiClient,{setup:R});return T.send(JSON.stringify(U)),new CC(T,this.apiClient)}}class CC{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=KN(this.apiClient,t),i=Ax(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=JN(this.apiClient,t),i=du(this.apiClient,n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(t){const n=du(this.apiClient,{playbackControl:t});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Rs.PLAY)}pause(){this.sendPlaybackControl(Rs.PAUSE)}stop(){this.sendPlaybackControl(Rs.STOP)}resetContext(){this.sendPlaybackControl(Rs.RESET_CONTEXT)}close(){this.conn.close()}}function SC(s){const t={};return s.forEach((n,i)=>{t[i]=n}),t}function _C(s){const t=new Headers;for(const[n,i]of Object.entries(s))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function jC(s,t,n){const i=new py;let o;if(n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),s.isVertexAI()){const u=_w(s,o);Object.assign(i,u)}else{const u=Sw(s,o);Object.assign(i,u)}t(i)}class EC{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i,this.music=new TC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,i,o,u,p,g;const v=this.apiClient.getWebsocketBaseUrl(),x=this.apiClient.getApiVersion();let y;const b=this.apiClient.getDefaultHeaders();t.config&&t.config.tools&&zx(t.config.tools)&&Lx(b);const w=RC(b);if(this.apiClient.isVertexAI())y=`${v}/ws/google.cloud.aiplatform.${x}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(w);else{const A=this.apiClient.getApiKey();let z="BidiGenerateContent",V="key";A!=null&&A.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),z="BidiGenerateContentConstrained",V="access_token"),y=`${v}/ws/google.ai.generativelanguage.${x}.GenerativeService.${z}?${V}=${A}`}let S=()=>{};const _=new Promise(A=>{S=A}),T=t.callbacks,D=function(){var A;(A=T==null?void 0:T.onopen)===null||A===void 0||A.call(T),S({})},R=this.apiClient,U={onopen:D,onmessage:A=>{jC(R,T.onmessage,A)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(A){},onclose:(i=T==null?void 0:T.onclose)!==null&&i!==void 0?i:function(A){}},I=this.webSocketFactory.create(y,MC(w),U);I.connect(),await _;let Y=st(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&Y.startsWith("publishers/")){const A=this.apiClient.getProject(),z=this.apiClient.getLocation();Y=`projects/${A}/locations/${z}/`+Y}let G={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Tr.AUDIO]}:t.config.responseModalities=[Tr.AUDIO]),!((u=t.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const W=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],k=[];for(const A of W)if(this.isCallableTool(A)){const z=A;k.push(await z.tool())}else k.push(A);k.length>0&&(t.config.tools=k);const M={model:Y,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?G=GN(this.apiClient,M):G=BN(this.apiClient,M),delete G.config,I.send(JSON.stringify(G)),new DC(I,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const AC={turnComplete:!0};class DC{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=dn(t,n.turns),t.isVertexAI()?i=i.map(o=>$s(t,o)):i=i.map(o=>jr(t,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const u of i){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!t.isVertexAI()&&!("id"in u))throw new Error(kC)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},AC),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:ZN(this.apiClient,t)}:n={realtimeInput:YN(this.apiClient,t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function MC(s){const t={};return s.forEach((n,i)=>{t[i]=n}),t}function RC(s){const t=new Headers;for(const[n,i]of Object.entries(s))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nx=10;function ax(s){var t,n,i;if(!((t=s==null?void 0:s.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let o=!1;for(const p of(n=s==null?void 0:s.tools)!==null&&n!==void 0?n:[])if(xr(p)){o=!0;break}if(!o)return!0;const u=(i=s==null?void 0:s.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function xr(s){return"callTool"in s&&typeof s.callTool=="function"}function sx(s){var t;return!(!((t=s==null?void 0:s.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IC extends Ps{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var i,o,u,p,g;const v=await this.processParamsForMcpUsage(n);if(!yC(n)||ax(n.config))return await this.generateContentInternal(v);if(bC(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let x,y;const b=dn(this.apiClient,v.contents),w=(u=(o=(i=v.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&u!==void 0?u:nx;let S=0;for(;S<w&&(x=await this.generateContentInternal(v),!(!x.functionCalls||x.functionCalls.length===0));){const _=x.candidates[0].content,T=[];for(const D of(g=(p=n.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(xr(D)){const U=await D.callTool(x.functionCalls);T.push(...U)}S++,y={role:"user",parts:T},v.contents=dn(this.apiClient,v.contents),v.contents.push(_),v.contents.push(y),sx(v.config)&&(b.push(_),b.push(y))}return sx(v.config)&&(x.automaticFunctionCallingHistory=b),x},this.generateContentStream=async n=>{if(ax(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let u;const p=[];if(i!=null&&i.generatedImages)for(const v of i.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((o=v==null?void 0:v.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?u=v==null?void 0:v.safetyAttributes:p.push(v);let g;return u?g={generatedImages:p,positivePromptSafetyAttributes:u}:g={generatedImages:p},g}),this.list=async n=>{var i;const p={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((i=p.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new kr(Gs.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)}}async processParamsForMcpUsage(t){var n,i,o;const u=(n=t.config)===null||n===void 0?void 0:n.tools;if(!u)return t;const p=await Promise.all(u.map(async v=>xr(v)?await v.tool():v)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&zx(t.config.tools)){const v=(o=(i=t.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let x=Object.assign({},v);Object.keys(x).length===0&&(x=this.apiClient.getDefaultHeaders()),Lx(x),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:x})}return g}async initAfcToolsMap(t){var n,i,o;const u=new Map;for(const p of(i=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(xr(p)){const g=p,v=await g.tool();for(const x of(o=v.functionDeclarations)!==null&&o!==void 0?o:[]){if(!x.name)throw new Error("Function declaration name is required.");if(u.has(x.name))throw new Error(`Duplicate tool declaration name: ${x.name}`);u.set(x.name,g)}}return u}async processAfcStream(t){var n,i,o;const u=(o=(i=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:nx;let p=!1,g=0;const v=await this.initAfcToolsMap(t);return(function(x,y,b){var w,S;return Us(this,arguments,function*(){for(var _,T,D,R;g<u;){p&&(g++,p=!1);const G=yield rt(x.processParamsForMcpUsage(b)),W=yield rt(x.generateContentStreamInternal(G)),k=[],M=[];try{for(var U=!0,I=(T=void 0,Pi(W)),Y;Y=yield rt(I.next()),_=Y.done,!_;U=!0){R=Y.value,U=!1;const A=R;if(yield yield rt(A),A.candidates&&(!((w=A.candidates[0])===null||w===void 0)&&w.content)){M.push(A.candidates[0].content);for(const z of(S=A.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(g<u&&z.functionCall){if(!z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(z.functionCall.name)){const V=yield rt(y.get(z.functionCall.name).callTool([z.functionCall]));k.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${z.functionCall.name}`)}}}}catch(A){T={error:A}}finally{try{!U&&!_&&(D=I.return)&&(yield rt(D.call(I)))}finally{if(T)throw T.error}}if(k.length>0){p=!0;const A=new Hi;A.candidates=[{content:{role:"user",parts:k}}],yield yield rt(A);const z=[];z.push(...M),z.push({role:"user",parts:k});const V=dn(x.apiClient,b.contents).concat(z);b.contents=V}else break}})})(this,v,t)}async generateContentInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Xh(this.apiClient,t);return g=Ae("{model}:generateContent",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=Wh(this.apiClient,y),w=new Hi;return Object.assign(w,b),w})}else{const x=Jh(this.apiClient,t);return g=Ae("{model}:generateContent",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=Qh(this.apiClient,y),w=new Hi;return Object.assign(w,b),w})}}async generateContentStreamInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Xh(this.apiClient,t);g=Ae("{model}:streamGenerateContent?alt=sse",x._url),v=x._query,delete x.config,delete x._url,delete x._query;const y=this.apiClient;return p=y.requestStream({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),p.then(function(b){return Us(this,arguments,function*(){var w,S,_,T;try{for(var D=!0,R=Pi(b),U;U=yield rt(R.next()),w=U.done,!w;D=!0){T=U.value,D=!1;const Y=Wh(y,yield rt(T.json())),G=new Hi;Object.assign(G,Y),yield yield rt(G)}}catch(I){S={error:I}}finally{try{!D&&!w&&(_=R.return)&&(yield rt(_.call(R)))}finally{if(S)throw S.error}}})})}else{const x=Jh(this.apiClient,t);g=Ae("{model}:streamGenerateContent?alt=sse",x._url),v=x._query,delete x.config,delete x._url,delete x._query;const y=this.apiClient;return p=y.requestStream({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}),p.then(function(b){return Us(this,arguments,function*(){var w,S,_,T;try{for(var D=!0,R=Pi(b),U;U=yield rt(R.next()),w=U.done,!w;D=!0){T=U.value,D=!1;const Y=Qh(y,yield rt(T.json())),G=new Hi;Object.assign(G,Y),yield yield rt(G)}}catch(I){S={error:I}}finally{try{!D&&!w&&(_=R.return)&&(yield rt(_.call(R)))}finally{if(S)throw S.error}}})})}}async embedContent(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=F1(this.apiClient,t);return g=Ae("{model}:predict",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=ZT(this.apiClient,y),w=new Ah;return Object.assign(w,b),w})}else{const x=l1(this.apiClient,t);return g=Ae("{model}:batchEmbedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=_T(this.apiClient,y),w=new Ah;return Object.assign(w,b),w})}}async generateImagesInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Z1(this.apiClient,t);return g=Ae("{model}:predict",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=JT(this.apiClient,y),w=new Dh;return Object.assign(w,b),w})}else{const x=o1(this.apiClient,t);return g=Ae("{model}:predict",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=ET(this.apiClient,y),w=new Dh;return Object.assign(w,b),w})}}async editImageInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=tT(this.apiClient,t);return u=Ae("{model}:predict",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>{const x=XT(this.apiClient,v),y=new oy;return Object.assign(y,x),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=aT(this.apiClient,t);return u=Ae("{model}:predict",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>{const x=QT(this.apiClient,v),y=new cy;return Object.assign(y,x),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=sT(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>mu(this.apiClient,y))}else{const x=c1(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>fu(this.apiClient,y))}}async listInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=lT(this.apiClient,t);return g=Ae("{models_url}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=nC(this.apiClient,y),w=new Mh;return Object.assign(w,b),w})}else{const x=d1(this.apiClient,t);return g=Ae("{models_url}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=DT(this.apiClient,y),w=new Mh;return Object.assign(w,b),w})}}async update(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=oT(this.apiClient,t);return g=Ae("{model}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>mu(this.apiClient,y))}else{const x=m1(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>fu(this.apiClient,y))}}async delete(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=cT(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(()=>{const y=aC(),b=new Rh;return Object.assign(b,y),b})}else{const x=p1(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(()=>{const y=MT(),b=new Rh;return Object.assign(b,y),b})}}async countTokens(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=dT(this.apiClient,t);return g=Ae("{model}:countTokens",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=sC(this.apiClient,y),w=new Ih;return Object.assign(w,b),w})}else{const x=x1(this.apiClient,t);return g=Ae("{model}:countTokens",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=RT(this.apiClient,y),w=new Ih;return Object.assign(w,b),w})}}async computeTokens(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=fT(this.apiClient,t);return u=Ae("{model}:computeTokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>{const x=iC(this.apiClient,v),y=new uy;return Object.assign(y,x),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=pT(this.apiClient,t);return g=Ae("{model}:predictLongRunning",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>cC(this.apiClient,y))}else{const x=y1(this.apiClient,t);return g=Ae("{model}:predictLongRunning",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>LT(this.apiClient,y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UC(s,t){const n={},i=d(t,["operationName"]);i!=null&&f(n,["_url","operationName"],i);const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function zC(s,t){const n={},i=d(t,["operationName"]);i!=null&&f(n,["_url","operationName"],i);const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function LC(s,t){const n={},i=d(t,["operationName"]);i!=null&&f(n,["operationName"],i);const o=d(t,["resourceName"]);o!=null&&f(n,["_url","resourceName"],o);const u=d(t,["config"]);return u!=null&&f(n,["config"],u),n}function OC(s,t){const n={},i=d(t,["video","uri"]);i!=null&&f(n,["uri"],i);const o=d(t,["video","encodedVideo"]);o!=null&&f(n,["videoBytes"],xa(s,o));const u=d(t,["encoding"]);return u!=null&&f(n,["mimeType"],u),n}function VC(s,t){const n={},i=d(t,["_self"]);return i!=null&&f(n,["video"],OC(s,i)),n}function HC(s,t){const n={},i=d(t,["generatedSamples"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(g=>VC(s,g))),f(n,["generatedVideos"],p)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(n,["raiMediaFilteredCount"],o);const u=d(t,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function BC(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);p!=null&&f(n,["error"],p);const g=d(t,["response","generateVideoResponse"]);return g!=null&&f(n,["response"],HC(s,g)),n}function GC(s,t){const n={},i=d(t,["gcsUri"]);i!=null&&f(n,["uri"],i);const o=d(t,["bytesBase64Encoded"]);o!=null&&f(n,["videoBytes"],xa(s,o));const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function qC(s,t){const n={},i=d(t,["_self"]);return i!=null&&f(n,["video"],GC(s,i)),n}function PC(s,t){const n={},i=d(t,["videos"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(g=>qC(s,g))),f(n,["generatedVideos"],p)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(n,["raiMediaFilteredCount"],o);const u=d(t,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function ix(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);p!=null&&f(n,["error"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],PC(s,g)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $C extends Ps{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let u;return i&&"httpOptions"in i&&(u=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:u}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=zC(this.apiClient,t);return g=Ae("{operationName}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>ix(this.apiClient,y))}else{const x=UC(this.apiClient,t);return g=Ae("{operationName}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>BC(this.apiClient,y))}}async fetchPredictVideosOperationInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=LC(this.apiClient,t);return u=Ae("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>ix(this.apiClient,v))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FC(s,t){const n={},i=d(t,["voiceName"]);return i!=null&&f(n,["voiceName"],i),n}function Ox(s,t){const n={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(n,["prebuiltVoiceConfig"],FC(s,i)),n}function YC(s,t){const n={},i=d(t,["speaker"]);i!=null&&f(n,["speaker"],i);const o=d(t,["voiceConfig"]);return o!=null&&f(n,["voiceConfig"],Ox(s,o)),n}function ZC(s,t){const n={},i=d(t,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>YC(s,u))),f(n,["speakerVoiceConfigs"],o)}return n}function KC(s,t){const n={},i=d(t,["voiceConfig"]);i!=null&&f(n,["voiceConfig"],Ox(s,i));const o=d(t,["multiSpeakerVoiceConfig"]);o!=null&&f(n,["multiSpeakerVoiceConfig"],ZC(s,o));const u=d(t,["languageCode"]);return u!=null&&f(n,["languageCode"],u),n}function JC(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function XC(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function QC(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(n,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function WC(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],JC(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],XC(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],QC(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function eS(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>WC(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function tS(s,t){const n={},i=d(t,["behavior"]);i!=null&&f(n,["behavior"],i);const o=d(t,["description"]);o!=null&&f(n,["description"],o);const u=d(t,["name"]);u!=null&&f(n,["name"],u);const p=d(t,["parameters"]);p!=null&&f(n,["parameters"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],g),n}function nS(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function aS(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],nS(s,i)),n}function sS(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function iS(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],sS(s,i)),n}function lS(){return{}}function rS(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(x=>tS(s,x))),f(n,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearch"]);o!=null&&f(n,["googleSearch"],aS(s,o));const u=d(t,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],iS(s,u)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(n,["urlContext"],lS());const g=d(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function oS(s,t){const n={},i=d(t,["handle"]);if(i!=null&&f(n,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function lx(){return{}}function cS(s,t){const n={},i=d(t,["disabled"]);i!=null&&f(n,["disabled"],i);const o=d(t,["startOfSpeechSensitivity"]);o!=null&&f(n,["startOfSpeechSensitivity"],o);const u=d(t,["endOfSpeechSensitivity"]);u!=null&&f(n,["endOfSpeechSensitivity"],u);const p=d(t,["prefixPaddingMs"]);p!=null&&f(n,["prefixPaddingMs"],p);const g=d(t,["silenceDurationMs"]);return g!=null&&f(n,["silenceDurationMs"],g),n}function uS(s,t){const n={},i=d(t,["automaticActivityDetection"]);i!=null&&f(n,["automaticActivityDetection"],cS(s,i));const o=d(t,["activityHandling"]);o!=null&&f(n,["activityHandling"],o);const u=d(t,["turnCoverage"]);return u!=null&&f(n,["turnCoverage"],u),n}function dS(s,t){const n={},i=d(t,["targetTokens"]);return i!=null&&f(n,["targetTokens"],i),n}function fS(s,t){const n={},i=d(t,["triggerTokens"]);i!=null&&f(n,["triggerTokens"],i);const o=d(t,["slidingWindow"]);return o!=null&&f(n,["slidingWindow"],dS(s,o)),n}function mS(s,t){const n={},i=d(t,["proactiveAudio"]);return i!=null&&f(n,["proactiveAudio"],i),n}function pS(s,t,n){const i={},o=d(t,["generationConfig"]);n!==void 0&&o!=null&&f(n,["setup","generationConfig"],o);const u=d(t,["responseModalities"]);n!==void 0&&u!=null&&f(n,["setup","generationConfig","responseModalities"],u);const p=d(t,["temperature"]);n!==void 0&&p!=null&&f(n,["setup","generationConfig","temperature"],p);const g=d(t,["topP"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topP"],g);const v=d(t,["topK"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","topK"],v);const x=d(t,["maxOutputTokens"]);n!==void 0&&x!=null&&f(n,["setup","generationConfig","maxOutputTokens"],x);const y=d(t,["mediaResolution"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","mediaResolution"],y);const b=d(t,["seed"]);n!==void 0&&b!=null&&f(n,["setup","generationConfig","seed"],b);const w=d(t,["speechConfig"]);n!==void 0&&w!=null&&f(n,["setup","generationConfig","speechConfig"],KC(s,yu(s,w)));const S=d(t,["enableAffectiveDialog"]);n!==void 0&&S!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],S);const _=d(t,["systemInstruction"]);n!==void 0&&_!=null&&f(n,["setup","systemInstruction"],eS(s,Mt(s,_)));const T=d(t,["tools"]);if(n!==void 0&&T!=null){let W=Yi(s,T);Array.isArray(W)&&(W=W.map(k=>rS(s,Fi(s,k)))),f(n,["setup","tools"],W)}const D=d(t,["sessionResumption"]);n!==void 0&&D!=null&&f(n,["setup","sessionResumption"],oS(s,D));const R=d(t,["inputAudioTranscription"]);n!==void 0&&R!=null&&f(n,["setup","inputAudioTranscription"],lx());const U=d(t,["outputAudioTranscription"]);n!==void 0&&U!=null&&f(n,["setup","outputAudioTranscription"],lx());const I=d(t,["realtimeInputConfig"]);n!==void 0&&I!=null&&f(n,["setup","realtimeInputConfig"],uS(s,I));const Y=d(t,["contextWindowCompression"]);n!==void 0&&Y!=null&&f(n,["setup","contextWindowCompression"],fS(s,Y));const G=d(t,["proactivity"]);return n!==void 0&&G!=null&&f(n,["setup","proactivity"],mS(s,G)),i}function hS(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["setup","model"],st(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],pS(s,o,n)),n}function xS(s,t,n){const i={},o=d(t,["expireTime"]);n!==void 0&&o!=null&&f(n,["expireTime"],o);const u=d(t,["newSessionExpireTime"]);n!==void 0&&u!=null&&f(n,["newSessionExpireTime"],u);const p=d(t,["uses"]);n!==void 0&&p!=null&&f(n,["uses"],p);const g=d(t,["liveConnectConstraints"]);n!==void 0&&g!=null&&f(n,["bidiGenerateContentSetup"],hS(s,g));const v=d(t,["lockAdditionalFields"]);return n!==void 0&&v!=null&&f(n,["fieldMask"],v),i}function gS(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],xS(s,i,n)),n}function vS(s,t){const n={},i=d(t,["name"]);return i!=null&&f(n,["name"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yS(s){const t=[];for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)){const i=s[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(u=>`${n}.${u}`);t.push(...o)}else t.push(n)}return t.join(",")}function bS(s,t){let n=null;const i=s.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const u=i.setup;typeof u=="object"&&u!==null?(s.bidiGenerateContentSetup=u,n=u):delete s.bidiGenerateContentSetup}else i!==void 0&&delete s.bidiGenerateContentSetup;const o=s.fieldMask;if(n){const u=yS(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)u?s.fieldMask=u:delete s.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];o.length>0&&(g=o.map(x=>p.includes(x)?`generationConfig.${x}`:x));const v=[];u&&v.push(u),g.length>0&&v.push(...g),v.length>0?s.fieldMask=v.join(","):delete s.fieldMask}else delete s.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?s.fieldMask=o.join(","):delete s.fieldMask;return s}class NS extends Ps{constructor(t){super(),this.apiClient=t}async create(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=gS(this.apiClient,t);u=Ae("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const v=bS(g,t.config);return o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),o.then(x=>vS(this.apiClient,x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wS(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],i);const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function TS(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);n!==void 0&&u!=null&&f(n,["_query","pageToken"],u);const p=d(t,["filter"]);return n!==void 0&&p!=null&&f(n,["_query","filter"],p),i}function CS(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],TS(s,i,n)),n}function SS(s,t){const n={},i=d(t,["textInput"]);i!=null&&f(n,["textInput"],i);const o=d(t,["output"]);return o!=null&&f(n,["output"],o),n}function _S(s,t){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(t,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>SS(s,u))),f(n,["examples","examples"],o)}return n}function kS(s,t,n){const i={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=d(t,["tunedModelDisplayName"]);if(n!==void 0&&o!=null&&f(n,["displayName"],o),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=d(t,["epochCount"]);n!==void 0&&u!=null&&f(n,["tuningTask","hyperparameters","epochCount"],u);const p=d(t,["learningRateMultiplier"]);if(p!=null&&f(i,["tuningTask","hyperparameters","learningRateMultiplier"],p),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=d(t,["batchSize"]);n!==void 0&&g!=null&&f(n,["tuningTask","hyperparameters","batchSize"],g);const v=d(t,["learningRate"]);return n!==void 0&&v!=null&&f(n,["tuningTask","hyperparameters","learningRate"],v),i}function jS(s,t){const n={},i=d(t,["baseModel"]);i!=null&&f(n,["baseModel"],i);const o=d(t,["trainingDataset"]);o!=null&&f(n,["tuningTask","trainingData"],_S(s,o));const u=d(t,["config"]);return u!=null&&f(n,["config"],kS(s,u,n)),n}function ES(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],i);const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function AS(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);n!==void 0&&u!=null&&f(n,["_query","pageToken"],u);const p=d(t,["filter"]);return n!==void 0&&p!=null&&f(n,["_query","filter"],p),i}function DS(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],AS(s,i,n)),n}function MS(s,t,n){const i={},o=d(t,["gcsUri"]);if(n!==void 0&&o!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],o),d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function RS(s,t){const n={},i=d(t,["gcsUri"]);return i!=null&&f(n,["validationDatasetUri"],i),n}function IS(s,t,n){const i={},o=d(t,["validationDataset"]);n!==void 0&&o!=null&&f(n,["supervisedTuningSpec"],RS(s,o));const u=d(t,["tunedModelDisplayName"]);n!==void 0&&u!=null&&f(n,["tunedModelDisplayName"],u);const p=d(t,["description"]);n!==void 0&&p!=null&&f(n,["description"],p);const g=d(t,["epochCount"]);n!==void 0&&g!=null&&f(n,["supervisedTuningSpec","hyperParameters","epochCount"],g);const v=d(t,["learningRateMultiplier"]);n!==void 0&&v!=null&&f(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v);const x=d(t,["exportLastCheckpointOnly"]);n!==void 0&&x!=null&&f(n,["supervisedTuningSpec","exportLastCheckpointOnly"],x);const y=d(t,["adapterSize"]);if(n!==void 0&&y!=null&&f(n,["supervisedTuningSpec","hyperParameters","adapterSize"],y),d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function US(s,t){const n={},i=d(t,["baseModel"]);i!=null&&f(n,["baseModel"],i);const o=d(t,["trainingDataset"]);o!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],MS(s,o,n));const u=d(t,["config"]);return u!=null&&f(n,["config"],IS(s,u,n)),n}function zS(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["model"],i);const o=d(t,["name"]);return o!=null&&f(n,["endpoint"],o),n}function Vx(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["state"]);o!=null&&f(n,["state"],Nx(s,o));const u=d(t,["createTime"]);u!=null&&f(n,["createTime"],u);const p=d(t,["tuningTask","startTime"]);p!=null&&f(n,["startTime"],p);const g=d(t,["tuningTask","completeTime"]);g!=null&&f(n,["endTime"],g);const v=d(t,["updateTime"]);v!=null&&f(n,["updateTime"],v);const x=d(t,["description"]);x!=null&&f(n,["description"],x);const y=d(t,["baseModel"]);y!=null&&f(n,["baseModel"],y);const b=d(t,["_self"]);b!=null&&f(n,["tunedModel"],zS(s,b));const w=d(t,["distillationSpec"]);w!=null&&f(n,["distillationSpec"],w);const S=d(t,["experiment"]);S!=null&&f(n,["experiment"],S);const _=d(t,["labels"]);_!=null&&f(n,["labels"],_);const T=d(t,["pipelineJob"]);T!=null&&f(n,["pipelineJob"],T);const D=d(t,["serviceAccount"]);D!=null&&f(n,["serviceAccount"],D);const R=d(t,["tunedModelDisplayName"]);return R!=null&&f(n,["tunedModelDisplayName"],R),n}function LS(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["tunedModels"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>Vx(s,p))),f(n,["tuningJobs"],u)}return n}function OS(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);return p!=null&&f(n,["error"],p),n}function VS(s,t){const n={},i=d(t,["checkpointId"]);i!=null&&f(n,["checkpointId"],i);const o=d(t,["epoch"]);o!=null&&f(n,["epoch"],o);const u=d(t,["step"]);u!=null&&f(n,["step"],u);const p=d(t,["endpoint"]);return p!=null&&f(n,["endpoint"],p),n}function HS(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["model"],i);const o=d(t,["endpoint"]);o!=null&&f(n,["endpoint"],o);const u=d(t,["checkpoints"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>VS(s,g))),f(n,["checkpoints"],p)}return n}function xu(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["state"]);o!=null&&f(n,["state"],Nx(s,o));const u=d(t,["createTime"]);u!=null&&f(n,["createTime"],u);const p=d(t,["startTime"]);p!=null&&f(n,["startTime"],p);const g=d(t,["endTime"]);g!=null&&f(n,["endTime"],g);const v=d(t,["updateTime"]);v!=null&&f(n,["updateTime"],v);const x=d(t,["error"]);x!=null&&f(n,["error"],x);const y=d(t,["description"]);y!=null&&f(n,["description"],y);const b=d(t,["baseModel"]);b!=null&&f(n,["baseModel"],b);const w=d(t,["tunedModel"]);w!=null&&f(n,["tunedModel"],HS(s,w));const S=d(t,["supervisedTuningSpec"]);S!=null&&f(n,["supervisedTuningSpec"],S);const _=d(t,["tuningDataStats"]);_!=null&&f(n,["tuningDataStats"],_);const T=d(t,["encryptionSpec"]);T!=null&&f(n,["encryptionSpec"],T);const D=d(t,["partnerModelTuningSpec"]);D!=null&&f(n,["partnerModelTuningSpec"],D);const R=d(t,["distillationSpec"]);R!=null&&f(n,["distillationSpec"],R);const U=d(t,["experiment"]);U!=null&&f(n,["experiment"],U);const I=d(t,["labels"]);I!=null&&f(n,["labels"],I);const Y=d(t,["pipelineJob"]);Y!=null&&f(n,["pipelineJob"],Y);const G=d(t,["serviceAccount"]);G!=null&&f(n,["serviceAccount"],G);const W=d(t,["tunedModelDisplayName"]);return W!=null&&f(n,["tunedModelDisplayName"],W),n}function BS(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["tuningJobs"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>xu(s,p))),f(n,["tuningJobs"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GS extends Ps{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new kr(Gs.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:ru.JOB_STATE_QUEUED}}}}async getInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=ES(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>xu(this.apiClient,y))}else{const x=wS(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>Vx(this.apiClient,y))}}async listInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=DS(this.apiClient,t);return g=Ae("tuningJobs",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=BS(this.apiClient,y),w=new Uh;return Object.assign(w,b),w})}else{const x=CS(this.apiClient,t);return g=Ae("tunedModels",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=LS(this.apiClient,y),w=new Uh;return Object.assign(w,b),w})}}async tuneInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=US(this.apiClient,t);return u=Ae("tuningJobs",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>xu(this.apiClient,v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=jS(this.apiClient,t);return u=Ae("tunedModels",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>OS(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qS{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const PS=1024*1024*8,$S=3,FS=1e3,YS=2,Qc="x-goog-upload-status";async function ZS(s,t,n){var i,o,u;let p=0,g=0,v=new ou(new Response),x="upload";for(p=s.size;g<p;){const b=Math.min(PS,p-g),w=s.slice(g,g+b);g+b>=p&&(x+=", finalize");let S=0,_=FS;for(;S<$S&&(v=await n.request({path:"",body:w,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":String(g),"Content-Length":String(b)}}}),!(!((i=v==null?void 0:v.headers)===null||i===void 0)&&i[Qc]));)S++,await JS(_),_=_*YS;if(g+=b,((o=v==null?void 0:v.headers)===null||o===void 0?void 0:o[Qc])!=="active")break;if(p<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(v==null?void 0:v.json());if(((u=v==null?void 0:v.headers)===null||u===void 0?void 0:u[Qc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function KS(s){return{size:s.size,type:s.type}}function JS(s){return new Promise(t=>setTimeout(t,s))}class XS{async upload(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await ZS(t,n,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await KS(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QS{create(t,n,i){return new WS(t,n,i)}}class WS{constructor(t,n,i){this.url=t,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rx="x-goog-api-key";class e_{constructor(t){this.apiKey=t}async addAuthHeaders(t){if(t.get(rx)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(rx,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const t_="gl-node/";class Hx{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const i=ry(t,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion;const o=new e_(this.apiKey);this.apiClient=new gC({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:t_+"web",uploader:new XS,downloader:new qS}),this.models=new IC(this.apiClient),this.live=new EC(this.apiClient,o,new QS),this.chats=new Rb(this.models,this.apiClient),this.caches=new Ab(this.apiClient),this.files=new Fb(this.apiClient),this.operations=new $C(this.apiClient),this.authTokens=new NS(this.apiClient),this.tunings=new GS(this.apiClient)}}var n_={};const Er=()=>new Hx({apiKey:n_.API_KEY}),a_=async(s,t)=>{const n=Er(),i=s.memories.map(g=>`${g.date}: ${g.event} (${g.emotion})`).join(`
`),o=s.notes.map(g=>`${g.date}: ${g.text}`).join(`
`),u=`
         .
     (): ${t.name}, : ${t.role}, : ${t.archetype}.
    : ${s.name}, status: ${s.status}, : ${s.hobbies.join(", ")}.
    
     :
    ${i}
    
    :
    ${o}
    
        AI-    .
      :
    1.  (      ).
    2.   (    ).
    3.   (    ).
    4. 3-5     .
    
       JSON.
  `,p=await n.models.generateContent({model:"gemini-3-flash-preview",contents:u,config:{responseMimeType:"application/json",responseSchema:{type:be.OBJECT,properties:{summary:{type:be.STRING},interests:{type:be.ARRAY,items:{type:be.STRING}},tone:{type:be.STRING},topics:{type:be.ARRAY,items:{type:be.STRING}}}}}});return JSON.parse(p.text||"{}")},s_=async(s,t,n)=>{const i=Er(),o=`
      -  '. 
       "${t}"   "${s}".
      .

        ,       :
    1.    ( ).
    2.     ( ).
    3.     ( ).  ,   ,       .
    4.    .
    5.     YYYY-MM-DD ( ,  NULL).

       JSON.
  `,u=await i.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{responseMimeType:"application/json",responseSchema:{type:be.OBJECT,properties:{hobbies:{type:be.ARRAY,items:{type:be.STRING}},goals:{type:be.ARRAY,items:{type:be.STRING}},notes:{type:be.ARRAY,items:{type:be.STRING}},summary:{type:be.STRING},birthDate:{type:be.STRING,nullable:!0}}}}});return JSON.parse(u.text||"{}")},i_=async(s,t,n)=>{const i=Er(),o=`
          : ${n.name} (${n.race} ${n.archetype}).
     : ${n.vision}
    : ${n.goals.join(", ")}

        : "${s}".
     : ${t}

           GTD  12- :
    1. " " (Next Actions)  3-5      .
    2. "" (Bosses)  2-3  ,     3  .
    3. "" (Habits)  1-2       .

         JSON.
  `,u=await i.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{responseMimeType:"application/json",responseSchema:{type:be.OBJECT,properties:{nextActions:{type:be.ARRAY,items:{type:be.STRING}},subprojects:{type:be.ARRAY,items:{type:be.OBJECT,properties:{title:{type:be.STRING},tasks:{type:be.ARRAY,items:{type:be.STRING}}},required:["title","tasks"]}},habits:{type:be.ARRAY,items:{type:be.STRING}}},required:["nextActions","subprojects","habits"]}}});return JSON.parse(u.text||"{}")},l_=async(s,t,n)=>{const i=Er(),o=`
        GTD    .
       ( + )     .
    : ${t.name}, : ${t.vision}, : ${t.role}.
     : ${t.preferences.workStyle}, ${t.preferences.planningStyle}.
     : ${n.join(", ")}.

      :
    ${s.map(p=>`- [ID:${p.id}] : "${p.title}". : "${p.content||""}"`).join(`
`)}

        :
    1. : 'tasks', 'notes', 'project'.
    2. :  'subtasks', 'habits', 'events', 'people'.
    3.  :        ,  ,       (focusBlockers)?
        ,    'profileImpact'.

        JSON ( ').
  `,u=await i.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{responseMimeType:"application/json",responseSchema:{type:be.ARRAY,items:{type:be.OBJECT,properties:{id:{type:be.STRING},category:{type:be.STRING},priority:{type:be.STRING},status:{type:be.STRING},tags:{type:be.ARRAY,items:{type:be.STRING}},reason:{type:be.STRING},decomposition:{type:be.OBJECT,properties:{subtasks:{type:be.ARRAY,items:{type:be.STRING}},habits:{type:be.ARRAY,items:{type:be.STRING}},events:{type:be.ARRAY,items:{type:be.OBJECT,properties:{title:{type:be.STRING},date:{type:be.STRING}}}},people:{type:be.ARRAY,items:{type:be.OBJECT,properties:{name:{type:be.STRING},status:{type:be.STRING},note:{type:be.STRING}}}}}},profileImpact:{type:be.OBJECT,properties:{bioUpdate:{type:be.STRING},roleUpdate:{type:be.STRING},newGoal:{type:be.STRING},newBelief:{type:be.STRING},workStyleUpdate:{type:be.STRING},newFocusBlocker:{type:be.STRING}}}},required:["id","category","priority","status","tags","reason"]}}}});return JSON.parse(u.text||"[]")},Xe=({children:s,variant:t="primary",size:n="md",loading:i=!1,icon:o,className:u="",...p})=>{const g="inline-flex items-center justify-center gap-2 rounded-2xl font-black transition-none active:scale-95 disabled:opacity-50 disabled:pointer-events-none",v={primary:"bg-[var(--primary)] text-white shadow-lg",secondary:"bg-[var(--primary)]/10 text-[var(--primary)] border border-[var(--primary)]/20",ghost:"text-[var(--text-muted)] hover:bg-[var(--bg-main)] hover:text-[var(--text-main)]",danger:"bg-rose-500 text-white",white:"bg-[var(--bg-card)] text-[var(--text-main)] border border-[var(--border-color)] shadow-sm"},x={sm:"px-4 py-2 text-xs",md:"px-6 py-3 text-sm",lg:"px-8 py-4 text-base",icon:"w-10 h-10 p-0"};return l.jsx("button",{className:`${g} ${v[t]} ${x[n]} ${u}`,disabled:i,...p,children:i?l.jsx("i",{className:"fa-solid fa-circle-notch animate-spin"}):l.jsxs(l.Fragment,{children:[o&&l.jsx("i",{className:`fa-solid ${o} ${n==="icon"?"text-base":"text-xs"}`}),s]})})},ct=({children:s,variant:t="slate",icon:n,className:i="",style:o})=>{const u={orange:"bg-orange-50 text-orange-600 border-orange-100",emerald:"bg-emerald-50 text-emerald-600 border-emerald-100",rose:"bg-rose-50 text-rose-600 border-rose-100",slate:"bg-slate-50 text-slate-500 border-slate-100",yellow:"bg-yellow-50 text-yellow-700 border-yellow-100",indigo:"bg-indigo-50 text-indigo-600 border-indigo-100"};return l.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-lg border text-[10px] font-black uppercase tracking-wider ${u[t]} ${i}`,style:o,children:[n&&l.jsx("i",{className:`fa-solid ${n}`}),s]})},r_=({decisions:s,onClose:t,onConfirm:n})=>{const{tasks:i}=He(),[o,u]=j.useState(new Set(s.map(v=>v.id))),p=v=>{const x=new Set(o);x.has(v)?x.delete(v):x.add(v),u(x)},g=v=>v==="tasks"?"":v==="notes"?"":v==="project"?"":v;return l.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 tiktok-blur",children:[l.jsx("div",{className:"absolute inset-0 bg-slate-950/60",onClick:t}),l.jsxs(Me,{className:"w-full max-w-2xl max-h-[85vh] bg-white border-none shadow-2xl overflow-hidden flex flex-col relative animate-in zoom-in-95 duration-300 rounded-[2.5rem]",children:[l.jsxs("header",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-white sticky top-0 z-10",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-tr from-orange-500 to-pink-500 flex items-center justify-center text-white shadow-lg shadow-orange-200",children:l.jsx("i",{className:"fa-solid fa-sparkles text-xl"})}),l.jsxs("div",{children:[l.jsx(ee,{variant:"h2",className:"text-2xl mb-1 tracking-tight",children:" "}),l.jsx(ee,{variant:"tiny",className:"text-slate-400",children:"     "})]})]}),l.jsx("button",{onClick:t,className:"w-10 h-10 rounded-2xl bg-slate-50 flex items-center justify-center text-slate-300 hover:text-slate-900 transition-all",children:l.jsx("i",{className:"fa-solid fa-xmark"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-8 space-y-6",children:s.map(v=>{var w,S,_;const x=i.find(T=>T.id===v.id);if(!x)return null;const y=o.has(v.id),b=v.decomposition||v.profileImpact;return l.jsxs("div",{onClick:()=>p(v.id),className:`p-6 rounded-[2.5rem] border-2 transition-all cursor-pointer group flex items-start gap-5 ${y?"bg-white border-orange-200 shadow-xl ring-1 ring-orange-100":"bg-slate-50/50 border-transparent opacity-60 grayscale"}`,children:[l.jsx("div",{className:`w-8 h-8 rounded-full border-2 flex items-center justify-center shrink-0 mt-1 transition-all ${y?"bg-orange-600 border-orange-600 text-white shadow-inner":"bg-white border-slate-200 text-transparent"}`,children:l.jsx("i",{className:"fa-solid fa-check text-[12px]"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(ee,{variant:"h3",className:"text-base mb-2 truncate group-hover:text-orange-600 transition-colors",children:x.title}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[l.jsx(ct,{variant:"orange",className:"text-[7px] py-0 px-1.5 uppercase font-black",children:g(v.category)}),l.jsx(ct,{variant:"indigo",className:"text-[7px] py-0 px-1.5 uppercase font-black",children:v.priority}),v.tags.map(T=>l.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:["#",T]},T))]}),l.jsxs("div",{className:"bg-slate-50/50 p-4 rounded-2xl border border-slate-100 italic text-[11px] text-slate-500 leading-relaxed mb-4",children:['"',v.reason,'"']}),y&&b&&l.jsxs("div",{className:"space-y-4 mt-4 border-t border-slate-100 pt-4 animate-in slide-in-from-top-2",children:[v.decomposition&&l.jsxs("div",{className:"space-y-3",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 mb-2 uppercase font-black text-[7px]",children:"  :"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[(w=v.decomposition.subtasks)==null?void 0:w.map((T,D)=>l.jsx("div",{className:"bg-slate-100 px-2 py-1 rounded text-[9px] font-bold",children:"+ "},D)),(S=v.decomposition.people)==null?void 0:S.map((T,D)=>l.jsxs("div",{className:"bg-sky-50 text-sky-700 px-2 py-1 rounded text-[9px] font-bold",children:[l.jsx("i",{className:"fa-solid fa-user-plus mr-1"})," ",T.name]},D)),(_=v.decomposition.events)==null?void 0:_.map((T,D)=>l.jsxs("div",{className:"bg-pink-50 text-pink-700 px-2 py-1 rounded text-[9px] font-bold",children:[l.jsx("i",{className:"fa-solid fa-calendar mr-1"})," "]},D))]})]}),v.profileImpact&&l.jsxs("div",{className:"space-y-3",children:[l.jsx(ee,{variant:"tiny",className:"text-orange-500 mb-2 uppercase font-black text-[7px]",children:" :"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.profileImpact.bioUpdate&&l.jsx(ct,{variant:"orange",className:"text-[7px]",children:" Bio"}),v.profileImpact.roleUpdate&&l.jsx(ct,{variant:"orange",className:"text-[7px]",children:" "}),v.profileImpact.newBelief&&l.jsx(ct,{variant:"indigo",className:"text-[7px]",children:" "}),v.profileImpact.newFocusBlocker&&l.jsx(ct,{variant:"rose",className:"text-[7px]",children:"Focus-blocker"})]})]})]})]})]},v.id)})}),l.jsxs("footer",{className:"p-8 border-t border-slate-50 bg-slate-50/30 flex gap-4 sticky bottom-0 z-10",children:[l.jsx(Xe,{variant:"ghost",className:"flex-1 py-4",onClick:t,children:""}),l.jsxs(Xe,{variant:"primary",className:"flex-[2] py-4 shadow-xl shadow-orange-200",disabled:o.size===0,onClick:()=>n(o),children:["  (",o.size,")"]})]})]})]})},Wc=({showCompleted:s=!1,showNextActions:t=!1})=>{const{tasks:n,toggleTaskStatus:i,addTask:o,character:u,aiEnabled:p,people:g}=He(),[v,x]=j.useState(null),[y,b]=j.useState(""),[w,S]=j.useState(!1),[_,T]=j.useState([]),[D,R]=j.useState(!1),[U,I]=j.useState(window.innerWidth<1024),[Y,G]=j.useState({pinned:!1,unsorted:!1});j.useEffect(()=>{const $=()=>I(window.innerWidth<1024);return window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]);const{isResizing:W,startResizing:k,detailsWidth:M}=Hn(350,900),A=t?me.NEXT_ACTION:me.INBOX,z=$=>{if($&&$.preventDefault(),!y.trim())return;const ae=o(y.trim(),t?"tasks":"unsorted",void 0,"actions",!1,void 0,void 0,A);b(""),x(ae)},V=async()=>{const $=n.filter(ae=>!ae.isDeleted&&ae.status===A);if($.length!==0){S(!0);try{const ae=await l_($.map(fe=>({id:fe.id,title:fe.title,content:fe.content})),u,g.map(fe=>fe.name));T(ae),R(!0)}catch{alert(" AI.")}finally{S(!1)}}},B=[{id:"pinned",title:"",filter:$=>$.isPinned},{id:"unsorted",title:"",filter:$=>!$.isPinned}];return l.jsxs("div",{className:"h-screen flex bg-white overflow-hidden relative",children:[l.jsxs("div",{className:`flex flex-col flex-1 bg-white min-w-0 z-10 transition-all ${U&&v?"hidden":"h-full"}`,children:[l.jsxs("header",{className:"px-6 pt-10 pb-4 max-w-4xl mx-auto w-full flex flex-col gap-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(ee,{variant:"h1",className:"text-2xl font-black text-slate-800 tracking-tight",children:t?" ":""}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{className:"w-9 h-9 rounded-xl text-slate-400 hover:text-slate-600 hover:bg-slate-50 flex items-center justify-center transition-all",children:l.jsx("i",{className:"fa-solid fa-arrow-up-wide-short text-sm"})}),l.jsx("button",{className:"w-9 h-9 rounded-xl text-slate-400 hover:text-slate-600 hover:bg-slate-50 flex items-center justify-center transition-all",children:l.jsx("i",{className:"fa-solid fa-ellipsis"})})]})]}),l.jsxs("form",{onSubmit:z,className:"relative group",children:[l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-blue-500 transition-colors",children:l.jsx("i",{className:"fa-solid fa-plus text-sm"})}),l.jsx(dx,{value:y,onChange:b,onSelectTag:()=>{},onEnter:z,placeholder:"  ...",className:"w-full bg-slate-50 border border-slate-100 rounded-[1.2rem] py-3.5 pl-12 pr-4 text-[14px] font-medium focus:bg-white focus:ring-4 focus:ring-blue-50/50 focus:border-blue-200 transition-all outline-none placeholder:text-slate-300 shadow-sm"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-6 max-w-4xl mx-auto w-full pb-32",children:B.map($=>{const ae=n.filter(O=>!O.isDeleted&&O.status===A&&$.filter(O));if(ae.length===0&&$.id==="pinned")return null;const fe=Y[$.id];return l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{onClick:()=>G(O=>({...O,[$.id]:!O[$.id]})),className:"flex items-center gap-2 py-2 cursor-pointer group select-none",children:[l.jsx("i",{className:`fa-solid fa-chevron-right text-[8px] text-slate-300 transition-transform ${fe?"":"rotate-90 text-slate-600"}`}),l.jsx("span",{className:"text-[11px] font-black uppercase text-slate-400 tracking-widest flex-1",children:$.title}),l.jsx("span",{className:"text-[10px] font-black text-slate-300 px-2 py-0.5 bg-slate-50 rounded-full group-hover:bg-slate-100 group-hover:text-slate-500 transition-all",children:ae.length})]}),!fe&&l.jsx("div",{className:"space-y-px mt-1 border-t border-slate-50",children:ae.map(O=>{const q=v===O.id,he=O.content&&O.content!=="[]"&&O.content!=="";return l.jsxs("div",{onClick:()=>x(O.id),className:`flex items-center gap-4 px-3 py-3.5 cursor-pointer group relative border-b border-slate-50/50 transition-all
                            ${q?"bg-blue-50/50 border-blue-100/50":"hover:bg-slate-50/50"}`,children:[l.jsx("button",{onClick:P=>{P.stopPropagation(),i(O)},className:`w-5 h-5 rounded-[6px] border-2 flex items-center justify-center shrink-0 transition-all ${O.status===me.DONE?"bg-emerald-500 border-emerald-500 text-white":"border-slate-200 bg-white hover:border-blue-400"}`,children:O.status===me.DONE&&l.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),l.jsx("span",{className:`text-[14px] font-medium flex-1 truncate tracking-tight transition-colors ${O.status===me.DONE?"text-slate-300 line-through":"text-slate-700"}`,children:O.title}),he&&l.jsx("i",{className:"fa-regular fa-file-lines text-slate-300 text-xs"})]},O.id)})})]},$.id)})}),p&&l.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-20",children:l.jsxs("button",{onClick:V,disabled:w,className:"bg-slate-900 text-white px-8 py-3.5 rounded-full shadow-2xl flex items-center gap-3 hover:scale-105 active:scale-95 transition-all font-black text-[10px] uppercase tracking-[0.2em] border border-white/10",children:[w?l.jsx("i",{className:"fa-solid fa-circle-notch animate-spin"}):l.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-blue-400"}),"AI  "]})})]}),l.jsxs("div",{className:`bg-white shrink-0 relative transition-none border-l border-slate-100 flex flex-col ${v?"":"hidden lg:flex"}`,style:U?{width:"100vw",position:"fixed",inset:0,zIndex:100}:{width:M},children:[!U&&l.jsx("div",{onMouseDown:k,className:`absolute left-0 top-0 bottom-0 w-1.5 cursor-col-resize z-[100] transition-colors -ml-0.5 ${W?"bg-blue-400":"bg-transparent hover:bg-blue-200/50"}`,title:"   "}),l.jsx("div",{className:"w-full h-full flex flex-col",children:v?l.jsx(qs,{task:n.find($=>$.id===v),onClose:()=>x(null)}):l.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center p-12 text-center opacity-5 grayscale pointer-events-none select-none",children:[l.jsx("i",{className:"fa-solid fa-mountain-sun text-9xl mb-8"}),l.jsx(ee,{variant:"h2",className:"text-2xl font-black uppercase tracking-widest text-slate-400",children:" "}),l.jsx(ee,{variant:"body",className:"mt-4 text-xs font-bold text-slate-300",children:"   "})]})})]}),D&&l.jsx(r_,{decisions:_,onClose:()=>R(!1),onConfirm:()=>R(!1)})]})},o_=({currentDate:s,viewMode:t,onNavigate:n,onToday:i,onSetViewMode:o})=>l.jsxs("header",{className:"p-4 bg-[var(--bg-card)] border-b border-[var(--border-color)] flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shadow-sm z-20 shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(ee,{variant:"h3",className:"text-[var(--text-main)] capitalize min-w-[140px] text-base",children:t==="year"?s.getFullYear():s.toLocaleString("uk-UA",{month:"long",year:"numeric"})}),l.jsxs("div",{className:"flex bg-[var(--bg-main)] rounded-xl p-0.5 border border-[var(--border-color)]",children:[l.jsx("button",{onClick:()=>n(-1),className:"w-8 h-8 flex items-center justify-center text-[var(--text-muted)] hover:text-[var(--primary)] transition-colors",children:l.jsx("i",{className:"fa-solid fa-chevron-left text-[10px]"})}),l.jsx("button",{onClick:i,className:"px-3 text-[9px] font-black uppercase text-[var(--text-muted)] hover:text-[var(--primary)] border-x border-[var(--border-color)] transition-colors",children:""}),l.jsx("button",{onClick:()=>n(1),className:"w-8 h-8 flex items-center justify-center text-[var(--text-muted)] hover:text-[var(--primary)] transition-colors",children:l.jsx("i",{className:"fa-solid fa-chevron-right text-[10px]"})})]})]}),l.jsx("div",{className:"flex bg-[var(--bg-main)] rounded-xl p-0.5 border border-[var(--border-color)] overflow-x-auto no-scrollbar",children:["day","week","month","year"].map(u=>l.jsx("button",{onClick:()=>o(u),className:`px-4 py-1.5 rounded-lg text-[8px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${t===u?"bg-[var(--bg-card)] shadow-sm text-[var(--primary)]":"text-[var(--text-muted)] hover:text-[var(--text-main)]"}`,children:u==="day"?"":u==="week"?"":u==="month"?"":""},u))})]}),As=({label:s,icon:t,type:n,level:i,isOpen:o,count:u,color:p,onToggle:g,onAdd:v,onClick:x,isDraggable:y,onDragStart:b,children:w})=>l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{draggable:y,onDragStart:b,onClick:g||x,className:`group flex items-center gap-1.5 py-1.5 px-2 cursor-pointer hover:bg-[var(--text-main)]/5 rounded-lg transition-colors relative ${i>0?"ml-2":""} ${o&&(n==="folder"||n==="system")?"bg-[var(--text-main)]/[0.03]":""}`,children:[l.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[n==="folder"||n==="system"||w&&zs.Children.count(w)>0?l.jsx("i",{className:`fa-solid fa-chevron-right text-[7px] text-[var(--text-muted)] transition-transform ${o?"rotate-90 text-[var(--primary)]":""}`}):l.jsx("div",{className:"w-2.5"}),l.jsx("i",{className:`fa-solid ${t} text-[10px] w-4 text-center ${n==="event"?"text-[var(--primary)]":n==="note"?"text-[var(--primary)] opacity-60":n==="folder"?"text-[var(--primary)]":"text-[var(--text-muted)]"}`,style:p?{color:p}:{}})]}),l.jsx("span",{className:`text-[10px] truncate flex-1 uppercase tracking-tight ${n==="folder"||n==="system"?"font-black text-[var(--text-main)]":"font-bold text-[var(--text-muted)]"}`,children:s}),u!==void 0&&u>0&&l.jsx("span",{className:"text-[7px] font-black text-white bg-[var(--primary)] px-1.5 rounded-full shadow-sm",children:u})]}),o&&w&&l.jsx("div",{className:"border-l border-[var(--border-color)] ml-3.5 mt-0.5 pl-1",children:w})]}),c_=({onSelectTask:s})=>{const{tasks:t,projects:n,inboxCategories:i}=He(),[o,u]=j.useState({root_planned:!0,root_inbox:!0,root_actions:!0,root_notes:!1,root_projects:!0}),p=y=>u(b=>({...b,[y]:!b[y]})),g=j.useMemo(()=>t.filter(y=>!y.isDeleted&&y.status!==me.DONE&&!!y.scheduledDate),[t]),v=j.useMemo(()=>t.filter(y=>!y.isDeleted&&y.status!==me.DONE&&!y.scheduledDate),[t]),x=(y,b)=>l.jsx(As,{id:y.id,label:y.title,icon:y.isEvent?"fa-calendar-star":y.category==="note"?"fa-note-sticky":"fa-circle-dot",type:y.isEvent?"event":y.category==="note"?"note":"task",level:b,onClick:()=>s(y.id),isDraggable:!0,onDragStart:w=>w.dataTransfer.setData("taskId",y.id)},y.id);return l.jsxs("aside",{className:"w-64 bg-[var(--bg-card)] border-r border-[var(--border-color)] flex flex-col hidden lg:flex shrink-0 select-none shadow-sm h-full overflow-hidden",children:[l.jsx("header",{className:"p-4 border-b border-[var(--border-color)] flex items-center justify-between bg-[var(--bg-main)]/20",children:l.jsx(ee,{variant:"tiny",className:"text-[var(--text-muted)] font-black tracking-widest opacity-60",children:" "})}),l.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-4 bg-[var(--bg-main)]/10",children:[l.jsx(As,{id:"root_inbox",label:"",icon:"fa-inbox",type:"system",level:-1,isOpen:o.root_inbox,onToggle:()=>p("root_inbox"),children:i.filter(y=>y.scope==="inbox"||y.id==="unsorted").map(y=>l.jsx(As,{id:y.id,label:y.title,icon:y.icon,type:"folder",level:0,count:v.filter(b=>b.category===y.id&&b.status===me.INBOX).length,isOpen:o[`cat_${y.id}`],onToggle:()=>p(`cat_${y.id}`),children:v.filter(b=>b.category===y.id&&b.status===me.INBOX).map(b=>x(b,1))},y.id))}),l.jsx(As,{id:"root_planned",label:"",icon:"fa-calendar-check",type:"system",level:-1,isOpen:o.root_planned,onToggle:()=>p("root_planned"),children:g.sort((y,b)=>(y.scheduledDate||0)-(b.scheduledDate||0)).slice(0,10).map(y=>x(y,0))}),l.jsx(As,{id:"root_projects",label:"",icon:"fa-folder-tree",type:"system",level:-1,isOpen:o.root_projects,onToggle:()=>p("root_projects"),children:n.filter(y=>y.type==="goal"&&y.status==="active").map(y=>l.jsx(As,{id:y.id,label:y.name,icon:"fa-flag-checkered",color:y.color,type:"folder",level:0,isOpen:o[`p_${y.id}`],onToggle:()=>p(`p_${y.id}`),children:t.filter(b=>b.projectId===y.id&&!b.isDeleted&&b.status!==me.DONE).map(b=>x(b,1))},y.id))})]}),l.jsx("footer",{className:"p-3 bg-[var(--bg-main)]/20 border-t border-[var(--border-color)]",children:l.jsxs("div",{className:"flex items-center justify-between text-[8px] font-black text-[var(--text-muted)] uppercase tracking-widest px-1",children:[l.jsx("span",{children:" "}),l.jsx("span",{className:"text-[var(--primary)] bg-[var(--primary)]/10 px-1.5 py-0.5 rounded-md",children:t.filter(y=>!y.isDeleted&&y.status!==me.DONE).length})]})})]})},u_=({currentDate:s,dragOverDay:t,onDrop:n,onDragOver:i,onDragLeave:o,onSelectTask:u,onAddQuickEvent:p})=>{const{tasks:g,people:v}=He(),x=zs.useMemo(()=>Array.from({length:42},(y,b)=>{const w=new Date(s.getFullYear(),s.getMonth(),1);return w.setDate(w.getDate()-(w.getDay()===0?6:w.getDay()-1)+b),w}),[s]);return l.jsxs("div",{className:"grid grid-cols-7 gap-px bg-[var(--border-color)] rounded-xl md:rounded-[2rem] overflow-hidden shadow-xl border border-[var(--border-color)] h-full min-h-[500px]",children:[["","","","","","",""].map(y=>l.jsx("div",{className:"bg-[var(--bg-card)] p-1.5 md:p-3 text-center text-[8px] md:text-[9px] font-black uppercase text-[var(--text-muted)] tracking-widest opacity-60",children:y},y)),x.map((y,b)=>{const w=new Date(y).setHours(0,0,0,0),S=w===new Date().setHours(0,0,0,0),_=y.getMonth()===s.getMonth(),T=y.getMonth(),D=y.getDate();y.getFullYear();const R=g.filter(I=>{if(I.isDeleted)return!1;const Y=I.scheduledDate?new Date(I.scheduledDate).setHours(0,0,0,0):null,G=I.endDate?new Date(I.endDate).setHours(0,0,0,0):Y;return Y?w>=Y&&w<=(G||Y):!1}),U=[];return v.forEach(I=>{if(I.birthDate&&I.birthDateShowInCalendar!==!1){const Y=new Date(I.birthDate);Y.getMonth()===T&&Y.getDate()===D&&U.push({id:`bd-${I.id}`,title:` ${I.name}`,type:"birthday"})}}),l.jsxs("div",{onDragOver:I=>i(I,w),onDragLeave:o,onDrop:I=>n(I,w),onClick:()=>window.innerWidth<768&&p(w),className:`min-h-[75px] md:min-h-[120px] p-1 md:p-2 flex flex-col transition-all relative group ${_?"bg-[var(--bg-card)]":"bg-[var(--bg-main)] opacity-40"} ${t===w?"ring-2 ring-inset ring-[var(--primary)]":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-1 md:mb-2 px-1",children:[l.jsx("span",{className:`text-[10px] md:text-xs font-black w-5 h-5 md:w-7 md:h-7 flex items-center justify-center rounded-lg md:rounded-xl transition-all ${S?"bg-[var(--primary)] text-white shadow-lg scale-110":_?"text-[var(--text-main)] group-hover:text-[var(--primary)]":"text-[var(--text-muted)] opacity-30"}`,children:y.getDate()}),l.jsx("button",{onClick:I=>{I.stopPropagation(),p(w)},className:"hidden md:flex w-6 h-6 rounded-lg bg-[var(--primary)] text-white shadow-lg items-center justify-center transition-all hover:scale-110 opacity-0 group-hover:opacity-100",children:l.jsx("i",{className:"fa-solid fa-plus text-[8px]"})})]}),l.jsxs("div",{className:"flex-1 space-y-0.5 md:space-y-1 mt-0.5 overflow-hidden",children:[U.map(I=>l.jsx("div",{className:"text-[7px] md:text-[8px] font-black truncate px-1 md:px-2 py-0.5 md:py-1 rounded-md md:rounded-lg bg-amber-500/10 text-amber-500 border border-amber-500/20",children:I.title},I.id)),R.slice(0,window.innerWidth<768?2:4).map(I=>l.jsx("div",{onClick:Y=>{Y.stopPropagation(),u(I.id)},className:`text-[7px] md:text-[8px] font-black truncate px-1 md:px-2 py-0.5 md:py-1 rounded-md md:rounded-lg border transition-all cursor-pointer ${I.isEvent?"bg-[var(--primary)] text-white border-transparent":"bg-[var(--bg-main)] border-[var(--border-color)] text-[var(--text-main)] hover:border-[var(--primary)]/50"}`,children:l.jsx("span",{className:"truncate",children:I.title})},I.id)),R.length>(window.innerWidth<768?2:4)&&l.jsxs("div",{className:"text-[6px] md:text-[7px] font-black text-[var(--text-muted)] uppercase text-center opacity-60",children:["+ ",R.length-(window.innerWidth<768?2:4)]})]})]},b)})]})},d_=60,f_=({currentDate:s,dragOverDay:t,onDrop:n,onDragOver:i,onDragLeave:o,onSelectTask:u,onAddQuickEvent:p})=>{const{tasks:g,people:v}=He(),x=zs.useMemo(()=>{const y=new Date(s),b=y.getDay(),w=y.getDate()-b+(b===0?-6:1);return y.setDate(w),y.setHours(0,0,0,0),Array.from({length:7},(S,_)=>{const T=new Date(y);return T.setDate(y.getDate()+_),T})},[s]);return l.jsxs("div",{className:"flex flex-col h-full bg-[var(--bg-card)] rounded-xl md:rounded-3xl overflow-hidden shadow-xl border border-[var(--border-color)]",children:[l.jsxs("div",{className:"flex border-b border-[var(--border-color)] bg-[var(--bg-main)]/30 overflow-x-auto no-scrollbar",children:[l.jsx("div",{className:"w-10 md:w-16 border-r border-[var(--border-color)] shrink-0 bg-[var(--bg-card)] sticky left-0 z-30"}),x.map((y,b)=>{const w=y.toDateString()===new Date().toDateString();return l.jsxs("div",{className:"flex-1 min-w-[70px] md:min-w-[120px] p-1.5 md:p-3 text-center border-r border-[var(--border-color)] last:border-r-0",children:[l.jsx("div",{className:"text-[7px] md:text-[9px] font-black uppercase text-[var(--text-muted)] mb-0.5 md:mb-1",children:y.toLocaleString("uk-UA",{weekday:"short"})}),l.jsx("div",{className:`mx-auto w-6 h-6 md:w-8 md:h-8 rounded-lg flex items-center justify-center text-[9px] md:text-[12px] font-black ${w?"bg-[var(--primary)] text-white shadow-lg":"text-[var(--text-main)]"}`,children:y.getDate()})]},b)})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar relative",children:l.jsxs("div",{className:"flex min-w-max",style:{height:24*d_},children:[l.jsx("div",{className:"w-10 md:w-16 border-r border-[var(--border-color)] bg-[var(--bg-card)] sticky left-0 z-20",children:Array.from({length:24},(y,b)=>l.jsxs("div",{className:"h-[60px] text-[7px] md:text-[9px] font-black text-[var(--text-muted)] text-right pr-2 md:pr-4 pt-1 border-b border-[var(--border-color)]/20 opacity-50 tabular-nums",children:[b,":00"]},b))}),x.map((y,b)=>{const w=y.getTime(),S=y.getMonth(),_=y.getDate(),T=y.getFullYear(),D=g.filter(U=>{if(U.isDeleted)return!1;const I=U.scheduledDate?new Date(U.scheduledDate).setHours(0,0,0,0):null,Y=U.endDate?new Date(U.endDate).setHours(0,0,0,0):I;return I?w>=I&&w<=(Y||I):!1}),R=[];return v.forEach(U=>{if(U.birthDate&&U.birthDateShowInCalendar!==!1){const I=new Date(U.birthDate);I.getMonth()===S&&I.getDate()===_&&(U.birthDateRepeatYearly!==!1||I.getFullYear()===T)&&R.push({id:`bd-${U.id}`,title:` ${U.name}`,type:"birthday"})}}),l.jsxs("div",{onDragOver:U=>i(U,w),onDragLeave:o,onDrop:U=>n(U,w),onClick:()=>p(w),className:`flex-1 min-w-[70px] md:min-w-[120px] border-r border-[var(--border-color)] last:border-r-0 relative group cursor-pointer transition-colors ${t===w?"bg-[var(--primary)]/5 ring-inset ring-2 ring-[var(--primary)]/20":"hover:bg-[var(--bg-main)]/10"}`,children:[Array.from({length:24},(U,I)=>l.jsx("div",{className:"h-[60px] border-b border-[var(--border-color)]/20"},I)),l.jsxs("div",{className:"absolute inset-0 p-0.5 md:p-2 space-y-1",children:[R.map(U=>l.jsx("div",{className:"p-1 rounded-md border text-[7px] md:text-[10px] font-black shadow-sm bg-amber-500/10 border-amber-500/20 text-amber-600",children:l.jsx("div",{className:"truncate",children:U.title})},U.id)),D.map(U=>l.jsxs("div",{draggable:!0,onDragStart:I=>I.dataTransfer.setData("taskId",U.id),onClick:I=>{I.stopPropagation(),u(U.id)},className:`p-1.5 md:p-2.5 rounded-lg md:rounded-2xl border text-[8px] md:text-[11px] font-bold shadow-sm transition-all hover:scale-[1.02] cursor-grab active:cursor-grabbing ${U.isEvent?"bg-[var(--primary)] text-white border-transparent":"bg-[var(--bg-card)] border-[var(--border-color)] text-[var(--text-main)] hover:border-[var(--primary)]/50"}`,children:[l.jsx("div",{className:"truncate mb-0.5",children:U.title}),l.jsxs("div",{className:"flex justify-between items-center opacity-60",children:[l.jsx("span",{className:"text-[6px] md:text-[8px] uppercase font-black",children:U.isEvent?"E":"Q"}),U.status===me.DONE&&l.jsx("i",{className:"fa-solid fa-check text-[6px] md:text-[9px]"})]})]},U.id))]})]},b)})]})})]})},Ds=60,m_=({block:s,onClose:t,onSave:n})=>{const[i,o]=j.useState((s==null?void 0:s.title)||""),[u,p]=j.useState((s==null?void 0:s.startHour)||9),[g,v]=j.useState((s==null?void 0:s.endHour)||10),[x,y]=j.useState((s==null?void 0:s.type)||"work"),[b,w]=j.useState((s==null?void 0:s.color)||"var(--primary)");return l.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 tiktok-blur",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),l.jsxs("div",{className:"bg-[var(--bg-card)] w-full max-w-sm rounded-[2rem] p-6 md:p-8 shadow-2xl relative animate-in zoom-in-95 duration-200 border border-[var(--border-color)]",children:[l.jsx(ee,{variant:"h2",className:"mb-6 text-xl",children:" "}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black uppercase text-[var(--text-muted)] mb-2 block tracking-widest",children:"  "}),l.jsx("input",{autoFocus:!0,value:i,onChange:S=>o(S.target.value),placeholder:":  ",className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl py-3 px-4 text-sm font-bold focus:ring-2 focus:ring-[var(--primary)]/20 outline-none text-[var(--text-main)]"})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-[10px] font-black uppercase text-[var(--text-muted)] mb-2 block tracking-widest",children:""}),l.jsx("input",{type:"number",min:"0",max:"23",value:u,onChange:S=>p(parseInt(S.target.value)),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl py-3 px-4 text-sm font-bold text-[var(--text-main)]"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-[10px] font-black uppercase text-[var(--text-muted)] mb-2 block tracking-widest",children:""}),l.jsx("input",{type:"number",min:"1",max:"24",value:g,onChange:S=>v(parseInt(S.target.value)),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl py-3 px-4 text-sm font-bold text-[var(--text-main)]"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black uppercase text-[var(--text-muted)] mb-2 block tracking-widest",children:"  "}),l.jsx("div",{className:"flex flex-wrap gap-2",children:[{c:"var(--primary)",l:""},{c:"#10b981",l:""},{c:"#6366f1",l:""},{c:"#ec4899",l:""},{c:"#facc15",l:""}].map(S=>l.jsxs("button",{onClick:()=>w(S.c),className:`px-3 py-1.5 rounded-xl border-2 transition-all flex items-center gap-2 ${b===S.c?"border-[var(--primary)] bg-[var(--primary)]/10 text-[var(--text-main)]":"border-[var(--border-color)] bg-[var(--bg-main)] text-[var(--text-muted)] hover:border-[var(--primary)]/20"}`,children:[l.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:S.c}}),l.jsx("span",{className:"text-[9px] font-black uppercase tracking-tight",children:S.l})]},S.c))})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(Xe,{variant:"white",className:"flex-1 py-3",onClick:t,children:""}),l.jsx(Xe,{variant:"primary",className:"flex-[2] py-3",onClick:()=>n({title:i,startHour:u,endHour:g,type:x,color:b}),children:""})]})]})]})]})},p_=({currentDate:s,onSelectTask:t,onAddQuickEvent:n})=>{const{tasks:i,toggleTaskStatus:o,timeBlocks:u,addTimeBlock:p,updateTimeBlock:g,deleteTimeBlock:v,saveRoutineAsPreset:x,applyRoutinePreset:y,routinePresets:b,people:w}=He(),S=j.useRef(null),[_,T]=j.useState(null),[D,R]=j.useState(!1),[U,I]=j.useState(new Date);j.useEffect(()=>{const B=setInterval(()=>I(new Date),6e4);return()=>clearInterval(B)},[]),j.useEffect(()=>{if(S.current){const B=S.current,fe=(s.toDateString()===new Date().toDateString()?U.getHours()+U.getMinutes()/60:9)*Ds-B.clientHeight/2;setTimeout(()=>{B.scrollTo({top:Math.max(0,fe),behavior:"smooth"})},100)}},[s]);const Y=i.filter(B=>{if(B.isDeleted)return!1;const $=B.scheduledDate?new Date(B.scheduledDate).setHours(0,0,0,0):null,ae=new Date(s).setHours(0,0,0,0);return $===ae}),G=s.getMonth(),W=s.getDate();s.getFullYear();const k=j.useMemo(()=>{const B=[];return w.forEach($=>{if($.birthDate&&$.birthDateShowInCalendar!==!1){const ae=new Date($.birthDate);ae.getMonth()===G&&ae.getDate()===W&&B.push({id:`bd-${$.id}`,title:` : ${$.name}`,type:"birthday"})}}),B},[w,G,W]),M=s.getDay(),A=j.useMemo(()=>u.filter(B=>B.dayOfWeek===M),[u,M]),z=(U.getHours()+U.getMinutes()/60)*Ds,V=s.toDateString()===new Date().toDateString();return l.jsxs("div",{className:"flex flex-col lg:flex-row h-full gap-4 md:gap-6",children:[l.jsx("div",{className:"flex-1 space-y-4 overflow-y-auto no-scrollbar",children:l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-2xl md:rounded-[2.5rem] p-5 md:p-10 shadow-sm border border-[var(--border-color)]",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6 md:mb-8",children:[l.jsxs("div",{children:[l.jsx(ee,{variant:"h3",className:"text-xl md:text-2xl mb-1",children:s.toLocaleDateString("uk-UA",{day:"numeric",month:"long"})}),l.jsx(ee,{variant:"caption",className:"text-[var(--primary)]",children:s.toLocaleDateString("uk-UA",{weekday:"long"})})]}),l.jsxs(ct,{variant:"orange",className:"px-4 py-1.5 rounded-xl uppercase font-black text-[8px] md:text-[10px] tracking-widest",children:[Y.length,"  "]})]}),k.length>0&&l.jsxs("div",{className:"mb-6 md:mb-8 space-y-3",children:[l.jsx(ee,{variant:"tiny",className:"text-[var(--text-muted)] mb-2 uppercase tracking-widest font-black text-[8px]",children:" "}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:k.map(B=>l.jsxs("div",{className:"p-4 md:p-5 rounded-2xl md:rounded-[2rem] border-2 bg-amber-500/5 border-amber-500/20 flex items-center gap-3 md:gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500 flex items-center justify-center text-white shadow-lg shrink-0",children:l.jsx("i",{className:"fa-solid fa-cake-candles"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"text-[10px] md:text-[11px] font-black uppercase tracking-tight text-amber-700 truncate",children:B.title}),l.jsx("div",{className:"text-[8px] md:text-[9px] font-bold text-amber-600/60",children:"  !"})]})]},B.id))})]}),l.jsxs("div",{className:"space-y-2 md:space-y-3",children:[Y.map(B=>l.jsxs("div",{onClick:()=>t(B.id),className:`flex items-center gap-3 md:gap-4 p-4 md:p-5 rounded-xl md:rounded-[2rem] transition-all cursor-pointer group border ${B.isEvent?"bg-[var(--primary)]/5 border-[var(--primary)]/20":"bg-[var(--bg-main)]/30 border-[var(--border-color)] hover:border-[var(--primary)]/40 shadow-sm"}`,children:[l.jsx("button",{onClick:$=>{$.stopPropagation(),o(B)},className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all shrink-0 ${B.status===me.DONE?"bg-emerald-500 border-emerald-500 text-white":"border-[var(--border-color)] bg-[var(--bg-card)] text-transparent group-hover:border-[var(--primary)]"}`,children:l.jsx("i",{className:"fa-solid fa-check text-xs"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:`text-[13px] md:text-sm font-bold truncate block ${B.status===me.DONE?"line-through text-[var(--text-muted)]":"text-[var(--text-main)]"}`,children:B.title}),l.jsx("div",{className:"flex items-center gap-2 mt-1",children:l.jsx(ct,{variant:B.isEvent?"rose":"slate",className:"text-[7px] md:text-[8px] py-0 px-1.5",children:B.isEvent?"":""})})]}),l.jsx("i",{className:"fa-solid fa-chevron-right text-[10px] text-[var(--text-muted)] opacity-30 group-hover:translate-x-1 group-hover:opacity-100 transition-all"})]},B.id)),Y.length===0&&k.length===0&&l.jsxs("div",{className:"py-12 md:py-20 text-center opacity-10 flex flex-col items-center",children:[l.jsx("i",{className:"fa-solid fa-mountain-sun text-5xl md:text-6xl mb-4"}),l.jsx(ee,{variant:"h3",className:"text-base uppercase tracking-[0.2em]",children:" "})]})]})]})}),l.jsxs("div",{className:"w-full lg:w-96 bg-[var(--bg-card)] border border-[var(--border-color)] flex flex-col shadow-sm rounded-2xl md:rounded-[2.5rem] overflow-hidden relative min-h-[400px]",children:[l.jsxs("header",{className:"p-4 md:p-6 border-b border-[var(--border-color)] flex items-center justify-between shrink-0 bg-[var(--bg-card)]/80 backdrop-blur z-20",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx(ee,{variant:"tiny",className:"text-[var(--text-main)] font-black mb-1 text-[8px] md:text-[10px]",children:""}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:()=>R(!D),className:"text-[7px] font-black text-[var(--primary)] uppercase tracking-widest hover:underline",children:[" (",b.length,")"]}),l.jsx("button",{onClick:()=>{const B=prompt(" :");B&&x(B,M)},className:"text-[7px] font-black text-[var(--text-muted)] uppercase tracking-widest hover:text-[var(--primary)]",children:""})]})]}),l.jsx("button",{onClick:()=>T({dayOfWeek:M}),className:"w-10 h-10 rounded-xl bg-[var(--text-main)] text-[var(--bg-main)] hover:opacity-90 shadow-xl transition-all flex items-center justify-center",children:l.jsx("i",{className:"fa-solid fa-plus text-xs"})})]}),l.jsx("div",{ref:S,className:"flex-1 overflow-y-auto custom-scrollbar relative bg-[var(--bg-main)]/20",children:l.jsxs("div",{className:"absolute left-0 top-0 w-full",style:{height:24*Ds},children:[Array.from({length:24},(B,$)=>l.jsxs("div",{className:"flex items-start border-t border-[var(--border-color)]/30",style:{height:Ds},children:[l.jsxs("span",{className:"text-[9px] font-black text-[var(--text-muted)] opacity-30 p-2 w-10 md:w-12 text-right tabular-nums",children:[$,":00"]}),l.jsx("div",{className:"flex-1 h-px mt-[1px]"})]},$)),A.map(B=>l.jsxs("div",{onClick:()=>T(B),className:"absolute left-10 md:left-12 right-2 md:right-3 rounded-xl md:rounded-2xl p-2 md:p-3 text-white text-[10px] md:text-[11px] font-bold shadow-lg shadow-black/5 cursor-pointer hover:brightness-105 transition-all group overflow-hidden border-2 border-white/10",style:{top:B.startHour*Ds,height:(B.endHour-B.startHour)*Ds-4,backgroundColor:B.color||"var(--primary)"},children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("span",{className:"truncate pr-4 uppercase tracking-tight leading-tight",children:B.title}),l.jsx("i",{onClick:$=>{$.stopPropagation(),v(B.id)},className:"fa-solid fa-trash-can text-[9px] opacity-0 group-hover:opacity-100 hover:scale-110 transition-all"})]}),l.jsxs("div",{className:"text-[8px] md:text-[9px] opacity-70 font-black tabular-nums mt-1",children:[B.startHour,":00 - ",B.endHour,":00"]})]},B.id)),V&&l.jsxs("div",{className:"absolute left-0 right-0 z-30 pointer-events-none flex items-center",style:{top:z},children:[l.jsx("div",{className:"w-10 md:w-12 text-[7px] md:text-[8px] font-black text-rose-500 bg-[var(--bg-card)]/90 backdrop-blur rounded-r-lg py-0.5 px-1 shadow-sm border border-rose-100 border-l-0 text-right tabular-nums",children:U.toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"})}),l.jsx("div",{className:"flex-1 h-0.5 bg-rose-500/30 relative",children:l.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-2 h-2 rounded-full bg-rose-500 shadow-lg ring-4 ring-rose-100"})})]})]})})]}),_&&l.jsx(m_,{block:_,onClose:()=>T(null),onSave:B=>{_.id?g({...B,id:_.id}):p({...B,dayOfWeek:M}),T(null)}}),D&&l.jsxs("div",{className:"fixed inset-0 z-[310] flex items-center justify-center p-4 tiktok-blur",children:[l.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm",onClick:()=>R(!1)}),l.jsxs("div",{className:"bg-[var(--bg-card)] w-full max-w-xs rounded-[2rem] p-6 md:p-8 shadow-2xl relative animate-in slide-in-from-bottom-4 duration-300 border border-[var(--border-color)]",children:[l.jsx(ee,{variant:"h2",className:"mb-6 text-lg",children:" "}),l.jsxs("div",{className:"space-y-2",children:[b.map(B=>l.jsxs("button",{onClick:()=>{y(B.id,M),R(!1)},className:"w-full p-4 rounded-2xl border border-[var(--border-color)] hover:border-[var(--primary)]/40 hover:bg-[var(--primary)]/5 text-left transition-all group",children:[l.jsx("div",{className:"text-xs font-black text-[var(--text-main)] group-hover:text-[var(--primary)] mb-1 uppercase tracking-tight",children:B.name}),l.jsxs("div",{className:"text-[8px] font-bold text-[var(--text-muted)] uppercase tracking-widest opacity-60",children:[B.blocks.length," "]})]},B.id)),b.length===0&&l.jsxs("div",{className:"text-center py-8 opacity-20",children:[l.jsx("i",{className:"fa-solid fa-box-open text-3xl mb-2"}),l.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest",children:" "})]})]}),l.jsx(Xe,{variant:"white",className:"w-full mt-6 py-3 rounded-xl text-[9px] font-black uppercase tracking-widest",onClick:()=>R(!1),children:""})]})]})]})},h_=({currentDate:s})=>{const{tasks:t,people:n,setCalendarDate:i,setCalendarViewMode:o}=He(),u=s.getFullYear(),p=g=>{const v=new Date(u,g,1).toLocaleString("uk-UA",{month:"long"}),x=(new Date(u,g,1).getDay()+6)%7,y=new Date(u,g+1,0).getDate(),b=[];for(let w=0;w<x;w++)b.push(null);for(let w=1;w<=y;w++)b.push(w);return l.jsxs("div",{className:"bg-[var(--bg-card)] px-4 py-5 rounded-[2rem] border border-[var(--border-color)] shadow-sm hover:border-[var(--primary)]/30 transition-all cursor-pointer group hover:shadow-lg",onClick:()=>{i(new Date(u,g,1).getTime()),o("month")},children:[l.jsx(ee,{variant:"tiny",className:"text-[var(--text-muted)] font-black mb-4 text-center uppercase tracking-[0.2em] group-hover:text-[var(--primary)] transition-colors",children:v}),l.jsx("div",{className:"grid grid-cols-7 gap-1 text-[7px] font-black text-[var(--text-muted)] mb-2 text-center opacity-40",children:["","","","","","",""].map(w=>l.jsx("div",{children:w},w))}),l.jsx("div",{className:"grid grid-cols-7 gap-x-0.5 gap-y-1",children:b.map((w,S)=>{if(w===null)return l.jsx("div",{},`empty-${S}`);const _=new Date().getFullYear()===u&&new Date().getMonth()===g&&new Date().getDate()===w,T=new Date(u,g,w).setHours(0,0,0,0),D=t.some(U=>!U.isDeleted&&U.isEvent&&(U.scheduledDate&&new Date(U.scheduledDate).setHours(0,0,0,0)===T||U.endDate&&T>=new Date(U.scheduledDate).setHours(0,0,0,0)&&T<=new Date(U.endDate).setHours(0,0,0,0))),R=n.some(U=>{var I;if(U.birthDate){const Y=new Date(U.birthDate);if(Y.getMonth()===g&&Y.getDate()===w)return!0}return(I=U.importantDates)==null?void 0:I.some(Y=>{const G=new Date(Y.date);return G.getMonth()===g&&G.getDate()===w})});return l.jsxs("div",{className:"flex flex-col items-center gap-0.5 relative",children:[l.jsx("div",{className:`h-4 w-4 rounded-md flex items-center justify-center text-[8px] font-black transition-all ${_?"bg-[var(--primary)] text-white shadow-sm":"text-[var(--text-main)]"}`,children:w}),l.jsxs("div",{className:"h-1 w-full flex justify-center items-center gap-0.5",children:[D&&l.jsx("div",{className:`w-0.5 h-0.5 rounded-full ${_?"bg-white":"bg-pink-500"}`}),R&&l.jsx("div",{className:`w-0.5 h-0.5 rounded-full ${_?"bg-white":"bg-amber-500"}`})]})]},S)})})]},g)};return l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 pb-20",children:Array.from({length:12},(g,v)=>p(v))})},x_=()=>{const{tasks:s,addTask:t,scheduleTask:n,calendarDate:i,setCalendarDate:o,calendarViewMode:u,setCalendarViewMode:p}=He(),{isResizing:g,startResizing:v,detailsWidth:x}=Hn(400,800),[y,b]=j.useState(null),[w,S]=j.useState(null),[_,T]=j.useState(!1),[D,R]=j.useState(window.innerWidth<1024);j.useEffect(()=>{const A=()=>R(window.innerWidth<1024);return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const U=j.useMemo(()=>new Date(i),[i]),I=A=>{const z=new Date(U);u==="year"?z.setFullYear(U.getFullYear()+A):u==="month"?z.setMonth(U.getMonth()+A):u==="week"?z.setDate(U.getDate()+A*7):z.setDate(U.getDate()+A),o(z.getTime())},Y=()=>{o(Date.now()),u==="year"&&p("month")},G=(A,z)=>{A.preventDefault(),S(null);const V=A.dataTransfer.getData("taskId");V&&n(V,z)},W=A=>{const z=t("","unsorted",void 0,"actions",!1,A);b(z)},k=A=>{b(A)},M=()=>{switch(u){case"day":return l.jsx(p_,{currentDate:U,onSelectTask:k,onAddQuickEvent:W});case"week":return l.jsx(f_,{currentDate:U,dragOverDay:w,onDragOver:(A,z)=>{A.preventDefault(),S(z)},onDragLeave:()=>S(null),onDrop:G,onSelectTask:k,onAddQuickEvent:W});case"month":return l.jsx(u_,{currentDate:U,dragOverDay:w,onDragOver:(A,z)=>{A.preventDefault(),S(z)},onDragLeave:()=>S(null),onDrop:G,onSelectTask:k,onAddQuickEvent:W});case"year":return l.jsx(h_,{currentDate:U});default:return null}};return l.jsxs("div",{className:"flex h-screen bg-[var(--bg-main)] overflow-hidden relative text-[var(--text-main)]",children:[l.jsxs("div",{className:`${D?_?"fixed inset-0 z-[150] w-full translate-x-0":"fixed inset-0 z-[150] w-full -translate-x-full":"relative"} transition-transform duration-300 h-full`,children:[l.jsx(c_,{onSelectTask:k}),D&&_&&l.jsx("button",{onClick:()=>T(!1),className:"fixed bottom-6 right-6 w-14 h-14 rounded-full bg-[var(--primary)] text-white shadow-2xl flex items-center justify-center z-[160]",children:l.jsx("i",{className:"fa-solid fa-calendar-days text-xl"})})]}),l.jsxs("main",{className:"flex-1 flex flex-col min-w-0 h-full relative z-10",children:[l.jsx(o_,{currentDate:U,viewMode:u,onNavigate:I,onToday:Y,onSetViewMode:p}),l.jsx("div",{className:"flex-1 overflow-auto p-2 md:p-6 custom-scrollbar bg-[var(--bg-main)]",children:M()}),D&&!_&&l.jsxs("button",{onClick:()=>T(!0),className:"fixed bottom-20 right-6 w-14 h-14 rounded-full bg-[var(--bg-card)] border border-[var(--border-color)] text-[var(--primary)] shadow-xl flex items-center justify-center z-40",children:[l.jsx("i",{className:"fa-solid fa-inbox text-xl"}),s.filter(A=>!A.isDeleted&&!A.scheduledDate).length>0&&l.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-rose-500 text-white text-[10px] font-black rounded-full flex items-center justify-center border-2 border-[var(--bg-card)]",children:s.filter(A=>!A.isDeleted&&!A.scheduledDate).length})]})]}),l.jsx("div",{className:`h-full border-l border-[var(--border-color)] bg-[var(--bg-card)] transition-all duration-300 ease-in-out shrink-0 relative z-[200] ${y?"translate-x-0":"translate-x-full absolute"}`,style:{width:y?D?"100vw":x:0},children:y&&l.jsxs(l.Fragment,{children:[!D&&l.jsx("div",{onMouseDown:v,className:`absolute left-0 top-0 bottom-0 w-[2px] cursor-col-resize hover:bg-[var(--primary)] z-[50] transition-colors ${g?"bg-[var(--primary)]":"bg-transparent"}`}),l.jsx("div",{className:"h-full w-full overflow-hidden",children:l.jsx(qs,{task:s.find(A=>A.id===y),onClose:()=>b(null)})})]})})]})},g_=({tasks:s})=>{const{tags:t,addTag:n,renameTag:i,deleteTag:o}=He(),[u,p]=j.useState(""),[g,v]=j.useState(null),[x,y]=j.useState(""),b=j.useMemo(()=>s.flatMap(T=>T.tags).reduce((T,D)=>(T[D]=(T[D]||0)+1,T),{}),[s]),w=j.useMemo(()=>[...t].sort((T,D)=>(b[D.name]||0)-(b[T.name]||0)),[t,b]),S=T=>{T.preventDefault(),u.trim()&&(n(u.trim()),p(""))},_=T=>{x.trim()&&x!==T&&i(T,x.trim()),v(null)};return l.jsx("div",{className:"p-4 md:p-8 h-full bg-main overflow-y-auto custom-scrollbar",children:l.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[l.jsxs("div",{children:[l.jsx(ee,{variant:"h1",className:"text-2xl md:text-3xl",children:""}),l.jsx(ee,{variant:"tiny",className:"text-muted mt-1",children:"  "})]}),l.jsxs("form",{onSubmit:S,className:"flex gap-2",children:[l.jsxs("div",{className:"relative flex-1 md:w-48",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-primary font-bold",children:"#"}),l.jsx("input",{type:"text",value:u,onChange:T=>p(T.target.value),placeholder:" ...",className:"w-full pl-7 pr-4 py-2 bg-card border border-theme rounded-xl text-sm font-bold focus:ring-2 focus:ring-primary outline-none transition-all text-main"})]}),l.jsx(Xe,{type:"submit",size:"sm",children:""})]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-12",children:w.map(T=>l.jsxs(Me,{padding:"none",className:"bg-card border-theme p-5 relative overflow-hidden group",children:[l.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary",style:{backgroundColor:T.color||"var(--primary)"}}),l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("div",{className:"flex-1 min-w-0",children:g===T.id?l.jsx("input",{autoFocus:!0,value:x,onChange:D=>y(D.target.value),onBlur:()=>_(T.name),onKeyDown:D=>D.key==="Enter"&&_(T.name),className:"w-full bg-main border-b-2 border-primary font-bold text-main outline-none p-0 uppercase"}):l.jsxs(ee,{variant:"h3",className:"uppercase tracking-wider truncate flex items-center gap-2",children:[l.jsx("span",{className:"text-muted opacity-40",children:"#"}),T.name]})}),l.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx("button",{onClick:()=>{v(T.id),y(T.name)},className:"w-7 h-7 rounded-lg bg-main text-muted hover:text-primary flex items-center justify-center transition-all",children:l.jsx("i",{className:"fa-solid fa-pencil text-[10px]"})}),l.jsx("button",{onClick:()=>confirm(`  #${T.name}?`)&&o(T.name),className:"w-7 h-7 rounded-lg bg-main text-muted hover:text-rose-500 flex items-center justify-center transition-all",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]})]}),l.jsxs("div",{className:"flex items-end justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-[8px] font-black text-muted uppercase tracking-widest",children:""}),l.jsx("div",{className:"text-xl font-black text-main",children:b[T.name]||0})]}),l.jsx("div",{className:"w-8 h-8 rounded-full bg-main flex items-center justify-center text-primary shadow-inner border border-theme",children:l.jsx("i",{className:"fa-solid fa-tag text-[10px]"})})]}),l.jsx("div",{className:"mt-4 pt-4 border-t border-theme space-y-1.5 max-h-24 overflow-y-auto no-scrollbar",children:s.filter(D=>D.tags.includes(T.name)).slice(0,3).map(D=>l.jsxs("div",{className:"text-[10px] text-muted flex items-center gap-2 truncate font-medium",children:[l.jsx("div",{className:"w-1 h-1 rounded-full bg-primary/30"}),D.title]},D.id))})]},T.id))})]})})},v_=()=>{const{hobbies:s,people:t,addHobby:n,renameHobby:i,deleteHobby:o}=He(),[u,p]=j.useState(""),[g,v]=j.useState(null),[x,y]=j.useState(""),b=j.useMemo(()=>{const T={};return t.forEach(D=>{D.hobbies.forEach(R=>{T[R]=(T[R]||0)+1})}),T},[t]),w=T=>{T.preventDefault(),u.trim()&&(n(u.trim()),p(""))},S=T=>{x.trim()&&x!==T&&i(T,x.trim()),v(null)},_=j.useMemo(()=>[...s].sort((T,D)=>(b[D.name]||0)-(b[T.name]||0)),[s,b]);return l.jsx("div",{className:"p-4 md:p-8 h-full bg-main overflow-y-auto custom-scrollbar",children:l.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[l.jsxs("div",{children:[l.jsx(ee,{variant:"h1",className:"text-2xl md:text-3xl",children:""}),l.jsx(ee,{variant:"tiny",className:"text-muted mt-1",children:"   "})]}),l.jsxs("form",{onSubmit:w,className:"flex gap-2",children:[l.jsx("input",{type:"text",value:u,onChange:T=>p(T.target.value),placeholder:" ...",className:"px-4 py-2 bg-card border border-theme rounded-xl text-sm font-bold focus:ring-2 focus:ring-primary outline-none transition-all w-48 text-main"}),l.jsx(Xe,{type:"submit",size:"sm",children:""})]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(T=>l.jsxs(Me,{padding:"none",className:"bg-card border-theme p-5 relative overflow-hidden group",children:[l.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary",style:{backgroundColor:T.color||"var(--primary)"}}),l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("div",{className:"flex-1 min-w-0",children:g===T.id?l.jsx("input",{autoFocus:!0,value:x,onChange:D=>y(D.target.value),onBlur:()=>S(T.name),onKeyDown:D=>D.key==="Enter"&&S(T.name),className:"w-full bg-main border-b-2 border-primary font-bold text-main outline-none p-0"}):l.jsx(ee,{variant:"h3",className:"uppercase tracking-wider truncate",children:T.name})}),l.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx("button",{onClick:()=>{v(T.id),y(T.name)},className:"w-7 h-7 rounded-lg bg-main text-muted hover:text-primary flex items-center justify-center transition-all",children:l.jsx("i",{className:"fa-solid fa-pencil text-[10px]"})}),l.jsx("button",{onClick:()=>confirm(`  "${T.name}"?`)&&o(T.name),className:"w-7 h-7 rounded-lg bg-main text-muted hover:text-rose-500 flex items-center justify-center transition-all",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]})]}),l.jsxs("div",{className:"flex items-end justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-[8px] font-black text-muted uppercase tracking-widest",children:""}),l.jsx("div",{className:"text-xl font-black text-main",children:b[T.name]||0})]}),l.jsx("div",{className:"w-8 h-8 rounded-full bg-main flex items-center justify-center text-primary border border-theme shadow-inner",children:l.jsx("i",{className:"fa-solid fa-star text-[10px]"})})]}),l.jsx("div",{className:"mt-4 pt-4 border-t border-theme space-y-1.5 max-h-24 overflow-y-auto no-scrollbar",children:t.filter(D=>D.hobbies.includes(T.name)).slice(0,3).map(D=>l.jsxs("div",{className:"text-[10px] text-muted flex items-center gap-2 truncate font-medium",children:[l.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${D.name}`,className:"w-4 h-4 rounded-full bg-main border border-theme"}),D.name]},D.id))})]},T.id))})]})})},y_=({taskTitle:s,onExit:t})=>{const[n,i]=j.useState(1500),[o,u]=j.useState(!0);j.useEffect(()=>{let g=null;return o&&n>0?g=setInterval(()=>{i(v=>v-1)},1e3):n===0&&clearInterval(g),()=>clearInterval(g)},[o,n]);const p=g=>{const v=Math.floor(g/60),x=g%60;return`${v}:${x.toString().padStart(2,"0")}`};return l.jsxs("div",{className:"fixed inset-0 z-[100] bg-slate-950 flex flex-col items-center justify-center p-8 transition-none",children:[l.jsx("div",{className:"absolute top-8 right-8",children:l.jsx("button",{onClick:t,className:"w-12 h-12 rounded-full bg-white/5 hover:bg-white/10 text-white flex items-center justify-center transition-all",children:l.jsx("i",{className:"fa-solid fa-xmark"})})}),l.jsxs("div",{className:"text-center space-y-12 max-w-2xl w-full",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"text-orange-500 font-black tracking-widest text-xs uppercase",children:" "}),l.jsx("h2",{className:"text-4xl md:text-6xl font-heading font-black text-white leading-tight",children:s})]}),l.jsx("div",{className:"text-[10rem] md:text-[15rem] font-heading font-black text-white/5 leading-none select-none absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 -z-10",children:p(n)}),l.jsx("div",{className:"text-8xl md:text-9xl font-heading font-black text-white tracking-tighter tabular-nums",children:p(n)}),l.jsx("div",{className:"flex justify-center gap-6",children:l.jsx("button",{onClick:()=>u(!o),className:"px-12 py-5 bg-white text-slate-950 rounded-3xl font-black text-lg shadow-2xl hover:scale-105 active:scale-95 transition-all",children:o?"":""})})]}),l.jsxs("div",{className:"absolute bottom-12 text-slate-500 text-sm font-medium tracking-widest uppercase",children:[l.jsx("i",{className:"fa-solid fa-mountain-sun mr-3"}),"  "]})]})},Ar=({habit:s,onClose:t,onUpdate:n,onToggleStatus:i})=>{const[o,u]=j.useState("month"),[p,g]=j.useState(s.title),[v,x]=j.useState(s.color||"#f97316"),y=["#f97316","#10b981","#6366f1","#ec4899","#06b6d4","#facc15","#a855f7","#475569"],b=["","","","","","",""],w=j.useMemo(()=>{var W;const R=s.habitHistory||{},U=new Date;U.setHours(0,0,0,0);let I=30;o==="week"&&(I=7),o==="year"&&(I=365);let Y=0;for(let k=0;k<I;k++){const M=new Date(U);M.setDate(U.getDate()-k);const A=M.toISOString().split("T")[0];((W=R[A])==null?void 0:W.status)==="completed"&&Y++}const G=Object.entries(R);return{percent:Math.round(Y/I*100),totalCompleted:Y,totalDays:I,notes:G.filter(([k,M])=>M.note).sort((k,M)=>M[0].localeCompare(k[0]))}},[s.habitHistory,o]),S=R=>{const U=s.daysOfWeek||[0,1,2,3,4,5,6];let I;U.includes(R)?I=U.filter(G=>G!==R):I=[...U,R].sort();let Y="custom";I.length===7?Y="daily":I.length===5&&!I.includes(5)&&!I.includes(6)&&(Y="weekdays"),n({daysOfWeek:I,recurrence:Y})},_=R=>{let U=[0,1,2,3,4,5,6];R==="weekdays"&&(U=[0,1,2,3,4]),n({recurrence:R,daysOfWeek:U})},T=()=>{var I;const R=new Date;R.setHours(0,0,0,0);const U=[];for(let Y=13;Y>=0;Y--){const G=new Date(R);G.setDate(R.getDate()-Y);const W=G.toISOString().split("T")[0],k=(I=s.habitHistory)==null?void 0:I[W],M=(k==null?void 0:k.status)||"none",A=G.toLocaleString("uk-UA",{weekday:"short"}).toUpperCase();U.push({ds:W,status:M,weekday:A,dayNum:G.getDate()})}return l.jsx("div",{className:"grid grid-cols-7 gap-1.5",children:U.map((Y,G)=>l.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[l.jsxs("div",{className:`w-full aspect-square rounded-md transition-all duration-300 flex items-center justify-center border ${Y.status==="completed"?"shadow-sm":""}`,style:{backgroundColor:Y.status==="completed"?v:Y.status==="skipped"?"#0f172a":"#e2e8f0",borderColor:Y.status==="completed"?v:"transparent"},children:[Y.status==="completed"&&l.jsx("i",{className:"fa-solid fa-check text-[7px] text-white"}),Y.status==="skipped"&&l.jsx("i",{className:"fa-solid fa-xmark text-[7px] text-slate-400"})]}),l.jsx("span",{className:`text-[5.5px] font-black uppercase tracking-tighter ${Y.ds===R.toISOString().split("T")[0]?"text-orange-500":"text-slate-400"}`,children:Y.weekday})]},G))})},D=()=>{var W,k;const R=new Date,Y=7*35,G=[];for(let M=Y-1;M>=0;M--){const A=new Date(R);A.setDate(R.getDate()-M);const z=A.toISOString().split("T")[0],V=(k=(W=s.habitHistory)==null?void 0:W[z])==null?void 0:k.status;G.push({ds:z,status:V})}return l.jsx("div",{className:"flex flex-col gap-1 overflow-x-auto no-scrollbar pb-1",children:l.jsx("div",{className:"grid grid-flow-col grid-rows-7 gap-0.5 min-w-max",children:G.map((M,A)=>l.jsx("div",{className:"w-1 h-1 rounded-[1px] transition-colors",style:{backgroundColor:M.status==="completed"?v:M.status==="skipped"?"#0f172a":"#f1f5f9"},title:M.ds},A))})})};return l.jsxs("div",{className:"h-full flex flex-col bg-white",children:[l.jsxs("header",{className:"p-5 border-b border-slate-50",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-white text-lg shadow-md shrink-0",style:{backgroundColor:v},children:l.jsx("i",{className:"fa-solid fa-repeat"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("input",{value:p,onChange:R=>g(R.target.value),onBlur:()=>n({title:p}),className:"text-sm font-black text-slate-900 bg-transparent border-none p-0 focus:ring-0 w-full"}),l.jsx(ee,{variant:"tiny",className:"text-slate-400 text-[8px]",children:"  "})]})]}),l.jsx("button",{onClick:t,className:"w-6 h-6 rounded-lg hover:bg-slate-100 text-slate-300 flex items-center justify-center transition-all shrink-0",children:l.jsx("i",{className:"fa-solid fa-xmark text-xs"})})]}),l.jsx("div",{className:"flex gap-0.5 bg-slate-100 p-0.5 rounded-lg",children:["week","month","year"].map(R=>l.jsx("button",{onClick:()=>u(R),className:`flex-1 py-1 rounded-md text-[8px] font-black uppercase tracking-widest transition-all ${o===R?"bg-white shadow-sm text-orange-600":"text-slate-400"}`,children:R==="week"?"":R==="month"?"":""},R))})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 space-y-6",children:[l.jsxs("section",{className:"space-y-3",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-900 font-black uppercase text-[8px] px-1",children:" "}),l.jsxs("div",{className:"bg-slate-50 p-3 rounded-2xl border border-slate-100",children:[l.jsx("div",{className:"flex justify-between gap-1 mb-3",children:b.map((R,U)=>{const I=(s.daysOfWeek||[0,1,2,3,4,5,6]).includes(U);return l.jsx("button",{onClick:()=>S(U),className:`w-8 h-8 rounded-lg text-[9px] font-black transition-all border ${I?"bg-orange-500 text-white border-orange-500 shadow-md":"bg-white text-slate-400 border-slate-100 hover:border-orange-200"}`,children:R},U)})}),l.jsxs("div",{className:"flex gap-1.5",children:[l.jsx("button",{onClick:()=>_("daily"),className:`flex-1 py-1.5 rounded-lg text-[7px] font-black uppercase border transition-all ${s.recurrence==="daily"?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-400 border-slate-100"}`,children:""}),l.jsx("button",{onClick:()=>_("weekdays"),className:`flex-1 py-1.5 rounded-lg text-[7px] font-black uppercase border transition-all ${s.recurrence==="weekdays"?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-400 border-slate-100"}`,children:""})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs(Me,{padding:"sm",className:"bg-orange-50/50 border-orange-100 flex flex-col items-center justify-center text-center py-3",children:[l.jsxs("div",{className:"text-xl font-black text-orange-600 leading-none mb-1",children:[w.percent,"%"]}),l.jsx(ee,{variant:"tiny",className:"text-orange-400 text-[7px]",children:""})]}),l.jsxs(Me,{padding:"sm",className:"bg-slate-50 border-slate-100 flex flex-col items-center justify-center text-center py-3",children:[l.jsxs("div",{className:"text-xl font-black text-slate-800 leading-none mb-1",children:[w.totalCompleted,l.jsxs("span",{className:"text-xs text-slate-300",children:["/",w.totalDays]})]}),l.jsx(ee,{variant:"tiny",className:"text-slate-400 text-[7px]",children:" "})]})]}),l.jsxs("section",{children:[l.jsx("div",{className:"flex items-center justify-between mb-2 px-1",children:l.jsxs(ee,{variant:"tiny",className:"text-slate-900 font-black flex items-center gap-1.5 uppercase text-[8px]",children:[l.jsx("i",{className:"fa-solid fa-chart-simple text-orange-500 text-[7px]"})," ",o==="year"?" ":"  14 "]})}),l.jsx("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:o==="year"?D():T()})]}),l.jsxs("section",{children:[l.jsx(ee,{variant:"tiny",className:"text-slate-900 font-black mb-2 uppercase text-[8px] px-1",children:" "}),l.jsx("div",{className:"flex flex-wrap gap-1.5 px-1",children:y.map(R=>l.jsx("button",{onClick:()=>{x(R),n({color:R})},className:`w-6 h-6 rounded-lg transition-all ${v===R?"ring-2 ring-offset-1 ring-slate-200 scale-105 shadow-sm":"hover:scale-105"}`,style:{backgroundColor:R}},R))})]})]}),l.jsx("footer",{className:"p-5 border-t border-slate-50 bg-slate-50/30",children:l.jsx(Xe,{variant:"white",onClick:t,className:"w-full rounded-xl py-3 font-black uppercase text-[8px] tracking-widest",children:""})})]})},Bi=({label:s,icon:t,type:n,level:i,isOpen:o,count:u,color:p,onToggle:g,onAddAction:v,onAddSub:x,onAddHabit:y,onClick:b,onRename:w,onDelete:S,isDraggable:_,onDragStart:T,isActive:D,children:R})=>{const[U,I]=j.useState(!1),[Y,G]=j.useState(s),W=k=>{k.preventDefault(),Y.trim()&&Y!==s&&(w==null||w(Y.trim())),I(!1)};return l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{draggable:_,onDragStart:T,onClick:()=>{var k;U||(k=b||g)==null||k()},className:`group flex items-center gap-2 py-1.5 px-3 cursor-pointer hover:bg-slate-100 rounded-lg transition-all relative ${D?"bg-orange-50 text-orange-700 ring-1 ring-orange-100":"text-slate-600"}`,style:{marginLeft:`${i*12}px`},children:[l.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[R||n==="folder"||n==="system"?l.jsx("i",{className:`fa-solid fa-chevron-right text-[7px] w-3 text-center transition-transform ${o?"rotate-90 text-orange-500":"text-slate-300"}`}):l.jsx("div",{className:"w-3"}),l.jsx("i",{className:`fa-solid ${t} text-[11px] w-4 text-center ${n==="event"?"text-pink-500":n==="note"?"text-indigo-400":n==="habit"?"text-emerald-500":n==="folder"?p?"":"text-orange-400":"text-slate-400"}`,style:p?{color:p}:{}})]}),l.jsx("div",{className:"flex-1 min-w-0",children:U?l.jsx("form",{onSubmit:W,onClick:k=>k.stopPropagation(),children:l.jsx("input",{autoFocus:!0,value:Y,onChange:k=>G(k.target.value),onBlur:W,className:"w-full bg-white border border-orange-200 rounded px-1 text-[12px] font-bold outline-none h-5"})}):l.jsx("span",{className:`text-[12px] truncate block tracking-tight ${n==="folder"||n==="system"?"font-black uppercase":"font-bold"}`,children:s})}),u!==void 0&&u>0&&!o&&!U&&l.jsx("span",{className:"text-[8px] font-black text-slate-400 bg-slate-50 px-1.5 py-0.5 rounded-full border border-slate-100 group-hover:bg-white",children:u}),l.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all ml-auto shrink-0",children:[x&&l.jsx("button",{onClick:k=>{k.stopPropagation(),x(k)},title:" ",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-400 hover:text-orange-500",children:l.jsx("i",{className:"fa-solid fa-folder-plus text-[9px]"})}),v&&l.jsx("button",{onClick:k=>{k.stopPropagation(),v(k)},title:" ",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-400 hover:text-emerald-500",children:l.jsx("i",{className:"fa-solid fa-file-circle-plus text-[9px]"})}),y&&l.jsx("button",{onClick:k=>{k.stopPropagation(),y(k)},title:" ",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-400 hover:text-indigo-500",children:l.jsx("i",{className:"fa-solid fa-repeat text-[9px]"})}),w&&!U&&l.jsx("button",{onClick:k=>{k.stopPropagation(),I(!0)},title:"",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-300 hover:text-slate-600",children:l.jsx("i",{className:"fa-solid fa-pencil text-[8px]"})}),S&&l.jsx("button",{onClick:k=>{k.stopPropagation(),confirm(` ${s}?`)&&S()},title:"",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-300 hover:text-rose-500",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[8px]"})})]})]}),o&&R&&l.jsx("div",{className:"mt-0.5",children:R})]})},b_=()=>{const{tasks:s,projects:t,inboxCategories:n,addProject:i,addTask:o,updateTask:u,updateProject:p,deleteProject:g,deleteTask:v,toggleHabitStatus:x}=He(),{isResizing:y,startResizing:b,detailsWidth:w}=Hn(400,800),[S,_]=j.useState({root_projects:!0}),[T,D]=j.useState(null),[R,U]=j.useState(null),I=(M,A)=>{_(z=>({...z,[M]:A??!z[M]}))},Y=j.useMemo(()=>s.filter(M=>!M.isDeleted&&M.status!==me.DONE),[s]),G=(M,A)=>{const z=M.projectSection==="habits"||M.tags.includes("habit");return l.jsx(Bi,{id:M.id,label:M.title,icon:z?"fa-repeat":M.isEvent?"fa-calendar-star":M.category==="note"?"fa-note-sticky":"fa-circle-dot",type:z?"habit":M.isEvent?"event":M.category==="note"?"note":"task",level:A,onClick:()=>{z?(U(M.id),D(null)):(D(M.id),U(null))},isActive:T===M.id||R===M.id,onRename:V=>u({...M,title:V}),onDelete:()=>v(M.id,!0),isDraggable:!0,onDragStart:V=>V.dataTransfer.setData("taskId",M.id)},M.id)},W=(M,A=0)=>t.filter(z=>z.parentFolderId===M&&z.status==="active").map(z=>{const V=`proj_${z.id}`,B=Y.filter($=>$.projectId===z.id);return l.jsxs(Bi,{id:z.id,label:z.name,icon:z.isStrategic?"fa-flag-checkered":"fa-layer-group",color:z.color,type:"folder",level:A,isOpen:S[V],onToggle:()=>I(V),onAddAction:$=>{$.stopPropagation();const ae=prompt(" :");ae&&(o(ae,"tasks",z.id,"actions"),I(V,!0))},onAddSub:$=>{$.stopPropagation();const ae=prompt(" :");ae&&(i({name:ae,color:z.color,parentFolderId:z.id,isStrategic:!1,type:"subproject"}),I(V,!0))},onAddHabit:$=>{$.stopPropagation();const ae=prompt(" :");ae&&(o(ae,"tasks",z.id,"habits"),I(V,!0))},onRename:$=>p({...z,name:$}),onDelete:()=>g(z.id),count:B.length,children:[W(z.id,A+1),B.map($=>G($,A+1))]},z.id)}),k=j.useMemo(()=>s.find(M=>M.id===R),[s,R]);return l.jsxs("div",{className:"flex h-full bg-white overflow-hidden",children:[l.jsxs("div",{className:"flex-1 flex flex-col min-w-0 border-r border-slate-100",children:[l.jsxs("header",{className:"px-6 py-4 border-b border-slate-50 bg-slate-50/30 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-xl bg-orange-600 flex items-center justify-center text-white shadow-lg",children:l.jsx("i",{className:"fa-solid fa-sitemap text-xs"})}),l.jsx(ee,{variant:"h3",className:"text-sm font-black uppercase tracking-tight",children:" "})]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs("button",{onClick:()=>{const M=prompt("  :");M&&i({name:M,color:"#f97316",isStrategic:!0,type:"goal"})},className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white border border-slate-100 text-[9px] font-black uppercase text-slate-500 hover:text-orange-600 hover:border-orange-200 transition-all shadow-sm",children:[l.jsx("i",{className:"fa-solid fa-plus"})," "]})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-4",children:[l.jsx("section",{children:l.jsx(Bi,{id:"root_projects",label:"  ",icon:"fa-folder-tree",type:"system",level:0,isOpen:S.root_projects,onToggle:()=>I("root_projects"),onAddSub:M=>{M.stopPropagation();const A=prompt("  :");A&&i({name:A,color:"#f97316",isStrategic:!0,type:"goal"})},children:W(void 0,1)})}),l.jsx("section",{children:l.jsx(Bi,{id:"root_inbox",label:"  ",icon:"fa-inbox",type:"system",level:0,isOpen:S.root_inbox,onToggle:()=>I("root_inbox"),children:n.map(M=>{const A=`cat_${M.id}`,z=Y.filter(V=>V.category===M.id&&!V.projectId);return l.jsx(Bi,{id:M.id,label:M.title,icon:M.icon,type:"folder",level:1,count:z.length,isOpen:S[A],onToggle:()=>I(A),onAddAction:V=>{V.stopPropagation();const B=prompt(`  ${M.title}:`);B&&o(B,M.id)},children:z.map(V=>G(V,2))},M.id)})})})]})]}),l.jsxs("div",{className:"bg-slate-50/10 shrink-0 relative flex flex-col",style:{width:w},children:[l.jsx("div",{onMouseDown:b,className:`absolute left-0 top-0 bottom-0 w-[1px] cursor-col-resize hover:bg-orange-500 transition-colors z-[100] ${y?"bg-orange-500":"bg-slate-100"}`}),T?l.jsx(qs,{task:s.find(M=>M.id===T),onClose:()=>D(null)}):k?l.jsx("div",{className:"h-full animate-in slide-in-from-right duration-300",children:l.jsx(Ar,{habit:k,onClose:()=>U(null),onUpdate:M=>u({...k,...M}),onToggleStatus:x})}):l.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-20 grayscale p-10 text-center select-none pointer-events-none",children:[l.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-dashed border-slate-300 flex items-center justify-center mb-8",children:l.jsx("i",{className:"fa-solid fa-mouse-pointer text-4xl"})}),l.jsx(ee,{variant:"h2",className:"text-xl font-black uppercase tracking-widest",children:" "}),l.jsx(ee,{variant:"body",className:"mt-4 text-xs font-bold leading-relaxed max-w-[200px]",children:"  +      ."})]})]})]})},N_=({monthlyProject:s,onUpdateProject:t,weekNum:n,weekEfficiency:i})=>{if(!s)return null;const o=s.monthlyKpi?Math.round((s.monthlyKpiCurrent||0)/s.monthlyKpi*100):0,u=s.id==="planner_strategic_config";return l.jsx("header",{className:"p-3 md:p-4 bg-[var(--bg-card)] border-b border-[var(--border-color)] shrink-0",children:l.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-5 w-full",children:[l.jsx("div",{className:"shrink-0 hidden md:block",children:l.jsx(ct,{variant:u?"orange":"indigo",className:"font-black text-[8px]",style:u?{}:{backgroundColor:`${s.color}15`,color:s.color,borderColor:`${s.color}30`},children:u?" ":""})}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx("input",{value:s.name==="Planner Config"?s.monthlyGoal||"":s.name,onChange:p=>{t(u?{monthlyGoal:p.target.value}:{name:p.target.value})},placeholder:u?"  ...":" ...",className:"text-base md:text-lg font-black bg-transparent border-none p-0 focus:ring-0 w-full outline-none placeholder:opacity-20 uppercase tracking-tight",style:u?{}:{color:s.color}}),l.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[l.jsx("div",{className:"h-1 flex-1 max-w-[200px] bg-slate-100 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full shadow-[0_0_8px_rgba(249,115,22,0.5)] transition-all duration-1000",style:{width:`${o}%`,backgroundColor:u?"var(--primary)":s.color}})}),l.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-50 px-2 py-0.5 rounded-lg border border-slate-100",children:[l.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase",children:"KPI"}),l.jsx("input",{type:"number",value:s.monthlyKpiCurrent||0,onChange:p=>t({monthlyKpiCurrent:parseInt(p.target.value)||0}),className:"w-8 bg-transparent border-none text-[10px] font-black p-0 text-center"}),l.jsx("span",{className:"text-[8px] opacity-20",children:"/"}),l.jsx("input",{type:"number",value:s.monthlyKpi||0,onChange:p=>t({monthlyKpi:parseInt(p.target.value)||0}),className:"w-8 bg-transparent border-none text-[10px] font-black p-0 text-center"})]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 p-1.5 rounded-xl border border-slate-100 shrink-0 self-end md:self-auto",children:[l.jsxs("div",{className:"text-center px-3",children:[l.jsxs("div",{className:"text-lg font-black text-primary leading-none",style:u?{}:{color:s.color},children:[i,"%"]}),l.jsx("div",{className:"text-[6px] font-black uppercase text-slate-400 mt-0.5",children:"Efficiency"})]}),l.jsx("div",{className:"w-px h-5 bg-slate-200"}),l.jsxs("div",{className:"text-center px-3",children:[l.jsx("div",{className:"text-lg font-black text-main leading-none",children:n}),l.jsx("div",{className:"text-[6px] font-black uppercase text-slate-400 mt-0.5",children:"Week"})]})]})]})})},w_=({weekNum:s,tasks:t,dailies:n,projectId:i,onToggleTask:o,onUpdateTask:u,onAddTask:p})=>{var V;const{toggleHabitStatus:g,deleteTask:v,cycle:x,projects:y,updateTask:b}=He(),[w,S]=j.useState(null),[_,T]=j.useState(""),[D,R]=j.useState(null),U=["","","","","","",""],I=B=>{const $=new Date(x.startDate),ae=(s-1)*7+B,fe=new Date($);return fe.setDate($.getDate()+ae),fe.toISOString().split("T")[0]},Y=B=>t.find($=>$.plannerDay===B&&$.tags.includes("daily-focus")&&$.plannerWeek===s),G=B=>t.filter($=>$.plannerDay===B&&$.plannerWeek===s&&!$.tags.includes("daily-focus")&&!$.tags.includes("weekly-goal")&&(!$.recurrence||$.recurrence==="none")),W=B=>t.filter($=>!$.recurrence||$.recurrence==="none"||$.isDeleted||i&&$.projectId!==i?!1:$.daysOfWeek&&$.daysOfWeek.length>0?$.daysOfWeek.includes(B):!($.recurrence==="weekdays"&&B>4)),k=B=>{const $=Y(B),ae=G(B),fe=W(B),O=I(B),q=[...ae];$&&q.push($);let he=q.length+fe.length;if(he===0)return 0;let P=q.filter(Z=>Z.status===me.DONE).length;return P+=fe.filter(Z=>{var E,K;return((K=(E=Z.habitHistory)==null?void 0:E[O])==null?void 0:K.status)==="completed"}).length,Math.round(P/he*100)},M=(B,$)=>{if(!_.trim()){S(null);return}p(B,_.trim(),$==="focus",$==="recurrent"?"daily":"none"),T(""),S(null)},A=i?(V=y.find(B=>B.id===i))==null?void 0:V.color:"var(--primary)",z=t.find(B=>B.id===D);return l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-2 transition-none relative",children:[U.map((B,$)=>{const ae=Y($),fe=G($),O=W($),q=I($),he=k($);return l.jsxs("div",{className:"flex flex-col gap-2 transition-none",children:[l.jsxs("div",{className:"bg-slate-900 rounded-xl py-2 px-1 text-center shadow-md border border-white/5 transition-none flex flex-col items-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 w-full px-2",children:[l.jsx("span",{className:"text-[10px] font-black text-white uppercase tracking-[0.2em]",children:B}),he>0&&l.jsxs("span",{className:"text-[7px] font-black text-emerald-400 bg-emerald-400/10 px-1.5 py-0.5 rounded border border-emerald-400/20",children:[he,"%"]})]}),l.jsx("div",{className:"text-[7px] font-bold text-slate-500 uppercase mt-0.5 opacity-60",children:q.split("-").slice(1).reverse().join(".")})]}),l.jsxs(Me,{padding:"none",className:"flex-1 bg-white border-slate-100 rounded-2xl min-h-[620px] flex flex-col overflow-hidden shadow-sm transition-none",children:[l.jsxs("div",{className:"p-2 border-b border-slate-50 flex justify-center gap-1 bg-slate-50/50 transition-none",children:[l.jsx("button",{onClick:()=>{S({day:$,type:"focus"}),T("")},className:"w-7 h-7 rounded-lg bg-orange-500 text-white flex items-center justify-center shadow-sm active:scale-95 transition-none",title:" ",style:i?{backgroundColor:A}:{},children:l.jsx("i",{className:"fa-solid fa-bullseye text-[10px]"})}),l.jsx("button",{onClick:()=>{S({day:$,type:"quest"}),T("")},className:"w-7 h-7 rounded-lg bg-white border border-slate-200 text-slate-400 flex items-center justify-center hover:text-primary hover:border-primary transition-none shadow-sm",title:" ",children:l.jsx("i",{className:"fa-solid fa-plus text-[10px]"})}),l.jsx("button",{onClick:()=>{S({day:$,type:"recurrent"}),T("")},className:"w-7 h-7 rounded-lg bg-indigo-50 text-indigo-500 border border-indigo-100 flex items-center justify-center hover:bg-indigo-500 hover:text-white transition-all shadow-sm",title:" ",children:l.jsx("i",{className:"fa-solid fa-repeat text-[10px]"})})]}),l.jsxs("div",{className:"p-3 space-y-4 flex-1 overflow-y-auto no-scrollbar transition-none",children:[l.jsx("div",{className:"min-h-[70px] transition-none",children:(w==null?void 0:w.day)===$&&w.type==="focus"?l.jsx("div",{className:"bg-orange-50 border border-orange-200 p-2 rounded-xl transition-none",style:{borderColor:A+"40",backgroundColor:A+"08"},children:l.jsx("textarea",{autoFocus:!0,value:_,onChange:P=>T(P.target.value),onKeyDown:P=>P.key==="Enter"&&(P.preventDefault(),M($,"focus")),onBlur:()=>M($,"focus"),placeholder:" ...",className:"w-full bg-transparent border-none p-0 text-[11px] font-black uppercase focus:ring-0 resize-none outline-none text-slate-800 transition-none",rows:2})}):ae?l.jsx("div",{className:"bg-orange-50 border border-orange-100 p-3 rounded-2xl group/f relative transition-none",style:{borderColor:A+"20",backgroundColor:A+"08"},children:l.jsxs("div",{className:"flex items-center gap-2.5 transition-none",children:[l.jsx("button",{onClick:()=>o(ae),className:`w-5 h-5 rounded-lg border-2 shrink-0 flex items-center justify-center transition-none ${ae.status===me.DONE?"bg-orange-500 border-orange-500 text-white":"bg-white border-slate-200 hover:border-orange-500"}`,style:ae.status===me.DONE?{backgroundColor:A,borderColor:A}:{},children:ae.status===me.DONE&&l.jsx("i",{className:"fa-solid fa-check text-[9px]"})}),l.jsx("div",{className:"flex-1 min-w-0 transition-none",children:l.jsx("input",{value:ae.title,onChange:P=>u({...ae,title:P.target.value}),className:`w-full bg-transparent border-none p-0 text-[11px] font-black uppercase leading-tight focus:ring-0 outline-none transition-none ${ae.status===me.DONE?"line-through text-slate-300":"text-slate-800"}`})}),l.jsx("button",{onClick:()=>v(ae.id,!0),className:"opacity-0 group-hover/f:opacity-100 text-slate-300 hover:text-rose-500 transition-none shrink-0",children:l.jsx("i",{className:"fa-solid fa-xmark text-[10px]"})})]})}):l.jsxs("button",{onClick:()=>{S({day:$,type:"focus"}),T("")},className:"w-full h-[70px] flex flex-col items-center justify-center border-2 border-dashed border-slate-50 rounded-2xl text-slate-200 hover:text-orange-300 hover:border-orange-100 hover:bg-orange-50/10 transition-none group",children:[l.jsx("i",{className:"fa-solid fa-bullseye text-base mb-1 opacity-20"}),l.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-slate-300",children:"Set Focus"})]})}),l.jsxs("div",{className:"space-y-1.5 transition-none",children:[l.jsxs("div",{className:"flex items-center justify-between px-1 transition-none",children:[l.jsx("span",{className:"text-[7px] font-black uppercase text-indigo-400 tracking-widest",children:"Recurrent"}),l.jsx("div",{className:"h-px flex-1 bg-indigo-50 ml-2"})]}),O.map(P=>{var E,K;const Z=((K=(E=P.habitHistory)==null?void 0:E[q])==null?void 0:K.status)==="completed";return l.jsxs("div",{className:"flex items-center gap-2 group/t p-1.5 hover:bg-indigo-50/30 rounded-xl transition-none cursor-pointer",onClick:()=>R(P.id),children:[l.jsx("button",{onClick:oe=>{oe.stopPropagation(),g(P.id,q,Z?"none":"completed")},className:`w-4 h-4 rounded border-2 shrink-0 flex items-center justify-center transition-none ${Z?"bg-indigo-500 border-indigo-500 text-white":"bg-white border-slate-200"}`,children:Z&&l.jsx("i",{className:"fa-solid fa-check text-[8px]"})}),l.jsxs("div",{className:"flex-1 min-w-0 transition-none",children:[l.jsx("span",{className:`block w-full text-[10px] font-bold truncate transition-none ${Z?"line-through text-slate-300":"text-slate-600"}`,children:P.title}),l.jsx("div",{className:"flex gap-1 mt-0.5 opacity-60",children:l.jsx("span",{className:"text-[5px] font-black px-1 rounded bg-indigo-100 text-indigo-600 uppercase",children:P.recurrence==="custom"&&P.daysOfWeek?P.daysOfWeek.map(oe=>U[oe]).join(","):P.recurrence})})]}),l.jsx("button",{onClick:oe=>{oe.stopPropagation(),v(P.id,!0)},className:"opacity-0 group-hover/t:opacity-100 text-slate-200 hover:text-rose-500 shrink-0",children:l.jsx("i",{className:"fa-solid fa-xmark text-[10px]"})})]},P.id)}),(w==null?void 0:w.day)===$&&w.type==="recurrent"&&l.jsx("input",{autoFocus:!0,value:_,onChange:P=>T(P.target.value),onKeyDown:P=>P.key==="Enter"&&(P.preventDefault(),M($,"recurrent")),onBlur:()=>M($,"recurrent"),placeholder:"Daily quest...",className:"w-full bg-indigo-50/50 border border-indigo-100 rounded-xl p-2 text-[10px] font-bold outline-none text-indigo-600 transition-none"})]}),l.jsxs("div",{className:"space-y-1.5 transition-none",children:[l.jsxs("div",{className:"flex items-center justify-between px-1 transition-none",children:[l.jsx("span",{className:"text-[7px] font-black uppercase text-slate-300 tracking-widest",children:"Quests"}),l.jsx("div",{className:"h-px flex-1 bg-slate-50 ml-2"})]}),fe.map(P=>l.jsxs("div",{className:"flex items-center gap-2 group/t p-1.5 hover:bg-slate-50 rounded-xl transition-none",children:[l.jsx("button",{onClick:()=>o(P),className:`w-4 h-4 rounded border-2 shrink-0 flex items-center justify-center transition-none ${P.status===me.DONE?"bg-emerald-500 border-emerald-500 text-white":"bg-white border-slate-200"}`,children:P.status===me.DONE&&l.jsx("i",{className:"fa-solid fa-check text-[8px]"})}),l.jsx("input",{value:P.title,onChange:Z=>u({...P,title:Z.target.value}),className:`flex-1 bg-transparent border-none p-0 text-[10px] font-bold focus:ring-0 outline-none transition-none ${P.status===me.DONE?"line-through text-slate-300":"text-slate-600"}`}),l.jsx("button",{onClick:()=>v(P.id,!0),className:"opacity-0 group-hover/t:opacity-100 text-slate-200 hover:text-rose-500 shrink-0",children:l.jsx("i",{className:"fa-solid fa-xmark text-[10px]"})})]},P.id)),(w==null?void 0:w.day)===$&&w.type==="quest"&&l.jsx("input",{autoFocus:!0,value:_,onChange:P=>T(P.target.value),onKeyDown:P=>P.key==="Enter"&&(P.preventDefault(),M($,"quest")),onBlur:()=>M($,"quest"),placeholder:"Quest title...",className:"w-full bg-slate-50 rounded-xl p-2 text-[10px] font-bold outline-none text-slate-600 transition-none"})]}),n.length>0&&l.jsxs("div",{className:"pt-4 mt-auto border-t border-slate-50 space-y-2 transition-none",children:[l.jsx("span",{className:"text-[7px] font-black uppercase text-slate-300 tracking-[0.2em] px-1",children:"Global Routine"}),l.jsx("div",{className:"space-y-1 transition-none",children:n.map(P=>{var K,oe;const Z=((oe=(K=P.habitHistory)==null?void 0:K[q])==null?void 0:oe.status)==="completed";return!P.daysOfWeek||P.daysOfWeek.length===0||P.daysOfWeek.includes($)?l.jsxs("div",{className:"flex items-center gap-2 px-1 transition-none",children:[l.jsx("button",{onClick:()=>g(P.id,q),className:`w-3.5 h-3.5 rounded border flex items-center justify-center shrink-0 transition-none ${Z?"bg-indigo-500 border-indigo-500 text-white":"bg-slate-50 border-slate-200"}`,style:Z?{backgroundColor:A||"#6366f1",borderColor:A||"#6366f1"}:{},children:Z&&l.jsx("i",{className:"fa-solid fa-check text-[7px]"})}),l.jsx("span",{className:`text-[9px] font-bold truncate flex-1 uppercase tracking-tight transition-none ${Z?"text-slate-300 line-through":"text-slate-500"}`,children:P.title})]},P.id):null})})]})]})]})]},$)}),z&&l.jsxs("div",{className:"fixed inset-0 z-[200] flex justify-end",children:[l.jsx("div",{className:"absolute inset-0 bg-black/20",onClick:()=>R(null)}),l.jsx("div",{className:"w-[340px] h-full bg-white shadow-2xl relative animate-in slide-in-from-right duration-300",children:l.jsx(Ar,{habit:z,onClose:()=>R(null),onUpdate:B=>b({...z,...B}),onToggleStatus:g})})]})]})},Bx=({projectId:s,onExitProjectMode:t})=>{const{tasks:n,projects:i,cycle:o,updateCycle:u,updateTask:p,updateProject:g,addProject:v,toggleTaskStatus:x,deleteTask:y}=He(),[b,w]=j.useState(o.currentWeek),S=j.useMemo(()=>s?i.find(A=>A.id===s):null,[i,s]),_=j.useMemo(()=>s?S:i.find(A=>A.id==="planner_strategic_config"),[i,s,S]);j.useEffect(()=>{!_&&!s&&v({id:"planner_strategic_config",name:"Planner Config",color:"#f97316",isStrategic:!0,type:"folder",description:"SYSTEM_PLANNER_CONFIG"})},[_,v,s]);const T=j.useMemo(()=>n.filter(A=>!A.isDeleted&&A.projectSection==="planner"&&(!s||A.projectId===s)),[n,s]),D=j.useMemo(()=>T.filter(A=>A.tags.includes("weekly-goal")&&A.plannerWeek===b).slice(0,3),[T,b]),R=j.useMemo(()=>n.filter(A=>!A.isDeleted&&(A.projectSection==="habits"||A.tags.includes("habit"))&&(!s||A.projectId===s)),[n,s]),U=j.useMemo(()=>{const A=T.filter(ae=>ae.plannerWeek===b);if(A.length===0)return{percent:0,score:0};let z=A.length,V=A.filter(ae=>ae.status===me.DONE).length;const B=Math.round(V/z*100),$=parseFloat((B/10).toFixed(1));return{percent:B,score:$}},[T,b]),I=j.useMemo(()=>{var A;return((A=o.weeklyScores)==null?void 0:A[b])||{score:0,comment:""}},[o.weeklyScores,b]),Y=A=>{const z={...o.weeklyScores||{}};z[b]={...I,comment:A},u({weeklyScores:z})},G=(A,z)=>{const V=D[A];if(V)z.trim()?p({...V,title:z}):y(V.id,!0);else if(z.trim()){const B=`wg-${b}-${A}-${Math.random().toString(36).substr(2,5)}`;p({id:B,title:z,status:me.NEXT_ACTION,priority:Pe.UI,difficulty:1,xp:100,tags:["weekly-goal"],createdAt:Date.now(),projectSection:"planner",plannerWeek:b,projectId:s})}},W=A=>{x(A)},k=(A,z,V,B)=>{const ae={id:`pt-${Math.random().toString(36).substr(2,9)}`,title:z,status:me.NEXT_ACTION,priority:V?Pe.UI:Pe.NUI,difficulty:1,xp:50,tags:V?["daily-focus"]:[],recurrence:B,createdAt:Date.now(),projectSection:"planner",plannerWeek:B==="none"?b:void 0,plannerDay:A,projectId:s};p(ae)},M=(_==null?void 0:_.color)||"#f97316";return l.jsxs("div",{className:"h-screen flex flex-col bg-[var(--bg-main)] overflow-hidden transition-none",children:[l.jsxs("div",{className:"flex items-center bg-card border-b border-theme pr-4 shrink-0 transition-none",children:[s&&l.jsx("button",{onClick:t,className:"p-4 hover:bg-slate-50 text-slate-400 hover:text-orange-600 border-r border-theme mr-2 transition-none",children:l.jsx("i",{className:"fa-solid fa-arrow-left"})}),l.jsx("div",{className:"flex-1 transition-none",children:l.jsx(N_,{monthlyProject:_,onUpdateProject:A=>_&&g({..._,...A}),weekNum:b,weekEfficiency:U.percent})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 md:p-4 transition-none",children:l.jsxs("div",{className:"max-w-[1400px] mx-auto space-y-4 pb-32 transition-none",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 items-stretch transition-none",children:[l.jsxs("div",{className:"bg-slate-900 px-6 py-3 rounded-2xl text-white shadow-xl flex items-center gap-6 shrink-0 border border-white/5 transition-none",children:[l.jsx("div",{className:"text-4xl font-black text-orange-500",style:{color:M},children:U.score}),l.jsxs("div",{className:"space-y-1 transition-none",children:[l.jsx("div",{className:"text-[8px] font-black uppercase tracking-widest text-slate-400",children:s?"Project KPI":"Global KPI"}),l.jsxs("div",{className:"flex items-center gap-2 transition-none",children:[l.jsx("div",{className:"h-1.5 w-24 bg-white/10 rounded-full overflow-hidden transition-none",children:l.jsx("div",{className:"h-full transition-none",style:{width:`${U.percent}%`,backgroundColor:M,boxShadow:`0 0 8px ${M}`}})}),l.jsxs("span",{className:"text-[10px] font-black text-emerald-400",style:{color:M},children:[U.percent,"%"]})]})]})]}),l.jsx("div",{className:"flex-1 bg-white border border-slate-100 rounded-2xl p-1.5 flex items-center shadow-sm transition-none",children:l.jsx("div",{className:"grid grid-cols-6 md:grid-cols-12 gap-1 w-full transition-none",children:Array.from({length:12},(A,z)=>z+1).map(A=>l.jsxs("button",{onClick:()=>w(A),className:`h-9 rounded-xl text-[10px] font-black transition-none ${b===A?"bg-orange-600 text-white shadow-lg":A===o.currentWeek?"bg-orange-50 text-orange-600 border border-orange-200":"text-slate-400 hover:bg-slate-50"}`,style:b===A?{backgroundColor:M}:{},children:["W",A]},A))})})]}),l.jsxs("section",{className:"bg-orange-50/40 p-4 rounded-2xl border border-orange-100 transition-none",style:{backgroundColor:M+"08",borderColor:M+"20"},children:[l.jsx("div",{className:"flex justify-between items-center mb-3 px-1 transition-none",children:l.jsxs(ee,{variant:"tiny",className:"font-black text-[9px] tracking-[0.2em] uppercase flex items-center gap-2",children:[l.jsx("i",{className:"fa-solid fa-crown text-[10px]",style:{color:M}}),l.jsxs("span",{style:{color:M},children:["Weekly Big 3 ( ",b,")"]})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 transition-none",children:[0,1,2].map(A=>{const z=D[A];return l.jsxs(Me,{padding:"none",className:"p-4 bg-white flex items-center gap-3 border-orange-100 shadow-sm transition-none",children:[z&&l.jsx("button",{onClick:()=>W(z),className:`w-5 h-5 rounded-lg border-2 flex items-center justify-center shrink-0 transition-none ${z.status===me.DONE?"bg-emerald-500 border-emerald-500 text-white":"border-slate-200 bg-white hover:border-orange-500"}`,style:z.status===me.DONE?{backgroundColor:M,borderColor:M}:{},children:z.status===me.DONE&&l.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),l.jsx("input",{value:(z==null?void 0:z.title)||"",onChange:V=>G(A,V.target.value),className:`text-[12px] font-black uppercase bg-transparent border-none p-0 focus:ring-0 w-full outline-none transition-none ${(z==null?void 0:z.status)===me.DONE?"line-through text-slate-300":"text-slate-800"}`,placeholder:` #${A+1}...`})]},A)})})]}),l.jsx(w_,{weekNum:b,tasks:T,dailies:R,projectId:s,onToggleTask:W,onUpdateTask:p,onAddTask:k}),l.jsxs(Me,{padding:"md",className:"border-slate-100 rounded-3xl bg-white/50 transition-none",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3 transition-none",children:[l.jsx("i",{className:"fa-solid fa-feather-pointed text-slate-400 text-xs"}),l.jsxs(ee,{variant:"tiny",className:"text-slate-500 font-black uppercase text-[8px] tracking-widest",children:["  ",b]})]}),l.jsx("textarea",{value:I.comment,onChange:A=>Y(A.target.value),placeholder:"       ?",className:"w-full bg-white border border-slate-100 rounded-2xl p-5 text-sm font-medium outline-none focus:ring-4 focus:ring-orange-100 min-h-[100px] resize-none shadow-inner text-slate-700 transition-none"})]})]})})]})},ox=({goal:s,isExpanded:t,onToggle:n,onTaskClick:i,onHabitClick:o,onSubProjectClick:u,onPlannerClick:p,onEdit:g,selectedTaskId:v,selectedHabitId:x})=>{const{tasks:y,projects:b,addProject:w,addTask:S,deleteProject:_,toggleTaskStatus:T,updateProject:D}=He(),[R,U]=j.useState("actions"),[I,Y]=j.useState(""),G=b.filter(V=>V.parentFolderId===s.id&&V.status==="active"),W=j.useMemo(()=>{const V=y.filter($=>!$.isDeleted&&$.projectId===s.id&&$.projectSection!=="habits"&&(!$.recurrence||$.recurrence==="none")),B=G.map($=>{const ae=y.filter(fe=>!fe.isDeleted&&fe.status!==me.DONE&&fe.projectId===$.id&&fe.projectSection!=="habits").sort((fe,O)=>fe.createdAt-O.createdAt);return ae.length>0?[ae[0]]:[]}).flat();return[...V,...B]},[y,s.id,G]),k=j.useMemo(()=>y.filter(V=>!V.isDeleted&&V.projectId===s.id&&(V.projectSection==="habits"||V.recurrence&&V.recurrence!=="none")),[y,s.id]),M=j.useMemo(()=>{const V=y.filter($=>!$.isDeleted&&$.projectId===s.id&&$.projectSection==="planner");if(V.length===0)return s.progress||0;const B=V.filter($=>$.status===me.DONE).length;return Math.round(B/V.length*100)},[y,s.id,s.progress]),A=V=>{V.preventDefault(),I.trim()&&(R==="actions"?S(I.trim(),"tasks",s.id,"actions"):R==="subprojects"?w({name:I.trim(),color:s.color,parentFolderId:s.id,isStrategic:!1,type:"subproject"}):R==="habits"&&S(I.trim(),"tasks",s.id,"habits"),Y(""))},z={health:"fa-heart-pulse",career:"fa-briefcase",finance:"fa-coins",education:"fa-book-open-reader",relationships:"fa-people-group",rest:"fa-couch"};return l.jsxs(Me,{padding:"none",className:`bg-card border-theme shadow-sm overflow-hidden transition-all ${t?"shadow-lg ring-2 ring-primary/10":"hover:border-primary/30"}`,children:[l.jsxs("div",{className:"flex items-stretch",children:[l.jsx("div",{className:"w-1.5 shrink-0 transition-all",style:{backgroundColor:s.color||"var(--primary)"}}),l.jsxs("div",{onClick:n,className:"flex-1 p-3 md:p-4 cursor-pointer flex items-center gap-3 md:gap-4 group",children:[l.jsxs("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-white shadow-lg shrink-0 transition-transform group-hover:scale-105 relative",style:{backgroundColor:s.color||"var(--primary)"},children:[l.jsx("i",{className:"fa-solid fa-flag-checkered text-xs md:text-sm"}),s.sphere&&l.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-lg bg-white shadow-md flex items-center justify-center text-[7px] text-slate-900 border border-slate-50",children:l.jsx("i",{className:`fa-solid ${z[s.sphere]||"fa-mountain"}`})})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[l.jsx(ee,{variant:"h3",className:"text-xs md:text-[14px] font-black uppercase tracking-tight truncate leading-none",children:s.name}),l.jsxs("div",{className:"text-[7px] font-black py-0 px-1.5 rounded-full bg-primary/10 text-primary",title:"Tactic KPI",children:[M,"%"]})]}),l.jsx("div",{className:"text-[7px] font-black text-muted uppercase tracking-widest",children:s.sphere||"General"})]}),l.jsxs("div",{className:"flex gap-2",children:[s.status==="active"?l.jsx("button",{onClick:V=>{V.stopPropagation(),D({...s,status:"archived"})},className:"w-8 h-8 rounded-lg bg-slate-50 text-slate-400 flex items-center justify-center hover:bg-slate-200 transition-all",title:" ",children:l.jsx("i",{className:"fa-solid fa-box-archive text-[11px]"})}):l.jsx("button",{onClick:V=>{V.stopPropagation(),D({...s,status:"active"})},className:"w-8 h-8 rounded-lg bg-emerald-50 text-emerald-600 flex items-center justify-center hover:bg-emerald-600 hover:text-white transition-all",title:"",children:l.jsx("i",{className:"fa-solid fa-play text-[11px]"})}),l.jsx("button",{onClick:V=>{V.stopPropagation(),p(s.id)},className:"w-8 h-8 rounded-lg bg-orange-50 text-orange-600 flex items-center justify-center hover:bg-orange-600 hover:text-white transition-all shadow-sm",title:" ",children:l.jsx("i",{className:"fa-solid fa-calendar-check text-[11px]"})}),l.jsx("i",{className:`fa-solid fa-chevron-right text-[8px] text-muted transition-transform self-center ${t?"rotate-90 text-primary":""}`})]})]})]}),t&&l.jsxs("div",{className:"px-3 md:px-4 pb-4 pt-1 bg-black/5 border-t border-theme animate-in slide-in-from-top-2 duration-300",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3 overflow-x-auto no-scrollbar pb-1 pt-2",children:[l.jsx("div",{className:"flex gap-1 bg-main p-1 rounded-xl border border-theme shrink-0",children:[{id:"actions",label:"",icon:"fa-bolt"},{id:"subprojects",label:"",icon:"fa-layer-group"},{id:"habits",label:"",icon:"fa-repeat"}].map(V=>l.jsxs("button",{onClick:()=>U(V.id),className:`px-2.5 md:px-3 py-1.5 text-[7px] md:text-[8px] font-black uppercase tracking-widest transition-all rounded-lg flex items-center gap-1 md:gap-1.5 ${R===V.id?"bg-card shadow-sm text-primary":"text-muted hover:text-main"}`,children:[l.jsx("i",{className:`fa-solid ${V.icon} text-[8px] md:text-[9px]`})," ",V.label]},V.id))}),l.jsxs("div",{className:"flex gap-1.5 shrink-0 ml-4",children:[l.jsx("button",{onClick:()=>g(s),className:"w-7 h-7 rounded-xl bg-card border border-theme text-muted hover:text-primary transition-all flex items-center justify-center shadow-sm",children:l.jsx("i",{className:"fa-solid fa-pencil text-[9px]"})}),l.jsx("button",{onClick:()=>{confirm(" ?")&&_(s.id)},className:"w-7 h-7 rounded-xl bg-card border border-theme text-muted hover:text-rose-500 transition-all flex items-center justify-center shadow-sm",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[9px]"})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("form",{onSubmit:A,className:"flex gap-2",children:[l.jsx("input",{value:I,onChange:V=>Y(V.target.value),placeholder:R==="actions"?" ...":R==="subprojects"?" ...":"  ...",className:"flex-1 bg-card border border-theme rounded-xl py-2 px-3 text-[11px] font-bold focus:ring-4 focus:ring-primary/10 outline-none transition-all shadow-inner text-main"}),l.jsx("button",{type:"submit",disabled:!I.trim(),className:"w-8 h-8 bg-primary text-white rounded-xl flex items-center justify-center disabled:opacity-30 shadow-lg active:scale-95 transition-all shrink-0",children:l.jsx("i",{className:"fa-solid fa-plus text-xs"})})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[R==="actions"&&W.map(V=>{const B=b.find(ae=>ae.id===V.projectId),$=V.status===me.DOING;return l.jsxs("div",{draggable:!0,onDragStart:ae=>ae.dataTransfer.setData("taskId",V.id),onClick:()=>i(V.id),className:`flex items-center gap-2.5 p-2.5 rounded-xl bg-card border border-theme group transition-all cursor-pointer ${$?"opacity-50 grayscale":"hover:border-primary/30"}`,children:[l.jsx("button",{onClick:ae=>{ae.stopPropagation(),T(V)},className:`w-4 h-4 rounded-md border-2 flex items-center justify-center shrink-0 transition-all ${V.status===me.DONE?"bg-emerald-500 border-emerald-500 text-white":"bg-card border-theme group-hover:border-primary"}`,children:V.status===me.DONE&&l.jsx("i",{className:"fa-solid fa-check text-[7px]"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:`text-[12px] font-bold truncate ${V.status===me.DONE?"text-muted line-through opacity-50":"text-main"}`,children:V.title}),B&&B.type==="subproject"&&l.jsxs("span",{className:"text-[7px] font-black uppercase text-primary opacity-60",children:["# ",B.name]})]}),l.jsx("i",{className:"fa-solid fa-chevron-right text-[8px] text-muted opacity-0 group-hover:opacity-100 transition-all"})]},V.id)}),R==="subprojects"&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:G.map(V=>l.jsxs("div",{onClick:()=>u(V.id),className:"bg-card p-3 rounded-2xl border border-theme shadow-sm hover:shadow-md hover:border-primary/30 transition-all cursor-pointer group flex flex-col justify-between h-16",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"w-6 h-6 rounded-lg text-white flex items-center justify-center shadow-lg",style:{backgroundColor:V.color||s.color||"var(--primary)"},children:l.jsx("i",{className:"fa-solid fa-layer-group text-[8px]"})}),l.jsx("span",{className:"text-[9px] font-black text-main uppercase truncate max-w-[70%]",children:V.name}),l.jsxs("span",{className:"text-[7px] font-black text-primary",children:[V.progress,"%"]})]}),l.jsx("div",{className:"h-1 bg-muted/10 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-primary transition-all duration-1000",style:{width:`${V.progress}%`}})})]},V.id))}),R==="habits"&&k.map(V=>l.jsxs("div",{onClick:()=>o(V.id),className:"p-2.5 bg-card border border-theme rounded-xl flex items-center justify-between shadow-sm group cursor-pointer hover:border-primary/30 transition-all",children:[l.jsxs("div",{className:"flex items-center gap-2.5",children:[l.jsx("div",{className:"w-6 h-6 rounded-lg bg-primary/10 text-primary flex items-center justify-center text-[9px]",children:l.jsx("i",{className:`fa-solid ${V.recurrence&&V.recurrence!=="none"?"fa-calendar-day":"fa-repeat"}`})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[12px] font-bold text-main leading-none mb-1",children:V.title}),V.recurrence&&V.recurrence!=="none"&&l.jsxs("span",{className:"text-[6px] font-black text-indigo-500 uppercase",children:[": ",V.recurrence]})]})]}),l.jsx(ct,{variant:V.recurrence&&V.recurrence!=="none"?"indigo":"emerald",className:"text-[7px] py-0 px-1",children:V.recurrence&&V.recurrence!=="none"?"PLANNER":"DAILY"})]},V.id))]})]})]})]})},T_=({onClose:s,onSave:t,initialData:n,aiEnabled:i})=>{const[o,u]=j.useState((n==null?void 0:n.name)||""),[p,g]=j.useState((n==null?void 0:n.description)||""),[v,x]=j.useState((n==null?void 0:n.color)||"var(--primary)"),[y,b]=j.useState((n==null?void 0:n.sphere)||"career"),[w,S]=j.useState(!1),_=[{key:"health",label:"'",icon:"fa-heart-pulse"},{key:"career",label:"'",icon:"fa-briefcase"},{key:"finance",label:"",icon:"fa-coins"},{key:"education",label:"",icon:"fa-book-open-reader"},{key:"relationships",label:"",icon:"fa-people-group"},{key:"rest",label:"",icon:"fa-couch"}];return l.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:s}),l.jsxs(Me,{className:"w-full max-w-lg relative z-10 shadow-2xl p-5 md:p-6 rounded-[2rem] bg-card animate-in zoom-in-95 duration-200 border-theme overflow-y-auto max-h-[90vh]",children:[l.jsx(ee,{variant:"h2",className:"mb-4 text-lg",children:n?" ":"  "}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-muted mb-1 block tracking-widest",children:" "}),l.jsx("input",{autoFocus:!0,value:o,onChange:T=>u(T.target.value),placeholder:":   ",className:"w-full bg-main border border-theme rounded-xl py-2.5 px-4 text-sm font-bold focus:ring-4 focus:ring-primary/10 outline-none transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-muted mb-1 block tracking-widest",children:" "}),l.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:_.map(T=>l.jsxs("button",{onClick:()=>b(T.key),className:`p-2 rounded-lg border-2 transition-all flex flex-col items-center gap-1 ${y===T.key?"border-primary bg-primary/10 text-primary":"border-theme bg-main text-muted hover:border-primary/30"}`,children:[l.jsx("i",{className:`fa-solid ${T.icon} text-[10px]`}),l.jsx("span",{className:"text-[7px] font-black uppercase",children:T.label})]},T.key))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-muted mb-1 block tracking-widest",children:""}),l.jsx("textarea",{value:p,onChange:T=>g(T.target.value),placeholder:"  ...",className:"w-full bg-main border border-theme rounded-xl p-3 text-xs font-bold focus:ring-4 focus:ring-primary/10 outline-none transition-all h-20 resize-none"})]}),i&&!n&&l.jsxs("div",{className:"p-3 bg-primary/5 rounded-xl border border-primary/20 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary text-white flex items-center justify-center shadow-lg",children:l.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-xs"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[9px] font-black uppercase text-primary leading-none",children:"AI "}),l.jsx("div",{className:"text-[7px] font-bold text-muted mt-0.5",children:""})]})]}),l.jsx("button",{onClick:()=>S(!w),className:`w-9 h-5 rounded-full transition-all relative ${w?"bg-primary":"bg-muted/20"}`,children:l.jsx("div",{className:`absolute top-1 w-3 h-3 bg-white rounded-full transition-all ${w?"right-1":"left-1"}`})})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx(Xe,{variant:"white",className:"flex-1 py-3 rounded-xl font-black text-[10px]",onClick:s,children:""}),l.jsx(Xe,{disabled:!o.trim(),className:"flex-[2] py-3 rounded-xl shadow-xl font-black text-[10px]",onClick:()=>t({name:o,description:p,color:v,sphere:y},w),children:n?"":" "})]})]})]})]})},C_=({subProject:s,onClose:t})=>{const{tasks:n,toggleTaskStatus:i,updateProject:o,addTask:u,updateTask:p,deleteTask:g}=He(),[v,x]=j.useState(""),[y,b]=j.useState(!1),w=n.filter(_=>_.projectId===s.id&&!_.isDeleted),S=j.useMemo(()=>{if(w.length===0)return 0;const _=w.filter(T=>T.status===me.DONE).length;return Math.round(_/w.length*100)},[w]);return j.useEffect(()=>{S!==s.progress&&o({...s,progress:S})},[S,s.progress]),l.jsxs("div",{onDragOver:_=>{_.preventDefault(),b(!0)},onDragLeave:()=>b(!1),onDrop:_=>{_.preventDefault(),b(!1);const T=_.dataTransfer.getData("taskId"),D=n.find(R=>R.id===T);D&&p({...D,projectId:s.id,projectSection:"actions",status:me.DOING})},className:`h-full flex flex-col bg-card animate-in slide-in-from-right duration-300 ${y?"ring-4 ring-inset ring-primary/20":""}`,children:[l.jsxs("header",{className:"p-4 border-b border-theme flex justify-between items-start",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl text-white flex items-center justify-center text-lg shadow-lg",style:{backgroundColor:s.color||"var(--primary)"},children:l.jsx("i",{className:"fa-solid fa-layer-group"})}),l.jsxs("div",{children:[l.jsx(ee,{variant:"tiny",className:"text-primary font-black mb-0.5 uppercase tracking-widest text-[8px]",children:" "}),l.jsx(ee,{variant:"h2",className:"text-sm leading-tight uppercase font-black",children:s.name})]})]}),l.jsx("button",{onClick:t,className:"w-8 h-8 rounded-lg bg-main flex items-center justify-center text-muted hover:text-primary transition-colors",children:l.jsx("i",{className:"fa-solid fa-xmark text-xs"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar",children:l.jsxs("section",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx(ee,{variant:"tiny",className:"text-main font-black uppercase tracking-widest text-[8px]",children:" "}),l.jsxs("div",{className:"text-[7px] font-black py-0.5 px-2 bg-primary/10 text-primary rounded-full",children:[S,"%"]})]}),l.jsxs("div",{className:"space-y-1.5",children:[w.map(_=>l.jsxs("div",{draggable:!0,onDragStart:T=>T.dataTransfer.setData("taskId",_.id),className:`flex items-center gap-2.5 p-2.5 bg-main border border-theme rounded-xl group hover:border-primary/30 transition-all ${_.status===me.DOING?"opacity-50 grayscale":""}`,children:[l.jsx("button",{onClick:()=>i(_),className:`w-4 h-4 rounded-md border-2 flex items-center justify-center transition-all ${_.status===me.DONE?"bg-emerald-500 border-emerald-500 text-white":"bg-card border-theme group-hover:border-primary"}`,children:_.status===me.DONE&&l.jsx("i",{className:"fa-solid fa-check text-[7px]"})}),l.jsx("span",{className:`text-[12px] font-bold flex-1 truncate ${_.status===me.DONE?"text-muted line-through opacity-50":"text-main"}`,children:_.title}),l.jsx("button",{onClick:()=>g(_.id),className:"text-muted hover:text-rose-500 transition-all p-1 opacity-0 group-hover:opacity-100",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[9px]"})})]},_.id)),l.jsx("form",{onSubmit:_=>{_.preventDefault(),v.trim()&&(u(v.trim(),"tasks",s.id,"actions"),x(""))},className:"pt-1",children:l.jsx("input",{value:v,onChange:_=>x(_.target.value),placeholder:"+  ...",className:"w-full bg-main border border-theme rounded-xl px-4 py-2 text-[11px] font-bold outline-none focus:border-primary/50 transition-colors text-main"})})]})]})})]})},S_=()=>{const{projects:s,tasks:t,cycle:n,addProject:i,updateProject:o,toggleHabitStatus:u,toggleTaskStatus:p,updateTask:g,character:v,addTask:x,aiEnabled:y}=He(),{isResizing:b,startResizing:w,detailsWidth:S}=Hn(400,700),[_,T]=j.useState("strategy"),[D,R]=j.useState("focus"),[U,I]=j.useState(null),[Y,G]=j.useState(null),[W,k]=j.useState(null),[M,A]=j.useState(null),[z,V]=j.useState(null),[B,$]=j.useState({open:!1}),[ae,fe]=j.useState(!1),[O,q]=j.useState(window.innerWidth<1024),[he,P]=j.useState(new Set);j.useEffect(()=>{const ie=()=>q(window.innerWidth<1024);return window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[]);const Z=j.useMemo(()=>{let ie=s.filter(ge=>ge.type==="goal");return D==="focus"?ie.filter(ge=>ge.status==="active"):D==="archived"?ie.filter(ge=>ge.status==="archived"):ie},[s,D]),E=j.useMemo(()=>{const ie={health:[],career:[],finance:[],education:[],relationships:[],rest:[],general:[]};return Z.forEach(ge=>{const Ee=ge.sphere||"general";ie[Ee]?ie[Ee].push(ge):ie.general.push(ge)}),ie},[Z]),K=ie=>{const ge=new Set(he);ge.has(ie)?ge.delete(ie):ge.add(ie),P(ge)},oe=async(ie,ge)=>{let Ee="";if(B.editing?(o({...B.editing,...ie}),Ee=B.editing.id):Ee=i({...ie,isStrategic:!0,type:"goal"}),$({open:!1}),ge&&y){fe(!0);try{const ke=await i_(ie.name,ie.description||"",v);ke.nextActions.forEach(_e=>x(_e,"tasks",Ee,"actions")),ke.habits.forEach(_e=>x(_e,"tasks",Ee,"habits"));for(const _e of ke.subprojects){const jt=i({name:_e.title,color:ie.color,parentFolderId:Ee,isStrategic:!1,type:"subproject"});_e.tasks.forEach(Et=>x(Et,"tasks",jt,"actions"))}}catch{alert(" .")}finally{fe(!1)}}},te=j.useMemo(()=>t.find(ie=>ie.id===W),[t,W]);if(_==="project_planner"&&z)return l.jsx(Bx,{projectId:z,onExitProjectMode:()=>{T("strategy"),V(null)}});const ye=[{key:"career",label:"'",icon:"fa-briefcase"},{key:"finance",label:"",icon:"fa-coins"},{key:"health",label:"'",icon:"fa-heart-pulse"},{key:"education",label:"",icon:"fa-book-open-reader"},{key:"relationships",label:"",icon:"fa-people-group"},{key:"rest",label:"",icon:"fa-couch"},{key:"general",label:"",icon:"fa-mountain"}];return l.jsxs("div",{className:"h-screen flex bg-main overflow-hidden relative",children:[l.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full",children:[l.jsxs("header",{className:"px-4 md:px-6 py-2 border-b border-theme bg-card flex flex-col gap-2 sticky top-0 z-20 shrink-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[l.jsxs("div",{className:"flex flex-col shrink-0",children:[l.jsx(ee,{variant:"h2",className:"text-xs md:text-sm font-black uppercase tracking-widest text-main",children:"Projects"}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("div",{className:"px-1 py-0.5 bg-primary text-white text-[6px] font-black rounded uppercase",children:"Live"}),l.jsxs(ee,{variant:"tiny",className:"text-muted font-bold text-[7px] uppercase tracking-tighter",children:["Week ",n.currentWeek]})]})]}),l.jsx("div",{className:"h-5 w-px bg-theme shrink-0 mx-1"}),l.jsx("div",{className:"flex bg-main p-0.5 rounded-lg border border-theme shrink-0",children:[{id:"strategy",label:"",icon:"fa-chess-king"},{id:"execution",label:"",icon:"fa-bolt-lightning"},{id:"structure",label:"",icon:"fa-sitemap"}].map(ie=>l.jsxs("button",{onClick:()=>T(ie.id),className:`px-2 py-1 rounded-md text-[7px] font-black uppercase tracking-widest transition-all flex items-center gap-1 ${_===ie.id?"bg-primary text-white shadow-sm":"text-muted hover:text-main"}`,children:[l.jsx("i",{className:`fa-solid ${ie.icon} text-[7px]`})," ",!O&&ie.label]},ie.id))})]}),l.jsx(Xe,{icon:ae?"fa-circle-notch animate-spin":"fa-plus",disabled:ae,className:"rounded-lg h-7 px-3 py-0 font-black text-[7px] uppercase tracking-widest shadow-md",onClick:()=>$({open:!0}),children:ae?"...":" "})]}),_==="strategy"&&l.jsx("div",{className:"flex gap-4 border-t border-theme pt-2 mt-1",children:["focus","all","archived"].map(ie=>l.jsx("button",{onClick:()=>R(ie),className:`pb-1 text-[8px] font-black uppercase tracking-[0.2em] border-b-2 transition-all ${D===ie?"border-primary text-primary":"border-transparent text-muted"}`,children:ie==="focus"?"":ie==="all"?" ":""},ie))})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 md:p-5 pb-24 md:pb-32",children:_==="structure"?l.jsx(b_,{}):_==="execution"?l.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs(Me,{className:"bg-slate-900 text-white p-3 border-none shadow-xl flex flex-col justify-center",children:[l.jsx(ee,{variant:"tiny",className:"text-orange-500 mb-0.5 uppercase text-[6px] font-black",children:"Week Focus"}),l.jsxs(ee,{variant:"h2",className:"text-sm font-black text-white",children:["Week ",n.currentWeek]})]}),l.jsxs(Me,{className:"p-3 bg-card border-theme flex flex-col items-center justify-center",children:[l.jsxs("div",{className:"text-sm font-black text-main",children:[n.globalExecutionScore,"%"]}),l.jsx(ee,{variant:"tiny",className:"text-muted text-[6px] font-black uppercase",children:"Overall KPI"})]}),l.jsxs(Me,{className:"p-3 bg-card border-theme flex flex-col justify-center",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(ee,{variant:"tiny",className:"text-muted text-[6px] font-black",children:"STREAK"}),l.jsx("span",{className:"text-primary font-black text-[10px]",children:"12"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(ee,{variant:"tiny",className:"text-muted text-[6px] font-black",children:"TASKS"}),l.jsx("span",{className:"text-indigo-600 font-black text-[10px]",children:"84"})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(ee,{variant:"h2",className:"text-[8px] uppercase font-black tracking-widest text-muted px-1",children:"   "}),s.filter(ie=>ie.type==="goal"&&ie.status==="active").map(ie=>{const ge=t.filter(_e=>!_e.isDeleted&&_e.status!==me.DONE&&_e.projectId===ie.id&&_e.projectSection!=="habits"),Ee=s.filter(_e=>_e.parentFolderId===ie.id).map(_e=>{const jt=t.filter(Et=>!Et.isDeleted&&Et.status!==me.DONE&&Et.projectId===_e.id).sort((Et,Ha)=>Et.createdAt-Ha.createdAt);return jt.length>0?[jt[0]]:[]}).flat(),ke=[...ge,...Ee];return ke.length===0?null:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-1.5 px-1 mt-3",children:[l.jsx("div",{className:"w-1 h-3 rounded-full",style:{backgroundColor:ie.color||"var(--primary)"}}),l.jsx("span",{className:"text-[9px] font-black uppercase text-muted truncate",children:ie.name})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1.5",children:ke.map(_e=>l.jsxs(Me,{padding:"none",onClick:()=>G(_e.id),className:`bg-card border-theme hover:border-primary/30 transition-all flex items-center gap-3 p-3 group cursor-pointer ${_e.status===me.DOING?"opacity-50 grayscale":"shadow-sm"}`,children:[l.jsx("button",{onClick:jt=>{jt.stopPropagation(),p(_e)},className:`w-4 h-4 rounded-md border-2 flex items-center justify-center shrink-0 transition-all ${_e.status===me.DONE?"bg-emerald-500 border-emerald-500 text-white":"bg-card border-theme group-hover:border-primary"}`,children:_e.status===me.DONE&&l.jsx("i",{className:"fa-solid fa-check text-[7px]"})}),l.jsx("span",{className:`text-[11px] font-bold truncate block ${_e.status===me.DONE?"line-through opacity-30":"text-main"}`,children:_e.title})]},_e.id))})]},ie.id)})]})]}):l.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[D==="all"?ye.map(ie=>{const ge=E[ie.key];if(ge.length===0)return null;const Ee=he.has(ie.key);return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>K(ie.key),className:"flex items-center gap-3 w-full px-1 group",children:[l.jsx("div",{className:"w-6 h-6 rounded-lg bg-main border border-theme flex items-center justify-center text-muted group-hover:text-primary transition-colors",children:l.jsx("i",{className:`fa-solid ${ie.icon} text-[10px]`})}),l.jsx(ee,{variant:"tiny",className:"font-black uppercase tracking-[0.2em] text-main flex-1 text-left",children:ie.label}),l.jsx("i",{className:`fa-solid fa-chevron-right text-[8px] text-muted transition-transform ${Ee?"":"rotate-90"}`})]}),!Ee&&l.jsx("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-1 duration-200",children:ge.map(ke=>l.jsx(ox,{goal:ke,isExpanded:U===ke.id,onToggle:()=>I(U===ke.id?null:ke.id),onTaskClick:_e=>{G(_e),k(null),A(null)},onHabitClick:_e=>{k(_e),G(null),A(null)},onSubProjectClick:_e=>{A(_e),G(null),k(null)},onPlannerClick:_e=>{V(_e),T("project_planner")},onEdit:_e=>$({open:!0,editing:_e}),selectedTaskId:Y,selectedHabitId:W},ke.id))})]},ie.key)}):Z.map(ie=>l.jsx(ox,{goal:ie,isExpanded:U===ie.id,onToggle:()=>I(U===ie.id?null:ie.id),onTaskClick:ge=>{G(ge),k(null),A(null)},onHabitClick:ge=>{k(ge),G(null),A(null)},onSubProjectClick:ge=>{A(ge),G(null),k(null)},onPlannerClick:ge=>{V(ge),T("project_planner")},onEdit:ge=>$({open:!0,editing:ge}),selectedTaskId:Y,selectedHabitId:W},ie.id)),Z.length===0&&l.jsxs("div",{className:"py-20 text-center opacity-10 flex flex-col items-center select-none pointer-events-none grayscale",children:[l.jsx("i",{className:"fa-solid fa-flag-checkered text-7xl mb-6"}),l.jsx(ee,{variant:"h2",className:"text-xl",children:" "}),l.jsx(ee,{variant:"body",className:"mt-2 text-xs",children:"     "})]})]})})]}),l.jsxs("div",{className:`flex h-full border-l border-theme z-[110] bg-card shrink-0 transition-all duration-300 ${O?Y||M||te?"fixed inset-0 w-full translate-x-0":"fixed inset-0 w-full translate-x-full":""}`,children:[!O&&l.jsx("div",{onMouseDown:w,className:`w-[1px] h-full cursor-col-resize hover:bg-primary z-[100] transition-colors ${b?"bg-primary":"bg-theme"}`}),l.jsx("div",{style:{width:O?"100vw":S},className:"h-full bg-card relative flex flex-col overflow-hidden",children:Y?l.jsx(qs,{task:t.find(ie=>ie.id===Y),onClose:()=>G(null)}):M?l.jsx(C_,{subProject:s.find(ie=>ie.id===M),onClose:()=>A(null)}):te?l.jsx(Ar,{habit:te,onClose:()=>k(null),onUpdate:ie=>g({...te,...ie}),onToggleStatus:u}):!O&&l.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-12 text-center opacity-10 pointer-events-none select-none",children:[l.jsx("i",{className:"fa-solid fa-chess-king text-8xl mb-6"}),l.jsx(ee,{variant:"h2",className:"text-xl font-black uppercase tracking-widest",children:"Goal Engine"})]})})]}),B.open&&l.jsx(T_,{onClose:()=>$({open:!1}),onSave:oe,initialData:B.editing,aiEnabled:y})]})},__=()=>{const{tasks:s,addTask:t,updateTask:n,toggleHabitStatus:i}=He(),[o,u]=j.useState(null),[p,g]=j.useState(!1),[v,x]=j.useState(""),[y,b]=j.useState(null),[w,S]=j.useState(""),_=j.useRef(null),T=j.useMemo(()=>s.filter(k=>!k.isDeleted&&(k.projectSection==="habits"||k.tags.includes("habit"))),[s]),D=j.useMemo(()=>Array.from({length:14},(k,M)=>{const A=new Date;return A.setDate(A.getDate()-M),A.setHours(0,0,0,0),{label:A.toLocaleString("uk-UA",{weekday:"short"}).toUpperCase(),date:A.getDate(),dateStr:A.toISOString().split("T")[0],timestamp:A.getTime()}}),[]),R=k=>{k.preventDefault(),v.trim()&&(t(v.trim(),"tasks",void 0,"habits"),x(""),g(!1))},U=k=>{var B;const M=k.habitHistory||{};let A=0;const z=new Date;z.setHours(0,0,0,0);let V=new Date(z);for(;;){const $=V.toISOString().split("T")[0];if(((B=M[$])==null?void 0:B.status)==="completed")A++,V.setDate(V.getDate()-1);else{if(A===0&&$===z.toISOString().split("T")[0]){V.setDate(V.getDate()-1);continue}break}}return A},I=k=>k.color||"var(--primary)";j.useEffect(()=>{const k=M=>{_.current&&!_.current.contains(M.target)&&b(null)};return y&&document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[y]);const Y=(k,M)=>{var V,B;const A=s.find($=>$.id===k),z=((B=(V=A==null?void 0:A.habitHistory)==null?void 0:V[M])==null?void 0:B.note)||"";S(z),b({habitId:k,dateStr:M})},G=k=>{y&&(i(y.habitId,y.dateStr,k,w),b(null))},W=j.useMemo(()=>T.find(k=>k.id===o),[T,o]);return l.jsxs("div",{className:"h-screen flex flex-col bg-main text-[var(--text-main)] overflow-hidden relative",children:[l.jsxs("header",{className:"z-20 bg-sidebar/80 backdrop-blur-xl border-b border-theme px-5 py-3 flex items-center justify-between shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ee,{variant:"h2",className:"text-lg font-black",children:""}),l.jsx("div",{className:"h-3 w-px bg-theme opacity-50"}),l.jsx(ee,{variant:"tiny",className:"text-muted tracking-widest lowercase text-[8px]",children:" "})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Xe,{variant:"primary",size:"sm",icon:"fa-plus",onClick:()=>g(!0),className:"rounded-lg px-3 py-1.5 text-[10px]",children:""})})]}),l.jsx("div",{className:"flex-1 overflow-x-auto custom-scrollbar z-10",children:l.jsx("div",{className:"min-w-full inline-block align-middle p-4",children:l.jsxs("table",{className:"w-full border-separate border-spacing-x-0.5 table-fixed",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-main/30",children:[l.jsx("th",{className:"sticky left-0 z-30 bg-sidebar p-2 text-left w-56 border-b border-theme",children:l.jsx("span",{className:"text-[8px] font-black uppercase text-muted tracking-[0.2em]",children:""})}),D.map(k=>{const M=k.dateStr===new Date().toISOString().split("T")[0];return l.jsxs("th",{className:`p-1.5 w-10 text-center border-b border-theme rounded-t-lg ${M?"bg-primary/10":""}`,children:[l.jsx("div",{className:`text-[7px] font-black uppercase leading-none mb-0.5 ${M?"text-primary":"text-muted"}`,children:M?"":k.label}),l.jsx("div",{className:`text-[10px] font-black leading-none ${M?"text-primary":"text-main"}`,children:k.date})]},k.dateStr)})]})}),l.jsx("tbody",{className:"divide-y divide-theme/30",children:T.map(k=>{const M=U(k),A=I(k);return l.jsxs("tr",{className:"group hover:bg-main/20 transition-colors",children:[l.jsxs("td",{className:"sticky left-0 z-30 bg-sidebar p-2 flex items-center gap-3 border-r border-theme cursor-pointer",onClick:()=>u(k.id),children:[l.jsxs("div",{className:"relative w-8 h-8 flex items-center justify-center shrink-0",children:[l.jsxs("svg",{className:"w-full h-full transform -rotate-90 overflow-visible",viewBox:"0 0 32 32",children:[l.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"transparent",stroke:"var(--border-color)",strokeWidth:"3"}),l.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"transparent",stroke:A,strokeWidth:"3",strokeDasharray:2*Math.PI*14,strokeDashoffset:2*Math.PI*14*(1-Math.min(M,30)/30),strokeLinecap:"round",className:"transition-all duration-700 ease-in-out"})]}),l.jsxs("span",{className:"absolute text-[7px] font-black flex flex-col items-center leading-none",style:{color:A},children:[l.jsx("span",{children:M}),l.jsx("span",{className:"text-[4px] uppercase",children:""})]})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"text-[10px] font-black text-main truncate group-hover:text-primary transition-colors uppercase tracking-tight flex items-center gap-1.5",children:[k.title,M>=3&&l.jsx("span",{className:"text-primary text-[8px]",children:""})]}),l.jsx("div",{className:"h-0.5 w-12 bg-theme/50 rounded-full overflow-hidden mt-1",children:l.jsx("div",{className:"h-full transition-all",style:{width:`${Math.min(M*10,100)}%`,backgroundColor:A}})})]})]}),D.map(z=>{var O;const V=((O=k.habitHistory)==null?void 0:O[z.dateStr])||{status:"none"},B=V.status,$=!!V.note,ae=z.dateStr===new Date().toISOString().split("T")[0],fe=(y==null?void 0:y.habitId)===k.id&&(y==null?void 0:y.dateStr)===z.dateStr;return l.jsxs("td",{className:`p-0 text-center relative border-b border-theme/50 ${ae?"bg-primary/5":""}`,children:[l.jsx("button",{onClick:()=>Y(k.id,z.dateStr),className:`w-full h-10 flex flex-col items-center justify-center transition-all group/btn ${fe?"bg-sidebar shadow-inner ring-1 ring-primary/20":""}`,children:l.jsxs("div",{className:"relative",children:[B==="completed"?l.jsx("div",{className:"w-5 h-5 rounded-md flex items-center justify-center shadow-md transform group-hover/btn:scale-105 transition-transform",style:{backgroundColor:A},children:l.jsx("i",{className:"fa-solid fa-check text-white text-[8px]"})}):B==="skipped"?l.jsx("div",{className:"w-5 h-5 rounded-md flex items-center justify-center bg-black/10",children:l.jsx("i",{className:"fa-solid fa-xmark text-muted text-[8px]"})}):l.jsx("div",{className:"w-5 h-5 rounded-md border border-dashed border-theme flex items-center justify-center group-hover/btn:border-primary/50 transition-colors",children:l.jsx("div",{className:"w-0.5 h-0.5 rounded-full bg-theme group-hover/btn:bg-primary/50"})}),$&&l.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-1.5 h-1.5 bg-primary rounded-full border border-sidebar shadow-sm"})]})}),fe&&l.jsxs("div",{ref:_,className:"absolute top-full left-1/2 -translate-x-1/2 mt-1.5 w-64 bg-card shadow-2xl rounded-2xl border border-theme p-4 z-[100] tiktok-blur text-left",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("span",{className:"text-[9px] font-black uppercase text-muted tracking-widest",children:[z.label,", ",z.date]}),l.jsx("button",{onClick:()=>b(null),className:"text-muted hover:text-main transition-colors",children:l.jsx("i",{className:"fa-solid fa-xmark text-[10px]"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[l.jsxs("button",{onClick:()=>G("completed"),className:`h-9 rounded-xl flex items-center justify-center gap-1.5 transition-all ${B==="completed"?"bg-primary text-white shadow-lg":"bg-main text-muted hover:bg-primary/10 hover:text-primary"}`,children:[l.jsx("i",{className:"fa-solid fa-check text-[10px]"}),l.jsx("span",{className:"text-[9px] font-black uppercase",children:""})]}),l.jsxs("button",{onClick:()=>G("skipped"),className:`h-9 rounded-xl flex items-center justify-center gap-1.5 transition-all ${B==="skipped"?"bg-main text-main":"bg-main text-muted hover:bg-black/10 hover:text-main"}`,children:[l.jsx("i",{className:"fa-solid fa-xmark text-[10px]"}),l.jsx("span",{className:"text-[9px] font-black uppercase",children:""})]})]}),l.jsx(ee,{variant:"tiny",className:"text-muted mb-1.5 uppercase text-[7px]",children:""}),l.jsx("textarea",{value:w,onChange:q=>S(q.target.value),placeholder:" ?",className:"w-full bg-main border border-theme rounded-xl p-2.5 text-[10px] font-medium outline-none h-16 resize-none focus:ring-1 focus:ring-primary/50 transition-all text-main"}),l.jsx("button",{onClick:()=>{i(y.habitId,y.dateStr,void 0,w),b(null)},className:"w-full mt-3 py-2 bg-primary text-white rounded-xl text-[9px] font-black uppercase tracking-widest shadow-md",children:""})]})]},z.dateStr)})]},k.id)})})]})})}),p&&l.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>g(!1)}),l.jsxs("div",{className:"bg-card w-full max-w-xs rounded-[2rem] border border-theme p-8 shadow-2xl relative z-10 animate-in zoom-in-95 duration-200",children:[l.jsx(ee,{variant:"h2",className:"mb-6 text-xl",children:" "}),l.jsxs("form",{onSubmit:R,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-[9px] font-black uppercase text-muted tracking-widest",children:" "}),l.jsx("input",{autoFocus:!0,value:v,onChange:k=>x(k.target.value),placeholder:": ",className:"w-full bg-main border border-theme rounded-xl py-3 px-4 text-xs font-bold focus:ring-2 focus:ring-primary/20 outline-none transition-all text-main"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(Xe,{variant:"white",type:"button",className:"flex-1 rounded-xl text-[10px]",onClick:()=>g(!1),children:""}),l.jsx(Xe,{type:"submit",variant:"primary",className:"flex-[2] rounded-xl shadow-lg text-[10px]",children:""})]})]})]})]}),W&&l.jsx("div",{className:"fixed top-0 right-0 h-full w-[340px] bg-sidebar border-l border-theme z-[110] shadow-[-10px_0_40px_rgba(0,0,0,0.05)]",children:l.jsx(Ar,{habit:W,onClose:()=>u(null),onUpdate:k=>n({...W,...k}),onToggleStatus:i})})]})},k_=()=>{var oe;const{tasks:s,addTask:t,updateTask:n,deleteTask:i,detailsWidth:o,setDetailsWidth:u,addProject:p,updateProject:g,deleteProject:v,projects:x}=He(),[y,b]=j.useState(null),[w,S]=j.useState("all"),[_,T]=j.useState(""),[D,R]=j.useState(!1),[U,I]=j.useState(""),[Y,G]=j.useState(null),[W,k]=j.useState(""),[M,A]=j.useState(!1),[z,V]=j.useState(null),[B,$]=j.useState(window.innerWidth<1024);j.useEffect(()=>{const te=()=>$(window.innerWidth<1024);return window.addEventListener("resize",te),()=>window.removeEventListener("resize",te)},[]);const ae=j.useMemo(()=>x.filter(te=>{var ye;return!te.isStrategic||((ye=te.description)==null?void 0:ye.includes("FOLDER_NOTE"))}),[x]),fe=[{id:"all",label:"",icon:"fa-layer-group",tag:null},{id:"insights",label:"",icon:"fa-brain",tag:"insight"},{id:"dreams",label:"",icon:"fa-cloud-moon",tag:"dream"},{id:"ideas",label:"",icon:"fa-lightbulb",tag:"idea"},{id:"achievements",label:"",icon:"fa-trophy",tag:"achievement"},{id:"someday",label:"",icon:"fa-hourglass-start",tag:"someday"}],O=j.useMemo(()=>[...fe.map(te=>({id:te.id,label:te.label,icon:te.icon,isSystem:!0,tag:te.tag})),...ae.map(te=>({id:te.id,label:te.name,icon:"fa-folder",isSystem:!1,tag:null}))],[ae]),q=j.useMemo(()=>s.filter(te=>{if(te.category!=="note"||te.isDeleted)return!1;const ye=O.find(ie=>ie.id===w);return ye?w==="all"?!0:ye.isSystem&&ye.tag?te.tags.includes(ye.tag):te.projectId===w:!1}).sort((te,ye)=>ye.createdAt-te.createdAt),[s,w,O]),he=j.useCallback(te=>{te.preventDefault(),A(!0)},[]),P=j.useCallback(()=>A(!1),[]),Z=j.useCallback(te=>{if(!M)return;const ye=window.innerWidth-te.clientX;ye>300&&ye<900&&u(ye)},[M,u]);j.useEffect(()=>(M?(window.addEventListener("mousemove",Z),window.addEventListener("mouseup",P)):(window.removeEventListener("mousemove",Z),window.removeEventListener("mouseup",P)),()=>{window.removeEventListener("mousemove",Z),window.removeEventListener("mouseup",P)}),[M,Z,P]);const E=te=>{te&&te.preventDefault();const ye=_.trim()||" ",ie=O.find(_e=>_e.id===w);let ge,Ee=[];ie&&(ie.isSystem&&ie.tag?Ee=[ie.tag]:ie.isSystem||(ge=ie.id));const ke=t(ye,"note",ge,"actions");if(Ee.length>0){const _e=s.find(jt=>jt.id===ke)||{id:ke,tags:[]};n({..._e,id:ke,title:ye,category:"note",projectId:ge,tags:Ee,status:me.INBOX,priority:Pe.NUI,createdAt:Date.now()})}b(ke),T("")},K=te=>{te.preventDefault(),U.trim()&&(p({name:U.trim(),color:"var(--primary)",isStrategic:!1,description:"FOLDER_NOTE"}),I(""),R(!1))};return l.jsxs("div",{className:"h-screen flex bg-[var(--bg-main)] overflow-hidden relative",children:[l.jsxs("div",{className:`flex flex-1 overflow-hidden transition-all duration-300 ${B&&y?"-translate-x-full absolute":"translate-x-0 relative"}`,children:[l.jsxs("aside",{className:"hidden lg:flex w-56 bg-[var(--bg-card)] border-r border-[var(--border-color)] flex-col p-4 shrink-0",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx(ee,{variant:"h3",className:"text-base mb-1 uppercase font-black",children:" "}),l.jsx(ee,{variant:"tiny",className:"text-[var(--text-muted)] lowercase text-[8px]",children:" "})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(ee,{variant:"tiny",className:"text-[var(--text-muted)] mb-2 ml-1 text-[7px] uppercase font-black opacity-50",children:""}),fe.map(te=>l.jsxs("button",{onClick:()=>S(te.id),className:`w-full flex items-center gap-2 px-2 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-wider transition-all ${w===te.id?"bg-[var(--primary)] text-white shadow-md":"text-[var(--text-muted)] hover:bg-[var(--bg-main)]"}`,children:[l.jsx("i",{className:`fa-solid ${te.icon} w-3 text-center`}),te.label]},te.id))]}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[l.jsx(ee,{variant:"tiny",className:"text-[var(--text-muted)] text-[7px] uppercase font-black opacity-50",children:""}),l.jsx("i",{onClick:()=>R(!0),className:"fa-solid fa-plus-circle text-[10px] text-[var(--text-muted)] hover:text-[var(--primary)] cursor-pointer"})]}),ae.map(te=>l.jsx("button",{onClick:()=>S(te.id),className:`w-full flex items-center justify-between px-2 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-wider transition-all ${w===te.id?"bg-[var(--primary)] text-white shadow-md":"text-[var(--text-muted)] hover:bg-[var(--bg-main)]"}`,children:l.jsxs("div",{className:"flex items-center gap-2 truncate",children:[l.jsx("i",{className:"fa-solid fa-folder w-3 text-center"}),l.jsx("span",{className:"truncate",children:te.name})]})},te.id))]})]})]}),l.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-[var(--bg-main)]",children:[l.jsxs("header",{className:"bg-[var(--bg-card)] border-b border-[var(--border-color)] flex flex-col z-10 shrink-0",children:[l.jsxs("div",{className:"px-4 md:px-6 py-4 flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx(ee,{variant:"h3",className:"text-[var(--text-main)] text-sm md:text-base leading-none mb-1 font-black uppercase",children:((oe=O.find(te=>te.id===w))==null?void 0:oe.label)||""}),l.jsxs(ee,{variant:"tiny",className:"text-[var(--text-muted)] text-[7px] uppercase tracking-widest",children:[q.length," "]})]})}),!B&&l.jsx("form",{onSubmit:E,className:"flex gap-2",children:l.jsx("input",{value:_,onChange:te=>T(te.target.value),placeholder:" ...",className:"bg-[var(--bg-main)] border border-[var(--border-color)] rounded-xl py-1.5 px-4 text-[11px] font-bold outline-none focus:ring-2 focus:ring-[var(--primary)]/10 w-48 text-[var(--text-main)]"})})]}),l.jsx("div",{className:"lg:hidden px-4 pb-3 overflow-x-auto no-scrollbar flex items-center gap-2",children:O.map(te=>l.jsxs("button",{onClick:()=>S(te.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-full whitespace-nowrap text-[9px] font-black uppercase tracking-wider transition-all border ${w===te.id?"bg-[var(--primary)] border-[var(--primary)] text-white shadow-md":"bg-[var(--bg-main)] border-[var(--border-color)] text-[var(--text-muted)]"}`,children:[l.jsx("i",{className:`fa-solid ${te.icon} text-[8px]`}),te.label]},te.id))})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 md:p-6",children:l.jsxs("div",{className:`grid gap-2 md:gap-4 pb-32 ${y?"grid-cols-1":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"}`,children:[q.map(te=>{var ge,Ee;const ye=y===te.id;let ie="";try{ie=((Ee=(ge=JSON.parse(te.content||"[]").find(_e=>_e.content.trim()!==""&&_e.content!=="<br>"))==null?void 0:ge.content)==null?void 0:Ee.replace(/<[^>]*>?/gm,""))||""}catch{ie=te.content||""}return l.jsx(Me,{padding:"none",onClick:()=>b(te.id),className:`group bg-[var(--bg-card)] transition-all cursor-pointer flex flex-col justify-between relative p-3 rounded-xl border ${ye?"border-[var(--primary)] ring-2 ring-[var(--primary)]/5":"border-[var(--border-color)] hover:border-[var(--primary)]/30"} ${B?"min-h-[80px]":"min-h-[120px]"}`,children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsx(ee,{variant:"h3",className:`text-[var(--text-main)] leading-tight truncate pr-4 font-black uppercase ${B?"text-[10px]":"text-[12px]"}`,children:te.title}),l.jsx("button",{onClick:ke=>{ke.stopPropagation(),confirm("?")&&i(te.id)},className:"text-[var(--text-muted)] hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[9px]"})})]}),l.jsx("p",{className:`font-medium text-[var(--text-muted)] line-clamp-2 leading-relaxed ${B?"text-[9px]":"text-[10px]"}`,children:ie||" ..."}),l.jsxs("div",{className:"mt-auto pt-2 flex justify-between items-center opacity-40",children:[l.jsx("span",{className:"text-[6px] font-black uppercase",children:new Date(te.createdAt).toLocaleDateString("uk-UA")}),l.jsx("div",{className:"flex gap-1",children:te.tags.map(ke=>l.jsxs("span",{className:"text-[6px] font-black text-[var(--primary)] uppercase",children:["#",ke]},ke))})]})]})},te.id)}),q.length===0&&l.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center opacity-10 grayscale pointer-events-none",children:[l.jsx("i",{className:"fa-solid fa-note-sticky text-6xl mb-4"}),l.jsx(ee,{variant:"h2",className:"text-sm uppercase font-black tracking-widest",children:" "})]})]})}),B&&!y&&l.jsx("button",{onClick:()=>E(),className:"fixed right-6 bottom-24 w-14 h-14 rounded-full bg-[var(--primary)] text-white shadow-2xl flex items-center justify-center z-[140] active:scale-90 transition-all",children:l.jsx("i",{className:"fa-solid fa-plus text-xl"})})]})]}),l.jsxs("div",{className:`flex h-full border-l border-[var(--border-color)] z-[110] bg-[var(--bg-card)] shrink-0 transition-all duration-300 ${B?y?"fixed inset-0 w-full translate-x-0":"fixed inset-0 w-full translate-x-full":""}`,children:[!B&&l.jsx("div",{onMouseDown:he,className:`w-[1px] h-full cursor-col-resize hover:bg-[var(--primary)] z-[120] transition-colors ${M?"bg-[var(--primary)]":"bg-[var(--border-color)]"}`}),l.jsx("div",{style:{width:B?"100vw":o},className:"h-full bg-[var(--bg-card)] relative flex flex-col",children:y?l.jsx(qs,{task:s.find(te=>te.id===y),onClose:()=>b(null)}):null})]}),D&&B&&l.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 tiktok-blur animate-in fade-in",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>R(!1)}),l.jsxs(Me,{className:"w-full max-w-sm relative z-10 p-6 rounded-3xl bg-card border-theme shadow-2xl",children:[l.jsx(ee,{variant:"h2",className:"mb-6 text-xl uppercase font-black",children:" "}),l.jsxs("form",{onSubmit:K,className:"space-y-4",children:[l.jsx("input",{autoFocus:!0,value:U,onChange:te=>I(te.target.value),placeholder:"...",className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl py-3 px-4 text-sm font-bold focus:ring-2 focus:ring-[var(--primary)]/20 outline-none"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Xe,{variant:"white",className:"flex-1",onClick:()=>R(!1),children:""}),l.jsx(Xe,{type:"submit",className:"flex-1",children:""})]})]})]})]})]})},j_=({onClose:s})=>{const{reportTemplate:t,updateReportTemplate:n,saveDiaryEntry:i}=He(),[o,u]=j.useState(1),[p,g]=j.useState({}),[v,x]=j.useState(!1),[y,b]=j.useState(t),w=j.useMemo(()=>{const G=t.map(W=>W.page);return G.length>0?Math.max(...G):1},[t]),S=j.useMemo(()=>t.filter(G=>G.page===o),[t,o]),_=()=>{o<w?u(o+1):D()},T=()=>{o>1&&u(o-1)},D=()=>{const G=new Date().toISOString().split("T")[0];let W=`#  : ${new Date().toLocaleDateString("uk-UA",{day:"numeric",month:"long",year:"numeric"})}

`;t.sort((k,M)=>k.page-M.page).forEach(k=>{const M=p[k.id];M&&(W+=`#### ${k.text}
> ${M.replace(/\n/g,`
> `)}

`)}),i(G,W),s()},R=()=>{const G=`q_${Date.now()}`;b([...y,{id:G,text:"",page:o}])},U=(G,W,k)=>{b(y.map(M=>M.id===G?{...M,text:W,page:k}:M))},I=G=>{b(y.filter(W=>W.id!==G))},Y=()=>{n(y),x(!1)};return l.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 tiktok-blur",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:s}),l.jsxs(Me,{className:"w-full max-w-2xl max-h-[90vh] bg-[var(--bg-card)] border-[var(--border-color)] shadow-2xl overflow-hidden flex flex-col relative animate-in zoom-in-95 duration-300 rounded-[2.5rem]",children:[!v&&l.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-[var(--bg-main)] z-20",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-orange-400 to-pink-500 transition-all duration-500",style:{width:`${o/w*100}%`}})}),l.jsxs("header",{className:"p-6 md:p-8 pb-4 flex justify-between items-start shrink-0 border-b border-slate-50 bg-[var(--bg-card)] z-10",children:[l.jsxs("div",{children:[l.jsx(ee,{variant:"tiny",className:"text-[var(--primary)] mb-1 font-black",children:v?" ":` ${o}  ${w}`}),l.jsx(ee,{variant:"h2",className:"text-xl md:text-2xl",children:v?" ":"   ?"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>{v&&b(t),x(!v)},className:`w-10 h-10 rounded-2xl flex items-center justify-center transition-all ${v?"bg-[var(--primary)] text-white shadow-lg":"bg-[var(--bg-main)] text-[var(--text-muted)] hover:bg-orange-50"}`,title:" ",children:l.jsx("i",{className:"fa-solid fa-gear text-sm"})}),l.jsx("button",{onClick:s,className:"w-10 h-10 rounded-2xl bg-[var(--bg-main)] flex items-center justify-center text-[var(--text-muted)] hover:bg-rose-50 hover:text-rose-500 transition-all",children:l.jsx("i",{className:"fa-solid fa-xmark"})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 md:p-8 pt-4",children:v?l.jsxs("div",{className:"space-y-4 pb-4",children:[l.jsx(ee,{variant:"body",className:"text-[var(--text-muted)] mb-4 italic text-xs",children:"    ."}),y.map(G=>l.jsxs("div",{className:"flex gap-3 items-start bg-[var(--bg-main)] p-4 rounded-2xl border border-[var(--border-color)] group/q transition-all hover:border-[var(--primary)]/30",children:[l.jsxs("div",{className:"flex flex-col items-center gap-1 shrink-0",children:[l.jsx("input",{type:"number",min:"1",value:G.page,onChange:W=>U(G.id,G.text,parseInt(W.target.value)||1),className:"w-10 bg-white border border-[var(--border-color)] rounded-lg p-1 text-center text-[10px] font-black"}),l.jsx("span",{className:"text-[7px] font-black text-slate-300 uppercase",children:"."})]}),l.jsx("textarea",{value:G.text,onChange:W=>U(G.id,W.target.value,G.page),placeholder:" ...",className:"flex-1 bg-transparent border-none p-0 text-sm font-bold focus:ring-0 outline-none resize-none min-h-[40px] leading-tight"}),l.jsx("button",{onClick:()=>I(G.id),className:"text-slate-200 hover:text-rose-500 transition-colors pt-1",children:l.jsx("i",{className:"fa-solid fa-trash-can text-xs"})})]},G.id)),l.jsx("button",{onClick:R,className:"w-full py-4 border-2 border-dashed border-[var(--border-color)] rounded-2xl text-[var(--text-muted)] text-[10px] font-black uppercase tracking-widest hover:border-[var(--primary)] hover:text-[var(--primary)] transition-all bg-slate-50/50 hover:bg-white",children:"+  "})]}):l.jsx("div",{className:"space-y-6 md:space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:S.map(G=>l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-[11px] font-black text-[var(--text-main)] uppercase tracking-widest leading-relaxed block",children:G.text}),l.jsx("textarea",{value:p[G.id]||"",onChange:W=>g({...p,[G.id]:W.target.value}),placeholder:" ...",className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-[1.5rem] p-5 text-sm font-medium focus:ring-4 focus:ring-orange-100 transition-all outline-none min-h-[100px] md:min-h-[140px]"})]},G.id))})}),l.jsx("footer",{className:"p-6 md:p-8 border-t border-[var(--border-color)] bg-[var(--bg-main)]/30 flex justify-between items-center gap-4 shrink-0",children:v?l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx(Xe,{variant:"ghost",className:"flex-1 py-3.5 rounded-2xl",onClick:()=>x(!1),children:""}),l.jsx(Xe,{variant:"primary",className:"flex-[2] py-3.5 rounded-2xl shadow-lg",onClick:Y,children:" "})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Xe,{variant:"ghost",className:"px-4 md:px-6 rounded-2xl text-[10px] font-black tracking-widest",onClick:T,disabled:o===1,children:""}),Object.keys(p).length>0&&l.jsx("button",{onClick:D,className:"px-4 md:px-6 py-2 rounded-2xl text-[9px] font-black uppercase text-emerald-600 hover:bg-emerald-50 transition-colors",children:"  "})]}),l.jsx(Xe,{variant:"primary",className:"flex-1 py-4 rounded-2xl shadow-xl shadow-orange-200 text-[10px] font-black tracking-widest uppercase",onClick:_,children:o>=w?"":""})]})})]})]})},E_=()=>{const{diary:s,tasks:t,people:n,deleteDiaryEntry:i}=He(),[o,u]=j.useState(new Date().toLocaleDateString("en-CA")),[p,g]=j.useState(new Date),[v,x]=j.useState(null),[y,b]=j.useState(!1),[w,S]=j.useState(!1),[_,T]=j.useState("list"),{isResizing:D,startResizing:R,detailsWidth:U}=Hn(400,800),[I,Y]=j.useState(window.innerWidth<1024);j.useEffect(()=>{const z=()=>Y(window.innerWidth<1024);return window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]);const G=j.useMemo(()=>[...s].sort((z,V)=>V.date!==z.date?V.date.localeCompare(z.date):V.createdAt-z.createdAt),[s]),W=j.useMemo(()=>{const z={};return G.forEach(V=>{const B=V.date.split("-").map(Number),$=new Date(B[0],B[1]-1,B[2]);if(isNaN($.getTime()))return;const ae=$.toLocaleDateString("uk-UA",{month:"long",year:"numeric"});z[ae]||(z[ae]=[]),z[ae].push(V)}),z},[G]),k=j.useMemo(()=>{const z=new Date(o),V=z.getDate(),B=z.getMonth();return s.filter($=>{const ae=new Date($.date);return ae.getDate()===V&&ae.getMonth()===B&&ae.getFullYear()<z.getFullYear()}).sort(($,ae)=>new Date(ae.date).getTime()-new Date($.date).getTime())},[s,o]),M=(z=!1)=>{const V=p.getFullYear(),B=p.getMonth(),O=z&&!w?(()=>{const q=new Date(p),he=q.getDay(),P=q.getDate()-he+(he===0?-6:1),Z=new Date(q.setDate(P));return Array.from({length:7},(E,K)=>{const oe=new Date(Z);return oe.setDate(Z.getDate()+K),oe})})():(()=>{const q=(new Date(V,B,1).getDay()+6)%7,he=new Date(V,B+1,0).getDate(),P=[];for(let Z=0;Z<q;Z++)P.push(null);for(let Z=1;Z<=he;Z++)P.push(new Date(V,B,Z));for(;P.length%7!==0;)P.push(null);return P})();return l.jsxs("div",{className:`bg-card p-4 md:p-5 rounded-[2rem] border border-theme shadow-sm transition-all duration-300 ${z?"mb-6 mx-2":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("button",{onClick:()=>z&&S(!w),className:"flex items-center gap-2 text-left group",children:[l.jsx(ee,{variant:"tiny",className:"text-main font-black capitalize text-[10px] tracking-wider group-hover:text-primary transition-colors",children:p.toLocaleString("uk-UA",{month:"long",year:"numeric"})}),z&&l.jsx("i",{className:`fa-solid fa-chevron-down text-[8px] text-muted transition-transform ${w?"rotate-180":""}`})]}),l.jsxs("div",{className:"flex gap-2 shrink-0",children:[l.jsx("button",{onClick:()=>g(new Date(V,B-1,1)),className:"w-7 h-7 rounded-xl hover:bg-black/5 flex items-center justify-center text-muted hover:text-primary transition-colors",children:l.jsx("i",{className:"fa-solid fa-chevron-left text-[9px]"})}),l.jsx("button",{onClick:()=>g(new Date(V,B+1,1)),className:"w-7 h-7 rounded-xl hover:bg-black/5 flex items-center justify-center text-muted hover:text-primary transition-colors",children:l.jsx("i",{className:"fa-solid fa-chevron-right text-[9px]"})})]})]}),l.jsxs("div",{className:"grid grid-cols-7 gap-1 md:gap-2",children:[["","","","","","",""].map(q=>l.jsx("div",{className:"text-[7px] font-black text-muted/30 text-center uppercase tracking-tighter",children:q},q)),O.map((q,he)=>{if(q===null)return l.jsx("div",{className:"h-8"},`empty-${he}`);const P=q.getFullYear(),Z=String(q.getMonth()+1).padStart(2,"0"),E=String(q.getDate()).padStart(2,"0"),K=`${P}-${Z}-${E}`,oe=o===K,te=new Date().toLocaleDateString("en-CA")===K,ye=s.some(ie=>ie.date===K);return l.jsxs("button",{onClick:()=>{u(K),z&&S(!1)},className:`h-8 md:h-9 rounded-xl flex items-center justify-center text-[10px] font-bold transition-all relative ${oe?"bg-primary text-white shadow-lg":te?"text-primary bg-primary/10":"text-main hover:bg-black/5"}`,children:[q.getDate(),ye&&!oe&&l.jsx("div",{className:"absolute bottom-1.5 w-1 h-1 bg-primary/60 rounded-full"})]},K)})]})]})},A=()=>l.jsxs("div",{className:"h-full flex flex-col bg-sidebar overflow-y-auto custom-scrollbar",children:[l.jsxs("header",{className:"p-6 border-b border-theme shrink-0",children:[l.jsx(ee,{variant:"tiny",className:"text-primary mb-1 block font-black uppercase text-[9px]",children:""}),l.jsx(ee,{variant:"h2",className:"text-base",children:"   "})]}),l.jsxs("div",{className:"p-6 space-y-8 pb-32",children:[l.jsxs("section",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(ee,{variant:"tiny",className:"text-muted font-black uppercase tracking-widest text-[8px]",children:" "}),l.jsx("i",{className:"fa-solid fa-clock-rotate-left text-primary/30"})]}),k.length>0?k.map(z=>l.jsxs(Me,{padding:"sm",className:"bg-main/20 border-theme shadow-sm hover:shadow-md transition-all cursor-pointer group",onClick:()=>{x(z.id),u(z.date)},children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("span",{className:"text-[10px] font-black text-primary",children:[new Date(z.date).getFullYear()," "]}),l.jsx("i",{className:"fa-solid fa-arrow-right text-[8px] text-muted group-hover:translate-x-1 transition-transform"})]}),l.jsxs("p",{className:"text-[11px] text-main/80 leading-relaxed italic line-clamp-4",children:[z.content.replace(/<[^>]*>?/gm,"").slice(0,200),"..."]})]},z.id)):l.jsxs("div",{className:"p-10 border-2 border-dashed border-theme rounded-[2.5rem] text-center opacity-30 bg-black/5",children:[l.jsx("i",{className:"fa-solid fa-ghost text-2xl mb-2 text-muted"}),l.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest",children:"    "})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx(ee,{variant:"tiny",className:"text-muted font-black uppercase tracking-widest text-[8px]",children:" "}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"p-5 bg-emerald-500/10 rounded-[1.8rem] border border-emerald-500/20 flex flex-col justify-center",children:[l.jsx("div",{className:"text-2xl font-black text-emerald-500 leading-none mb-1",children:t.filter(z=>!z.isDeleted&&z.status===me.DONE&&z.completedAt&&new Date(z.completedAt).toLocaleDateString("en-CA")===o).length}),l.jsx("div",{className:"text-[7px] font-black text-emerald-500/60 uppercase tracking-widest",children:""})]}),l.jsxs("div",{className:"p-5 bg-main/50 rounded-[1.8rem] border border-theme flex flex-col justify-center",children:[l.jsx("div",{className:"text-2xl font-black text-main leading-none mb-1",children:t.filter(z=>!z.isDeleted&&z.scheduledDate&&new Date(z.scheduledDate).toLocaleDateString("en-CA")===o).length}),l.jsx("div",{className:"text-[7px] font-black text-muted uppercase tracking-widest",children:""})]})]})]})]})]});return l.jsxs("div",{className:"h-screen flex bg-main overflow-hidden relative",children:[l.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full relative",children:[l.jsx("header",{className:"px-4 md:px-8 py-3 md:py-6 bg-card border-b border-theme z-10 flex flex-col gap-3 shrink-0",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 md:w-11 md:h-11 rounded-xl bg-primary/10 text-primary flex items-center justify-center shadow-sm",children:l.jsx("i",{className:"fa-solid fa-book-open text-xs md:text-sm"})}),l.jsxs("div",{children:[l.jsx(ee,{variant:"h1",className:"text-lg md:text-2xl font-black text-main",children:""}),l.jsx(ee,{variant:"tiny",className:"text-muted uppercase tracking-widest text-[7px] hidden md:block",children:"   "})]})]}),l.jsxs("div",{className:"lg:hidden flex bg-black/5 p-0.5 rounded-xl border border-theme shadow-inner",children:[l.jsxs("button",{onClick:()=>T("list"),className:`px-4 py-2 rounded-[0.6rem] text-[8px] font-black uppercase transition-all flex items-center gap-1.5 ${_==="list"?"bg-primary text-white shadow-md":"text-muted"}`,children:[l.jsx("i",{className:"fa-solid fa-list-ul"}),""]}),l.jsxs("button",{onClick:()=>T("stats"),className:`px-4 py-2 rounded-[0.6rem] text-[8px] font-black uppercase transition-all flex items-center gap-1.5 ${_==="stats"?"bg-primary text-white shadow-md":"text-muted"}`,children:[l.jsx("i",{className:"fa-solid fa-chart-pie"}),""]})]})]})}),l.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[l.jsxs("aside",{className:"w-72 p-6 hidden lg:flex flex-col gap-6 border-r border-theme bg-sidebar shrink-0 overflow-y-auto custom-scrollbar",children:[M(),l.jsxs("div",{className:"space-y-3 pt-2",children:[l.jsxs(Xe,{variant:"primary",className:"w-full py-4 rounded-2xl shadow-xl font-black tracking-widest uppercase text-[10px] gap-3",onClick:()=>{x("new"),u(new Date().toLocaleDateString("en-CA"))},children:[l.jsx("i",{className:"fa-solid fa-plus text-xs"}),"  "]}),l.jsxs(Xe,{variant:"white",className:"w-full py-4 rounded-2xl font-black uppercase tracking-widest text-[10px] gap-3",onClick:()=>b(!0),children:[l.jsx("i",{className:"fa-solid fa-chart-line text-xs text-primary"}),"  "]})]})]}),l.jsx("main",{className:`flex-1 overflow-y-auto custom-scrollbar p-3 md:p-8 bg-main/30 ${I&&_==="stats"?"hidden":"block"}`,children:l.jsxs("div",{className:"max-w-3xl mx-auto space-y-4 md:space-y-6 pb-40",children:[l.jsx("div",{className:"block lg:hidden",children:M(!0)}),l.jsxs("div",{className:"lg:hidden grid grid-cols-2 gap-3 mx-2 mb-6",children:[l.jsxs("button",{onClick:()=>{x("new"),u(new Date().toLocaleDateString("en-CA"))},className:"bg-primary text-white p-5 rounded-[1.8rem] shadow-xl flex flex-col items-center justify-center gap-2 active:scale-95 transition-all",children:[l.jsx("i",{className:"fa-solid fa-pen-fancy text-lg"}),l.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:""})]}),l.jsxs("button",{onClick:()=>b(!0),className:"bg-card border border-theme p-5 rounded-[1.8rem] shadow-sm flex flex-col items-center justify-center gap-2 active:scale-95 transition-all text-main",children:[l.jsx("i",{className:"fa-solid fa-chart-line text-lg text-primary"}),l.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest opacity-60",children:" "})]})]}),Object.entries(W).map(([z,V])=>l.jsxs("div",{className:"space-y-3 px-2 md:px-0",children:[l.jsx("div",{className:"sticky top-0 z-10 bg-main/90 backdrop-blur-sm py-2",children:l.jsx("span",{className:"text-[8px] md:text-[10px] font-black uppercase tracking-[0.2em] text-muted border-b border-theme pb-1",children:z})}),V.map(B=>{var O,q;const $=B.date.split("-").map(Number),ae=new Date($[0],$[1]-1,$[2]);let fe=" ";try{fe=((q=(O=JSON.parse(B.content).find(P=>P.content.trim()!==""&&P.content!=="<br>"))==null?void 0:O.content)==null?void 0:q.replace(/<[^>]*>?/gm,""))||" "}catch{fe=B.content.split(`
`)[0].replace("#","").trim()||" "}return l.jsx(Me,{padding:"none",hover:!0,onClick:()=>{x(B.id),u(B.date)},className:`bg-card border-theme rounded-[1.8rem] md:rounded-[2.5rem] cursor-pointer overflow-hidden group/card transition-all ${v===B.id?"ring-2 ring-primary/40 border-primary shadow-lg":"shadow-sm hover:shadow-md"}`,children:l.jsxs("div",{className:"flex items-center gap-4 md:gap-8 p-4 md:p-6",children:[l.jsxs("div",{className:"w-10 md:w-14 flex flex-col items-center shrink-0 border-r border-theme pr-4 md:pr-8",children:[l.jsx("span",{className:"text-[7px] md:text-[9px] font-black text-muted uppercase leading-none mb-1.5",children:ae.toLocaleString("uk-UA",{weekday:"short"})}),l.jsx("span",{className:"text-base md:text-2xl font-black text-main leading-none",children:ae.getDate()})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"text-[13px] md:text-base font-black text-main truncate block uppercase tracking-tight",children:fe}),l.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[l.jsx("p",{className:"text-[8px] text-muted truncate font-bold uppercase tracking-wider",children:B.date}),l.jsx("div",{className:"w-1 h-1 rounded-full bg-theme"}),l.jsx("span",{className:"text-[8px] font-black text-primary uppercase",children:new Date(B.createdAt).toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"})})]})]}),l.jsx("button",{onClick:he=>{he.stopPropagation(),confirm("  ?")&&i(B.id)},className:"w-9 h-9 md:w-11 md:h-11 rounded-xl md:rounded-2xl text-muted hover:text-rose-500 hover:bg-rose-500/10 flex items-center justify-center transition-all",children:l.jsx("i",{className:"fa-solid fa-trash-can text-sm md:text-base"})})]})},B.id)})]},z))]})}),I&&_==="stats"&&l.jsx("main",{className:"flex-1 bg-sidebar overflow-hidden animate-in fade-in duration-300",children:A()})]})]}),l.jsxs("div",{className:`fixed inset-0 lg:relative lg:inset-auto h-full border-l border-theme bg-sidebar z-[60] transition-all duration-300 ease-in-out ${v?"translate-x-0":"translate-x-full lg:translate-x-0"} flex ${I&&!v?"pointer-events-none":""}`,children:[!I&&l.jsx("div",{onMouseDown:R,className:`w-[1px] h-full cursor-col-resize hover:bg-primary z-[100] transition-colors ${D?"bg-primary":"bg-theme"}`}),l.jsx("div",{style:{width:I?"100vw":U},className:"h-full flex flex-col bg-card shadow-2xl lg:shadow-none overflow-hidden",children:v?l.jsx(fx,{id:v==="new"?void 0:v,date:o,onClose:()=>x(null)}):!I&&A()})]}),y&&l.jsx(j_,{onClose:()=>b(!1)})]})},A_=()=>{const{tasks:s,restoreTask:t,deleteTask:n}=He(),i=j.useMemo(()=>s.filter(u=>u.isDeleted===!0),[s]),o=()=>{confirm("     ?")&&i.forEach(u=>n(u.id,!0))};return l.jsxs("div",{className:"h-screen flex flex-col bg-main overflow-hidden",children:[l.jsxs("header",{className:"p-6 md:p-10 bg-card border-b border-theme flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shrink-0",children:[l.jsxs("div",{children:[l.jsx(ee,{variant:"h1",className:"text-2xl md:text-3xl",children:""}),l.jsx(ee,{variant:"tiny",className:"text-muted mt-1",children:"   "})]}),i.length>0&&l.jsx(Xe,{variant:"danger",icon:"fa-trash-arrow-up",size:"sm",onClick:o,children:" "})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-8",children:l.jsx("div",{className:"max-w-4xl mx-auto space-y-3 pb-32",children:i.length>0?i.map(u=>l.jsxs(Me,{className:"bg-card border-theme p-4 flex items-center justify-between group hover:shadow-md transition-all rounded-2xl",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 bg-main rounded-xl flex items-center justify-center text-muted",children:l.jsx("i",{className:"fa-solid fa-trash-can text-sm"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-black text-main",children:u.title}),l.jsxs("div",{className:"text-[9px] font-black text-muted uppercase tracking-widest mt-0.5 opacity-60",children:[" ",new Date(u.createdAt).toLocaleDateString("uk-UA")]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>t(u.id),className:"w-9 h-9 rounded-xl bg-primary/10 text-primary hover:bg-primary hover:text-white flex items-center justify-center transition-all shadow-sm",title:"",children:l.jsx("i",{className:"fa-solid fa-rotate-left"})}),l.jsx("button",{onClick:()=>confirm(" ?")&&n(u.id,!0),className:"w-9 h-9 rounded-xl bg-main text-muted hover:text-rose-500 flex items-center justify-center transition-all",title:" ",children:l.jsx("i",{className:"fa-solid fa-xmark"})})]})]},u.id)):l.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-center opacity-10",children:[l.jsx("i",{className:"fa-solid fa-trash-can text-9xl mb-8"}),l.jsx(ee,{variant:"h2",className:"uppercase tracking-[0.2em]",children:""}),l.jsx(ee,{variant:"body",className:"mt-2 text-xs font-bold",children:"   "})]})})})]})},D_=({person:s,onUpdate:t})=>{const n=j.useMemo(()=>{if(!s.birthDate)return null;const i=new Date(s.birthDate),o=new Date;let u=o.getFullYear()-i.getFullYear();const p=o.getMonth()-i.getMonth();return(p<0||p===0&&o.getDate()<i.getDate())&&u--,u},[s.birthDate]);return l.jsxs("div",{className:"space-y-6",children:[l.jsx("section",{className:"bg-white border border-slate-100 rounded-[2.5rem] p-6 md:p-8 shadow-sm relative overflow-hidden",children:l.jsxs("div",{className:"relative z-10 space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(ee,{variant:"tiny",className:"text-orange-500 mb-2 block font-black uppercase tracking-[0.2em]",children:" "}),l.jsx("p",{className:"text-sm md:text-base font-bold text-slate-700 leading-relaxed italic",children:s.description||"   ."})]}),l.jsxs("div",{className:"text-right shrink-0",children:[l.jsx("div",{className:"text-[28px] font-black leading-none text-orange-600",children:s.rating||0}),l.jsx("div",{className:"text-[8px] font-black uppercase text-slate-400 tracking-widest",children:""})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[l.jsx("span",{className:"text-[7px] font-black uppercase text-slate-400 block mb-1",children:""}),l.jsx("span",{className:"text-xs font-black text-slate-700",children:n?`${n} `:" "})]}),l.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[l.jsx("span",{className:"text-[7px] font-black uppercase text-slate-400 block mb-1",children:" '"}),l.jsx("span",{className:"text-xs font-black text-orange-600 uppercase tracking-widest",children:s.status})]})]})]})}),l.jsx(Me,{padding:"md",className:"bg-slate-50/50 border-dashed border-slate-200",children:l.jsxs("div",{className:"text-center py-4",children:[l.jsx("i",{className:"fa-solid fa-circle-info text-slate-300 text-xl mb-2"}),l.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest leading-relaxed",children:'        ""   .'})]})})]})},M_=[{id:"q1",text:"    ?",icon:"fa-mug-hot"},{id:"q2",text:"    ?",icon:"fa-plane-departure"},{id:"q3",text:"     ?",icon:"fa-book-open"},{id:"q4",text:"   ?  ?",icon:"fa-dog"},{id:"q5",text:'    ""?',icon:"fa-bolt"},{id:"q6",text:"/   ?",icon:"fa-moon"},{id:"q7",text:"    ?",icon:"fa-music"},{id:"q8",text:" /   ?",icon:"fa-rocket"},{id:"q9",text:"    ?",icon:"fa-heart"},{id:"q10",text:"    ?",icon:"fa-ghost"},{id:"q11",text:"  ?",icon:"fa-user-group"},{id:"q12",text:"   ?",icon:"fa-utensils"},{id:"q13",text:"   ?",icon:"fa-star"}],R_={friend:"",colleague:"",family:"'",mentor:"",acquaintance:""},I_=({person:s,onUpdate:t,relationshipTypes:n})=>{const[i,o]=j.useState(null),[u,p]=j.useState(""),[g,v]=j.useState(null),[x,y]=j.useState(""),b=j.useMemo(()=>M_.filter(T=>{var R;return!((R=s.notes)==null?void 0:R.some(U=>U.text.includes(T.text)))}),[s.notes]),w=j.useMemo(()=>b.slice(0,3),[b]),S=T=>{if(!u.trim())return;const D={id:Math.random().toString(36).substr(2,9),text:`${T.text} : ${u.trim()}`,date:new Date().toISOString()};t({...s,notes:[D,...s.notes||[]]}),p(""),o(null)},_=[{val:"week",label:"."},{val:"month",label:"."},{val:"quarter",label:"."},{val:"year",label:""},{val:"none",label:"Off"}];return l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[l.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("div",{className:"bg-slate-50 p-4 rounded-[1.8rem] border border-slate-100 flex items-center justify-between gap-3 group/select relative transition-all hover:bg-white hover:shadow-sm",children:l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 font-black uppercase text-[7px] mb-1.5 tracking-[0.2em]",children:"  "}),l.jsxs("div",{className:"relative flex items-center",children:[l.jsx("select",{value:s.status,onChange:T=>t({...s,status:T.target.value}),className:"w-full bg-white border-2 border-slate-100 rounded-xl text-[10px] font-black uppercase focus:ring-4 focus:ring-orange-100 py-2.5 px-3 outline-none cursor-pointer text-slate-900 appearance-none pr-10 transition-all shadow-sm",children:n.map(T=>l.jsx("option",{value:T,children:R_[T]||T},T))}),l.jsx("i",{className:"fa-solid fa-chevron-down absolute right-3.5 text-[8px] text-slate-300 pointer-events-none transition-transform group-hover/select:translate-y-0.5"})]})]})}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-[1.8rem] border border-slate-100 flex flex-col justify-center transition-all hover:bg-white hover:shadow-sm",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 font-black uppercase text-[7px] mb-2.5 tracking-[0.2em] text-center",children:" '"}),l.jsx("div",{className:"flex justify-between gap-1",children:_.map(T=>l.jsx("button",{onClick:()=>t({...s,loop:T.val}),className:`flex-1 py-2 rounded-lg text-[8px] font-black uppercase transition-all border ${s.loop===T.val?"bg-slate-900 text-white border-slate-900 shadow-lg":"bg-white text-slate-400 border-slate-100 hover:border-orange-200"}`,children:T.label},T.val))})]})]}),w.length>0&&l.jsxs("section",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between px-2",children:[l.jsxs(ee,{variant:"tiny",className:"text-orange-500 font-black uppercase tracking-widest flex items-center gap-2 text-[8px]",children:[l.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-[9px]"})," "]}),l.jsxs("span",{className:"text-[7px] font-black text-slate-300 uppercase",children:[" ",b.length]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:w.map(T=>l.jsxs("div",{className:`px-5 py-4 bg-orange-50/30 border rounded-[1.5rem] transition-all ${i===T.id?"border-orange-300 bg-white ring-4 ring-orange-50":"border-orange-100/30 hover:bg-white hover:border-orange-200 shadow-sm"}`,children:[l.jsxs("div",{onClick:()=>{o(T.id),p("")},className:"flex items-center gap-4 cursor-pointer",children:[l.jsx("div",{className:"w-8 h-8 rounded-xl bg-white text-orange-500 flex items-center justify-center text-xs shadow-sm shrink-0",children:l.jsx("i",{className:`fa-solid ${T.icon}`})}),l.jsx("span",{className:"text-[12px] font-bold text-slate-700 flex-1 leading-tight",children:T.text})]}),i===T.id&&l.jsxs("div",{className:"mt-3 flex gap-2 animate-in slide-in-from-top-1",children:[l.jsx("input",{autoFocus:!0,value:u,onChange:D=>p(D.target.value),onKeyDown:D=>D.key==="Enter"&&S(T),placeholder:" ...",className:"flex-1 bg-slate-50 border border-slate-100 rounded-xl px-4 py-2 text-xs font-bold outline-none focus:ring-2 focus:ring-orange-200"}),l.jsx("button",{onClick:()=>S(T),className:"px-4 py-2 bg-orange-600 text-white rounded-xl text-[9px] font-black uppercase shadow-lg shadow-orange-100",children:""})]})]},T.id))})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest ml-2 text-[8px]",children:" "}),l.jsxs("div",{className:"space-y-2",children:[(s.notes||[]).map(T=>l.jsx("div",{className:"group bg-white p-4 rounded-[1.5rem] border border-slate-100 shadow-sm transition-all hover:border-orange-200",children:g===T.id?l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{autoFocus:!0,value:x,onChange:D=>y(D.target.value),onKeyDown:D=>D.key==="Enter"&&(t({...s,notes:s.notes.map(R=>R.id===T.id?{...R,text:x}:R)}),v(null)),className:"flex-1 bg-slate-50 border border-slate-100 rounded-lg px-3 py-1.5 text-xs font-bold outline-none"}),l.jsx("button",{onClick:()=>{t({...s,notes:s.notes.map(D=>D.id===T.id?{...D,text:x}:D)}),v(null)},className:"text-emerald-500 font-black text-[9px] uppercase",children:"OK"})]}):l.jsxs("div",{className:"flex justify-between items-start gap-4",children:[l.jsx("p",{className:"text-[12px] font-bold text-slate-700 leading-relaxed flex-1",children:T.text}),l.jsxs("div",{className:"flex gap-2 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>{v(T.id),y(T.text)},className:"text-slate-300 hover:text-orange-500",children:l.jsx("i",{className:"fa-solid fa-pen text-[9px]"})}),l.jsx("button",{onClick:()=>t({...s,notes:s.notes.filter(D=>D.id!==T.id)}),className:"text-slate-300 hover:text-rose-500",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[9px]"})})]})]})},T.id)),(!s.notes||s.notes.length===0)&&l.jsx("div",{className:"text-center py-8 bg-slate-50/50 rounded-[2rem] border border-dashed border-slate-200",children:l.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"  "})})]})]})]})},U_=({person:s,onUpdate:t})=>{const[n,i]=j.useState(""),[o,u]=j.useState(""),p=x=>{if(x.preventDefault(),!n.trim()||!o)return;const y={id:Math.random().toString(36).substr(2,9),label:n.trim(),date:o,showInCalendar:!0,repeatYearly:!0};t({...s,importantDates:[...s.importantDates||[],y]}),i(""),u("")},g=(x,y)=>{t({...s,importantDates:(s.importantDates||[]).map(b=>b.id===x?{...b,...y}:b)})},v=x=>{t({...s,importantDates:(s.importantDates||[]).filter(y=>y.id!==x)})};return l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[l.jsxs("section",{className:"bg-white border border-slate-100 rounded-2xl p-4 shadow-sm flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-50 text-orange-500 flex items-center justify-center text-xs",children:l.jsx("i",{className:"fa-solid fa-cake-candles"})}),l.jsx(ee,{variant:"tiny",className:"text-slate-900 font-black uppercase tracking-tight",children:" "})]}),l.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-end",children:[l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>t({...s,birthDateShowInCalendar:!s.birthDateShowInCalendar}),className:`w-7 h-7 rounded-lg transition-all flex items-center justify-center ${s.birthDateShowInCalendar!==!1?"bg-orange-100 text-orange-600":"bg-slate-50 text-slate-300"}`,title:"  ",children:l.jsx("i",{className:"fa-solid fa-calendar-check text-[10px]"})}),l.jsx("button",{onClick:()=>t({...s,birthDateRepeatYearly:!s.birthDateRepeatYearly}),className:`w-7 h-7 rounded-lg transition-all flex items-center justify-center ${s.birthDateRepeatYearly!==!1?"bg-indigo-100 text-indigo-600":"bg-slate-50 text-slate-300"}`,title:" ",children:l.jsx("i",{className:"fa-solid fa-arrows-rotate text-[10px]"})})]}),l.jsx("input",{type:"date",value:s.birthDate||"",onChange:x=>t({...s,birthDate:x.target.value}),className:"bg-slate-50 border border-slate-100 rounded-xl py-2 px-3 text-xs font-bold focus:ring-2 focus:ring-orange-100 outline-none transition-all cursor-pointer w-32"})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest ml-1",children:"   "}),l.jsxs("form",{onSubmit:p,className:"flex items-center gap-2 bg-slate-50 p-2 rounded-2xl border border-slate-100 shadow-inner",children:[l.jsx("input",{value:n,onChange:x=>i(x.target.value),placeholder:" ...",className:"flex-1 bg-white border border-slate-200 rounded-xl py-2 px-3 text-[11px] font-bold outline-none focus:ring-2 focus:ring-orange-200 shadow-sm"}),l.jsx("input",{type:"date",value:o,onChange:x=>u(x.target.value),className:"w-32 bg-white border border-slate-200 rounded-xl py-2 px-3 text-[11px] font-bold outline-none focus:ring-2 focus:ring-orange-200 shadow-sm cursor-pointer"}),l.jsx("button",{type:"submit",className:"w-10 h-9 bg-slate-900 text-white rounded-xl flex items-center justify-center hover:bg-orange-600 transition-all active:scale-95 shadow-md shrink-0",children:l.jsx("i",{className:"fa-solid fa-plus text-xs"})})]}),l.jsx("div",{className:"space-y-1.5",children:(s.importantDates||[]).sort((x,y)=>x.date.localeCompare(y.date)).map(x=>l.jsxs("div",{className:"group flex items-center justify-between bg-white px-4 py-2 rounded-xl border border-slate-50 shadow-sm hover:border-orange-200 transition-all",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-400"}),l.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[l.jsx("span",{className:"text-xs font-black text-slate-700 uppercase tracking-tight truncate",children:x.label}),l.jsx("span",{className:"text-[10px] font-bold text-slate-300 shrink-0",children:new Date(x.date).toLocaleDateString("uk-UA",{day:"numeric",month:"short"})})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>g(x.id,{showInCalendar:!x.showInCalendar}),className:`w-6 h-6 rounded-md transition-all flex items-center justify-center ${x.showInCalendar?"text-orange-500":"text-slate-200"}`,title:" ",children:l.jsx("i",{className:"fa-solid fa-calendar-day text-[9px]"})}),l.jsx("button",{onClick:()=>g(x.id,{repeatYearly:!x.repeatYearly}),className:`w-6 h-6 rounded-md transition-all flex items-center justify-center ${x.repeatYearly?"text-indigo-500":"text-slate-200"}`,title:"",children:l.jsx("i",{className:"fa-solid fa-arrows-rotate text-[9px]"})}),l.jsx("button",{onClick:()=>v(x.id),className:"opacity-0 group-hover:opacity-100 w-6 h-6 text-slate-200 hover:text-rose-500 transition-all flex items-center justify-center",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]})]},x.id))})]})]})},z_=({person:s,onUpdate:t,onFetchAvatar:n})=>{const{aiEnabled:i}=He(),[o,u]=j.useState(null),[p,g]=j.useState(null),v=(S,_)=>{t({...s,socials:{...s.socials,[S]:_}})},x=S=>{if(!S)return"";let _=S.trim().replace(/^@/,"");return _.includes("/")&&(_=_.split("/").filter(Boolean).pop()||""),_},y=(S,_)=>{if(!_)return null;if(_.startsWith("http"))return _;const T=x(_);if(!T)return null;switch(S){case"telegram":return`https://t.me/${T}`;case"instagram":return`https://www.instagram.com/${T}/`;case"linkedin":return`https://www.linkedin.com/in/${T}/`;case"tiktok":return`https://www.tiktok.com/@${T}`;case"threads":return`https://www.threads.net/@${T}`;case"website":return _.match(/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+/)?`https://${_}`:_;default:return _}},b=async(S,_)=>{if(!(!i||o)){u(S);try{const T=await s_(S,_),D=(T.notes||[]).map(Y=>({id:Math.random().toString(36).substr(2,9),text:`[AI ${S.toUpperCase()}] ${Y}`,date:new Date().toISOString()})),R=(T.hobbies||[]).filter(Y=>!s.hobbies.includes(Y)),U=[...new Set([...s.hobbies,...R])],I={notes:[...D,...s.notes||[]],hobbies:U};!s.description&&T.summary&&(I.description=T.summary),!s.birthDate&&T.birthDate&&(I.birthDate=T.birthDate),t({...s,...I}),g({platform:S,addedNotes:D.map(Y=>Y.text),addedHobbies:R,summary:T.summary,birthDate:T.birthDate&&!s.birthDate?T.birthDate:null,newFieldCount:(I.birthDate?1:0)+(I.description?1:0)+R.length+D.length})}catch{alert("  .    .")}finally{u(null)}}},w=[{key:"telegram",icon:"fa-telegram",placeholder:"@username"},{key:"instagram",icon:"fa-instagram",placeholder:"username"},{key:"linkedin",icon:"fa-linkedin",placeholder:"id-name"},{key:"tiktok",icon:"fa-tiktok",placeholder:"username"},{key:"threads",icon:"fa-at",placeholder:"username"},{key:"website",icon:"fa-chrome",placeholder:"domain.com"}];return l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"bg-orange-50/50 p-6 rounded-[2rem] border border-orange-100 mb-6",children:[l.jsxs(ee,{variant:"tiny",className:"text-orange-600 font-black mb-2 uppercase flex items-center gap-2",children:[l.jsx("i",{className:"fa-solid fa-id-card-clip"}),"  "]}),l.jsx("p",{className:"text-[10px] text-orange-800/60 leading-relaxed font-bold",children:'  .  ""    , ""      .'})]}),l.jsx("div",{className:"space-y-3",children:w.map(({key:S,icon:_,placeholder:T})=>{var Y;const D=((Y=s.socials)==null?void 0:Y[S])||"",R=x(D),U=o===S,I=y(S,D);return l.jsxs("div",{className:"flex items-center gap-4 bg-white p-3 rounded-2xl border border-slate-100 focus-within:ring-2 focus-within:ring-orange-100 transition-all shadow-sm group",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400 group-focus-within:text-orange-500 transition-colors shrink-0 shadow-inner",children:l.jsx("i",{className:`fa-brands ${_}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"text-[7px] font-black uppercase text-slate-400 block mb-0.5 tracking-widest",children:S}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{value:D,onChange:G=>v(S,G.target.value),placeholder:T,className:"flex-1 bg-transparent border-none p-0 text-xs font-bold outline-none text-slate-700 placeholder:text-slate-200"}),R&&l.jsxs("div",{className:"flex gap-1",children:[I&&l.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-lg bg-slate-50 text-slate-400 flex items-center justify-center hover:bg-slate-900 hover:text-white transition-all shadow-sm border border-slate-100",title:" ",children:l.jsx("i",{className:"fa-solid fa-arrow-up-right-from-square text-[9px]"})}),S!=="website"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>b(S,R),disabled:!i||U,className:`w-8 h-8 rounded-lg flex items-center justify-center transition-all shadow-sm border ${i?"bg-indigo-50 text-indigo-600 border-indigo-100/50 hover:bg-indigo-600 hover:text-white":"bg-slate-100 text-slate-300 border-slate-200 cursor-help"}`,title:i?` ${S}  `:"   ",children:l.jsx("i",{className:`fa-solid ${U?"fa-circle-notch animate-spin":"fa-wand-magic-sparkles"} text-[9px]`})}),l.jsx("button",{onClick:()=>n(R,S),className:"w-8 h-8 rounded-lg bg-orange-50 text-orange-600 flex items-center justify-center hover:bg-orange-600 hover:text-white transition-all shadow-sm border border-orange-100/50",title:`   ${S}`,children:l.jsx("i",{className:"fa-solid fa-arrows-rotate text-[9px]"})})]})]})]})]})]},S)})}),p&&l.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 tiktok-blur animate-in fade-in",children:[l.jsx("div",{className:"absolute inset-0 bg-slate-950/40",onClick:()=>g(null)}),l.jsxs(Me,{className:"w-full max-w-md bg-white border-none shadow-2xl p-8 rounded-[2.5rem] relative z-10 animate-in zoom-in-95 duration-300",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-14 h-14 rounded-2xl bg-indigo-600 text-white flex items-center justify-center text-xl shadow-lg shadow-indigo-100",children:l.jsx("i",{className:"fa-solid fa-wand-magic-sparkles"})}),l.jsxs("div",{children:[l.jsx(ee,{variant:"h2",className:"text-xl",children:" "}),l.jsx(ee,{variant:"tiny",className:"text-slate-400 uppercase tracking-widest",children:p.platform})]})]}),l.jsxs(ct,{variant:"emerald",className:"h-6 font-black",children:["+",p.newFieldCount," INFO"]})]}),l.jsxs("div",{className:"space-y-5 mb-8 max-h-[50vh] overflow-y-auto custom-scrollbar pr-2",children:[p.birthDate&&l.jsxs("div",{className:"p-3 bg-orange-50 rounded-2xl border border-orange-100 flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-xl bg-white flex items-center justify-center text-orange-500 shadow-sm",children:l.jsx("i",{className:"fa-solid fa-cake-candles text-[10px]"})}),l.jsxs("div",{children:[l.jsx("span",{className:"text-[7px] font-black text-orange-400 uppercase block tracking-widest",children:" "}),l.jsx("span",{className:"text-xs font-black text-orange-700",children:p.birthDate})]})]}),p.addedHobbies.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase mb-2 block tracking-[0.2em]",children:" "}),l.jsx("div",{className:"flex flex-wrap gap-2",children:p.addedHobbies.map((S,_)=>l.jsxs(ct,{variant:"indigo",className:"text-[8px] lowercase font-bold",children:["#",S]},_))})]}),p.addedNotes.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase mb-2 block tracking-[0.2em]",children:" "}),l.jsx("div",{className:"space-y-2",children:p.addedNotes.map((S,_)=>l.jsxs("div",{className:"flex gap-3 p-3 bg-slate-50 rounded-xl text-[11px] font-bold text-slate-700 border border-slate-100 leading-tight",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500 shrink-0 mt-1"}),S.replace(`[AI ${p.platform.toUpperCase()}] `,"")]},_))})]}),p.summary&&l.jsxs("div",{className:"p-4 bg-indigo-50/30 rounded-2xl border border-indigo-100/50",children:[l.jsx("span",{className:"text-[7px] font-black text-indigo-400 uppercase block mb-1 tracking-widest",children:" "}),l.jsxs("p",{className:"text-[11px] font-medium text-indigo-900 leading-relaxed italic",children:['"',p.summary,'"']})]})]}),l.jsx(Xe,{variant:"primary",className:"w-full py-4 rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl shadow-orange-100",onClick:()=>g(null),children:" "})]})]})]})},L_=({person:s,onAddInteraction:t,onDeleteInteraction:n})=>{const[i,o]=j.useState(""),[u,p]=j.useState("chat"),[g,v]=j.useState(30),x=j.useRef(null),y={chat:"fa-message",call:"fa-phone",meeting:"fa-users",coffee:"fa-coffee",walk:"fa-person-walking",event:"fa-calendar-star",other:"fa-circle-dot"},b=j.useMemo(()=>[...s.interactions||[]].sort((D,R)=>(R.date||0)-(D.date||0)),[s.interactions]),w=j.useMemo(()=>b.slice(0,g),[b,g]),S=T=>{i.trim()&&(t(i.trim(),T,u),o(""),setTimeout(()=>{x.current&&(x.current.scrollTop=0)},100))},_=T=>{T.key==="Enter"&&(T.preventDefault(),S(5))};return l.jsxs("div",{className:"flex flex-col h-full max-h-full overflow-hidden animate-in fade-in duration-300",children:[l.jsxs("div",{className:"bg-slate-50 p-3 md:p-4 rounded-2xl border border-slate-100 mb-4 shrink-0 shadow-inner",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 mb-2 block font-black uppercase text-[7px] tracking-widest",children:"   "}),l.jsx("div",{className:"flex gap-1 mb-3 overflow-x-auto no-scrollbar pb-1",children:Object.entries(y).map(([T,D])=>l.jsx("button",{onClick:()=>p(T),className:`w-7 h-7 md:w-8 md:h-8 rounded-lg flex items-center justify-center transition-all shrink-0 ${u===T?"bg-orange-600 text-white shadow-md":"bg-white text-slate-300 border border-slate-100 hover:border-orange-200 hover:text-orange-500"}`,title:T,children:l.jsx("i",{className:`fa-solid ${D} text-[9px] md:text-[10px]`})},T))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{value:i,onChange:T=>o(T.target.value),onKeyDown:_,placeholder:" ...",className:"flex-1 bg-white text-slate-800 rounded-xl px-4 py-2 text-[11px] md:text-xs font-bold outline-none border border-slate-100 focus:border-orange-500 shadow-sm"}),l.jsxs("div",{className:"flex gap-1 shrink-0",children:[l.jsx("button",{onClick:()=>S(5),disabled:!i.trim(),className:"w-8 h-8 md:w-10 md:h-10 bg-emerald-500 text-white rounded-lg flex items-center justify-center shadow-md disabled:opacity-30 transition-all hover:bg-emerald-600 active:scale-95",title:"  (+5 HP)",children:l.jsx("i",{className:"fa-solid fa-plus text-xs"})}),l.jsx("button",{onClick:()=>S(-5),disabled:!i.trim(),className:"w-8 h-8 md:w-10 md:h-10 bg-rose-500 text-white rounded-lg flex items-center justify-center shadow-md disabled:opacity-30 transition-all hover:bg-rose-600 active:scale-95",title:"  (-5 HP)",children:l.jsx("i",{className:"fa-solid fa-minus text-xs"})})]})]})]}),l.jsx("div",{className:"flex-1 min-h-0 bg-white rounded-2xl border border-slate-50 overflow-hidden flex flex-col",children:l.jsxs("div",{ref:x,className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:[w.length>0?w.map(T=>{const D=T.summary.includes("[ +"),R=T.summary.includes("[ -"),U=T.summary.split(" [")[0],I=new Date(T.date);return l.jsxs("div",{className:"group relative flex items-start gap-3 p-3 hover:bg-slate-50 rounded-xl transition-all border border-transparent hover:border-slate-100 animate-in slide-in-from-top-1",children:[l.jsx("div",{className:"shrink-0 pt-0.5",children:l.jsx("div",{className:`w-7 h-7 md:w-8 md:h-8 rounded-lg flex items-center justify-center shadow-sm border border-white ${D?"bg-emerald-500":R?"bg-rose-500":"bg-slate-400"} text-white`,children:l.jsx("i",{className:`fa-solid ${y[T.type]||"fa-circle-dot"} text-[9px] md:text-xs`})})}),l.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[l.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-slate-800 uppercase tracking-tight",children:I.toLocaleDateString("uk-UA",{day:"numeric",month:"short"})}),l.jsx("span",{className:"text-[8px] md:text-[9px] font-black text-slate-300 uppercase",children:I.toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"})})]}),l.jsx("button",{onClick:Y=>{Y.stopPropagation(),n(T.id)},className:"text-slate-200 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100 p-1",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]}),l.jsx("p",{className:"text-[11px] md:text-xs font-bold text-slate-600 leading-snug",children:U}),l.jsxs("div",{className:"mt-1.5 flex gap-1",children:[D&&l.jsx("span",{className:"text-[6px] md:text-[7px] font-black text-emerald-500 bg-emerald-50 px-1.5 py-0.5 rounded border border-emerald-100 uppercase tracking-tighter",children:"+ HP"}),R&&l.jsx("span",{className:"text-[6px] md:text-[7px] font-black text-rose-500 bg-rose-50 px-1.5 py-0.5 rounded border border-rose-100 uppercase tracking-tighter",children:"- HP"})]})]})]},T.id)}):l.jsxs("div",{className:"py-20 text-center opacity-10 flex flex-col items-center",children:[l.jsx("i",{className:"fa-solid fa-clock-rotate-left text-5xl mb-4"}),l.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"  "})]}),g<b.length&&l.jsx("button",{onClick:()=>v(T=>T+30),className:"w-full py-4 text-[8px] font-black text-slate-300 uppercase tracking-widest hover:text-orange-500 transition-colors",children:" ..."})]})})]})},O_=({person:s,tasks:t,onAddTask:n,onToggleTask:i})=>{const[o,u]=j.useState(new Date().toISOString().split("T")[0]),p=[{title:"",icon:"fa-coffee"},{title:"",icon:"fa-phone"},{title:"",icon:"fa-handshake"},{title:"",icon:"fa-cake-candles"}],g=t.filter(v=>v.personId===s.id&&!v.isDeleted);return l.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[l.jsxs("section",{className:"space-y-4",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest",children:" "}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:p.map(v=>l.jsxs("button",{onClick:()=>n(`${v.title}  ${s.name}`,new Date(o).getTime()),className:"p-3 bg-slate-50 rounded-2xl border border-slate-100 hover:border-orange-200 transition-all flex flex-col items-center gap-1",children:[l.jsx("i",{className:`fa-solid ${v.icon} text-orange-500 text-xs`}),l.jsx("span",{className:"text-[8px] font-black uppercase",children:v.title})]},v.title))}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[l.jsx("input",{type:"date",value:o,onChange:v=>u(v.target.value),className:"bg-slate-50 border border-slate-100 rounded-xl px-3 py-2 text-[10px] font-bold outline-none focus:ring-2 focus:ring-orange-100"}),l.jsx("input",{onKeyDown:v=>{v.key==="Enter"&&v.target.value&&(n(v.target.value,new Date(o).getTime()),v.target.value="")},placeholder:" ...",className:"flex-1 bg-slate-50 border border-slate-100 rounded-xl px-4 py-2 text-xs font-bold focus:ring-2 focus:ring-orange-100 outline-none"})]})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 font-black uppercase",children:" "}),g.map(v=>l.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-3 shadow-sm hover:border-orange-200 transition-all",children:[l.jsx("button",{onClick:()=>i(v),className:`w-5 h-5 rounded-lg border flex items-center justify-center shrink-0 transition-all ${v.status===me.DONE?"bg-emerald-500 border-emerald-500 text-white":"bg-white border-slate-200 hover:border-orange-400"}`,children:v.status===me.DONE&&l.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:`text-xs font-bold block truncate ${v.status===me.DONE?"line-through text-slate-300":"text-slate-700"}`,children:v.title}),v.scheduledDate&&l.jsx("span",{className:"text-[7px] font-black text-orange-500 uppercase tracking-widest",children:new Date(v.scheduledDate).toLocaleDateString("uk-UA")})]})]},v.id))]})]})},V_=({person:s,aiEnabled:t,isAnalyzing:n,onAnalyze:i})=>{var o;return l.jsx("div",{className:"animate-in fade-in duration-500 space-y-6",children:t?l.jsxs("section",{className:"bg-slate-950 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/10 blur-[50px]"}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs(ee,{variant:"h2",className:"text-xl flex items-center gap-3 font-black uppercase text-white tracking-tight",children:[l.jsx("i",{className:"fa-solid fa-sparkles text-orange-500"})," AI "]}),l.jsx("button",{onClick:i,disabled:n,className:`w-10 h-10 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center transition-all hover:bg-white/10 ${n?"animate-spin":""}`,children:l.jsx("i",{className:"fa-solid fa-rotate text-xs"})})]}),s.aiPortrait?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"p-5 bg-white/5 rounded-3xl border border-white/5 shadow-inner",children:[l.jsx(ee,{variant:"tiny",className:"text-orange-500 mb-3 block font-black uppercase tracking-widest text-[8px]",children:" "}),l.jsxs("p",{className:"text-sm font-medium leading-relaxed text-slate-300 italic",children:['"',s.aiPortrait.summary,'"']})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest text-[8px]",children:" :"}),l.jsx("div",{className:"space-y-2",children:(o=s.aiPortrait.topics)==null?void 0:o.map((u,p)=>l.jsxs("div",{className:"p-4 bg-white/5 border border-white/5 rounded-2xl text-[11px] font-bold text-slate-300 flex items-center gap-4 group/item hover:bg-white/10 transition-colors",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-500 group-hover/item:scale-150 transition-transform"})," ",u]},p))})]})]}):l.jsxs("div",{className:"py-20 text-center space-y-6 flex flex-col items-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-[2rem] bg-white/5 border border-white/10 flex items-center justify-center text-4xl opacity-20",children:l.jsx("i",{className:"fa-solid fa-robot"})}),l.jsx("p",{className:"text-sm font-bold text-slate-400 max-w-xs",children:"      ,    ."}),l.jsx(Xe,{variant:"primary",className:"w-full py-4 rounded-2xl font-black uppercase tracking-widest text-[10px] shadow-lg shadow-orange-500/20",onClick:i,disabled:n,children:" "})]})]})]}):l.jsxs(Me,{className:"bg-orange-50 border-orange-200 p-8 text-center flex flex-col items-center",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-orange-100 text-orange-500 flex items-center justify-center text-2xl mb-4 shadow-inner",children:l.jsx("i",{className:"fa-solid fa-lock"})}),l.jsx(ee,{variant:"h3",className:"mb-2 text-orange-900",children:"- "}),l.jsx("p",{className:"text-xs text-orange-600/70 leading-relaxed max-w-xs",children:"    ,  Gemini    ."})]})})},H_=({personId:s,onClose:t,initialTab:n="dossier"})=>{const{people:i,updatePerson:o,character:u,aiEnabled:p,tasks:g,addTask:v,toggleTaskStatus:x,addInteraction:y,deleteInteraction:b,relationshipTypes:w,addRelationshipType:S}=He(),_=i.find(k=>k.id===s),[T,D]=j.useState(n),[R,U]=j.useState(!1);if(j.useEffect(()=>{D(n)},[n]),!_)return null;const I=k=>o({..._,...k}),Y=(k,M,A)=>{y(_.id,{summary:`${k} [ ${M>0?"+":""}${M}]`,type:A,date:Date.now(),emotion:M>0?"joy":"neutral"});const z=_.rating||0;I({rating:Math.max(0,Math.min(100,z+M))})},G=(k,M)=>{let A=k||prompt("   email:");if(A){const z=A.replace("@","").trim(),V=`https://unavatar.io/${z}?fallback=https://api.dicebear.com/7.x/avataaars/svg?seed=${z}`;I({avatar:V})}},W=async()=>{if(p){U(!0);try{const k=await a_(_,u);I({aiPortrait:{...k,updatedAt:Date.now()}}),D("ai")}catch{alert("  .")}finally{U(!1)}}};return l.jsxs("div",{className:"fixed top-0 right-0 h-full w-full md:w-[580px] bg-white border-l border-slate-100 z-[110] shadow-[-20px_0_60px_rgba(0,0,0,0.05)] flex flex-col overflow-hidden animate-in slide-in-from-right duration-300",children:[l.jsxs("header",{className:"p-3 md:p-8 border-b border-slate-50 flex justify-between items-start shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3 md:gap-5 min-w-0",children:[l.jsxs("div",{className:"w-12 h-12 md:w-20 md:h-20 rounded-xl md:rounded-[2rem] bg-slate-50 ring-2 md:ring-4 ring-orange-50 overflow-hidden shadow-lg shrink-0 group relative",children:[l.jsx("img",{src:_.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${_.name}`,className:"w-full h-full object-cover transition-transform group-hover:scale-110"}),l.jsx("button",{onClick:()=>G(),className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx("i",{className:"fa-solid fa-sync text-white text-xs"})})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("input",{className:"text-base md:text-xl font-black text-slate-900 bg-transparent border-none p-0 focus:ring-0 w-full mb-0.5 md:mb-1 truncate",value:_.name,onChange:k=>I({name:k.target.value})}),l.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[l.jsx(ct,{variant:"orange",className:"text-[6px] md:text-[8px] uppercase",children:_.status}),l.jsxs(ct,{variant:"yellow",className:"text-[6px] md:text-[8px] uppercase",children:["Karma ",_.rating||0]})]})]})]}),l.jsx("button",{onClick:t,className:"w-8 h-8 md:w-10 md:h-10 rounded-lg md:rounded-2xl bg-slate-50 flex items-center justify-center text-slate-300 hover:text-slate-900 transition-all shrink-0",children:l.jsx("i",{className:"fa-solid fa-xmark text-xs md:text-sm"})})]}),l.jsx("div",{className:"flex border-b border-slate-50 px-1 md:px-4 shrink-0 overflow-x-auto no-scrollbar bg-white sticky top-0 z-30",children:["dossier","dates","skills","vcard","timeline","tasks","ai"].map(k=>l.jsxs("button",{onClick:()=>D(k),className:`flex-none md:flex-1 min-w-[65px] md:min-w-[80px] px-3 py-3 md:py-4 text-[7px] md:text-[9px] font-black uppercase tracking-widest transition-all relative ${T===k?"text-orange-600":"text-slate-400"}`,children:[k==="dossier"?"":k==="dates"?"":k==="skills"?"":k==="vcard"?"":k==="timeline"?"":k==="tasks"?"":"",T===k&&l.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-600"})]},k))}),l.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-8 bg-white",children:[T==="dossier"&&l.jsx(D_,{person:_,onUpdate:I,onAddInteraction:Y}),T==="dates"&&l.jsx(U_,{person:_,onUpdate:I}),T==="skills"&&l.jsx(I_,{person:_,onUpdate:I,onAddHobby:k=>I({hobbies:[..._.hobbies,k]}),onAddSkill:k=>I({tags:[..._.tags,k]}),relationshipTypes:w,onAddRelType:S}),T==="vcard"&&l.jsx(z_,{person:_,onUpdate:I,onFetchAvatar:G}),T==="timeline"&&l.jsx(L_,{person:_,onAddInteraction:Y,onDeleteInteraction:k=>b(_.id,k)}),T==="tasks"&&l.jsx(O_,{person:_,tasks:g,onAddTask:(k,M)=>v(k,"tasks",void 0,"actions",!0,M,_.id,me.NEXT_ACTION),onToggleTask:x}),T==="ai"&&l.jsx(V_,{person:_,aiEnabled:p,isAnalyzing:R,onAnalyze:W})]}),l.jsx("footer",{className:"p-4 md:p-6 border-t border-slate-50 bg-slate-50/30 flex gap-3 md:gap-4 shrink-0 mb-safe",children:l.jsx(Xe,{variant:"white",onClick:t,className:"flex-1 rounded-xl md:rounded-2xl py-2.5 md:py-4 font-black uppercase text-[7px] md:text-[10px] tracking-widest shadow-sm",children:""})})]})},B_=()=>{const{people:s,addPerson:t,relationshipTypes:n,addRelationshipType:i,tasks:o,toggleTaskStatus:u}=He(),[p,g]=j.useState(""),[v,x]=j.useState("all"),[y,b]=j.useState("grid"),[w,S]=j.useState(null),[_,T]=j.useState("dossier"),[D,R]=j.useState({active:!1,status:"acquaintance"}),[U,I]=j.useState(""),[Y,G]=j.useState(!1),[W,k]=j.useState("");j.useRef(null);const{detailsWidth:M,startResizing:A,isResizing:z}=Hn(280,450),V=P=>({friend:"",colleague:"",family:"'",mentor:"",acquaintance:""})[P]||P.charAt(0).toUpperCase()+P.slice(1),B=P=>{if(P.loop==="none"||!P.lastInteractionAt)return{label:"",color:"slate",icon:"fa-seedling",urgent:!1};const Z=(Date.now()-P.lastInteractionAt)/(1e3*60*60*24),K={week:7,month:30,quarter:90,year:365,none:9999}[P.loop]||30;return Z>K*1.5?{label:"",color:"rose",icon:"fa-skull-crossbones",urgent:!0,level:0}:Z>K?{label:"",color:"amber",icon:"fa-wind",urgent:!0,level:1}:{label:"",color:"emerald",icon:"fa-fire",urgent:!1,level:2}},$=j.useMemo(()=>{const P={all:s.length};return n.forEach(Z=>{P[Z]=s.filter(E=>E.status===Z).length}),P},[s,n]),ae=j.useMemo(()=>s.filter(P=>{const Z=P.name.toLowerCase().includes(p.toLowerCase())||P.tags.some(K=>K.toLowerCase().includes(p.toLowerCase())),E=v==="all"||P.status===v;return Z&&E}).sort((P,Z)=>(Z.rating||0)-(P.rating||0)),[s,p,v]),fe=j.useMemo(()=>{const P=s.reduce((K,oe)=>K+(oe.rating||0),0),Z=s.filter(K=>B(K).urgent).length;return{avgKarma:s.length?Math.round(P/s.length):0,urgentCount:Z}},[s]),O=j.useMemo(()=>o.filter(P=>!P.isDeleted&&P.status!==me.DONE&&P.personId).slice(0,5),[o]),q=(P,Z)=>{T(Z),S(P)},he=P=>{if(P==null||P.preventDefault(),U.trim()){const Z=D.status==="all"?"acquaintance":D.status,E=t(U.trim(),Z);I(""),R({active:!1,status:"acquaintance"}),S(E),T("dossier")}};return l.jsxs("div",{className:"h-screen flex flex-col md:flex-row bg-main overflow-hidden relative text-main",children:[l.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full",children:[l.jsxs("header",{className:"p-4 md:p-8 bg-card border-b border-theme z-20 flex flex-col md:flex-row justify-between items-start md:items-center gap-3 md:gap-4 shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[l.jsx("div",{className:"w-8 h-8 md:w-12 md:h-12 rounded-lg md:rounded-2xl bg-primary flex items-center justify-center text-white shadow-lg",children:l.jsx("i",{className:"fa-solid fa-users-between-lines text-xs md:text-base"})}),l.jsxs("div",{children:[l.jsx(ee,{variant:"h1",className:"text-lg md:text-2xl leading-none mb-0.5",children:""}),l.jsx(ee,{variant:"tiny",className:"text-muted uppercase tracking-widest text-[7px] md:text-[10px]",children:" "})]})]}),l.jsxs("div",{className:"flex items-center gap-1.5 md:gap-3 w-full md:w-auto",children:[l.jsxs("div",{className:"relative flex-1 md:w-64",children:[l.jsx("i",{className:"fa-solid fa-magnifying-glass absolute left-3 md:left-4 top-1/2 -translate-y-1/2 text-muted/50 text-[9px] md:text-[10px]"}),l.jsx("input",{value:p,onChange:P=>g(P.target.value),placeholder:"...",className:"w-full bg-main border border-theme rounded-xl py-2 md:py-3 pl-8 md:pl-10 pr-3 text-[11px] md:text-sm font-bold focus:ring-2 focus:ring-primary/20 outline-none text-main"})]}),l.jsxs("div",{className:"flex bg-main p-0.5 md:p-1 rounded-lg md:rounded-xl shrink-0 border border-theme",children:[l.jsx("button",{onClick:()=>b("grid"),className:`w-7 h-7 md:w-10 md:h-10 rounded-md md:rounded-lg flex items-center justify-center transition-all ${y==="grid"?"bg-card shadow-sm text-primary":"text-muted"}`,children:l.jsx("i",{className:"fa-solid fa-grip text-[10px] md:text-xs"})}),l.jsx("button",{onClick:()=>b("list"),className:`w-7 h-7 md:w-10 md:h-10 rounded-md md:rounded-lg flex items-center justify-center transition-all ${y==="list"?"bg-card shadow-sm text-primary":"text-muted"}`,children:l.jsx("i",{className:"fa-solid fa-list text-[10px] md:text-xs"})})]})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 md:p-6",children:l.jsxs("div",{className:"max-w-6xl mx-auto pb-32",children:[l.jsxs("div",{className:"flex items-center gap-1.5 overflow-x-auto no-scrollbar mb-4 md:mb-8 pb-1 -mx-3 px-3 md:mx-0 md:px-0",children:[l.jsxs("button",{onClick:()=>x("all"),className:`px-4 py-2 md:px-5 md:py-2.5 rounded-xl text-[8px] md:text-[10px] font-black uppercase tracking-widest transition-all shrink-0 border flex items-center gap-1.5 ${v==="all"?"bg-primary text-white border-primary shadow-md":"bg-card text-muted border-theme"}`,children:[" ",l.jsxs("span",{className:`text-[7px] md:text-[8px] opacity-40 ${v==="all"?"text-white":"text-muted"}`,children:["(",$.all,")"]})]}),n.map(P=>l.jsxs("button",{onClick:()=>x(P),className:`px-4 py-2 md:px-5 md:py-2.5 rounded-xl text-[8px] md:text-[10px] font-black uppercase tracking-widest transition-all shrink-0 border flex items-center gap-1.5 ${v===P?"bg-primary text-white border-primary shadow-md":"bg-card text-muted border-theme"}`,children:[V(P)," ",l.jsxs("span",{className:`text-[7px] md:text-[8px] opacity-40 ${v===P?"text-white":"text-muted"}`,children:["(",$[P]||0,")"]})]},P))]}),y==="grid"?l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-3 md:gap-5",children:[ae.map(P=>{const Z=B(P),E=o.filter(oe=>!oe.isDeleted&&oe.status!==me.DONE&&oe.personId===P.id).length,K=Math.min(100,Math.max(0,P.rating||0));return l.jsxs(Me,{padding:"none",className:"bg-card border-theme shadow-sm hover:shadow-xl transition-all group overflow-hidden flex flex-col w-full",children:[l.jsxs("div",{onClick:()=>q(P.id,"dossier"),className:"p-4 md:p-5 flex gap-3 md:gap-4 items-start cursor-pointer",children:[l.jsxs("div",{className:"relative shrink-0",children:[l.jsx("img",{src:P.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${P.name}`,className:"w-12 h-12 md:w-16 md:h-16 rounded-xl md:rounded-[1.5rem] bg-main border border-theme shadow-sm object-cover"}),Z.urgent&&l.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 md:w-4 md:h-4 bg-rose-500 border-2 border-sidebar rounded-full animate-pulse"})]}),l.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[l.jsxs("div",{className:"flex justify-between items-start mb-0.5 md:mb-1",children:[l.jsx(ee,{variant:"h3",className:"text-[12px] md:text-sm font-black uppercase truncate text-main leading-tight",children:P.name}),E>0&&l.jsxs(ct,{variant:"indigo",className:"text-[6px] md:text-[7px] py-0 px-1 shrink-0",children:["Q x",E]})]}),l.jsxs("div",{className:"mb-1 md:mb-2",children:[l.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[l.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase text-muted tracking-tighter",children:"Karma"}),l.jsx("span",{className:"text-[7px] md:text-[8px] font-black text-muted",children:P.rating||0})]}),l.jsx("div",{className:"h-0.5 md:h-1.5 bg-main rounded-full overflow-hidden flex shadow-inner",children:l.jsx("div",{className:`h-full transition-all duration-1000 ${K>70?"bg-emerald-500":K>30?"bg-primary":"bg-rose-500"}`,style:{width:`${K}%`}})})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(ct,{variant:"slate",className:"text-[6px] md:text-[7px] px-1 py-0",children:V(P.status)}),l.jsx("span",{className:"text-[7px] md:text-[8px] font-black text-muted uppercase tracking-tighter",children:Z.label})]})]})]}),l.jsx("div",{className:"px-4 md:px-5 pb-2 md:pb-4 flex flex-wrap gap-1 md:gap-1.5 overflow-hidden h-4 md:h-6",children:P.hobbies.slice(0,3).map(oe=>l.jsxs("span",{className:"text-[7px] md:text-[8px] font-bold text-muted bg-main px-1.5 md:px-2 py-0.5 rounded-full border border-theme truncate max-w-[70px] md:max-w-[80px]",children:["#",oe]},oe))}),l.jsxs("div",{className:"mt-auto border-t border-theme bg-main/30 p-1 md:p-2 grid grid-cols-4 gap-px text-center",children:[l.jsxs("button",{onClick:()=>q(P.id,"dossier"),className:"flex flex-col items-center justify-center py-1 md:py-2 rounded-lg hover:bg-card hover:text-primary text-muted transition-all",children:[l.jsx("i",{className:"fa-solid fa-id-card text-[10px] md:text-[11px] mb-0.5"}),l.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase",children:""})]}),l.jsxs("button",{onClick:()=>q(P.id,"dates"),className:"flex flex-col items-center justify-center py-1 md:py-2 rounded-lg hover:bg-card hover:text-primary text-muted transition-all",children:[l.jsx("i",{className:"fa-solid fa-calendar-day text-[10px] md:text-[11px] mb-0.5"}),l.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase",children:""})]}),l.jsxs("button",{onClick:()=>q(P.id,"timeline"),className:"flex flex-col items-center justify-center py-1 md:py-2 rounded-lg hover:bg-card hover:text-primary text-muted transition-all",children:[l.jsx("i",{className:"fa-solid fa-clock-rotate-left text-[10px] md:text-[11px] mb-0.5"}),l.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase",children:""})]}),l.jsxs("button",{onClick:()=>q(P.id,"tasks"),className:"flex flex-col items-center justify-center py-1 md:py-2 rounded-lg hover:bg-card hover:text-primary text-muted transition-all",children:[l.jsx("i",{className:"fa-solid fa-bolt text-[10px] md:text-[11px] mb-0.5"}),l.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase",children:""})]})]})]},P.id)}),l.jsxs("button",{onClick:()=>R({active:!0,status:v==="all"?"acquaintance":v}),className:"group border-2 border-dashed border-theme rounded-2xl md:rounded-[2rem] p-6 md:p-8 flex flex-col items-center justify-center text-muted hover:border-primary/50 hover:text-primary hover:bg-card transition-all min-h-[120px] md:min-h-[160px] w-full",children:[l.jsx("i",{className:"fa-solid fa-user-plus text-xl md:text-2xl mb-2 md:mb-3 group-hover:scale-110 transition-transform"}),l.jsx("span",{className:"text-[8px] md:text-[10px] font-black uppercase tracking-widest",children:" "})]})]}):l.jsx("div",{className:"bg-card rounded-xl md:rounded-3xl border border-theme overflow-hidden shadow-sm",children:l.jsx("div",{className:"overflow-x-auto no-scrollbar",children:l.jsxs("table",{className:"w-full text-left min-w-[320px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-main/50 border-b border-theme",children:[l.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-[8px] md:text-[9px] font-black uppercase text-muted tracking-widest",children:""}),l.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-[8px] md:text-[9px] font-black uppercase text-muted tracking-widest hidden sm:table-cell",children:"HP"}),l.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-[8px] md:text-[9px] font-black uppercase text-muted tracking-widest",children:""}),l.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4"})]})}),l.jsx("tbody",{className:"divide-y divide-theme/30",children:ae.map(P=>{const Z=Math.min(100,Math.max(0,P.rating||0));return l.jsxs("tr",{onClick:()=>q(P.id,"dossier"),className:"group hover:bg-main/30 transition-colors cursor-pointer",children:[l.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4",children:l.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.jsx("img",{src:P.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${P.name}`,className:"w-8 h-8 md:w-8 md:h-8 rounded-full bg-main border border-theme"}),l.jsx("span",{className:"text-[11px] md:text-[13px] font-black text-main truncate max-w-[100px] md:max-w-none",children:P.name})]})}),l.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4 w-24 md:w-48 hidden sm:table-cell",children:l.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.jsx("div",{className:"flex-1 h-1 md:h-1.5 bg-main rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${Z>70?"bg-emerald-500":Z>30?"bg-primary":"bg-rose-500"}`,style:{width:`${Z}%`}})}),l.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-muted",children:P.rating||0})]})}),l.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4",children:l.jsx(ct,{variant:"slate",className:"text-[6px] md:text-[8px] py-0",children:V(P.status)})}),l.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4 text-right",children:l.jsxs("div",{className:"flex justify-end gap-1.5 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:E=>{E.stopPropagation(),q(P.id,"timeline")},className:"w-7 h-7 md:w-8 md:h-8 rounded-md bg-card border border-theme text-muted hover:text-primary flex items-center justify-center",children:l.jsx("i",{className:"fa-solid fa-clock-rotate-left text-[10px]"})}),l.jsx("button",{onClick:E=>{E.stopPropagation(),q(P.id,"tasks")},className:"w-7 h-7 md:w-8 md:h-8 rounded-md bg-card border border-theme text-muted hover:text-primary flex items-center justify-center",children:l.jsx("i",{className:"fa-solid fa-bolt text-[10px]"})})]})})]},P.id)})})]})})})]})})]}),l.jsxs("aside",{style:{width:window.innerWidth<1024?"100%":M},className:`${window.innerWidth<1024?"border-t md:border-t-0":"border-l"} bg-sidebar border-theme shrink-0 relative z-30 flex flex-col`,children:[window.innerWidth>=1024&&l.jsx("div",{onMouseDown:A,className:`absolute left-0 top-0 bottom-0 w-[1.5px] cursor-col-resize hover:bg-primary transition-colors z-50 ${z?"bg-primary":"bg-theme"}`}),l.jsxs("header",{className:"p-5 md:p-6 border-b border-theme shrink-0",children:[l.jsx(ee,{variant:"tiny",className:"text-muted font-black uppercase tracking-widest mb-1",children:" "}),l.jsx(ee,{variant:"h2",className:"text-base md:text-lg",children:"Social Capital"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 md:p-6 space-y-6 md:space-y-8",children:[l.jsxs("section",{className:"grid grid-cols-2 lg:grid-cols-1 gap-3",children:[l.jsxs("div",{className:"bg-primary p-4 md:p-5 text-white rounded-[1.5rem] md:rounded-[2rem] shadow-xl relative overflow-hidden group",children:[l.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-white/10 blur-2xl group-hover:bg-white/20 transition-all"}),l.jsx(ee,{variant:"tiny",className:"text-white opacity-60 font-black mb-1 uppercase text-[7px]",children:" Karma"}),l.jsx("div",{className:"text-2xl md:text-3xl font-black",children:fe.avgKarma}),l.jsx("div",{className:"mt-2 md:mt-3 h-1 bg-white/20 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-white shadow-[0_0_8px_white]",style:{width:`${fe.avgKarma}%`}})})]}),l.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-[1.5rem] md:rounded-[2rem] p-4 md:p-5 text-rose-500",children:[l.jsx(ee,{variant:"tiny",className:"text-rose-500 opacity-60 font-black mb-1 uppercase text-[7px]",children:" "}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-2xl md:text-3xl font-black",children:fe.urgentCount}),l.jsx("i",{className:"fa-solid fa-heart-pulse text-rose-500 text-lg md:text-xl animate-pulse"})]})]})]}),l.jsxs("section",{className:"space-y-3 md:space-y-4",children:[l.jsxs(ee,{variant:"tiny",className:"text-main font-black uppercase tracking-widest flex items-center gap-2 text-[9px]",children:[l.jsx("i",{className:"fa-solid fa-bolt-lightning text-primary"}),"  '"]}),l.jsx("div",{className:"space-y-2",children:O.map(P=>{const Z=s.find(E=>E.id===P.personId);return l.jsx("div",{className:"p-3 bg-main border border-theme rounded-2xl hover:bg-card hover:border-primary transition-all group cursor-pointer shadow-sm",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("button",{onClick:()=>u(P),className:"w-5 h-5 rounded-lg border-2 border-theme mt-0.5 flex items-center justify-center bg-sidebar group-hover:border-primary",children:l.jsx("i",{className:"fa-solid fa-check text-[9px] text-transparent group-hover:text-primary"})}),l.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>Z&&q(Z.id,"tasks"),children:[l.jsx("div",{className:"text-[10px] md:text-[11px] font-black text-main truncate mb-1",children:P.title}),Z&&l.jsxs("span",{className:"text-[7px] md:text-[8px] font-black text-primary uppercase",children:[" ",Z.name]})]})]})},P.id)})})]})]})]}),D.active&&l.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 tiktok-blur",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>R({active:!1,status:"acquaintance"})}),l.jsxs(Me,{className:"w-full max-w-sm relative z-10 shadow-2xl p-6 md:p-8 rounded-[2rem] md:rounded-[2.5rem] bg-card border-theme",children:[l.jsx(ee,{variant:"h2",className:"mb-4 md:mb-6 text-lg md:text-xl",children:" "}),l.jsxs("form",{onSubmit:he,className:"space-y-4 md:space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[9px] md:text-[10px] font-black uppercase text-muted tracking-widest mb-1.5 md:mb-2 block",children:" / '"}),l.jsx("input",{autoFocus:!0,value:U,onChange:P=>I(P.target.value),placeholder:"...",className:"w-full bg-main border border-theme rounded-xl py-3 md:py-4 px-4 md:px-5 text-sm font-bold focus:ring-4 focus:ring-primary/10 outline-none transition-all text-main"})]}),l.jsxs("div",{className:"flex gap-3 md:gap-4",children:[l.jsx(Xe,{variant:"white",className:"flex-1 rounded-xl md:rounded-2xl py-3",onClick:()=>R({active:!1,status:"acquaintance"}),children:""}),l.jsx(Xe,{type:"submit",className:"flex-[2] rounded-xl md:rounded-2xl shadow-lg py-3",children:""})]})]})]})]}),w&&l.jsx(H_,{personId:w,onClose:()=>S(null),initialTab:_})]})},G_=()=>{const{character:s,updateCharacter:t,tasks:n,cycle:i,diary:o,hobbies:u}=He(),[p,g]=j.useState("status"),v=j.useMemo(()=>({done:n.filter(b=>b.status===me.DONE&&!b.isDeleted).length}),[n]),x=[{key:"health",label:"'",icon:"fa-heart-pulse",color:"#f43f5e"},{key:"career",label:"'",icon:"fa-briefcase",color:"#6366f1"},{key:"finance",label:"",icon:"fa-coins",color:"#10b981"},{key:"education",label:"",icon:"fa-book-open-reader",color:"#f59e0b"},{key:"relationships",label:"",icon:"fa-people-group",color:"#ec4899"},{key:"rest",label:"",icon:"fa-couch",color:"#06b6d4"}],y=(b,w,S)=>l.jsxs("button",{onClick:()=>g(b),className:`flex items-center gap-2 px-6 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${p===b?"bg-slate-900 text-white shadow-xl":"text-slate-400 hover:bg-slate-100"}`,children:[l.jsx("i",{className:`fa-solid ${S}`}),w]});return l.jsxs("div",{className:"min-h-screen bg-[var(--bg-main)] pb-32",children:[l.jsx("div",{className:"bg-white border-b border-slate-100 px-6 py-8 relative overflow-hidden",children:l.jsxs("div",{className:"max-w-5xl mx-auto flex flex-col md:flex-row items-center gap-8 relative z-10",children:[l.jsx("div",{className:"w-28 h-28 md:w-32 md:h-32 rounded-[2.5rem] bg-white p-1 shadow-2xl ring-4 ring-orange-50 relative overflow-hidden",children:l.jsx("img",{src:s.avatarUrl,alt:"Hero",className:"w-full h-full object-cover rounded-[2rem] bg-slate-50"})}),l.jsxs("div",{className:"flex-1 text-center md:text-left",children:[l.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-3 mb-2",children:[l.jsx(ee,{variant:"h1",className:"text-3xl",children:s.name}),l.jsxs(ct,{variant:"orange",children:["LVL ",s.level]})]}),l.jsx(ee,{variant:"tiny",className:"text-slate-400 font-black tracking-widest uppercase",children:s.role||s.archetype}),l.jsxs("div",{className:"flex gap-4 mt-4 overflow-x-auto no-scrollbar pb-2",children:[y("status","","fa-bolt-lightning"),y("identity","","fa-user-gear"),y("evolution","","fa-chart-line")]})]})]})}),l.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-10",children:[p==="status"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 animate-in fade-in duration-300",children:[l.jsxs("section",{className:"space-y-6",children:[l.jsx(ee,{variant:"h2",className:"text-xl font-black",children:" "}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs(Me,{padding:"md",className:"bg-rose-50/50 border-rose-100",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-[10px] font-black uppercase text-rose-600",children:""}),l.jsxs("span",{className:"text-lg font-black text-rose-600",children:[s.energy,"%"]})]}),l.jsx("div",{className:"h-1.5 bg-rose-100 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-rose-500",style:{width:`${s.energy}%`}})})]}),l.jsxs(Me,{padding:"md",className:"bg-indigo-50/50 border-indigo-100",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-[10px] font-black uppercase text-indigo-600",children:""}),l.jsxs("span",{className:"text-lg font-black text-indigo-600",children:[s.focus,"%"]})]}),l.jsx("div",{className:"h-1.5 bg-indigo-100 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-indigo-500",style:{width:`${s.focus}%`}})})]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:x.map(b=>{const w=s.stats[b.key]||0;return l.jsxs(Me,{padding:"sm",className:"border-slate-100 flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white",style:{backgroundColor:b.color},children:l.jsx("i",{className:`fa-solid ${b.icon} text-[10px]`})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"text-[9px] font-black text-slate-800 uppercase",children:b.label}),l.jsxs("span",{className:"text-[8px] font-bold text-slate-400",children:["LVL ",Math.floor(w/10)]})]}),l.jsx("div",{className:"h-1 bg-slate-100 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full transition-all duration-1000",style:{width:`${w}%`,backgroundColor:b.color}})})]})]},b.key)})})]}),l.jsxs("section",{className:"space-y-6",children:[l.jsx(ee,{variant:"h2",className:"text-xl font-black",children:" "}),l.jsx("div",{className:"space-y-3",children:s.skills.map(b=>l.jsxs(Me,{padding:"md",className:"border-slate-100 flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center text-lg",children:l.jsx("i",{className:`fa-solid ${b.icon}`})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"text-xs font-black uppercase text-slate-800",children:b.name}),l.jsxs("span",{className:"text-[9px] font-bold text-slate-400",children:["LVL ",b.level]})]}),l.jsx("div",{className:"h-1 bg-slate-100 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-orange-500",style:{width:`${b.xp%100}%`}})})]})]},b.name))})]})]}),p==="identity"&&l.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[l.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs(ee,{variant:"tiny",className:"text-slate-900 font-black uppercase flex items-center gap-2",children:[l.jsx("i",{className:"fa-solid fa-scroll text-orange-500"})," Bio & "]}),l.jsxs(Me,{padding:"md",className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-1",children:" "}),l.jsx("input",{value:s.role,onChange:b=>t({role:b.target.value}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-bold focus:ring-2 focus:ring-orange-100 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-1",children:""}),l.jsx("textarea",{value:s.bio,onChange:b=>t({bio:b.target.value}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-medium focus:ring-2 focus:ring-orange-100 outline-none min-h-[80px] resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-1",children:" "}),l.jsx("textarea",{value:s.vision,onChange:b=>t({vision:b.target.value}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-medium italic focus:ring-2 focus:ring-orange-100 outline-none min-h-[60px] resize-none border-l-2 border-orange-200"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs(ee,{variant:"tiny",className:"text-slate-900 font-black uppercase flex items-center gap-2",children:[l.jsx("i",{className:"fa-solid fa-shield-heart text-indigo-500"}),"  & "]}),l.jsxs(Me,{padding:"md",className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:""}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:s.views.map((b,w)=>l.jsx(ct,{variant:"indigo",className:"text-[8px] lowercase",children:b},w))}),l.jsx("button",{onClick:()=>{const b=prompt(" :");b&&t({views:[...s.views,b]})},className:"text-[8px] font-black text-indigo-600 uppercase tracking-widest",children:"+  "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:" (Beliefs)"}),l.jsx("div",{className:"space-y-1.5",children:s.beliefs.map((b,w)=>l.jsxs("div",{className:"text-xs font-medium text-slate-600 flex items-center gap-2 bg-slate-50 p-2 rounded-lg",children:[l.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-300"}),b]},w))}),l.jsx("button",{onClick:()=>{const b=prompt(" :");b&&t({beliefs:[...s.beliefs,b]})},className:"mt-2 text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"+  "})]})]})]})]}),l.jsxs("section",{children:[l.jsxs(ee,{variant:"tiny",className:"text-slate-900 font-black uppercase flex items-center gap-2 mb-4",children:[l.jsx("i",{className:"fa-solid fa-sliders text-emerald-500"}),"  "]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs(Me,{padding:"md",children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:" "}),l.jsx("input",{value:s.preferences.workStyle,onChange:b=>t({preferences:{...s.preferences,workStyle:b.target.value}}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-bold outline-none"})]}),l.jsxs(Me,{padding:"md",children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:" "}),l.jsx("input",{value:s.preferences.planningStyle,onChange:b=>t({preferences:{...s.preferences,planningStyle:b.target.value}}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-bold outline-none"})]}),l.jsxs(Me,{padding:"md",children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:"-"}),l.jsx("div",{className:"flex flex-wrap gap-1.5",children:s.preferences.focusBlockers.map((b,w)=>l.jsx(ct,{variant:"rose",className:"text-[7px]",children:b},w))}),l.jsx("button",{onClick:()=>{const b=prompt(" :");b&&t({preferences:{...s.preferences,focusBlockers:[...s.preferences.focusBlockers,b]}})},className:"mt-2 text-[8px] font-black text-rose-600 uppercase tracking-widest",children:"+ "})]})]})]})]}),p==="evolution"&&l.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[l.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs(Me,{className:"bg-slate-900 text-white p-8 border-none flex flex-col items-center justify-center text-center",children:[l.jsx("div",{className:"text-[10px] font-black text-orange-500 uppercase mb-2",children:" "}),l.jsx("div",{className:"text-4xl font-black",children:s.xp}),l.jsx(ee,{variant:"tiny",className:"text-slate-500 mt-2",children:"XP POINTS"})]}),l.jsxs(Me,{className:"p-8 border-slate-100 flex flex-col items-center justify-center text-center shadow-sm",children:[l.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase mb-2",children:"  "}),l.jsx("div",{className:"text-4xl font-black text-slate-900",children:i.currentWeek}),l.jsx(ee,{variant:"tiny",className:"text-slate-300 mt-2",children:"12TR WEEK"})]}),l.jsxs(Me,{className:"p-8 border-slate-100 flex flex-col items-center justify-center text-center shadow-sm",children:[l.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase mb-2",children:" "}),l.jsx("div",{className:"text-4xl font-black text-emerald-600",children:v.done}),l.jsx(ee,{variant:"tiny",className:"text-slate-300 mt-2",children:"COMPLETED QUESTS"})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx(ee,{variant:"h2",className:"text-xl font-black",children:" "}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.achievements.map(b=>l.jsxs(Me,{padding:"md",className:"border-slate-100 text-center hover:border-orange-200 transition-all group",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-50 text-orange-600 flex items-center justify-center text-xl mx-auto mb-3 shadow-inner group-hover:scale-110 transition-transform",children:l.jsx("i",{className:`fa-solid ${b.icon}`})}),l.jsx("div",{className:"text-[10px] font-black uppercase text-slate-800 mb-1",children:b.title}),l.jsx("p",{className:"text-[9px] text-slate-400 leading-tight",children:b.description})]},b.id)),l.jsxs("div",{className:"border-2 border-dashed border-slate-100 rounded-[2rem] flex flex-col items-center justify-center p-6 grayscale opacity-30",children:[l.jsx("i",{className:"fa-solid fa-lock mb-2 text-slate-300"}),l.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Locked Achievement"})]})]})]})]})]})]})},q_=()=>{var B,$;const{theme:s,setTheme:t,aiEnabled:n,setAiEnabled:i,sidebarSettings:o,updateSidebarSetting:u,character:p,updateCharacter:g}=He(),[v,x]=j.useState((window.innerWidth<1024,"profile")),[y,b]=j.useState(""),[w,S]=j.useState(!1),[_,T]=j.useState(""),[D,R]=j.useState(!1),{detailsWidth:U,startResizing:I,isResizing:Y}=Hn(400,700),[G,W]=j.useState(window.innerWidth<1024);j.useEffect(()=>{const ae=()=>W(window.innerWidth<1024);window.addEventListener("resize",ae);const fe=localStorage.getItem("GEMINI_API_KEY")||"";return b(fe),()=>window.removeEventListener("resize",ae)},[]);const k=()=>{localStorage.setItem("GEMINI_API_KEY",y.trim()),alert("API  .")},M=ae=>{ae.preventDefault(),_.trim()&&(R(!0),T(""),setTimeout(()=>R(!1),3e3))},A=[{id:"profile",icon:"fa-user-astronaut",label:" ",color:"text-orange-500",desc:"  "},{id:"appearance",icon:"fa-palette",label:" & ",color:"text-indigo-500",desc:" "},{id:"ai",icon:"fa-wand-magic-sparkles",label:"Gemini AI",color:"text-emerald-500",desc:" "},{id:"sidebar",icon:"fa-bars-staggered",label:"",color:"text-amber-500",desc:" "},{id:"data",icon:"fa-database",label:"",color:"text-rose-500",desc:" "},{id:"feedback",icon:"fa-comment-dots",label:"",color:"text-violet-500",desc:"  "}],z=[{id:"classic",label:"Classic",main:"#ffffff",accent:"#f97316"},{id:"midnight",label:"Midnight",main:"#020617",accent:"#10b981"},{id:"obsidian",label:"Obsidian",main:"#000000",accent:"#8b5cf6"},{id:"cyberpunk",label:"Cyberpunk",main:"#09090b",accent:"#fef08a"},{id:"dracula",label:"Dracula",main:"#282a36",accent:"#ff79c6"},{id:"nordic-dark",label:"Nordic",main:"#2e3440",accent:"#88c0d0"},{id:"sakura",label:"Sakura",main:"#fff1f2",accent:"#ec4899"},{id:"ocean",label:"Ocean",main:"#f0f9ff",accent:"#0ea5e9"},{id:"forest",label:"Forest",main:"#f0fdf4",accent:"#166534"},{id:"lavender",label:"Lavender",main:"#faf5ff",accent:"#8b5cf6"},{id:"desert",label:"Desert",main:"#fffbeb",accent:"#d97706"},{id:"mars",label:"Mars",main:"#450a0a",accent:"#ef4444"},{id:"slate",label:"Slate",main:"#f8fafc",accent:"#475569"},{id:"coffee",label:"Coffee",main:"#fffaf0",accent:"#92400e"},{id:"gold",label:"Luxury",main:"#1e1b4b",accent:"#fbbf24"},{id:"matrix",label:"Matrix",main:"#000000",accent:"#00ff41"},{id:"glass",label:"Glass",main:"#6366f1",accent:"#ffffff"},{id:"toxic",label:"Toxic",main:"#1a1a1a",accent:"#ccff00"},{id:"sepia",label:"Sepia",main:"#f4ecd8",accent:"#704214"},{id:"paper",label:"Paper",main:"#f5f5f5",accent:"#3b82f6"},{id:"blueprint",label:"Blueprint",main:"#1e3a8a",accent:"#ffffff"},{id:"gameboy",label:"Gameboy",main:"#9bbc0f",accent:"#306230"},{id:"spotify",label:"Spotify",main:"#121212",accent:"#1db954"},{id:"slack",label:"Slack",main:"#ffffff",accent:"#4a154b"},{id:"uber",label:"Uber",main:"#000000",accent:"#ffffff"},{id:"apple",label:"Apple",main:"#f5f5f7",accent:"#007aff"},{id:"stripe",label:"Stripe",main:"#f6f9fc",accent:"#635bff"},{id:"github",label:"Github",main:"#0d1117",accent:"#2ea44f"},{id:"clay",label:"Clay",main:"#fdf2e9",accent:"#e67e22"},{id:"olive",label:"Olive",main:"#f5f5dc",accent:"#808000"}],V=()=>{switch(v){case"profile":return l.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"flex flex-col items-center gap-4 mb-4",children:[l.jsxs("div",{className:"w-24 h-24 rounded-[2.5rem] bg-[var(--bg-card)] p-1 ring-4 ring-[var(--primary)]/10 relative group shadow-2xl",children:[l.jsx("img",{src:p.avatarUrl,className:"w-full h-full object-cover rounded-[2.2rem]"}),l.jsx("button",{onClick:()=>{const fe=prompt("Avatar URL:",p.avatarUrl);fe&&g({avatarUrl:fe})},className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-[2.2rem] text-white text-[10px] font-black uppercase",children:""})]}),l.jsxs(ee,{variant:"tiny",className:"text-[var(--text-muted)]",children:["ID: ",p.name.toUpperCase().replace(/\s+/g,"_")]})]}),l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-[10px] font-black uppercase text-[var(--text-muted)] ml-1",children:""}),l.jsx("input",{value:p.name,onChange:fe=>g({name:fe.target.value}),className:"w-full bg-[var(--bg-card)] border border-[var(--border-color)] rounded-2xl py-4 px-5 text-sm font-bold focus:ring-4 focus:ring-[var(--primary)]/10 outline-none transition-all shadow-sm"})]}),l.jsxs("div",{className:"p-4 bg-slate-900 rounded-3xl text-white",children:[l.jsx(ee,{variant:"tiny",className:"text-orange-500 mb-2 font-black",children:" "}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest",children:[" ",p.level]}),l.jsxs("span",{className:"text-[10px] opacity-50",children:[p.xp," XP"]})]})]})]})]});case"appearance":return l.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300 pb-20",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest ml-1",children:"  "}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:z.map(fe=>l.jsxs("button",{onClick:()=>t(fe.id),className:`p-3 rounded-[1.2rem] border-2 text-left transition-all ${s===fe.id?"border-[var(--primary)] bg-[var(--bg-main)] shadow-lg scale-[1.05]":"border-[var(--border-color)] bg-[var(--bg-card)] hover:border-[var(--primary)]/30"}`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest truncate",children:fe.label}),l.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:fe.accent}})]}),l.jsx("div",{className:"h-6 w-full rounded-md border border-[var(--border-color)]",style:{backgroundColor:fe.main}})]},fe.id))})]});case"ai":return l.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:l.jsxs(Me,{className:"border-[var(--border-color)] p-8 relative overflow-hidden shadow-2xl",children:[l.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-[var(--primary)]/10 blur-[80px]"}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[var(--primary)] flex items-center justify-center shadow-lg",children:l.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-xl text-white"})}),l.jsx("button",{onClick:()=>i(!n),className:`w-14 h-7 rounded-full relative transition-all ${n?"bg-emerald-500":"bg-[var(--text-muted)]/20"}`,children:l.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full transition-all ${n?"right-1.5":"left-1.5"}`})})]}),l.jsx(ee,{variant:"h2",className:"mb-2 text-2xl",children:" "}),l.jsx("p",{className:"text-xs text-slate-500 leading-relaxed mb-6 italic",children:"   ,     ."}),l.jsxs("div",{className:"space-y-3 bg-[var(--bg-main)] p-6 rounded-[1.8rem] border border-[var(--border-color)]",children:[l.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-[var(--text-muted)] block",children:"Gemini Cloud API Key"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx("input",{type:w?"text":"password",value:y,onChange:fe=>b(fe.target.value),placeholder:" ...",className:"w-full bg-[var(--bg-card)] border border-[var(--border-color)] rounded-xl py-3 px-4 text-[11px] font-mono outline-none focus:border-[var(--primary)] text-[var(--text-main)]"}),l.jsx("button",{onClick:()=>S(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-muted)] hover:text-[var(--primary)] transition-colors",children:l.jsx("i",{className:`fa-solid ${w?"fa-eye-slash":"fa-eye"}`})})]}),l.jsx("button",{onClick:k,className:"bg-[var(--primary)] text-white px-6 rounded-xl text-[10px] font-black uppercase transition-colors hover:brightness-110",children:"OK"})]})]})]})});case"sidebar":const ae=[{id:"today",icon:"fa-star",label:""},{id:"inbox",icon:"fa-inbox",label:""},{id:"next_actions",icon:"fa-bolt",label:""},{id:"projects",icon:"fa-folder-tree",label:""},{id:"calendar",icon:"fa-calendar-days",label:""},{id:"notes",icon:"fa-note-sticky",label:""}];return l.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsx(ee,{variant:"tiny",className:"text-[var(--text-muted)] font-black uppercase tracking-widest ml-2 mb-2",children:"  "}),l.jsx("div",{className:"bg-[var(--bg-card)] border border-[var(--border-color)] rounded-[2rem] overflow-hidden shadow-sm divide-y divide-[var(--border-color)]",children:ae.map(fe=>l.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-[var(--bg-main)] transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-9 h-9 rounded-xl bg-[var(--bg-main)] flex items-center justify-center text-[var(--text-muted)] shadow-inner",children:l.jsx("i",{className:`fa-solid ${fe.icon}`})}),l.jsx("span",{className:"text-[11px] font-black uppercase tracking-tight text-[var(--text-main)]",children:fe.label})]}),l.jsx("button",{onClick:()=>u(fe.id,o[fe.id]===!1),className:`w-11 h-6 rounded-full transition-all relative ${o[fe.id]!==!1?"bg-[var(--primary)]":"bg-[var(--text-muted)]/20"}`,children:l.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${o[fe.id]!==!1?"right-1":"left-1"}`})})]},fe.id))})]});case"data":return l.jsx("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:l.jsxs(Me,{padding:"lg",className:"border-rose-100 bg-rose-50/20",children:[l.jsx(ee,{variant:"h2",className:"text-rose-600 mb-2",children:" "}),l.jsx("p",{className:"text-[11px] text-slate-500 mb-6 leading-relaxed",children:"      .       ."}),l.jsx("button",{onClick:()=>{confirm("     ?")&&(localStorage.clear(),window.location.reload())},className:"w-full py-5 rounded-[1.8rem] bg-white text-rose-500 border-2 border-rose-100 text-[10px] font-black uppercase tracking-widest hover:bg-rose-500 hover:text-white hover:border-rose-500 transition-all shadow-sm",children:"   '"})]})});case"feedback":return l.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsx(ee,{variant:"tiny",className:"text-violet-500 font-black mb-2 uppercase",children:"   "}),l.jsxs("form",{onSubmit:M,className:"space-y-4",children:[l.jsx("textarea",{value:_,onChange:fe=>T(fe.target.value),placeholder:"    ...",className:"w-full bg-[var(--bg-card)] border border-[var(--border-color)] rounded-[1.5rem] p-5 text-sm font-medium focus:ring-4 focus:ring-indigo-100 outline-none transition-all shadow-sm min-h-[160px] resize-none leading-relaxed text-[var(--text-main)]"}),l.jsx("button",{type:"submit",disabled:!_.trim()||D,className:`w-full py-5 rounded-[1.8rem] font-black uppercase tracking-widest text-[10px] transition-all shadow-lg flex items-center justify-center gap-3 ${D?"bg-emerald-500 text-white shadow-emerald-100":"bg-indigo-600 text-white shadow-indigo-100 hover:scale-[1.02] active:scale-95"}`,children:D?"!":"  "})]})]});default:return null}};return l.jsxs("div",{className:"h-screen flex flex-col lg:flex-row overflow-hidden relative bg-[var(--bg-main)]",children:[l.jsxs("div",{className:`flex-1 flex flex-col min-w-0 h-full relative transition-all duration-300 ${G&&v?"-translate-x-full absolute":"translate-x-0 relative"}`,children:[l.jsxs("header",{className:"px-6 py-8 md:px-10 md:py-10 bg-[var(--bg-card)] border-b border-[var(--border-color)] sticky top-0 z-20 shrink-0",children:[l.jsx(ee,{variant:"h1",className:"text-2xl md:text-3xl font-black tracking-tight",children:""}),l.jsx(ee,{variant:"tiny",className:"text-[var(--text-muted)] mt-1 uppercase tracking-[0.2em] text-[8px] md:text-[9px]",children:"  12TR"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-8 space-y-2",children:A.map(ae=>l.jsxs(Me,{padding:"none",onClick:()=>x(ae.id),className:`p-4 md:p-5 flex items-center justify-between group transition-all cursor-pointer border ${v===ae.id?"bg-[var(--bg-card)] border-[var(--primary)] shadow-xl":"bg-[var(--bg-card)] border-[var(--border-color)] hover:border-[var(--primary)]/30 shadow-sm"}`,children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[l.jsx("div",{className:`w-10 md:w-12 h-10 md:h-12 rounded-2xl flex items-center justify-center shrink-0 shadow-inner bg-[var(--bg-main)] transition-all ${ae.color}`,children:l.jsx("i",{className:`fa-solid ${ae.icon} text-lg`})}),l.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[l.jsx(ee,{variant:"h3",className:"text-[12px] md:text-[13px] font-black uppercase tracking-tight truncate group-hover:text-[var(--primary)] transition-colors",children:ae.label}),l.jsx("p",{className:"text-[9px] font-bold text-[var(--text-muted)] uppercase truncate mt-0.5",children:ae.desc})]})]}),l.jsx("i",{className:"fa-solid fa-chevron-right text-[10px] text-[var(--text-muted)] group-hover:text-[var(--primary)] group-hover:translate-x-1 transition-all"})]},ae.id))})]}),l.jsxs("div",{className:`flex h-full border-l border-[var(--border-color)] z-[110] bg-[var(--bg-card)] shrink-0 transition-all duration-300 ${G?v?"fixed inset-0 w-full translate-x-0":"fixed inset-0 w-full translate-x-full":""}`,children:[!G&&l.jsx("div",{onMouseDown:I,className:`w-[1px] h-full cursor-col-resize hover:bg-[var(--primary)] z-[120] transition-colors ${Y?"bg-[var(--primary)]":"bg-[var(--border-color)]"}`}),l.jsx("div",{style:{width:G?"100vw":U},className:"h-full bg-[var(--bg-card)] relative overflow-hidden flex flex-col shadow-2xl",children:v?l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("header",{className:"p-6 md:p-8 border-b border-[var(--border-color)] flex justify-between items-center bg-[var(--bg-card)] shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[G&&l.jsx("button",{onClick:()=>x(null),className:"w-10 h-10 rounded-2xl bg-[var(--bg-main)] flex items-center justify-center text-[var(--text-muted)]",children:l.jsx("i",{className:"fa-solid fa-chevron-left text-xs"})}),l.jsx("div",{className:"w-10 md:w-11 h-10 md:h-11 rounded-2xl flex items-center justify-center text-white shadow-lg bg-[var(--primary)]",children:l.jsx("i",{className:`fa-solid ${(B=A.find(ae=>ae.id===v))==null?void 0:B.icon}`})}),l.jsx(ee,{variant:"h2",className:"text-base md:text-lg font-black uppercase tracking-tight",children:($=A.find(ae=>ae.id===v))==null?void 0:$.label})]}),!G&&l.jsx("button",{onClick:()=>x(null),className:"w-10 h-10 rounded-2xl bg-[var(--bg-main)] flex items-center justify-center text-[var(--text-muted)] hover:text-[var(--text-main)] transition-all",children:l.jsx("i",{className:"fa-solid fa-xmark text-sm"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 md:p-12 bg-[var(--bg-main)]/30",children:l.jsx("div",{className:"max-w-xl mx-auto",children:V()})}),l.jsx("footer",{className:"p-6 md:p-8 border-t border-[var(--border-color)] bg-[var(--bg-card)] shrink-0 pb-safe",children:l.jsx(Xe,{onClick:()=>x(null),className:"w-full rounded-2xl py-4 font-black uppercase tracking-widest text-[10px] shadow-sm",children:""})})]}):!G&&l.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-12 text-center opacity-5 grayscale pointer-events-none select-none",children:[l.jsx("i",{className:"fa-solid fa-gear text-9xl mb-8"}),l.jsx(ee,{variant:"h2",className:"text-2xl font-black uppercase tracking-widest",children:" "})]})})]})]})},P_=({item:s,onClose:t})=>{const{shoppingItems:n,shoppingStores:i,updateShoppingItem:o,deleteShoppingItem:u}=He(),[p,g]=j.useState(s),[v,x]=j.useState(""),[y,b]=j.useState(""),w=D=>{const R={...p,...D};g(R),o(R)},S=D=>{D.preventDefault();const R=parseFloat(v);if(isNaN(R)||!y.trim())return;const U={id:Math.random().toString(36).substr(2,9),price:R,storeName:y.trim(),date:Date.now()},I=p.priceHistory||[];w({priceHistory:[U,...I]}),x(""),b("")},_=D=>{const R=(p.priceHistory||[]).filter(U=>U.id!==D);w({priceHistory:R})},T=j.useMemo(()=>{const R=n.filter(U=>U.name.toLowerCase()===s.name.toLowerCase()).flatMap(U=>U.priceHistory||[]).map(U=>U.price);return R.length>0?Math.min(...R):null},[n,s.name]);return l.jsxs("div",{className:"h-full flex flex-col bg-card animate-in slide-in-from-right duration-300 text-main",children:[l.jsxs("header",{className:"p-4 md:p-6 border-b border-theme flex justify-between items-center bg-card sticky top-0 z-10",children:[l.jsx(ee,{variant:"h2",className:"text-lg md:text-xl",children:" "}),l.jsx("button",{onClick:t,className:"w-9 h-9 rounded-xl bg-main flex items-center justify-center text-muted hover:text-primary transition-colors",children:l.jsx("i",{className:"fa-solid fa-xmark text-lg"})})]}),l.jsxs("div",{className:"flex-1 p-5 md:p-8 space-y-6 overflow-y-auto custom-scrollbar",children:[l.jsxs("section",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(ee,{variant:"tiny",className:"text-muted font-black uppercase ml-1 opacity-60",children:""}),l.jsx("input",{value:p.name,onChange:D=>w({name:D.target.value}),className:"w-full bg-main border border-theme rounded-2xl py-3 px-5 text-lg font-black focus:ring-4 focus:ring-primary/10 outline-none transition-all text-main"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(ee,{variant:"tiny",className:"text-muted font-black uppercase ml-1 opacity-60",children:" / "}),l.jsx("textarea",{value:p.note||"",onChange:D=>w({note:D.target.value}),className:"w-full bg-main border border-theme rounded-2xl p-4 text-sm font-medium focus:ring-4 focus:ring-primary/10 outline-none min-h-[80px] resize-none leading-relaxed text-main",placeholder:" ?  ..."})]})]}),T!==null&&l.jsxs("section",{className:"bg-primary/5 p-5 md:p-6 rounded-[2rem] border border-primary/20",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("i",{className:"fa-solid fa-trophy text-primary text-xs"}),l.jsx(ee,{variant:"tiny",className:"text-primary font-black uppercase tracking-widest text-[9px]",children:" "})]}),l.jsxs("p",{className:"text-sm font-bold text-main leading-tight",children:['   "',s.name,'": ',l.jsx("br",{}),l.jsxs("span",{className:"text-xl md:text-2xl font-black text-primary underline decoration-primary/20 underline-offset-4",children:[T," "]})]})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsxs(ee,{variant:"tiny",className:"text-main font-black uppercase flex items-center gap-2 text-[9px]",children:[l.jsx("i",{className:"fa-solid fa-pen-nib text-primary"}),"  "]}),l.jsxs("form",{onSubmit:S,className:"grid grid-cols-2 gap-2 bg-main/50 p-3 rounded-2xl border border-theme",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("span",{className:"text-[7px] font-black uppercase text-muted ml-1",children:""}),l.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",value:v,onChange:D=>x(D.target.value),placeholder:"0.00 ",className:"w-full bg-card border border-theme rounded-xl py-3 px-3 text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-main"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("span",{className:"text-[7px] font-black uppercase text-muted ml-1",children:""}),l.jsx("input",{list:"stores-list",value:y,onChange:D=>b(D.target.value),placeholder:"...",className:"w-full bg-card border border-theme rounded-xl py-3 px-3 text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-main"})]}),l.jsx("datalist",{id:"stores-list",children:i.map(D=>l.jsx("option",{value:D.name},D.id))}),l.jsx("button",{type:"submit",className:"col-span-2 mt-1 py-3 bg-primary text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:brightness-110 transition-all active:scale-95 shadow-md",children:"  "})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx(ee,{variant:"tiny",className:"text-muted font-black uppercase ml-1 opacity-60",children:" "}),l.jsxs("div",{className:"space-y-2",children:[(p.priceHistory||[]).map(D=>l.jsxs("div",{className:"flex items-center justify-between p-3.5 bg-card rounded-2xl border border-theme group/log shadow-sm",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm font-black text-main",children:[D.price," "]}),l.jsx(ct,{variant:"slate",className:"text-[8px] py-0 px-1.5 opacity-60",children:D.storeName})]}),l.jsx("div",{className:"text-[8px] font-black text-muted uppercase mt-1 tracking-wider opacity-50",children:new Date(D.date).toLocaleDateString("uk-UA",{day:"numeric",month:"short"})})]}),l.jsx("button",{onClick:()=>_(D.id),className:"w-8 h-8 rounded-lg text-muted hover:text-rose-500 hover:bg-rose-500/10 transition-all flex items-center justify-center",children:l.jsx("i",{className:"fa-solid fa-trash-can text-xs"})})]},D.id)),(!p.priceHistory||p.priceHistory.length===0)&&l.jsx("div",{className:"text-center py-8 bg-main/50 rounded-2xl border border-dashed border-theme",children:l.jsx("p",{className:"text-[10px] font-bold text-muted uppercase tracking-widest",children:" "})})]})]})]}),l.jsxs("footer",{className:"p-4 md:p-6 border-t border-theme bg-main/30 flex gap-3 shrink-0 mb-safe",children:[l.jsx("button",{onClick:()=>{confirm("  ?")&&(u(s.id),t())},className:"w-12 h-12 rounded-2xl bg-rose-500/10 text-rose-500 flex items-center justify-center hover:bg-rose-500 hover:text-white transition-all shadow-sm",children:l.jsx("i",{className:"fa-solid fa-trash-can"})}),l.jsx(Xe,{onClick:t,variant:"white",className:"flex-1 rounded-2xl py-3 font-black tracking-widest text-[10px]",children:""})]})]})},$_=()=>{var O;const{shoppingStores:s,shoppingItems:t,addStore:n,updateStore:i,deleteStore:o,addShoppingItem:u,toggleShoppingItem:p,deleteShoppingItem:g,detailsWidth:v,theme:x}=He(),{startResizing:y,isResizing:b}=Hn(400,700),[w,S]=j.useState("all"),[_,T]=j.useState(null),[D,R]=j.useState(!1),[U,I]=j.useState(""),[Y,G]=j.useState(""),[W,k]=j.useState(window.innerWidth<768),[M,A]=j.useState(!1);j.useEffect(()=>{const q=()=>k(window.innerWidth<768);return window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]);const z=j.useMemo(()=>w==="all"?t:t.filter(q=>q.storeId===w),[t,w]),V=j.useMemo(()=>[...z].sort((q,he)=>q.isBought===he.isBought?0:q.isBought?1:-1),[z]),B=q=>{const P=t.filter(Z=>Z.name.toLowerCase()===q.toLowerCase()).flatMap(Z=>Z.priceHistory||[]).map(Z=>Z.price);return P.length>0?Math.min(...P):null},$=q=>{q.preventDefault(),U.trim()&&(n(U.trim()),I(""),R(!1))},ae=q=>{q.preventDefault(),Y.trim()&&w!=="all"&&(u(Y.trim(),w),G(""))},fe=q=>{S(q),W&&A(!0)};return l.jsxs("div",{className:"h-screen flex bg-main overflow-hidden relative text-main transition-none",children:[l.jsxs("aside",{className:`w-full md:w-64 border-r border-theme bg-sidebar flex flex-col shrink-0 transition-all duration-300 ${W&&M?"-translate-x-full absolute":"translate-x-0 relative"}`,children:[l.jsxs("header",{className:"p-6 md:p-8 border-b border-theme flex justify-between items-center bg-card sticky top-0 z-10 shrink-0",children:[l.jsxs("div",{children:[l.jsx(ee,{variant:"h2",className:"text-lg md:text-xl",children:""}),l.jsx(ee,{variant:"tiny",className:"text-muted tracking-tighter opacity-60",children:"Price Strategy"})]}),l.jsx("button",{onClick:()=>R(!0),className:"w-10 h-10 rounded-2xl bg-primary/10 text-primary flex items-center justify-center hover:bg-primary hover:text-white transition-all shadow-sm",children:l.jsx("i",{className:"fa-solid fa-plus text-xs"})})]}),l.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto custom-scrollbar",children:[l.jsxs("button",{onClick:()=>fe("all"),className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl transition-all ${w==="all"?"bg-primary text-white shadow-lg font-black":"text-muted hover:bg-main/50"}`,children:[l.jsx("i",{className:"fa-solid fa-layer-group text-xs w-4 text-center"}),l.jsx("span",{className:"text-[11px] uppercase tracking-widest",children:" "}),l.jsx("span",{className:`ml-auto text-[8px] font-black ${w==="all"?"text-white/60":"opacity-40"}`,children:t.length})]}),l.jsx("div",{className:"my-4 border-t border-theme opacity-30"}),D&&l.jsx("form",{onSubmit:$,className:"px-2 mb-2 animate-in slide-in-from-top-2",children:l.jsx("input",{autoFocus:!0,value:U,onChange:q=>I(q.target.value),onBlur:()=>!U&&R(!1),placeholder:" ...",className:"w-full bg-main border border-primary/30 rounded-xl py-3 px-4 text-[10px] font-black uppercase outline-none text-main"})}),s.map(q=>l.jsxs("div",{className:"group relative",children:[l.jsxs("button",{onClick:()=>fe(q.id),className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl transition-all ${w===q.id?"bg-primary text-white shadow-lg font-black":"text-muted hover:bg-main/50"}`,children:[l.jsx("i",{className:`fa-solid ${q.icon} text-xs w-4 text-center`,style:w===q.id?{color:"white"}:{color:q.color}}),l.jsx("span",{className:"text-[11px] uppercase tracking-widest truncate pr-6",children:q.name}),l.jsx("span",{className:`ml-auto text-[8px] font-black ${w===q.id?"text-white/60":"opacity-40"}`,children:t.filter(he=>he.storeId===q.id).length})]}),l.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx("button",{onClick:()=>{confirm(" ?")&&o(q.id)},className:`text-[10px] p-2 hover:text-rose-500 transition-colors ${w===q.id?"text-white/40 hover:text-white":"text-muted"}`,children:l.jsx("i",{className:"fa-solid fa-trash"})})})]},q.id))]})]}),l.jsxs("main",{className:`flex-1 flex flex-col bg-main relative min-w-0 transition-all duration-300 ${W&&!M?"translate-x-full":"translate-x-0"}`,children:[l.jsxs("header",{className:"px-6 md:px-10 py-5 md:py-8 border-b border-theme flex flex-col md:flex-row justify-between items-start md:items-center bg-card sticky top-0 z-10 gap-4 shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3 w-full",children:[W&&l.jsx("button",{onClick:()=>A(!1),className:"w-9 h-9 rounded-xl bg-main flex items-center justify-center text-muted mr-1",children:l.jsx("i",{className:"fa-solid fa-chevron-left"})}),l.jsxs(ee,{variant:"h2",className:"text-xl md:text-2xl font-black uppercase tracking-tight text-main flex items-center gap-3 truncate",children:[l.jsx("i",{className:`fa-solid ${w==="all"?"fa-layer-group":"fa-shop"} opacity-20 text-base md:text-lg`}),w==="all"?" ":((O=s.find(q=>q.id===w))==null?void 0:O.name)||""]})]}),w!=="all"&&l.jsxs("form",{onSubmit:ae,className:"flex gap-2 w-full md:w-auto",children:[l.jsx("input",{value:Y,onChange:q=>G(q.target.value),placeholder:" ?",className:"flex-1 bg-main border border-theme rounded-xl px-4 py-3 md:py-2 text-[12px] font-bold outline-none md:w-64 focus:ring-2 focus:ring-primary/20 transition-all text-main"}),l.jsx(Xe,{type:"submit",size:"sm",className:"rounded-xl font-black shadow-lg shrink-0 px-5",children:""})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 md:p-10",children:l.jsx("div",{className:"flex flex-col gap-2 max-w-xl mx-auto md:mx-0 pb-32",children:V.length>0?V.map(q=>{const he=s.find(E=>E.id===q.storeId),P=B(q.name),Z=q.priceHistory&&q.priceHistory.length>0?q.priceHistory[0]:null;return l.jsxs(Me,{padding:"none",onClick:()=>T(q.id),className:`p-4 flex items-center justify-between group transition-all cursor-pointer border ${q.isBought?"opacity-40 grayscale bg-main/50":"bg-card border-theme hover:border-primary/30 shadow-sm hover:shadow-md"}`,children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[l.jsx("button",{onClick:E=>{E.stopPropagation(),p(q.id)},className:`w-7 h-7 rounded-lg border-2 flex items-center justify-center transition-all shrink-0 ${q.isBought?"bg-emerald-500 border-emerald-500 text-white shadow-inner":"border-theme bg-main hover:border-primary/50"}`,children:q.isBought&&l.jsx("i",{className:"fa-solid fa-check text-xs"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-wrap",children:[l.jsx("span",{className:`text-[13px] md:text-sm font-bold truncate max-w-[150px] md:max-w-none ${q.isBought?"line-through text-muted":"text-main"}`,children:q.name}),Z&&l.jsxs(ct,{variant:"orange",className:"text-[8px] font-black",children:[Z.price," "]})]}),l.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mt-1.5 flex-wrap",children:[w==="all"&&he&&l.jsx(ct,{variant:"slate",className:"text-[7px] py-0 px-1 uppercase opacity-60 tracking-tighter",children:he.name}),P&&!q.isBought&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-1 h-1 rounded-full bg-emerald-500 animate-pulse"}),l.jsxs("span",{className:"text-[8px] font-black text-emerald-600 uppercase tracking-widest",children:["Best: ",P," "]})]}),Z&&l.jsxs("span",{className:"text-[7px] font-bold text-muted uppercase truncate opacity-50",children:[" : ",Z.storeName]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-3 shrink-0 ml-2",children:[q.note&&l.jsx("i",{className:"fa-solid fa-comment-dots text-primary/30 text-[10px] animate-bounce"}),l.jsx("i",{className:"fa-solid fa-chevron-right text-[10px] text-muted group-hover:text-primary group-hover:translate-x-0.5 transition-all"})]})]},q.id)}):l.jsxs("div",{className:"py-20 text-center opacity-10 flex flex-col items-center select-none pointer-events-none grayscale",children:[l.jsx("i",{className:"fa-solid fa-basket-shopping text-7xl mb-6"}),l.jsx(ee,{variant:"h2",className:"text-xl",children:" "}),l.jsx(ee,{variant:"body",className:"mt-2 text-xs",children:"    "})]})})})]}),_&&l.jsxs("div",{className:"fixed md:relative inset-0 md:inset-auto flex h-full border-l border-theme z-[100] md:z-40 bg-card shrink-0 transition-all duration-300",children:[!W&&l.jsx("div",{onMouseDown:y,className:`w-[1px] h-full cursor-col-resize hover:bg-primary z-[110] transition-colors ${b?"bg-primary":"bg-theme"}`}),l.jsx("div",{style:{width:W?"100vw":v},className:"h-full bg-card relative overflow-hidden flex flex-col shadow-2xl",children:l.jsx(P_,{item:t.find(q=>q.id===_),onClose:()=>T(null)})})]})]})};var F_={};const Y_=({isOpen:s,onClose:t})=>{const{tasks:n,projects:i,people:o,character:u,cycle:p,diary:g}=He(),[v,x]=j.useState([]),[y,b]=j.useState(""),[w,S]=j.useState(!1),_=j.useRef(null),T=[{label:"  ",icon:"fa-inbox"},{label:"  ",icon:"fa-calendar-week"},{label:"  ",icon:"fa-user-ninja"},{label:"  XP?",icon:"fa-bolt"}];j.useEffect(()=>{_.current&&(_.current.scrollTop=_.current.scrollHeight)},[v,w]);const D=async R=>{if(!R.trim())return;const U={role:"user",text:R};x(I=>[...I,U]),b(""),S(!0);try{const I=new Hx({apiKey:F_.API_KEY}),Y=`
             12TR.         GTD  .
        
          :
        - : ${u.name} (LVL ${u.level} ${u.role}), : ${u.energy}%
        - : ${i.filter(k=>k.type==="goal").map(k=>k.name).join(", ")}
        -  : ${n.filter(k=>!k.isDeleted&&k.status!=="DONE").map(k=>k.title).join(", ")}
        - : ${o.map(k=>`${k.name} (${k.status})`).join(", ")}
        -  : ${p.currentWeek}/12
        -  : ${n.filter(k=>k.category==="note").slice(0,5).map(k=>k.title).join(", ")}

          .  ,   RPG (, , , XP).
      `,W=(await I.models.generateContent({model:"gemini-3-flash-preview",contents:[{role:"user",parts:[{text:Y+`

 : `+R}]}]})).text||" ' .   .";x(k=>[...k,{role:"model",text:W}])}catch{x(Y=>[...Y,{role:"model",text:" '  .  API-."}])}finally{S(!1)}};return s?l.jsxs("div",{className:"fixed top-0 right-0 h-screen bg-[var(--bg-card)]/95 border-l border-[var(--border-color)] flex flex-col backdrop-blur-2xl transition-all duration-500 z-[200] shadow-2xl w-full md:w-96",children:[l.jsxs("header",{className:"p-6 border-b border-[var(--border-color)] flex items-center justify-between bg-white/50 sticky top-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gradient-to-tr from-[var(--primary)] to-pink-500 flex items-center justify-center text-white shadow-lg",children:l.jsx("i",{className:"fa-solid fa-sparkles"})}),l.jsxs("div",{children:[l.jsx(ee,{variant:"h3",className:"text-sm",children:"-"}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),l.jsx("span",{className:"text-[7px] font-black uppercase text-slate-400 tracking-widest",children:"Active Link"})]})]})]}),l.jsx("button",{onClick:t,className:"w-10 h-10 rounded-2xl bg-black/5 flex items-center justify-center text-slate-400 hover:text-slate-900 transition-all",children:l.jsx("i",{className:"fa-solid fa-chevron-right text-xs"})})]}),l.jsxs("div",{ref:_,className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-6",children:[v.length===0&&l.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[l.jsxs("div",{className:"bg-[var(--primary)]/5 p-5 rounded-3xl border border-[var(--primary)]/10 text-xs font-medium leading-relaxed italic text-slate-600",children:['", ',u.name,'.    .     ,          .  ?"']}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 px-1",children:" "}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:T.map(R=>l.jsxs("button",{onClick:()=>D(R.label),className:"flex items-center gap-3 p-3 bg-white border border-slate-100 rounded-2xl text-[11px] font-bold text-slate-700 hover:border-[var(--primary)]/40 hover:shadow-sm transition-all text-left",children:[l.jsx("i",{className:`fa-solid ${R.icon} text-[var(--primary)] opacity-60`}),R.label]},R.label))})]})]}),v.map((R,U)=>l.jsx("div",{className:`flex ${R.role==="user"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2`,children:l.jsx("div",{className:`max-w-[85%] p-4 rounded-2xl text-[12px] leading-relaxed ${R.role==="user"?"bg-[var(--primary)] text-white shadow-lg rounded-tr-none":"bg-white border border-slate-100 shadow-sm text-slate-800 rounded-tl-none font-medium"}`,children:R.text})},U)),w&&l.jsx("div",{className:"flex justify-start",children:l.jsxs("div",{className:"bg-white border border-slate-100 p-4 rounded-2xl rounded-tl-none shadow-sm flex gap-1",children:[l.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full animate-bounce"}),l.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full animate-bounce [animation-delay:0.2s]"}),l.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full animate-bounce [animation-delay:0.4s]"})]})})]}),l.jsx("footer",{className:"p-6 border-t border-[var(--border-color)] bg-white/50",children:l.jsxs("form",{onSubmit:R=>{R.preventDefault(),D(y)},className:"flex gap-2 relative",children:[l.jsx("input",{value:y,onChange:R=>b(R.target.value),placeholder:" ...",className:"flex-1 bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl py-3 px-4 pr-12 text-sm font-bold focus:ring-2 focus:ring-[var(--primary)]/20 outline-none transition-all"}),l.jsx("button",{type:"submit",disabled:!y.trim()||w,className:"absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-xl bg-[var(--primary)] text-white flex items-center justify-center shadow-lg disabled:opacity-30 active:scale-90 transition-all",children:l.jsx("i",{className:"fa-solid fa-arrow-up text-xs"})})]})})]}):null},Z_=()=>{var _;const{activeTab:s,setActiveTab:t,tasks:n,character:i,projects:o,aiEnabled:u,theme:p}=He(),[g,v]=zs.useState(!1),[x,y]=j.useState(!1),b=new Date().setHours(0,0,0,0);j.useEffect(()=>{document.documentElement.setAttribute("data-theme",p)},[p]);const w=zs.useMemo(()=>({today:n.filter(T=>!T.isDeleted&&T.status!==me.DONE&&T.scheduledDate&&new Date(T.scheduledDate).setHours(0,0,0,0)===b).length,inbox:n.filter(T=>!T.isDeleted&&T.status===me.INBOX&&T.category!=="note"&&!T.projectId&&!T.scheduledDate).length,next_actions:n.filter(T=>!T.isDeleted&&T.status===me.NEXT_ACTION).length,notes:n.filter(T=>!T.isDeleted&&T.category==="note"&&T.status!==me.DONE).length,calendar:n.filter(T=>!T.isDeleted&&T.status!==me.DONE&&!!T.scheduledDate).length,planner:n.filter(T=>!T.isDeleted&&T.projectSection==="planner"&&T.status!==me.DONE).length,projects:o.filter(T=>T.type==="goal"&&T.status==="active").length,trash:n.filter(T=>T.isDeleted).length}),[n,o,b]),S=()=>{switch(s){case"dashboard":case"today":return l.jsx(Mp,{});case"planner":return l.jsx(Bx,{});case"map":return l.jsx(Sv,{});case"inbox":return l.jsx(Wc,{});case"next_actions":return l.jsx(Wc,{showNextActions:!0});case"diary":return l.jsx(E_,{});case"notes":return l.jsx(k_,{});case"habits":return l.jsx(__,{});case"people":return l.jsx(B_,{});case"hobbies":return l.jsx(v_,{});case"shopping":return l.jsx($_,{});case"completed":return l.jsx(Wc,{showCompleted:!0});case"calendar":return l.jsx(x_,{});case"projects":return l.jsx(S_,{});case"hashtags":return l.jsx(g_,{tasks:n.filter(T=>!T.isDeleted)});case"trash":return l.jsx(A_,{});case"character":return l.jsx(G_,{});case"settings":return l.jsx(q_,{});case"focus":return l.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-12 text-center bg-[var(--bg-main)]",children:[l.jsx("div",{className:"w-24 h-24 bg-[var(--primary)]/10 text-[var(--primary)] rounded-full flex items-center justify-center text-4xl mb-6",children:l.jsx("i",{className:"fa-solid fa-bullseye"})}),l.jsx("h2",{className:"text-3xl font-black mb-4",children:" "}),l.jsx("button",{onClick:()=>v(!0),className:"px-10 py-4 bg-[var(--primary)] text-white rounded-2xl font-black shadow-xl",children:"  "})]});default:return l.jsx(Mp,{})}};return l.jsxs("div",{className:"flex min-h-screen bg-[var(--bg-main)] text-[var(--text-main)] transition-colors duration-500 overflow-hidden",children:[l.jsx(wv,{activeTab:s,setActiveTab:t,counts:w}),l.jsxs("main",{className:"flex-1 overflow-y-auto relative",children:[S(),g&&l.jsx(y_,{taskTitle:((_=n.find(T=>!T.isDeleted))==null?void 0:_.title)||"  ",onExit:()=>v(!1)}),u&&!x&&l.jsx("button",{onClick:()=>y(!0),className:"fixed bottom-8 right-8 w-14 h-14 rounded-2xl bg-[var(--primary)] text-white shadow-2xl flex items-center justify-center z-[150] hover:scale-110 active:scale-95 transition-all",children:l.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-xl"})})]}),l.jsx(Y_,{isOpen:x,onClose:()=>y(!1)})]})},K_=()=>l.jsx(Nv,{children:l.jsx(Z_,{})});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(s=>{console.log("SW registered: ",s)}).catch(s=>{console.log("ServiceWorker registration failed: ",s)})});const Gx=document.getElementById("root");if(!Gx)throw new Error("Could not find root element to mount to");const J_=gv.createRoot(Gx);J_.render(l.jsx(zs.StrictMode,{children:l.jsx(K_,{})}));
