(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function r0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var $c={exports:{}},Li={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function o0(){if(wp)return Li;wp=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,o,u){var p=null;if(u!==void 0&&(p=""+u),o.key!==void 0&&(p=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:s,type:i,key:p,ref:o!==void 0?o:null,props:u}}return Li.Fragment=t,Li.jsx=n,Li.jsxs=n,Li}var Tp;function c0(){return Tp||(Tp=1,$c.exports=o0()),$c.exports}var l=c0(),Fc={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function u0(){if(Cp)return Ie;Cp=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function S(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function M(k,P,se){this.props=k,this.context=P,this.refs=A,this.updater=se||_}M.prototype.isReactComponent={},M.prototype.setState=function(k,P){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,P,"setState")},M.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function U(){}U.prototype=M.prototype;function R(k,P,se){this.props=k,this.context=P,this.refs=A,this.updater=se||_}var Y=R.prototype=new U;Y.constructor=R,T(Y,M.prototype),Y.isPureReactComponent=!0;var q=Array.isArray;function te(){}var D={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function E(k,P,se){var Q=se.ref;return{$$typeof:s,type:k,key:P,ref:Q!==void 0?Q:null,props:se}}function O(k,P){return E(k.type,P,k.props)}function L(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function V(k){var P={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(se){return P[se]})}var K=/\/+/g;function G(k,P){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):P.toString(36)}function fe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(te,te):(k.status="pending",k.then(function(P){k.status==="pending"&&(k.status="fulfilled",k.value=P)},function(P){k.status==="pending"&&(k.status="rejected",k.reason=P)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function F(k,P,se,Q,ye){var le=typeof k;(le==="undefined"||le==="boolean")&&(k=null);var ve=!1;if(k===null)ve=!0;else switch(le){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(k.$$typeof){case s:case t:ve=!0;break;case y:return ve=k._init,F(ve(k._payload),P,se,Q,ye)}}if(ve)return ye=ye(k),ve=Q===""?"."+G(k,0):Q,q(ye)?(se="",ve!=null&&(se=ve.replace(K,"$&/")+"/"),F(ye,P,se,"",function(be){return be})):ye!=null&&(L(ye)&&(ye=O(ye,se+(ye.key==null||k&&k.key===ye.key?"":(""+ye.key).replace(K,"$&/")+"/")+ve)),P.push(ye)),1;ve=0;var _e=Q===""?".":Q+":";if(q(k))for(var xe=0;xe<k.length;xe++)Q=k[xe],le=_e+G(Q,xe),ve+=F(Q,P,se,le,ye);else if(xe=S(k),typeof xe=="function")for(k=xe.call(k),xe=0;!(Q=k.next()).done;)Q=Q.value,le=_e+G(Q,xe++),ve+=F(Q,P,se,le,ye);else if(le==="object"){if(typeof k.then=="function")return F(fe(k),P,se,Q,ye);throw P=String(k),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ve}function H(k,P,se){if(k==null)return k;var Q=[],ye=0;return F(k,Q,"","",function(le){return P.call(se,le,ye++)}),Q}function pe(k){if(k._status===-1){var P=k._result;P=P(),P.then(function(se){(k._status===0||k._status===-1)&&(k._status=1,k._result=se)},function(se){(k._status===0||k._status===-1)&&(k._status=2,k._result=se)}),k._status===-1&&(k._status=0,k._result=P)}if(k._status===1)return k._result.default;throw k._result}var $=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ue={map:H,forEach:function(k,P,se){H(k,function(){P.apply(this,arguments)},se)},count:function(k){var P=0;return H(k,function(){P++}),P},toArray:function(k){return H(k,function(P){return P})||[]},only:function(k){if(!L(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ie.Activity=b,Ie.Children=ue,Ie.Component=M,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=R,Ie.StrictMode=i,Ie.Suspense=v,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(k){return D.H.useMemoCache(k)}},Ie.cache=function(k){return function(){return k.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(k,P,se){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var Q=T({},k.props),ye=k.key;if(P!=null)for(le in P.key!==void 0&&(ye=""+P.key),P)!I.call(P,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&P.ref===void 0||(Q[le]=P[le]);var le=arguments.length-2;if(le===1)Q.children=se;else if(1<le){for(var ve=Array(le),_e=0;_e<le;_e++)ve[_e]=arguments[_e+2];Q.children=ve}return E(k.type,ye,Q)},Ie.createContext=function(k){return k={$$typeof:p,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ie.createElement=function(k,P,se){var Q,ye={},le=null;if(P!=null)for(Q in P.key!==void 0&&(le=""+P.key),P)I.call(P,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ye[Q]=P[Q]);var ve=arguments.length-2;if(ve===1)ye.children=se;else if(1<ve){for(var _e=Array(ve),xe=0;xe<ve;xe++)_e[xe]=arguments[xe+2];ye.children=_e}if(k&&k.defaultProps)for(Q in ve=k.defaultProps,ve)ye[Q]===void 0&&(ye[Q]=ve[Q]);return E(k,le,ye)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(k){return{$$typeof:g,render:k}},Ie.isValidElement=L,Ie.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:pe}},Ie.memo=function(k,P){return{$$typeof:x,type:k,compare:P===void 0?null:P}},Ie.startTransition=function(k){var P=D.T,se={};D.T=se;try{var Q=k(),ye=D.S;ye!==null&&ye(se,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(te,$)}catch(le){$(le)}finally{P!==null&&se.types!==null&&(P.types=se.types),D.T=P}},Ie.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ie.use=function(k){return D.H.use(k)},Ie.useActionState=function(k,P,se){return D.H.useActionState(k,P,se)},Ie.useCallback=function(k,P){return D.H.useCallback(k,P)},Ie.useContext=function(k){return D.H.useContext(k)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(k,P){return D.H.useDeferredValue(k,P)},Ie.useEffect=function(k,P){return D.H.useEffect(k,P)},Ie.useEffectEvent=function(k){return D.H.useEffectEvent(k)},Ie.useId=function(){return D.H.useId()},Ie.useImperativeHandle=function(k,P,se){return D.H.useImperativeHandle(k,P,se)},Ie.useInsertionEffect=function(k,P){return D.H.useInsertionEffect(k,P)},Ie.useLayoutEffect=function(k,P){return D.H.useLayoutEffect(k,P)},Ie.useMemo=function(k,P){return D.H.useMemo(k,P)},Ie.useOptimistic=function(k,P){return D.H.useOptimistic(k,P)},Ie.useReducer=function(k,P,se){return D.H.useReducer(k,P,se)},Ie.useRef=function(k){return D.H.useRef(k)},Ie.useState=function(k){return D.H.useState(k)},Ie.useSyncExternalStore=function(k,P,se){return D.H.useSyncExternalStore(k,P,se)},Ie.useTransition=function(){return D.H.useTransition()},Ie.version="19.2.3",Ie}var Sp;function gu(){return Sp||(Sp=1,Fc.exports=u0()),Fc.exports}var j=gu();const zs=r0(j);var Yc={exports:{}},Vi={},Zc={exports:{}},Kc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function d0(){return _p||(_p=1,(function(s){function t(F,H){var pe=F.length;F.push(H);e:for(;0<pe;){var $=pe-1>>>1,ue=F[$];if(0<o(ue,H))F[$]=H,F[pe]=ue,pe=$;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var H=F[0],pe=F.pop();if(pe!==H){F[0]=pe;e:for(var $=0,ue=F.length,k=ue>>>1;$<k;){var P=2*($+1)-1,se=F[P],Q=P+1,ye=F[Q];if(0>o(se,pe))Q<ue&&0>o(ye,se)?(F[$]=ye,F[Q]=pe,$=Q):(F[$]=se,F[P]=pe,$=P);else if(Q<ue&&0>o(ye,pe))F[$]=ye,F[Q]=pe,$=Q;else break e}}return H}function o(F,H){var pe=F.sortIndex-H.sortIndex;return pe!==0?pe:F.id-H.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var p=Date,g=p.now();s.unstable_now=function(){return p.now()-g}}var v=[],x=[],y=1,b=null,w=3,S=!1,_=!1,T=!1,A=!1,M=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function Y(F){for(var H=n(x);H!==null;){if(H.callback===null)i(x);else if(H.startTime<=F)i(x),H.sortIndex=H.expirationTime,t(v,H);else break;H=n(x)}}function q(F){if(T=!1,Y(F),!_)if(n(v)!==null)_=!0,te||(te=!0,V());else{var H=n(x);H!==null&&fe(q,H.startTime-F)}}var te=!1,D=-1,I=5,E=-1;function O(){return A?!0:!(s.unstable_now()-E<I)}function L(){if(A=!1,te){var F=s.unstable_now();E=F;var H=!0;try{e:{_=!1,T&&(T=!1,U(D),D=-1),S=!0;var pe=w;try{t:{for(Y(F),b=n(v);b!==null&&!(b.expirationTime>F&&O());){var $=b.callback;if(typeof $=="function"){b.callback=null,w=b.priorityLevel;var ue=$(b.expirationTime<=F);if(F=s.unstable_now(),typeof ue=="function"){b.callback=ue,Y(F),H=!0;break t}b===n(v)&&i(v),Y(F)}else i(v);b=n(v)}if(b!==null)H=!0;else{var k=n(x);k!==null&&fe(q,k.startTime-F),H=!1}}break e}finally{b=null,w=pe,S=!1}H=void 0}}finally{H?V():te=!1}}}var V;if(typeof R=="function")V=function(){R(L)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,G=K.port2;K.port1.onmessage=L,V=function(){G.postMessage(null)}}else V=function(){M(L,0)};function fe(F,H){D=M(function(){F(s.unstable_now())},H)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(F){switch(w){case 1:case 2:case 3:var H=3;break;default:H=w}var pe=w;w=H;try{return F()}finally{w=pe}},s.unstable_requestPaint=function(){A=!0},s.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var pe=w;w=F;try{return H()}finally{w=pe}},s.unstable_scheduleCallback=function(F,H,pe){var $=s.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?$+pe:$):pe=$,F){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=pe+ue,F={id:y++,callback:H,priorityLevel:F,startTime:pe,expirationTime:ue,sortIndex:-1},pe>$?(F.sortIndex=pe,t(x,F),n(v)===null&&F===n(x)&&(T?(U(D),D=-1):T=!0,fe(q,pe-$))):(F.sortIndex=ue,t(v,F),_||S||(_=!0,te||(te=!0,V()))),F},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(F){var H=w;return function(){var pe=w;w=H;try{return F.apply(this,arguments)}finally{w=pe}}}})(Kc)),Kc}var kp;function f0(){return kp||(kp=1,Zc.exports=d0()),Zc.exports}var Jc={exports:{}},Dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function m0(){if(jp)return Dt;jp=1;var s=gu();function t(v){var x="https://react.dev/errors/"+v;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)x+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+v+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,x,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:v,containerInfo:x,implementation:y}}var p=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,x){if(v==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Dt.createPortal=function(v,x){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(t(299));return u(v,x,null,y)},Dt.flushSync=function(v){var x=p.T,y=i.p;try{if(p.T=null,i.p=2,v)return v()}finally{p.T=x,i.p=y,i.d.f()}},Dt.preconnect=function(v,x){typeof v=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(v,x))},Dt.prefetchDNS=function(v){typeof v=="string"&&i.d.D(v)},Dt.preinit=function(v,x){if(typeof v=="string"&&x&&typeof x.as=="string"){var y=x.as,b=g(y,x.crossOrigin),w=typeof x.integrity=="string"?x.integrity:void 0,S=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;y==="style"?i.d.S(v,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:S}):y==="script"&&i.d.X(v,{crossOrigin:b,integrity:w,fetchPriority:S,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Dt.preinitModule=function(v,x){if(typeof v=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var y=g(x.as,x.crossOrigin);i.d.M(v,{crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(v)},Dt.preload=function(v,x){if(typeof v=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var y=x.as,b=g(y,x.crossOrigin);i.d.L(v,y,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Dt.preloadModule=function(v,x){if(typeof v=="string")if(x){var y=g(x.as,x.crossOrigin);i.d.m(v,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(v)},Dt.requestFormReset=function(v){i.d.r(v)},Dt.unstable_batchedUpdates=function(v,x){return v(x)},Dt.useFormState=function(v,x,y){return p.H.useFormState(v,x,y)},Dt.useFormStatus=function(){return p.H.useHostTransitionStatus()},Dt.version="19.2.3",Dt}var Ep;function p0(){if(Ep)return Jc.exports;Ep=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Jc.exports=m0(),Jc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function h0(){if(Ap)return Vi;Ap=1;var s=f0(),t=gu(),n=p0();function i(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)a+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,r=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(r=a.return),e=a.return;while(e)}return a.tag===3?r:null}function p(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function g(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function v(e){if(u(e)!==e)throw Error(i(188))}function x(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(i(188));return a!==e?null:e}for(var r=e,c=a;;){var m=r.return;if(m===null)break;var h=m.alternate;if(h===null){if(c=m.return,c!==null){r=c;continue}break}if(m.child===h.child){for(h=m.child;h;){if(h===r)return v(m),e;if(h===c)return v(m),a;h=h.sibling}throw Error(i(188))}if(r.return!==c.return)r=m,c=h;else{for(var N=!1,C=m.child;C;){if(C===r){N=!0,r=m,c=h;break}if(C===c){N=!0,c=m,r=h;break}C=C.sibling}if(!N){for(C=h.child;C;){if(C===r){N=!0,r=h,c=m;break}if(C===c){N=!0,c=h,r=m;break}C=C.sibling}if(!N)throw Error(i(189))}}if(r.alternate!==c)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:a}function y(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=y(e),a!==null)return a;e=e.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),R=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=L&&e[L]||e["@@iterator"],typeof e=="function"?e:null)}var K=Symbol.for("react.client.reference");function G(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===K?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case M:return"Profiler";case A:return"StrictMode";case q:return"Suspense";case te:return"SuspenseList";case E:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case R:return e.displayName||"Context";case U:return(e._context.displayName||"Context")+".Consumer";case Y:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return a=e.displayName||null,a!==null?a:G(e.type)||"Memo";case I:a=e._payload,e=e._init;try{return G(e(a))}catch{}}return null}var fe=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},$=[],ue=-1;function k(e){return{current:e}}function P(e){0>ue||(e.current=$[ue],$[ue]=null,ue--)}function se(e,a){ue++,$[ue]=e.current,e.current=a}var Q=k(null),ye=k(null),le=k(null),ve=k(null);function _e(e,a){switch(se(le,a),se(ye,e),se(Q,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?$m(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=$m(a),e=Fm(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(Q),se(Q,e)}function xe(){P(Q),P(ye),P(le)}function be(e){e.memoizedState!==null&&se(ve,e);var a=Q.current,r=Fm(a,e.type);a!==r&&(se(ye,e),se(Q,r))}function it(e){ye.current===e&&(P(Q),P(ye)),ve.current===e&&(P(ve),Ii._currentValue=pe)}var ut,Ut;function Ye(e){if(ut===void 0)try{throw Error()}catch(r){var a=r.stack.trim().match(/\n( *(at )?)/);ut=a&&a[1]||"",Ut=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ut+e+Ut}var Qt=!1;function qn(e,a){if(!e||Qt)return"";Qt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ne){var W=ne}Reflect.construct(e,[],de)}else{try{de.call()}catch(ne){W=ne}e.call(de.prototype)}}else{try{throw Error()}catch(ne){W=ne}(de=e())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ne){if(ne&&W&&typeof ne.stack=="string")return[ne.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),N=h[0],C=h[1];if(N&&C){var z=N.split(`
`),X=C.split(`
`);for(m=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;if(c===z.length||m===X.length)for(c=z.length-1,m=X.length-1;1<=c&&0<=m&&z[c]!==X[m];)m--;for(;1<=c&&0<=m;c--,m--)if(z[c]!==X[m]){if(c!==1||m!==1)do if(c--,m--,0>m||z[c]!==X[m]){var re=`
`+z[c].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=c&&0<=m);break}}}finally{Qt=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ye(r):""}function Zi(e,a){switch(e.tag){case 26:case 27:case 5:return Ye(e.type);case 16:return Ye("Lazy");case 13:return e.child!==a&&a!==null?Ye("Suspense Fallback"):Ye("Suspense");case 19:return Ye("SuspenseList");case 0:case 15:return qn(e.type,!1);case 11:return qn(e.type.render,!1);case 1:return qn(e.type,!0);case 31:return Ye("Activity");default:return""}}function Ki(e){try{var a="",r=null;do a+=Zi(e,r),r=e,e=e.return;while(e);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ie=Object.prototype.hasOwnProperty,ae=s.unstable_scheduleCallback,oe=s.unstable_cancelCallback,he=s.unstable_shouldYield,gt=s.unstable_requestPaint,Xe=s.unstable_now,qa=s.unstable_getCurrentPriorityLevel,ba=s.unstable_ImmediatePriority,hn=s.unstable_UserBlockingPriority,Pa=s.unstable_NormalPriority,Dr=s.unstable_LowPriority,Cu=s.unstable_IdlePriority,qx=s.log,Px=s.unstable_setDisableYieldValue,Fs=null,qt=null;function Pn(e){if(typeof qx=="function"&&Px(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Fs,e)}catch{}}var Pt=Math.clz32?Math.clz32:Yx,$x=Math.log,Fx=Math.LN2;function Yx(e){return e>>>=0,e===0?32:31-($x(e)/Fx|0)|0}var Ji=256,Xi=262144,Qi=4194304;function Na(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wi(e,a,r){var c=e.pendingLanes;if(c===0)return 0;var m=0,h=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var C=c&134217727;return C!==0?(c=C&~h,c!==0?m=Na(c):(N&=C,N!==0?m=Na(N):r||(r=C&~e,r!==0&&(m=Na(r))))):(C=c&~h,C!==0?m=Na(C):N!==0?m=Na(N):r||(r=c&~e,r!==0&&(m=Na(r)))),m===0?0:a!==0&&a!==m&&(a&h)===0&&(h=m&-m,r=a&-a,h>=r||h===32&&(r&4194048)!==0)?a:m}function Ys(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function Zx(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Su(){var e=Qi;return Qi<<=1,(Qi&62914560)===0&&(Qi=4194304),e}function Mr(e){for(var a=[],r=0;31>r;r++)a.push(e);return a}function Zs(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Kx(e,a,r,c,m,h){var N=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var C=e.entanglements,z=e.expirationTimes,X=e.hiddenUpdates;for(r=N&~r;0<r;){var re=31-Pt(r),de=1<<re;C[re]=0,z[re]=-1;var W=X[re];if(W!==null)for(X[re]=null,re=0;re<W.length;re++){var ne=W[re];ne!==null&&(ne.lane&=-536870913)}r&=~de}c!==0&&_u(e,c,0),h!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=h&~(N&~a))}function _u(e,a,r){e.pendingLanes|=a,e.suspendedLanes&=~a;var c=31-Pt(a);e.entangledLanes|=a,e.entanglements[c]=e.entanglements[c]|1073741824|r&261930}function ku(e,a){var r=e.entangledLanes|=a;for(e=e.entanglements;r;){var c=31-Pt(r),m=1<<c;m&a|e[c]&a&&(e[c]|=a),r&=~m}}function ju(e,a){var r=a&-a;return r=(r&42)!==0?1:Rr(r),(r&(e.suspendedLanes|a))!==0?0:r}function Rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ir(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Eu(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:hp(e.type))}function Au(e,a){var r=H.p;try{return H.p=e,a()}finally{H.p=r}}var $n=Math.random().toString(36).slice(2),_t="__reactFiber$"+$n,zt="__reactProps$"+$n,$a="__reactContainer$"+$n,Ur="__reactEvents$"+$n,Jx="__reactListeners$"+$n,Xx="__reactHandles$"+$n,Du="__reactResources$"+$n,Ks="__reactMarker$"+$n;function zr(e){delete e[_t],delete e[zt],delete e[Ur],delete e[Jx],delete e[Xx]}function Fa(e){var a=e[_t];if(a)return a;for(var r=e.parentNode;r;){if(a=r[$a]||r[_t]){if(r=a.alternate,a.child!==null||r!==null&&r.child!==null)for(e=Wm(e);e!==null;){if(r=e[_t])return r;e=Wm(e)}return a}e=r,r=e.parentNode}return null}function Ya(e){if(e=e[_t]||e[$a]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function Js(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(i(33))}function Za(e){var a=e[Du];return a||(a=e[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ct(e){e[Ks]=!0}var Mu=new Set,Ru={};function wa(e,a){Ka(e,a),Ka(e+"Capture",a)}function Ka(e,a){for(Ru[e]=a,e=0;e<a.length;e++)Mu.add(a[e])}var Qx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Iu={},Uu={};function Wx(e){return ie.call(Uu,e)?!0:ie.call(Iu,e)?!1:Qx.test(e)?Uu[e]=!0:(Iu[e]=!0,!1)}function el(e,a,r){if(Wx(a))if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+r)}}function tl(e,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+r)}}function Tn(e,a,r,c){if(c===null)e.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(a,r,""+c)}}function Wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zu(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function eg(e,a,r){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,h=c.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return m.call(this)},set:function(N){r=""+N,h.call(this,N)}}),Object.defineProperty(e,a,{enumerable:c.enumerable}),{getValue:function(){return r},setValue:function(N){r=""+N},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function Or(e){if(!e._valueTracker){var a=zu(e)?"checked":"value";e._valueTracker=eg(e,a,""+e[a])}}function Ou(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var r=a.getValue(),c="";return e&&(c=zu(e)?e.checked?"true":"false":e.value),e=c,e!==r?(a.setValue(e),!0):!1}function nl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tg=/[\n"\\]/g;function en(e){return e.replace(tg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Lr(e,a,r,c,m,h,N,C){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),a!=null?N==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Wt(a)):e.value!==""+Wt(a)&&(e.value=""+Wt(a)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),a!=null?Vr(e,N,Wt(a)):r!=null?Vr(e,N,Wt(r)):c!=null&&e.removeAttribute("value"),m==null&&h!=null&&(e.defaultChecked=!!h),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Wt(C):e.removeAttribute("name")}function Lu(e,a,r,c,m,h,N,C){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),a!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||a!=null)){Or(e);return}r=r!=null?""+Wt(r):"",a=a!=null?""+Wt(a):r,C||a===e.value||(e.value=a),e.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=C?e.checked:!!c,e.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N),Or(e)}function Vr(e,a,r){a==="number"&&nl(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Ja(e,a,r,c){if(e=e.options,a){a={};for(var m=0;m<r.length;m++)a["$"+r[m]]=!0;for(r=0;r<e.length;r++)m=a.hasOwnProperty("$"+e[r].value),e[r].selected!==m&&(e[r].selected=m),m&&c&&(e[r].defaultSelected=!0)}else{for(r=""+Wt(r),a=null,m=0;m<e.length;m++){if(e[m].value===r){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}a!==null||e[m].disabled||(a=e[m])}a!==null&&(a.selected=!0)}}function Vu(e,a,r){if(a!=null&&(a=""+Wt(a),a!==e.value&&(e.value=a),r==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=r!=null?""+Wt(r):""}function Hu(e,a,r,c){if(a==null){if(c!=null){if(r!=null)throw Error(i(92));if(fe(c)){if(1<c.length)throw Error(i(93));c=c[0]}r=c}r==null&&(r=""),a=r}r=Wt(a),e.defaultValue=r,c=e.textContent,c===r&&c!==""&&c!==null&&(e.value=c),Or(e)}function Xa(e,a){if(a){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=a;return}}e.textContent=a}var ng=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bu(e,a,r){var c=a.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":c?e.setProperty(a,r):typeof r!="number"||r===0||ng.has(a)?a==="float"?e.cssFloat=r:e[a]=(""+r).trim():e[a]=r+"px"}function Gu(e,a,r){if(a!=null&&typeof a!="object")throw Error(i(62));if(e=e.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&r[m]!==c&&Bu(e,m,c)}else for(var h in a)a.hasOwnProperty(h)&&Bu(e,h,a[h])}function Hr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ag=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(e){return sg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Cn(){}var Br=null;function Gr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qa=null,Wa=null;function qu(e){var a=Ya(e);if(a&&(e=a.stateNode)){var r=e[zt]||null;e:switch(e=a.stateNode,a.type){case"input":if(Lr(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),a=r.name,r.type==="radio"&&a!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+en(""+a)+'"][type="radio"]'),a=0;a<r.length;a++){var c=r[a];if(c!==e&&c.form===e.form){var m=c[zt]||null;if(!m)throw Error(i(90));Lr(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<r.length;a++)c=r[a],c.form===e.form&&Ou(c)}break e;case"textarea":Vu(e,r.value,r.defaultValue);break e;case"select":a=r.value,a!=null&&Ja(e,!!r.multiple,a,!1)}}}var qr=!1;function Pu(e,a,r){if(qr)return e(a,r);qr=!0;try{var c=e(a);return c}finally{if(qr=!1,(Qa!==null||Wa!==null)&&(Pl(),Qa&&(a=Qa,e=Wa,Wa=Qa=null,qu(a),e)))for(a=0;a<e.length;a++)qu(e[a])}}function Xs(e,a){var r=e.stateNode;if(r===null)return null;var c=r[zt]||null;if(c===null)return null;r=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,a,typeof r));return r}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(Sn)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{Pr=!1}var Fn=null,$r=null,sl=null;function $u(){if(sl)return sl;var e,a=$r,r=a.length,c,m="value"in Fn?Fn.value:Fn.textContent,h=m.length;for(e=0;e<r&&a[e]===m[e];e++);var N=r-e;for(c=1;c<=N&&a[r-c]===m[h-c];c++);return sl=m.slice(e,1<c?1-c:void 0)}function il(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function ll(){return!0}function Fu(){return!1}function Ot(e){function a(r,c,m,h,N){this._reactName=r,this._targetInst=m,this.type=c,this.nativeEvent=h,this.target=N,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(r=e[C],this[C]=r?r(h):h[C]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ll:Fu,this.isPropagationStopped=Fu,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),a}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=Ot(Ta),Ws=b({},Ta,{view:0,detail:0}),ig=Ot(Ws),Fr,Yr,ei,ol=b({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&e.type==="mousemove"?(Fr=e.screenX-ei.screenX,Yr=e.screenY-ei.screenY):Yr=Fr=0,ei=e),Fr)},movementY:function(e){return"movementY"in e?e.movementY:Yr}}),Yu=Ot(ol),lg=b({},ol,{dataTransfer:0}),rg=Ot(lg),og=b({},Ws,{relatedTarget:0}),Zr=Ot(og),cg=b({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),ug=Ot(cg),dg=b({},Ta,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fg=Ot(dg),mg=b({},Ta,{data:0}),Zu=Ot(mg),pg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gg(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=xg[e])?!!a[e]:!1}function Kr(){return gg}var vg=b({},Ws,{key:function(e){if(e.key){var a=pg[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=il(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(e){return e.type==="keypress"?il(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?il(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yg=Ot(vg),bg=b({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ku=Ot(bg),Ng=b({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),wg=Ot(Ng),Tg=b({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cg=Ot(Tg),Sg=b({},ol,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_g=Ot(Sg),kg=b({},Ta,{newState:0,oldState:0}),jg=Ot(kg),Eg=[9,13,27,32],Jr=Sn&&"CompositionEvent"in window,ti=null;Sn&&"documentMode"in document&&(ti=document.documentMode);var Ag=Sn&&"TextEvent"in window&&!ti,Ju=Sn&&(!Jr||ti&&8<ti&&11>=ti),Xu=" ",Qu=!1;function Wu(e,a){switch(e){case"keyup":return Eg.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var es=!1;function Dg(e,a){switch(e){case"compositionend":return ed(a);case"keypress":return a.which!==32?null:(Qu=!0,Xu);case"textInput":return e=a.data,e===Xu&&Qu?null:e;default:return null}}function Mg(e,a){if(es)return e==="compositionend"||!Jr&&Wu(e,a)?(e=$u(),sl=$r=Fn=null,es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ju&&a.locale!=="ko"?null:a.data;default:return null}}var Rg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function td(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!Rg[e.type]:a==="textarea"}function nd(e,a,r,c){Qa?Wa?Wa.push(c):Wa=[c]:Qa=c,a=Xl(a,"onChange"),0<a.length&&(r=new rl("onChange","change",null,r,c),e.push({event:r,listeners:a}))}var ni=null,ai=null;function Ig(e){Vm(e,0)}function cl(e){var a=Js(e);if(Ou(a))return e}function ad(e,a){if(e==="change")return a}var sd=!1;if(Sn){var Xr;if(Sn){var Qr="oninput"in document;if(!Qr){var id=document.createElement("div");id.setAttribute("oninput","return;"),Qr=typeof id.oninput=="function"}Xr=Qr}else Xr=!1;sd=Xr&&(!document.documentMode||9<document.documentMode)}function ld(){ni&&(ni.detachEvent("onpropertychange",rd),ai=ni=null)}function rd(e){if(e.propertyName==="value"&&cl(ai)){var a=[];nd(a,ai,e,Gr(e)),Pu(Ig,a)}}function Ug(e,a,r){e==="focusin"?(ld(),ni=a,ai=r,ni.attachEvent("onpropertychange",rd)):e==="focusout"&&ld()}function zg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cl(ai)}function Og(e,a){if(e==="click")return cl(a)}function Lg(e,a){if(e==="input"||e==="change")return cl(a)}function Vg(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var $t=typeof Object.is=="function"?Object.is:Vg;function si(e,a){if($t(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var r=Object.keys(e),c=Object.keys(a);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var m=r[c];if(!ie.call(a,m)||!$t(e[m],a[m]))return!1}return!0}function od(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cd(e,a){var r=od(e);e=0;for(var c;r;){if(r.nodeType===3){if(c=e+r.textContent.length,e<=a&&c>=a)return{node:r,offset:a-e};e=c}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=od(r)}}function ud(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?ud(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function dd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=nl(e.document);a instanceof e.HTMLIFrameElement;){try{var r=typeof a.contentWindow.location.href=="string"}catch{r=!1}if(r)e=a.contentWindow;else break;a=nl(e.document)}return a}function Wr(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var Hg=Sn&&"documentMode"in document&&11>=document.documentMode,ts=null,eo=null,ii=null,to=!1;function fd(e,a,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;to||ts==null||ts!==nl(c)||(c=ts,"selectionStart"in c&&Wr(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ii&&si(ii,c)||(ii=c,c=Xl(eo,"onSelect"),0<c.length&&(a=new rl("onSelect","select",null,a,r),e.push({event:a,listeners:c}),a.target=ts)))}function Ca(e,a){var r={};return r[e.toLowerCase()]=a.toLowerCase(),r["Webkit"+e]="webkit"+a,r["Moz"+e]="moz"+a,r}var ns={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},no={},md={};Sn&&(md=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function Sa(e){if(no[e])return no[e];if(!ns[e])return e;var a=ns[e],r;for(r in a)if(a.hasOwnProperty(r)&&r in md)return no[e]=a[r];return e}var pd=Sa("animationend"),hd=Sa("animationiteration"),xd=Sa("animationstart"),Bg=Sa("transitionrun"),Gg=Sa("transitionstart"),qg=Sa("transitioncancel"),gd=Sa("transitionend"),vd=new Map,ao="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ao.push("scrollEnd");function dn(e,a){vd.set(e,a),wa(a,[e])}var ul=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},tn=[],as=0,so=0;function dl(){for(var e=as,a=so=as=0;a<e;){var r=tn[a];tn[a++]=null;var c=tn[a];tn[a++]=null;var m=tn[a];tn[a++]=null;var h=tn[a];if(tn[a++]=null,c!==null&&m!==null){var N=c.pending;N===null?m.next=m:(m.next=N.next,N.next=m),c.pending=m}h!==0&&yd(r,m,h)}}function fl(e,a,r,c){tn[as++]=e,tn[as++]=a,tn[as++]=r,tn[as++]=c,so|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function io(e,a,r,c){return fl(e,a,r,c),ml(e)}function _a(e,a){return fl(e,null,null,a),ml(e)}function yd(e,a,r){e.lanes|=r;var c=e.alternate;c!==null&&(c.lanes|=r);for(var m=!1,h=e.return;h!==null;)h.childLanes|=r,c=h.alternate,c!==null&&(c.childLanes|=r),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(m=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,m&&a!==null&&(m=31-Pt(r),e=h.hiddenUpdates,c=e[m],c===null?e[m]=[a]:c.push(a),a.lane=r|536870912),h):null}function ml(e){if(50<ki)throw ki=0,hc=null,Error(i(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var ss={};function Pg(e,a,r,c){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,a,r,c){return new Pg(e,a,r,c)}function lo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _n(e,a){var r=e.alternate;return r===null?(r=Ft(e.tag,a,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=a,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,a=e.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function bd(e,a){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,a=r.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function pl(e,a,r,c,m,h){var N=0;if(c=e,typeof e=="function")lo(e)&&(N=1);else if(typeof e=="string")N=Kv(e,r,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case E:return e=Ft(31,r,a,m),e.elementType=E,e.lanes=h,e;case T:return ka(r.children,m,h,a);case A:N=8,m|=24;break;case M:return e=Ft(12,r,a,m|2),e.elementType=M,e.lanes=h,e;case q:return e=Ft(13,r,a,m),e.elementType=q,e.lanes=h,e;case te:return e=Ft(19,r,a,m),e.elementType=te,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:N=10;break e;case U:N=9;break e;case Y:N=11;break e;case D:N=14;break e;case I:N=16,c=null;break e}N=29,r=Error(i(130,e===null?"null":typeof e,"")),c=null}return a=Ft(N,r,a,m),a.elementType=e,a.type=c,a.lanes=h,a}function ka(e,a,r,c){return e=Ft(7,e,c,a),e.lanes=r,e}function ro(e,a,r){return e=Ft(6,e,null,a),e.lanes=r,e}function Nd(e){var a=Ft(18,null,null,0);return a.stateNode=e,a}function oo(e,a,r){return a=Ft(4,e.children!==null?e.children:[],e.key,a),a.lanes=r,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var wd=new WeakMap;function nn(e,a){if(typeof e=="object"&&e!==null){var r=wd.get(e);return r!==void 0?r:(a={value:e,source:a,stack:Ki(a)},wd.set(e,a),a)}return{value:e,source:a,stack:Ki(a)}}var is=[],ls=0,hl=null,li=0,an=[],sn=0,Yn=null,xn=1,gn="";function kn(e,a){is[ls++]=li,is[ls++]=hl,hl=e,li=a}function Td(e,a,r){an[sn++]=xn,an[sn++]=gn,an[sn++]=Yn,Yn=e;var c=xn;e=gn;var m=32-Pt(c)-1;c&=~(1<<m),r+=1;var h=32-Pt(a)+m;if(30<h){var N=m-m%5;h=(c&(1<<N)-1).toString(32),c>>=N,m-=N,xn=1<<32-Pt(a)+m|r<<m|c,gn=h+e}else xn=1<<h|r<<m|c,gn=e}function co(e){e.return!==null&&(kn(e,1),Td(e,1,0))}function uo(e){for(;e===hl;)hl=is[--ls],is[ls]=null,li=is[--ls],is[ls]=null;for(;e===Yn;)Yn=an[--sn],an[sn]=null,gn=an[--sn],an[sn]=null,xn=an[--sn],an[sn]=null}function Cd(e,a){an[sn++]=xn,an[sn++]=gn,an[sn++]=Yn,xn=a.id,gn=a.overflow,Yn=e}var kt=null,rt=null,Pe=!1,Zn=null,ln=!1,fo=Error(i(519));function Kn(e){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ri(nn(a,e)),fo}function Sd(e){var a=e.stateNode,r=e.type,c=e.memoizedProps;switch(a[_t]=e,a[zt]=c,r){case"dialog":He("cancel",a),He("close",a);break;case"iframe":case"object":case"embed":He("load",a);break;case"video":case"audio":for(r=0;r<Ei.length;r++)He(Ei[r],a);break;case"source":He("error",a);break;case"img":case"image":case"link":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"input":He("invalid",a),Lu(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":He("invalid",a);break;case"textarea":He("invalid",a),Hu(a,c.value,c.defaultValue,c.children)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||a.textContent===""+r||c.suppressHydrationWarning===!0||qm(a.textContent,r)?(c.popover!=null&&(He("beforetoggle",a),He("toggle",a)),c.onScroll!=null&&He("scroll",a),c.onScrollEnd!=null&&He("scrollend",a),c.onClick!=null&&(a.onclick=Cn),a=!0):a=!1,a||Kn(e,!0)}function _d(e){for(kt=e.return;kt;)switch(kt.tag){case 5:case 31:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:kt=kt.return}}function rs(e){if(e!==kt)return!1;if(!Pe)return _d(e),Pe=!0,!1;var a=e.tag,r;if((r=a!==3&&a!==27)&&((r=a===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Ac(e.type,e.memoizedProps)),r=!r),r&&rt&&Kn(e),_d(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));rt=Qm(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));rt=Qm(e)}else a===27?(a=rt,ca(e.type)?(e=Uc,Uc=null,rt=e):rt=a):rt=kt?on(e.stateNode.nextSibling):null;return!0}function ja(){rt=kt=null,Pe=!1}function mo(){var e=Zn;return e!==null&&(Bt===null?Bt=e:Bt.push.apply(Bt,e),Zn=null),e}function ri(e){Zn===null?Zn=[e]:Zn.push(e)}var po=k(null),Ea=null,jn=null;function Jn(e,a,r){se(po,a._currentValue),a._currentValue=r}function En(e){e._currentValue=po.current,P(po)}function ho(e,a,r){for(;e!==null;){var c=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),e===r)break;e=e.return}}function xo(e,a,r,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var h=m.dependencies;if(h!==null){var N=m.child;h=h.firstContext;e:for(;h!==null;){var C=h;h=m;for(var z=0;z<a.length;z++)if(C.context===a[z]){h.lanes|=r,C=h.alternate,C!==null&&(C.lanes|=r),ho(h.return,r,e),c||(N=null);break e}h=C.next}}else if(m.tag===18){if(N=m.return,N===null)throw Error(i(341));N.lanes|=r,h=N.alternate,h!==null&&(h.lanes|=r),ho(N,r,e),N=null}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===e){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}}function os(e,a,r,c){e=null;for(var m=a,h=!1;m!==null;){if(!h){if((m.flags&524288)!==0)h=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var N=m.alternate;if(N===null)throw Error(i(387));if(N=N.memoizedProps,N!==null){var C=m.type;$t(m.pendingProps.value,N.value)||(e!==null?e.push(C):e=[C])}}else if(m===ve.current){if(N=m.alternate,N===null)throw Error(i(387));N.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Ii):e=[Ii])}m=m.return}e!==null&&xo(a,e,r,c),a.flags|=262144}function xl(e){for(e=e.firstContext;e!==null;){if(!$t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Aa(e){Ea=e,jn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jt(e){return kd(Ea,e)}function gl(e,a){return Ea===null&&Aa(e),kd(e,a)}function kd(e,a){var r=a._currentValue;if(a={context:a,memoizedValue:r,next:null},jn===null){if(e===null)throw Error(i(308));jn=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else jn=jn.next=a;return r}var $g=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(r,c){e.push(c)}};this.abort=function(){a.aborted=!0,e.forEach(function(r){return r()})}},Fg=s.unstable_scheduleCallback,Yg=s.unstable_NormalPriority,vt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function go(){return{controller:new $g,data:new Map,refCount:0}}function oi(e){e.refCount--,e.refCount===0&&Fg(Yg,function(){e.controller.abort()})}var ci=null,vo=0,cs=0,us=null;function Zg(e,a){if(ci===null){var r=ci=[];vo=0,cs=Nc(),us={status:"pending",value:void 0,then:function(c){r.push(c)}}}return vo++,a.then(jd,jd),a}function jd(){if(--vo===0&&ci!==null){us!==null&&(us.status="fulfilled");var e=ci;ci=null,cs=0,us=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function Kg(e,a){var r=[],c={status:"pending",value:null,reason:null,then:function(m){r.push(m)}};return e.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<r.length;m++)(0,r[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<r.length;m++)(0,r[m])(void 0)}),c}var Ed=F.S;F.S=function(e,a){mm=Xe(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Zg(e,a),Ed!==null&&Ed(e,a)};var Da=k(null);function yo(){var e=Da.current;return e!==null?e:st.pooledCache}function vl(e,a){a===null?se(Da,Da.current):se(Da,a.pool)}function Ad(){var e=yo();return e===null?null:{parent:vt._currentValue,pool:e}}var ds=Error(i(460)),bo=Error(i(474)),yl=Error(i(542)),bl={then:function(){}};function Dd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Md(e,a,r){switch(r=e[r],r===void 0?e.push(a):r!==a&&(a.then(Cn,Cn),a=r),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Id(e),e;default:if(typeof a.status=="string")a.then(Cn,Cn);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=a,e.status="pending",e.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Id(e),e}throw Ra=a,ds}}function Ma(e){try{var a=e._init;return a(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ra=r,ds):r}}var Ra=null;function Rd(){if(Ra===null)throw Error(i(459));var e=Ra;return Ra=null,e}function Id(e){if(e===ds||e===yl)throw Error(i(483))}var fs=null,ui=0;function Nl(e){var a=ui;return ui+=1,fs===null&&(fs=[]),Md(fs,e,a)}function di(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function wl(e,a){throw a.$$typeof===w?Error(i(525)):(e=Object.prototype.toString.call(a),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function Ud(e){function a(Z,B){if(e){var J=Z.deletions;J===null?(Z.deletions=[B],Z.flags|=16):J.push(B)}}function r(Z,B){if(!e)return null;for(;B!==null;)a(Z,B),B=B.sibling;return null}function c(Z){for(var B=new Map;Z!==null;)Z.key!==null?B.set(Z.key,Z):B.set(Z.index,Z),Z=Z.sibling;return B}function m(Z,B){return Z=_n(Z,B),Z.index=0,Z.sibling=null,Z}function h(Z,B,J){return Z.index=J,e?(J=Z.alternate,J!==null?(J=J.index,J<B?(Z.flags|=67108866,B):J):(Z.flags|=67108866,B)):(Z.flags|=1048576,B)}function N(Z){return e&&Z.alternate===null&&(Z.flags|=67108866),Z}function C(Z,B,J,ce){return B===null||B.tag!==6?(B=ro(J,Z.mode,ce),B.return=Z,B):(B=m(B,J),B.return=Z,B)}function z(Z,B,J,ce){var je=J.type;return je===T?re(Z,B,J.props.children,ce,J.key):B!==null&&(B.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===I&&Ma(je)===B.type)?(B=m(B,J.props),di(B,J),B.return=Z,B):(B=pl(J.type,J.key,J.props,null,Z.mode,ce),di(B,J),B.return=Z,B)}function X(Z,B,J,ce){return B===null||B.tag!==4||B.stateNode.containerInfo!==J.containerInfo||B.stateNode.implementation!==J.implementation?(B=oo(J,Z.mode,ce),B.return=Z,B):(B=m(B,J.children||[]),B.return=Z,B)}function re(Z,B,J,ce,je){return B===null||B.tag!==7?(B=ka(J,Z.mode,ce,je),B.return=Z,B):(B=m(B,J),B.return=Z,B)}function de(Z,B,J){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=ro(""+B,Z.mode,J),B.return=Z,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return J=pl(B.type,B.key,B.props,null,Z.mode,J),di(J,B),J.return=Z,J;case _:return B=oo(B,Z.mode,J),B.return=Z,B;case I:return B=Ma(B),de(Z,B,J)}if(fe(B)||V(B))return B=ka(B,Z.mode,J,null),B.return=Z,B;if(typeof B.then=="function")return de(Z,Nl(B),J);if(B.$$typeof===R)return de(Z,gl(Z,B),J);wl(Z,B)}return null}function W(Z,B,J,ce){var je=B!==null?B.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return je!==null?null:C(Z,B,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return J.key===je?z(Z,B,J,ce):null;case _:return J.key===je?X(Z,B,J,ce):null;case I:return J=Ma(J),W(Z,B,J,ce)}if(fe(J)||V(J))return je!==null?null:re(Z,B,J,ce,null);if(typeof J.then=="function")return W(Z,B,Nl(J),ce);if(J.$$typeof===R)return W(Z,B,gl(Z,J),ce);wl(Z,J)}return null}function ne(Z,B,J,ce,je){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Z=Z.get(J)||null,C(B,Z,""+ce,je);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case S:return Z=Z.get(ce.key===null?J:ce.key)||null,z(B,Z,ce,je);case _:return Z=Z.get(ce.key===null?J:ce.key)||null,X(B,Z,ce,je);case I:return ce=Ma(ce),ne(Z,B,J,ce,je)}if(fe(ce)||V(ce))return Z=Z.get(J)||null,re(B,Z,ce,je,null);if(typeof ce.then=="function")return ne(Z,B,J,Nl(ce),je);if(ce.$$typeof===R)return ne(Z,B,J,gl(B,ce),je);wl(B,ce)}return null}function Te(Z,B,J,ce){for(var je=null,Ze=null,Se=B,ze=B=0,Ge=null;Se!==null&&ze<J.length;ze++){Se.index>ze?(Ge=Se,Se=null):Ge=Se.sibling;var Ke=W(Z,Se,J[ze],ce);if(Ke===null){Se===null&&(Se=Ge);break}e&&Se&&Ke.alternate===null&&a(Z,Se),B=h(Ke,B,ze),Ze===null?je=Ke:Ze.sibling=Ke,Ze=Ke,Se=Ge}if(ze===J.length)return r(Z,Se),Pe&&kn(Z,ze),je;if(Se===null){for(;ze<J.length;ze++)Se=de(Z,J[ze],ce),Se!==null&&(B=h(Se,B,ze),Ze===null?je=Se:Ze.sibling=Se,Ze=Se);return Pe&&kn(Z,ze),je}for(Se=c(Se);ze<J.length;ze++)Ge=ne(Se,Z,ze,J[ze],ce),Ge!==null&&(e&&Ge.alternate!==null&&Se.delete(Ge.key===null?ze:Ge.key),B=h(Ge,B,ze),Ze===null?je=Ge:Ze.sibling=Ge,Ze=Ge);return e&&Se.forEach(function(pa){return a(Z,pa)}),Pe&&kn(Z,ze),je}function Ee(Z,B,J,ce){if(J==null)throw Error(i(151));for(var je=null,Ze=null,Se=B,ze=B=0,Ge=null,Ke=J.next();Se!==null&&!Ke.done;ze++,Ke=J.next()){Se.index>ze?(Ge=Se,Se=null):Ge=Se.sibling;var pa=W(Z,Se,Ke.value,ce);if(pa===null){Se===null&&(Se=Ge);break}e&&Se&&pa.alternate===null&&a(Z,Se),B=h(pa,B,ze),Ze===null?je=pa:Ze.sibling=pa,Ze=pa,Se=Ge}if(Ke.done)return r(Z,Se),Pe&&kn(Z,ze),je;if(Se===null){for(;!Ke.done;ze++,Ke=J.next())Ke=de(Z,Ke.value,ce),Ke!==null&&(B=h(Ke,B,ze),Ze===null?je=Ke:Ze.sibling=Ke,Ze=Ke);return Pe&&kn(Z,ze),je}for(Se=c(Se);!Ke.done;ze++,Ke=J.next())Ke=ne(Se,Z,ze,Ke.value,ce),Ke!==null&&(e&&Ke.alternate!==null&&Se.delete(Ke.key===null?ze:Ke.key),B=h(Ke,B,ze),Ze===null?je=Ke:Ze.sibling=Ke,Ze=Ke);return e&&Se.forEach(function(l0){return a(Z,l0)}),Pe&&kn(Z,ze),je}function at(Z,B,J,ce){if(typeof J=="object"&&J!==null&&J.type===T&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case S:e:{for(var je=J.key;B!==null;){if(B.key===je){if(je=J.type,je===T){if(B.tag===7){r(Z,B.sibling),ce=m(B,J.props.children),ce.return=Z,Z=ce;break e}}else if(B.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===I&&Ma(je)===B.type){r(Z,B.sibling),ce=m(B,J.props),di(ce,J),ce.return=Z,Z=ce;break e}r(Z,B);break}else a(Z,B);B=B.sibling}J.type===T?(ce=ka(J.props.children,Z.mode,ce,J.key),ce.return=Z,Z=ce):(ce=pl(J.type,J.key,J.props,null,Z.mode,ce),di(ce,J),ce.return=Z,Z=ce)}return N(Z);case _:e:{for(je=J.key;B!==null;){if(B.key===je)if(B.tag===4&&B.stateNode.containerInfo===J.containerInfo&&B.stateNode.implementation===J.implementation){r(Z,B.sibling),ce=m(B,J.children||[]),ce.return=Z,Z=ce;break e}else{r(Z,B);break}else a(Z,B);B=B.sibling}ce=oo(J,Z.mode,ce),ce.return=Z,Z=ce}return N(Z);case I:return J=Ma(J),at(Z,B,J,ce)}if(fe(J))return Te(Z,B,J,ce);if(V(J)){if(je=V(J),typeof je!="function")throw Error(i(150));return J=je.call(J),Ee(Z,B,J,ce)}if(typeof J.then=="function")return at(Z,B,Nl(J),ce);if(J.$$typeof===R)return at(Z,B,gl(Z,J),ce);wl(Z,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,B!==null&&B.tag===6?(r(Z,B.sibling),ce=m(B,J),ce.return=Z,Z=ce):(r(Z,B),ce=ro(J,Z.mode,ce),ce.return=Z,Z=ce),N(Z)):r(Z,B)}return function(Z,B,J,ce){try{ui=0;var je=at(Z,B,J,ce);return fs=null,je}catch(Se){if(Se===ds||Se===yl)throw Se;var Ze=Ft(29,Se,null,Z.mode);return Ze.lanes=ce,Ze.return=Z,Ze}finally{}}}var Ia=Ud(!0),zd=Ud(!1),Xn=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wo(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wn(e,a,r){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Qe&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=ml(e),yd(e,null,r),a}return fl(e,c,a,r),ml(e)}function fi(e,a,r){if(a=a.updateQueue,a!==null&&(a=a.shared,(r&4194048)!==0)){var c=a.lanes;c&=e.pendingLanes,r|=c,a.lanes=r,ku(e,r)}}function To(e,a){var r=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var m=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var N={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?m=h=N:h=h.next=N,r=r.next}while(r!==null);h===null?m=h=a:h=h.next=a}else m=h=a;r={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=a:e.next=a,r.lastBaseUpdate=a}var Co=!1;function mi(){if(Co){var e=us;if(e!==null)throw e}}function pi(e,a,r,c){Co=!1;var m=e.updateQueue;Xn=!1;var h=m.firstBaseUpdate,N=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var z=C,X=z.next;z.next=null,N===null?h=X:N.next=X,N=z;var re=e.alternate;re!==null&&(re=re.updateQueue,C=re.lastBaseUpdate,C!==N&&(C===null?re.firstBaseUpdate=X:C.next=X,re.lastBaseUpdate=z))}if(h!==null){var de=m.baseState;N=0,re=X=z=null,C=h;do{var W=C.lane&-536870913,ne=W!==C.lane;if(ne?(Be&W)===W:(c&W)===W){W!==0&&W===cs&&(Co=!0),re!==null&&(re=re.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Te=e,Ee=C;W=a;var at=r;switch(Ee.tag){case 1:if(Te=Ee.payload,typeof Te=="function"){de=Te.call(at,de,W);break e}de=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ee.payload,W=typeof Te=="function"?Te.call(at,de,W):Te,W==null)break e;de=b({},de,W);break e;case 2:Xn=!0}}W=C.callback,W!==null&&(e.flags|=64,ne&&(e.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[W]:ne.push(W))}else ne={lane:W,tag:C.tag,payload:C.payload,callback:C.callback,next:null},re===null?(X=re=ne,z=de):re=re.next=ne,N|=W;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;ne=C,C=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);re===null&&(z=de),m.baseState=z,m.firstBaseUpdate=X,m.lastBaseUpdate=re,h===null&&(m.shared.lanes=0),sa|=N,e.lanes=N,e.memoizedState=de}}function Od(e,a){if(typeof e!="function")throw Error(i(191,e));e.call(a)}function Ld(e,a){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Od(r[e],a)}var ms=k(null),Tl=k(0);function Vd(e,a){e=Ln,se(Tl,e),se(ms,a),Ln=e|a.baseLanes}function So(){se(Tl,Ln),se(ms,ms.current)}function _o(){Ln=Tl.current,P(ms),P(Tl)}var Yt=k(null),rn=null;function ea(e){var a=e.alternate;se(ht,ht.current&1),se(Yt,e),rn===null&&(a===null||ms.current!==null||a.memoizedState!==null)&&(rn=e)}function ko(e){se(ht,ht.current),se(Yt,e),rn===null&&(rn=e)}function Hd(e){e.tag===22?(se(ht,ht.current),se(Yt,e),rn===null&&(rn=e)):ta()}function ta(){se(ht,ht.current),se(Yt,Yt.current)}function Zt(e){P(Yt),rn===e&&(rn=null),P(ht)}var ht=k(0);function Cl(e){for(var a=e;a!==null;){if(a.tag===13){var r=a.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Rc(r)||Ic(r)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var An=0,Ue=null,tt=null,yt=null,Sl=!1,ps=!1,Ua=!1,_l=0,hi=0,hs=null,Jg=0;function mt(){throw Error(i(321))}function jo(e,a){if(a===null)return!1;for(var r=0;r<a.length&&r<e.length;r++)if(!$t(e[r],a[r]))return!1;return!0}function Eo(e,a,r,c,m,h){return An=h,Ue=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,F.H=e===null||e.memoizedState===null?Cf:Po,Ua=!1,h=r(c,m),Ua=!1,ps&&(h=Gd(a,r,c,m)),Bd(e),h}function Bd(e){F.H=vi;var a=tt!==null&&tt.next!==null;if(An=0,yt=tt=Ue=null,Sl=!1,hi=0,hs=null,a)throw Error(i(300));e===null||bt||(e=e.dependencies,e!==null&&xl(e)&&(bt=!0))}function Gd(e,a,r,c){Ue=e;var m=0;do{if(ps&&(hs=null),hi=0,ps=!1,25<=m)throw Error(i(301));if(m+=1,yt=tt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}F.H=Sf,h=a(r,c)}while(ps);return h}function Xg(){var e=F.H,a=e.useState()[0];return a=typeof a.then=="function"?xi(a):a,e=e.useState()[0],(tt!==null?tt.memoizedState:null)!==e&&(Ue.flags|=1024),a}function Ao(){var e=_l!==0;return _l=0,e}function Do(e,a,r){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~r}function Mo(e){if(Sl){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}Sl=!1}An=0,yt=tt=Ue=null,ps=!1,hi=_l=0,hs=null}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ue.memoizedState=yt=e:yt=yt.next=e,yt}function xt(){if(tt===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var a=yt===null?Ue.memoizedState:yt.next;if(a!==null)yt=a,tt=e;else{if(e===null)throw Ue.alternate===null?Error(i(467)):Error(i(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},yt===null?Ue.memoizedState=yt=e:yt=yt.next=e}return yt}function kl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xi(e){var a=hi;return hi+=1,hs===null&&(hs=[]),e=Md(hs,e,a),a=Ue,(yt===null?a.memoizedState:yt.next)===null&&(a=a.alternate,F.H=a===null||a.memoizedState===null?Cf:Po),e}function jl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xi(e);if(e.$$typeof===R)return jt(e)}throw Error(i(438,String(e)))}function Ro(e){var a=null,r=Ue.updateQueue;if(r!==null&&(a=r.memoCache),a==null){var c=Ue.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),r===null&&(r=kl(),Ue.updateQueue=r),r.memoCache=a,r=a.data[a.index],r===void 0)for(r=a.data[a.index]=Array(e),c=0;c<e;c++)r[c]=O;return a.index++,r}function Dn(e,a){return typeof a=="function"?a(e):a}function El(e){var a=xt();return Io(a,tt,e)}function Io(e,a,r){var c=e.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var m=e.baseQueue,h=c.pending;if(h!==null){if(m!==null){var N=m.next;m.next=h.next,h.next=N}a.baseQueue=m=h,c.pending=null}if(h=e.baseState,m===null)e.memoizedState=h;else{a=m.next;var C=N=null,z=null,X=a,re=!1;do{var de=X.lane&-536870913;if(de!==X.lane?(Be&de)===de:(An&de)===de){var W=X.revertLane;if(W===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),de===cs&&(re=!0);else if((An&W)===W){X=X.next,W===cs&&(re=!0);continue}else de={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(C=z=de,N=h):z=z.next=de,Ue.lanes|=W,sa|=W;de=X.action,Ua&&r(h,de),h=X.hasEagerState?X.eagerState:r(h,de)}else W={lane:de,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(C=z=W,N=h):z=z.next=W,Ue.lanes|=de,sa|=de;X=X.next}while(X!==null&&X!==a);if(z===null?N=h:z.next=C,!$t(h,e.memoizedState)&&(bt=!0,re&&(r=us,r!==null)))throw r;e.memoizedState=h,e.baseState=N,e.baseQueue=z,c.lastRenderedState=h}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Uo(e){var a=xt(),r=a.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var c=r.dispatch,m=r.pending,h=a.memoizedState;if(m!==null){r.pending=null;var N=m=m.next;do h=e(h,N.action),N=N.next;while(N!==m);$t(h,a.memoizedState)||(bt=!0),a.memoizedState=h,a.baseQueue===null&&(a.baseState=h),r.lastRenderedState=h}return[h,c]}function qd(e,a,r){var c=Ue,m=xt(),h=Pe;if(h){if(r===void 0)throw Error(i(407));r=r()}else r=a();var N=!$t((tt||m).memoizedState,r);if(N&&(m.memoizedState=r,bt=!0),m=m.queue,Lo(Fd.bind(null,c,m,e),[e]),m.getSnapshot!==a||N||yt!==null&&yt.memoizedState.tag&1){if(c.flags|=2048,xs(9,{destroy:void 0},$d.bind(null,c,m,r,a),null),st===null)throw Error(i(349));h||(An&127)!==0||Pd(c,a,r)}return r}function Pd(e,a,r){e.flags|=16384,e={getSnapshot:a,value:r},a=Ue.updateQueue,a===null?(a=kl(),Ue.updateQueue=a,a.stores=[e]):(r=a.stores,r===null?a.stores=[e]:r.push(e))}function $d(e,a,r,c){a.value=r,a.getSnapshot=c,Yd(a)&&Zd(e)}function Fd(e,a,r){return r(function(){Yd(a)&&Zd(e)})}function Yd(e){var a=e.getSnapshot;e=e.value;try{var r=a();return!$t(e,r)}catch{return!0}}function Zd(e){var a=_a(e,2);a!==null&&Gt(a,e,2)}function zo(e){var a=Mt();if(typeof e=="function"){var r=e;if(e=r(),Ua){Pn(!0);try{r()}finally{Pn(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:e},a}function Kd(e,a,r,c){return e.baseState=r,Io(e,tt,typeof c=="function"?c:Dn)}function Qg(e,a,r,c,m){if(Ml(e))throw Error(i(485));if(e=a.action,e!==null){var h={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){h.listeners.push(N)}};F.T!==null?r(!0):h.isTransition=!1,c(h),r=a.pending,r===null?(h.next=a.pending=h,Jd(a,h)):(h.next=r.next,a.pending=r.next=h)}}function Jd(e,a){var r=a.action,c=a.payload,m=e.state;if(a.isTransition){var h=F.T,N={};F.T=N;try{var C=r(m,c),z=F.S;z!==null&&z(N,C),Xd(e,a,C)}catch(X){Oo(e,a,X)}finally{h!==null&&N.types!==null&&(h.types=N.types),F.T=h}}else try{h=r(m,c),Xd(e,a,h)}catch(X){Oo(e,a,X)}}function Xd(e,a,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){Qd(e,a,c)},function(c){return Oo(e,a,c)}):Qd(e,a,r)}function Qd(e,a,r){a.status="fulfilled",a.value=r,Wd(a),e.state=r,a=e.pending,a!==null&&(r=a.next,r===a?e.pending=null:(r=r.next,a.next=r,Jd(e,r)))}function Oo(e,a,r){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=r,Wd(a),a=a.next;while(a!==c)}e.action=null}function Wd(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function ef(e,a){return a}function tf(e,a){if(Pe){var r=st.formState;if(r!==null){e:{var c=Ue;if(Pe){if(rt){t:{for(var m=rt,h=ln;m.nodeType!==8;){if(!h){m=null;break t}if(m=on(m.nextSibling),m===null){m=null;break t}}h=m.data,m=h==="F!"||h==="F"?m:null}if(m){rt=on(m.nextSibling),c=m.data==="F!";break e}}Kn(c)}c=!1}c&&(a=r[0])}}return r=Mt(),r.memoizedState=r.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ef,lastRenderedState:a},r.queue=c,r=Nf.bind(null,Ue,c),c.dispatch=r,c=zo(!1),h=qo.bind(null,Ue,!1,c.queue),c=Mt(),m={state:a,dispatch:null,action:e,pending:null},c.queue=m,r=Qg.bind(null,Ue,m,h,r),m.dispatch=r,c.memoizedState=e,[a,r,!1]}function nf(e){var a=xt();return af(a,tt,e)}function af(e,a,r){if(a=Io(e,a,ef)[0],e=El(Dn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=xi(a)}catch(N){throw N===ds?yl:N}else c=a;a=xt();var m=a.queue,h=m.dispatch;return r!==a.memoizedState&&(Ue.flags|=2048,xs(9,{destroy:void 0},Wg.bind(null,m,r),null)),[c,h,e]}function Wg(e,a){e.action=a}function sf(e){var a=xt(),r=tt;if(r!==null)return af(a,r,e);xt(),a=a.memoizedState,r=xt();var c=r.queue.dispatch;return r.memoizedState=e,[a,c,!1]}function xs(e,a,r,c){return e={tag:e,create:r,deps:c,inst:a,next:null},a=Ue.updateQueue,a===null&&(a=kl(),Ue.updateQueue=a),r=a.lastEffect,r===null?a.lastEffect=e.next=e:(c=r.next,r.next=e,e.next=c,a.lastEffect=e),e}function lf(){return xt().memoizedState}function Al(e,a,r,c){var m=Mt();Ue.flags|=e,m.memoizedState=xs(1|a,{destroy:void 0},r,c===void 0?null:c)}function Dl(e,a,r,c){var m=xt();c=c===void 0?null:c;var h=m.memoizedState.inst;tt!==null&&c!==null&&jo(c,tt.memoizedState.deps)?m.memoizedState=xs(a,h,r,c):(Ue.flags|=e,m.memoizedState=xs(1|a,h,r,c))}function rf(e,a){Al(8390656,8,e,a)}function Lo(e,a){Dl(2048,8,e,a)}function ev(e){Ue.flags|=4;var a=Ue.updateQueue;if(a===null)a=kl(),Ue.updateQueue=a,a.events=[e];else{var r=a.events;r===null?a.events=[e]:r.push(e)}}function of(e){var a=xt().memoizedState;return ev({ref:a,nextImpl:e}),function(){if((Qe&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function cf(e,a){return Dl(4,2,e,a)}function uf(e,a){return Dl(4,4,e,a)}function df(e,a){if(typeof a=="function"){e=e();var r=a(e);return function(){typeof r=="function"?r():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function ff(e,a,r){r=r!=null?r.concat([e]):null,Dl(4,4,df.bind(null,a,e),r)}function Vo(){}function mf(e,a){var r=xt();a=a===void 0?null:a;var c=r.memoizedState;return a!==null&&jo(a,c[1])?c[0]:(r.memoizedState=[e,a],e)}function pf(e,a){var r=xt();a=a===void 0?null:a;var c=r.memoizedState;if(a!==null&&jo(a,c[1]))return c[0];if(c=e(),Ua){Pn(!0);try{e()}finally{Pn(!1)}}return r.memoizedState=[c,a],c}function Ho(e,a,r){return r===void 0||(An&1073741824)!==0&&(Be&261930)===0?e.memoizedState=a:(e.memoizedState=r,e=hm(),Ue.lanes|=e,sa|=e,r)}function hf(e,a,r,c){return $t(r,a)?r:ms.current!==null?(e=Ho(e,r,c),$t(e,a)||(bt=!0),e):(An&42)===0||(An&1073741824)!==0&&(Be&261930)===0?(bt=!0,e.memoizedState=r):(e=hm(),Ue.lanes|=e,sa|=e,a)}function xf(e,a,r,c,m){var h=H.p;H.p=h!==0&&8>h?h:8;var N=F.T,C={};F.T=C,qo(e,!1,a,r);try{var z=m(),X=F.S;if(X!==null&&X(C,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var re=Kg(z,c);gi(e,a,re,Xt(e))}else gi(e,a,c,Xt(e))}catch(de){gi(e,a,{then:function(){},status:"rejected",reason:de},Xt())}finally{H.p=h,N!==null&&C.types!==null&&(N.types=C.types),F.T=N}}function tv(){}function Bo(e,a,r,c){if(e.tag!==5)throw Error(i(476));var m=gf(e).queue;xf(e,m,a,pe,r===null?tv:function(){return vf(e),r(c)})}function gf(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:pe},next:null};var r={};return a.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:r},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function vf(e){var a=gf(e);a.next===null&&(a=e.alternate.memoizedState),gi(e,a.next.queue,{},Xt())}function Go(){return jt(Ii)}function yf(){return xt().memoizedState}function bf(){return xt().memoizedState}function nv(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var r=Xt();e=Qn(r);var c=Wn(a,e,r);c!==null&&(Gt(c,a,r),fi(c,a,r)),a={cache:go()},e.payload=a;return}a=a.return}}function av(e,a,r){var c=Xt();r={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ml(e)?wf(a,r):(r=io(e,a,r,c),r!==null&&(Gt(r,e,c),Tf(r,a,c)))}function Nf(e,a,r){var c=Xt();gi(e,a,r,c)}function gi(e,a,r,c){var m={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ml(e))wf(a,m);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=a.lastRenderedReducer,h!==null))try{var N=a.lastRenderedState,C=h(N,r);if(m.hasEagerState=!0,m.eagerState=C,$t(C,N))return fl(e,a,m,0),st===null&&dl(),!1}catch{}finally{}if(r=io(e,a,m,c),r!==null)return Gt(r,e,c),Tf(r,a,c),!0}return!1}function qo(e,a,r,c){if(c={lane:2,revertLane:Nc(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ml(e)){if(a)throw Error(i(479))}else a=io(e,r,c,2),a!==null&&Gt(a,e,2)}function Ml(e){var a=e.alternate;return e===Ue||a!==null&&a===Ue}function wf(e,a){ps=Sl=!0;var r=e.pending;r===null?a.next=a:(a.next=r.next,r.next=a),e.pending=a}function Tf(e,a,r){if((r&4194048)!==0){var c=a.lanes;c&=e.pendingLanes,r|=c,a.lanes=r,ku(e,r)}}var vi={readContext:jt,use:jl,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};vi.useEffectEvent=mt;var Cf={readContext:jt,use:jl,useCallback:function(e,a){return Mt().memoizedState=[e,a===void 0?null:a],e},useContext:jt,useEffect:rf,useImperativeHandle:function(e,a,r){r=r!=null?r.concat([e]):null,Al(4194308,4,df.bind(null,a,e),r)},useLayoutEffect:function(e,a){return Al(4194308,4,e,a)},useInsertionEffect:function(e,a){Al(4,2,e,a)},useMemo:function(e,a){var r=Mt();a=a===void 0?null:a;var c=e();if(Ua){Pn(!0);try{e()}finally{Pn(!1)}}return r.memoizedState=[c,a],c},useReducer:function(e,a,r){var c=Mt();if(r!==void 0){var m=r(a);if(Ua){Pn(!0);try{r(a)}finally{Pn(!1)}}}else m=a;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=av.bind(null,Ue,e),[c.memoizedState,e]},useRef:function(e){var a=Mt();return e={current:e},a.memoizedState=e},useState:function(e){e=zo(e);var a=e.queue,r=Nf.bind(null,Ue,a);return a.dispatch=r,[e.memoizedState,r]},useDebugValue:Vo,useDeferredValue:function(e,a){var r=Mt();return Ho(r,e,a)},useTransition:function(){var e=zo(!1);return e=xf.bind(null,Ue,e.queue,!0,!1),Mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,r){var c=Ue,m=Mt();if(Pe){if(r===void 0)throw Error(i(407));r=r()}else{if(r=a(),st===null)throw Error(i(349));(Be&127)!==0||Pd(c,a,r)}m.memoizedState=r;var h={value:r,getSnapshot:a};return m.queue=h,rf(Fd.bind(null,c,h,e),[e]),c.flags|=2048,xs(9,{destroy:void 0},$d.bind(null,c,h,r,a),null),r},useId:function(){var e=Mt(),a=st.identifierPrefix;if(Pe){var r=gn,c=xn;r=(c&~(1<<32-Pt(c)-1)).toString(32)+r,a="_"+a+"R_"+r,r=_l++,0<r&&(a+="H"+r.toString(32)),a+="_"}else r=Jg++,a="_"+a+"r_"+r.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:Go,useFormState:tf,useActionState:tf,useOptimistic:function(e){var a=Mt();a.memoizedState=a.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=r,a=qo.bind(null,Ue,!0,r),r.dispatch=a,[e,a]},useMemoCache:Ro,useCacheRefresh:function(){return Mt().memoizedState=nv.bind(null,Ue)},useEffectEvent:function(e){var a=Mt(),r={impl:e};return a.memoizedState=r,function(){if((Qe&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},Po={readContext:jt,use:jl,useCallback:mf,useContext:jt,useEffect:Lo,useImperativeHandle:ff,useInsertionEffect:cf,useLayoutEffect:uf,useMemo:pf,useReducer:El,useRef:lf,useState:function(){return El(Dn)},useDebugValue:Vo,useDeferredValue:function(e,a){var r=xt();return hf(r,tt.memoizedState,e,a)},useTransition:function(){var e=El(Dn)[0],a=xt().memoizedState;return[typeof e=="boolean"?e:xi(e),a]},useSyncExternalStore:qd,useId:yf,useHostTransitionStatus:Go,useFormState:nf,useActionState:nf,useOptimistic:function(e,a){var r=xt();return Kd(r,tt,e,a)},useMemoCache:Ro,useCacheRefresh:bf};Po.useEffectEvent=of;var Sf={readContext:jt,use:jl,useCallback:mf,useContext:jt,useEffect:Lo,useImperativeHandle:ff,useInsertionEffect:cf,useLayoutEffect:uf,useMemo:pf,useReducer:Uo,useRef:lf,useState:function(){return Uo(Dn)},useDebugValue:Vo,useDeferredValue:function(e,a){var r=xt();return tt===null?Ho(r,e,a):hf(r,tt.memoizedState,e,a)},useTransition:function(){var e=Uo(Dn)[0],a=xt().memoizedState;return[typeof e=="boolean"?e:xi(e),a]},useSyncExternalStore:qd,useId:yf,useHostTransitionStatus:Go,useFormState:sf,useActionState:sf,useOptimistic:function(e,a){var r=xt();return tt!==null?Kd(r,tt,e,a):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Ro,useCacheRefresh:bf};Sf.useEffectEvent=of;function $o(e,a,r,c){a=e.memoizedState,r=r(c,a),r=r==null?a:b({},a,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fo={enqueueSetState:function(e,a,r){e=e._reactInternals;var c=Xt(),m=Qn(c);m.payload=a,r!=null&&(m.callback=r),a=Wn(e,m,c),a!==null&&(Gt(a,e,c),fi(a,e,c))},enqueueReplaceState:function(e,a,r){e=e._reactInternals;var c=Xt(),m=Qn(c);m.tag=1,m.payload=a,r!=null&&(m.callback=r),a=Wn(e,m,c),a!==null&&(Gt(a,e,c),fi(a,e,c))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var r=Xt(),c=Qn(r);c.tag=2,a!=null&&(c.callback=a),a=Wn(e,c,r),a!==null&&(Gt(a,e,r),fi(a,e,r))}};function _f(e,a,r,c,m,h,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,h,N):a.prototype&&a.prototype.isPureReactComponent?!si(r,c)||!si(m,h):!0}function kf(e,a,r,c){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(r,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(r,c),a.state!==e&&Fo.enqueueReplaceState(a,a.state,null)}function za(e,a){var r=a;if("ref"in a){r={};for(var c in a)c!=="ref"&&(r[c]=a[c])}if(e=e.defaultProps){r===a&&(r=b({},r));for(var m in e)r[m]===void 0&&(r[m]=e[m])}return r}function jf(e){ul(e)}function Ef(e){console.error(e)}function Af(e){ul(e)}function Rl(e,a){try{var r=e.onUncaughtError;r(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Df(e,a,r){try{var c=e.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Yo(e,a,r){return r=Qn(r),r.tag=3,r.payload={element:null},r.callback=function(){Rl(e,a)},r}function Mf(e){return e=Qn(e),e.tag=3,e}function Rf(e,a,r,c){var m=r.type.getDerivedStateFromError;if(typeof m=="function"){var h=c.value;e.payload=function(){return m(h)},e.callback=function(){Df(a,r,c)}}var N=r.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){Df(a,r,c),typeof m!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function sv(e,a,r,c,m){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=r.alternate,a!==null&&os(a,r,m,!0),r=Yt.current,r!==null){switch(r.tag){case 31:case 13:return rn===null?$l():r.alternate===null&&pt===0&&(pt=3),r.flags&=-257,r.flags|=65536,r.lanes=m,c===bl?r.flags|=16384:(a=r.updateQueue,a===null?r.updateQueue=new Set([c]):a.add(c),vc(e,c,m)),!1;case 22:return r.flags|=65536,c===bl?r.flags|=16384:(a=r.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=a):(r=a.retryQueue,r===null?a.retryQueue=new Set([c]):r.add(c)),vc(e,c,m)),!1}throw Error(i(435,r.tag))}return vc(e,c,m),$l(),!1}if(Pe)return a=Yt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==fo&&(e=Error(i(422),{cause:c}),ri(nn(e,r)))):(c!==fo&&(a=Error(i(423),{cause:c}),ri(nn(a,r))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=nn(c,r),m=Yo(e.stateNode,c,m),To(e,m),pt!==4&&(pt=2)),!1;var h=Error(i(520),{cause:c});if(h=nn(h,r),_i===null?_i=[h]:_i.push(h),pt!==4&&(pt=2),a===null)return!0;c=nn(c,r),r=a;do{switch(r.tag){case 3:return r.flags|=65536,e=m&-m,r.lanes|=e,e=Yo(r.stateNode,c,e),To(r,e),!1;case 1:if(a=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ia===null||!ia.has(h))))return r.flags|=65536,m&=-m,r.lanes|=m,m=Mf(m),Rf(m,e,r,c),To(r,m),!1}r=r.return}while(r!==null);return!1}var Zo=Error(i(461)),bt=!1;function Et(e,a,r,c){a.child=e===null?zd(a,null,r,c):Ia(a,e.child,r,c)}function If(e,a,r,c,m){r=r.render;var h=a.ref;if("ref"in c){var N={};for(var C in c)C!=="ref"&&(N[C]=c[C])}else N=c;return Aa(a),c=Eo(e,a,r,N,h,m),C=Ao(),e!==null&&!bt?(Do(e,a,m),Mn(e,a,m)):(Pe&&C&&co(a),a.flags|=1,Et(e,a,c,m),a.child)}function Uf(e,a,r,c,m){if(e===null){var h=r.type;return typeof h=="function"&&!lo(h)&&h.defaultProps===void 0&&r.compare===null?(a.tag=15,a.type=h,zf(e,a,h,c,m)):(e=pl(r.type,null,c,a,a.mode,m),e.ref=a.ref,e.return=a,a.child=e)}if(h=e.child,!nc(e,m)){var N=h.memoizedProps;if(r=r.compare,r=r!==null?r:si,r(N,c)&&e.ref===a.ref)return Mn(e,a,m)}return a.flags|=1,e=_n(h,c),e.ref=a.ref,e.return=a,a.child=e}function zf(e,a,r,c,m){if(e!==null){var h=e.memoizedProps;if(si(h,c)&&e.ref===a.ref)if(bt=!1,a.pendingProps=c=h,nc(e,m))(e.flags&131072)!==0&&(bt=!0);else return a.lanes=e.lanes,Mn(e,a,m)}return Ko(e,a,r,c,m)}function Of(e,a,r,c){var m=c.children,h=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(h=h!==null?h.baseLanes|r:r,e!==null){for(c=a.child=e.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~h}else c=0,a.child=null;return Lf(e,a,h,r,c)}if((r&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&vl(a,h!==null?h.cachePool:null),h!==null?Vd(a,h):So(),Hd(a);else return c=a.lanes=536870912,Lf(e,a,h!==null?h.baseLanes|r:r,r,c)}else h!==null?(vl(a,h.cachePool),Vd(a,h),ta(),a.memoizedState=null):(e!==null&&vl(a,null),So(),ta());return Et(e,a,m,r),a.child}function yi(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Lf(e,a,r,c,m){var h=yo();return h=h===null?null:{parent:vt._currentValue,pool:h},a.memoizedState={baseLanes:r,cachePool:h},e!==null&&vl(a,null),So(),Hd(a),e!==null&&os(e,a,c,!0),a.childLanes=m,null}function Il(e,a){return a=zl({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function Vf(e,a,r){return Ia(a,e.child,null,r),e=Il(a,a.pendingProps),e.flags|=2,Zt(a),a.memoizedState=null,e}function iv(e,a,r){var c=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(Pe){if(c.mode==="hidden")return e=Il(a,c),a.lanes=536870912,yi(null,e);if(ko(a),(e=rt)?(e=Xm(e,ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Yn!==null?{id:xn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},r=Nd(e),r.return=a,a.child=r,kt=a,rt=null)):e=null,e===null)throw Kn(a);return a.lanes=536870912,null}return Il(a,c)}var h=e.memoizedState;if(h!==null){var N=h.dehydrated;if(ko(a),m)if(a.flags&256)a.flags&=-257,a=Vf(e,a,r);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(i(558));else if(bt||os(e,a,r,!1),m=(r&e.childLanes)!==0,bt||m){if(c=st,c!==null&&(N=ju(c,r),N!==0&&N!==h.retryLane))throw h.retryLane=N,_a(e,N),Gt(c,e,N),Zo;$l(),a=Vf(e,a,r)}else e=h.treeContext,rt=on(N.nextSibling),kt=a,Pe=!0,Zn=null,ln=!1,e!==null&&Cd(a,e),a=Il(a,c),a.flags|=4096;return a}return e=_n(e.child,{mode:c.mode,children:c.children}),e.ref=a.ref,a.child=e,e.return=a,e}function Ul(e,a){var r=a.ref;if(r===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(e===null||e.ref!==r)&&(a.flags|=4194816)}}function Ko(e,a,r,c,m){return Aa(a),r=Eo(e,a,r,c,void 0,m),c=Ao(),e!==null&&!bt?(Do(e,a,m),Mn(e,a,m)):(Pe&&c&&co(a),a.flags|=1,Et(e,a,r,m),a.child)}function Hf(e,a,r,c,m,h){return Aa(a),a.updateQueue=null,r=Gd(a,c,r,m),Bd(e),c=Ao(),e!==null&&!bt?(Do(e,a,h),Mn(e,a,h)):(Pe&&c&&co(a),a.flags|=1,Et(e,a,r,h),a.child)}function Bf(e,a,r,c,m){if(Aa(a),a.stateNode===null){var h=ss,N=r.contextType;typeof N=="object"&&N!==null&&(h=jt(N)),h=new r(c,h),a.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Fo,a.stateNode=h,h._reactInternals=a,h=a.stateNode,h.props=c,h.state=a.memoizedState,h.refs={},No(a),N=r.contextType,h.context=typeof N=="object"&&N!==null?jt(N):ss,h.state=a.memoizedState,N=r.getDerivedStateFromProps,typeof N=="function"&&($o(a,r,N,c),h.state=a.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(N=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),N!==h.state&&Fo.enqueueReplaceState(h,h.state,null),pi(a,c,h,m),mi(),h.state=a.memoizedState),typeof h.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(e===null){h=a.stateNode;var C=a.memoizedProps,z=za(r,C);h.props=z;var X=h.context,re=r.contextType;N=ss,typeof re=="object"&&re!==null&&(N=jt(re));var de=r.getDerivedStateFromProps;re=typeof de=="function"||typeof h.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,re||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(C||X!==N)&&kf(a,h,c,N),Xn=!1;var W=a.memoizedState;h.state=W,pi(a,c,h,m),mi(),X=a.memoizedState,C||W!==X||Xn?(typeof de=="function"&&($o(a,r,de,c),X=a.memoizedState),(z=Xn||_f(a,r,z,c,W,X,N))?(re||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(a.flags|=4194308)):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=X),h.props=c,h.state=X,h.context=N,c=z):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{h=a.stateNode,wo(e,a),N=a.memoizedProps,re=za(r,N),h.props=re,de=a.pendingProps,W=h.context,X=r.contextType,z=ss,typeof X=="object"&&X!==null&&(z=jt(X)),C=r.getDerivedStateFromProps,(X=typeof C=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(N!==de||W!==z)&&kf(a,h,c,z),Xn=!1,W=a.memoizedState,h.state=W,pi(a,c,h,m),mi();var ne=a.memoizedState;N!==de||W!==ne||Xn||e!==null&&e.dependencies!==null&&xl(e.dependencies)?(typeof C=="function"&&($o(a,r,C,c),ne=a.memoizedState),(re=Xn||_f(a,r,re,c,W,ne,z)||e!==null&&e.dependencies!==null&&xl(e.dependencies))?(X||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,ne,z),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,ne,z)),typeof h.componentDidUpdate=="function"&&(a.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof h.componentDidUpdate!="function"||N===e.memoizedProps&&W===e.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&W===e.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ne),h.props=c,h.state=ne,h.context=z,c=re):(typeof h.componentDidUpdate!="function"||N===e.memoizedProps&&W===e.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&W===e.memoizedState||(a.flags|=1024),c=!1)}return h=c,Ul(e,a),c=(a.flags&128)!==0,h||c?(h=a.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:h.render(),a.flags|=1,e!==null&&c?(a.child=Ia(a,e.child,null,m),a.child=Ia(a,null,r,m)):Et(e,a,r,m),a.memoizedState=h.state,e=a.child):e=Mn(e,a,m),e}function Gf(e,a,r,c){return ja(),a.flags|=256,Et(e,a,r,c),a.child}var Jo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xo(e){return{baseLanes:e,cachePool:Ad()}}function Qo(e,a,r){return e=e!==null?e.childLanes&~r:0,a&&(e|=Jt),e}function qf(e,a,r){var c=a.pendingProps,m=!1,h=(a.flags&128)!==0,N;if((N=h)||(N=e!==null&&e.memoizedState===null?!1:(ht.current&2)!==0),N&&(m=!0,a.flags&=-129),N=(a.flags&32)!==0,a.flags&=-33,e===null){if(Pe){if(m?ea(a):ta(),(e=rt)?(e=Xm(e,ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Yn!==null?{id:xn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},r=Nd(e),r.return=a,a.child=r,kt=a,rt=null)):e=null,e===null)throw Kn(a);return Ic(e)?a.lanes=32:a.lanes=536870912,null}var C=c.children;return c=c.fallback,m?(ta(),m=a.mode,C=zl({mode:"hidden",children:C},m),c=ka(c,m,r,null),C.return=a,c.return=a,C.sibling=c,a.child=C,c=a.child,c.memoizedState=Xo(r),c.childLanes=Qo(e,N,r),a.memoizedState=Jo,yi(null,c)):(ea(a),Wo(a,C))}var z=e.memoizedState;if(z!==null&&(C=z.dehydrated,C!==null)){if(h)a.flags&256?(ea(a),a.flags&=-257,a=ec(e,a,r)):a.memoizedState!==null?(ta(),a.child=e.child,a.flags|=128,a=null):(ta(),C=c.fallback,m=a.mode,c=zl({mode:"visible",children:c.children},m),C=ka(C,m,r,null),C.flags|=2,c.return=a,C.return=a,c.sibling=C,a.child=c,Ia(a,e.child,null,r),c=a.child,c.memoizedState=Xo(r),c.childLanes=Qo(e,N,r),a.memoizedState=Jo,a=yi(null,c));else if(ea(a),Ic(C)){if(N=C.nextSibling&&C.nextSibling.dataset,N)var X=N.dgst;N=X,c=Error(i(419)),c.stack="",c.digest=N,ri({value:c,source:null,stack:null}),a=ec(e,a,r)}else if(bt||os(e,a,r,!1),N=(r&e.childLanes)!==0,bt||N){if(N=st,N!==null&&(c=ju(N,r),c!==0&&c!==z.retryLane))throw z.retryLane=c,_a(e,c),Gt(N,e,c),Zo;Rc(C)||$l(),a=ec(e,a,r)}else Rc(C)?(a.flags|=192,a.child=e.child,a=null):(e=z.treeContext,rt=on(C.nextSibling),kt=a,Pe=!0,Zn=null,ln=!1,e!==null&&Cd(a,e),a=Wo(a,c.children),a.flags|=4096);return a}return m?(ta(),C=c.fallback,m=a.mode,z=e.child,X=z.sibling,c=_n(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,X!==null?C=_n(X,C):(C=ka(C,m,r,null),C.flags|=2),C.return=a,c.return=a,c.sibling=C,a.child=c,yi(null,c),c=a.child,C=e.child.memoizedState,C===null?C=Xo(r):(m=C.cachePool,m!==null?(z=vt._currentValue,m=m.parent!==z?{parent:z,pool:z}:m):m=Ad(),C={baseLanes:C.baseLanes|r,cachePool:m}),c.memoizedState=C,c.childLanes=Qo(e,N,r),a.memoizedState=Jo,yi(e.child,c)):(ea(a),r=e.child,e=r.sibling,r=_n(r,{mode:"visible",children:c.children}),r.return=a,r.sibling=null,e!==null&&(N=a.deletions,N===null?(a.deletions=[e],a.flags|=16):N.push(e)),a.child=r,a.memoizedState=null,r)}function Wo(e,a){return a=zl({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function zl(e,a){return e=Ft(22,e,null,a),e.lanes=0,e}function ec(e,a,r){return Ia(a,e.child,null,r),e=Wo(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function Pf(e,a,r){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a),ho(e.return,a,r)}function tc(e,a,r,c,m,h){var N=e.memoizedState;N===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:m,treeForkCount:h}:(N.isBackwards=a,N.rendering=null,N.renderingStartTime=0,N.last=c,N.tail=r,N.tailMode=m,N.treeForkCount=h)}function $f(e,a,r){var c=a.pendingProps,m=c.revealOrder,h=c.tail;c=c.children;var N=ht.current,C=(N&2)!==0;if(C?(N=N&1|2,a.flags|=128):N&=1,se(ht,N),Et(e,a,c,r),c=Pe?li:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pf(e,r,a);else if(e.tag===19)Pf(e,r,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(r=a.child,m=null;r!==null;)e=r.alternate,e!==null&&Cl(e)===null&&(m=r),r=r.sibling;r=m,r===null?(m=a.child,a.child=null):(m=r.sibling,r.sibling=null),tc(a,!1,m,r,h,c);break;case"backwards":case"unstable_legacy-backwards":for(r=null,m=a.child,a.child=null;m!==null;){if(e=m.alternate,e!==null&&Cl(e)===null){a.child=m;break}e=m.sibling,m.sibling=r,r=m,m=e}tc(a,!0,r,null,h,c);break;case"together":tc(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function Mn(e,a,r){if(e!==null&&(a.dependencies=e.dependencies),sa|=a.lanes,(r&a.childLanes)===0)if(e!==null){if(os(e,a,r,!1),(r&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(i(153));if(a.child!==null){for(e=a.child,r=_n(e,e.pendingProps),a.child=r,r.return=a;e.sibling!==null;)e=e.sibling,r=r.sibling=_n(e,e.pendingProps),r.return=a;r.sibling=null}return a.child}function nc(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&xl(e)))}function lv(e,a,r){switch(a.tag){case 3:_e(a,a.stateNode.containerInfo),Jn(a,vt,e.memoizedState.cache),ja();break;case 27:case 5:be(a);break;case 4:_e(a,a.stateNode.containerInfo);break;case 10:Jn(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,ko(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ea(a),a.flags|=128,null):(r&a.child.childLanes)!==0?qf(e,a,r):(ea(a),e=Mn(e,a,r),e!==null?e.sibling:null);ea(a);break;case 19:var m=(e.flags&128)!==0;if(c=(r&a.childLanes)!==0,c||(os(e,a,r,!1),c=(r&a.childLanes)!==0),m){if(c)return $f(e,a,r);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),se(ht,ht.current),c)break;return null;case 22:return a.lanes=0,Of(e,a,r,a.pendingProps);case 24:Jn(a,vt,e.memoizedState.cache)}return Mn(e,a,r)}function Ff(e,a,r){if(e!==null)if(e.memoizedProps!==a.pendingProps)bt=!0;else{if(!nc(e,r)&&(a.flags&128)===0)return bt=!1,lv(e,a,r);bt=(e.flags&131072)!==0}else bt=!1,Pe&&(a.flags&1048576)!==0&&Td(a,li,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(e=Ma(a.elementType),a.type=e,typeof e=="function")lo(e)?(c=za(e,c),a.tag=1,a=Bf(null,a,e,c,r)):(a.tag=0,a=Ko(null,a,e,c,r));else{if(e!=null){var m=e.$$typeof;if(m===Y){a.tag=11,a=If(null,a,e,c,r);break e}else if(m===D){a.tag=14,a=Uf(null,a,e,c,r);break e}}throw a=G(e)||e,Error(i(306,a,""))}}return a;case 0:return Ko(e,a,a.type,a.pendingProps,r);case 1:return c=a.type,m=za(c,a.pendingProps),Bf(e,a,c,m,r);case 3:e:{if(_e(a,a.stateNode.containerInfo),e===null)throw Error(i(387));c=a.pendingProps;var h=a.memoizedState;m=h.element,wo(e,a),pi(a,c,null,r);var N=a.memoizedState;if(c=N.cache,Jn(a,vt,c),c!==h.cache&&xo(a,[vt],r,!0),mi(),c=N.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:N.cache},a.updateQueue.baseState=h,a.memoizedState=h,a.flags&256){a=Gf(e,a,c,r);break e}else if(c!==m){m=nn(Error(i(424)),a),ri(m),a=Gf(e,a,c,r);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(rt=on(e.firstChild),kt=a,Pe=!0,Zn=null,ln=!0,r=zd(a,null,c,r),a.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ja(),c===m){a=Mn(e,a,r);break e}Et(e,a,c,r)}a=a.child}return a;case 26:return Ul(e,a),e===null?(r=ap(a.type,null,a.pendingProps,null))?a.memoizedState=r:Pe||(r=a.type,e=a.pendingProps,c=Ql(le.current).createElement(r),c[_t]=a,c[zt]=e,At(c,r,e),Ct(c),a.stateNode=c):a.memoizedState=ap(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return be(a),e===null&&Pe&&(c=a.stateNode=ep(a.type,a.pendingProps,le.current),kt=a,ln=!0,m=rt,ca(a.type)?(Uc=m,rt=on(c.firstChild)):rt=m),Et(e,a,a.pendingProps.children,r),Ul(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&Pe&&((m=c=rt)&&(c=zv(c,a.type,a.pendingProps,ln),c!==null?(a.stateNode=c,kt=a,rt=on(c.firstChild),ln=!1,m=!0):m=!1),m||Kn(a)),be(a),m=a.type,h=a.pendingProps,N=e!==null?e.memoizedProps:null,c=h.children,Ac(m,h)?c=null:N!==null&&Ac(m,N)&&(a.flags|=32),a.memoizedState!==null&&(m=Eo(e,a,Xg,null,null,r),Ii._currentValue=m),Ul(e,a),Et(e,a,c,r),a.child;case 6:return e===null&&Pe&&((e=r=rt)&&(r=Ov(r,a.pendingProps,ln),r!==null?(a.stateNode=r,kt=a,rt=null,e=!0):e=!1),e||Kn(a)),null;case 13:return qf(e,a,r);case 4:return _e(a,a.stateNode.containerInfo),c=a.pendingProps,e===null?a.child=Ia(a,null,c,r):Et(e,a,c,r),a.child;case 11:return If(e,a,a.type,a.pendingProps,r);case 7:return Et(e,a,a.pendingProps,r),a.child;case 8:return Et(e,a,a.pendingProps.children,r),a.child;case 12:return Et(e,a,a.pendingProps.children,r),a.child;case 10:return c=a.pendingProps,Jn(a,a.type,c.value),Et(e,a,c.children,r),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Aa(a),m=jt(m),c=c(m),a.flags|=1,Et(e,a,c,r),a.child;case 14:return Uf(e,a,a.type,a.pendingProps,r);case 15:return zf(e,a,a.type,a.pendingProps,r);case 19:return $f(e,a,r);case 31:return iv(e,a,r);case 22:return Of(e,a,r,a.pendingProps);case 24:return Aa(a),c=jt(vt),e===null?(m=yo(),m===null&&(m=st,h=go(),m.pooledCache=h,h.refCount++,h!==null&&(m.pooledCacheLanes|=r),m=h),a.memoizedState={parent:c,cache:m},No(a),Jn(a,vt,m)):((e.lanes&r)!==0&&(wo(e,a),pi(a,null,null,r),mi()),m=e.memoizedState,h=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Jn(a,vt,c)):(c=h.cache,Jn(a,vt,c),c!==m.cache&&xo(a,[vt],r,!0))),Et(e,a,a.pendingProps.children,r),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Rn(e){e.flags|=4}function ac(e,a,r,c,m){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(ym())e.flags|=8192;else throw Ra=bl,bo}else e.flags&=-16777217}function Yf(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!op(a))if(ym())e.flags|=8192;else throw Ra=bl,bo}function Ol(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?Su():536870912,e.lanes|=a,bs|=a)}function bi(e,a){if(!Pe)switch(e.tailMode){case"hidden":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function ot(e){var a=e.alternate!==null&&e.alternate.child===e.child,r=0,c=0;if(a)for(var m=e.child;m!==null;)r|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)r|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=r,a}function rv(e,a,r){var c=a.pendingProps;switch(uo(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(a),null;case 1:return ot(a),null;case 3:return r=a.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),En(vt),xe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(rs(a)?Rn(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,mo())),ot(a),null;case 26:var m=a.type,h=a.memoizedState;return e===null?(Rn(a),h!==null?(ot(a),Yf(a,h)):(ot(a),ac(a,m,null,c,r))):h?h!==e.memoizedState?(Rn(a),ot(a),Yf(a,h)):(ot(a),a.flags&=-16777217):(e=e.memoizedProps,e!==c&&Rn(a),ot(a),ac(a,m,e,c,r)),null;case 27:if(it(a),r=le.current,m=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==c&&Rn(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return ot(a),null}e=Q.current,rs(a)?Sd(a):(e=ep(m,c,r),a.stateNode=e,Rn(a))}return ot(a),null;case 5:if(it(a),m=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==c&&Rn(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return ot(a),null}if(h=Q.current,rs(a))Sd(a);else{var N=Ql(le.current);switch(h){case 1:h=N.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:h=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":h=N.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":h=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":h=N.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof c.is=="string"?N.createElement("select",{is:c.is}):N.createElement("select"),c.multiple?h.multiple=!0:c.size&&(h.size=c.size);break;default:h=typeof c.is=="string"?N.createElement(m,{is:c.is}):N.createElement(m)}}h[_t]=a,h[zt]=c;e:for(N=a.child;N!==null;){if(N.tag===5||N.tag===6)h.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===a)break e;for(;N.sibling===null;){if(N.return===null||N.return===a)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}a.stateNode=h;e:switch(At(h,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Rn(a)}}return ot(a),ac(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,r),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==c&&Rn(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(e=le.current,rs(a)){if(e=a.stateNode,r=a.memoizedProps,c=null,m=kt,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[_t]=a,e=!!(e.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||qm(e.nodeValue,r)),e||Kn(a,!0)}else e=Ql(e).createTextNode(c),e[_t]=a,a.stateNode=e}return ot(a),null;case 31:if(r=a.memoizedState,e===null||e.memoizedState!==null){if(c=rs(a),r!==null){if(e===null){if(!c)throw Error(i(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[_t]=a}else ja(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ot(a),e=!1}else r=mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return a.flags&256?(Zt(a),a):(Zt(a),null);if((a.flags&128)!==0)throw Error(i(558))}return ot(a),null;case 13:if(c=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=rs(a),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[_t]=a}else ja(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ot(a),m=!1}else m=mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Zt(a),a):(Zt(a),null)}return Zt(a),(a.flags&128)!==0?(a.lanes=r,a):(r=c!==null,e=e!==null&&e.memoizedState!==null,r&&(c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),h=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==m&&(c.flags|=2048)),r!==e&&r&&(a.child.flags|=8192),Ol(a,a.updateQueue),ot(a),null);case 4:return xe(),e===null&&Sc(a.stateNode.containerInfo),ot(a),null;case 10:return En(a.type),ot(a),null;case 19:if(P(ht),c=a.memoizedState,c===null)return ot(a),null;if(m=(a.flags&128)!==0,h=c.rendering,h===null)if(m)bi(c,!1);else{if(pt!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(h=Cl(e),h!==null){for(a.flags|=128,bi(c,!1),e=h.updateQueue,a.updateQueue=e,Ol(a,e),a.subtreeFlags=0,e=r,r=a.child;r!==null;)bd(r,e),r=r.sibling;return se(ht,ht.current&1|2),Pe&&kn(a,c.treeForkCount),a.child}e=e.sibling}c.tail!==null&&Xe()>Gl&&(a.flags|=128,m=!0,bi(c,!1),a.lanes=4194304)}else{if(!m)if(e=Cl(h),e!==null){if(a.flags|=128,m=!0,e=e.updateQueue,a.updateQueue=e,Ol(a,e),bi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Pe)return ot(a),null}else 2*Xe()-c.renderingStartTime>Gl&&r!==536870912&&(a.flags|=128,m=!0,bi(c,!1),a.lanes=4194304);c.isBackwards?(h.sibling=a.child,a.child=h):(e=c.last,e!==null?e.sibling=h:a.child=h,c.last=h)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Xe(),e.sibling=null,r=ht.current,se(ht,m?r&1|2:r&1),Pe&&kn(a,c.treeForkCount),e):(ot(a),null);case 22:case 23:return Zt(a),_o(),c=a.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(r&536870912)!==0&&(a.flags&128)===0&&(ot(a),a.subtreeFlags&6&&(a.flags|=8192)):ot(a),r=a.updateQueue,r!==null&&Ol(a,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==r&&(a.flags|=2048),e!==null&&P(Da),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),En(vt),ot(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function ov(e,a){switch(uo(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return En(vt),xe(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return it(a),null;case 31:if(a.memoizedState!==null){if(Zt(a),a.alternate===null)throw Error(i(340));ja()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(Zt(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ja()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return P(ht),null;case 4:return xe(),null;case 10:return En(a.type),null;case 22:case 23:return Zt(a),_o(),e!==null&&P(Da),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return En(vt),null;case 25:return null;default:return null}}function Zf(e,a){switch(uo(a),a.tag){case 3:En(vt),xe();break;case 26:case 27:case 5:it(a);break;case 4:xe();break;case 31:a.memoizedState!==null&&Zt(a);break;case 13:Zt(a);break;case 19:P(ht);break;case 10:En(a.type);break;case 22:case 23:Zt(a),_o(),e!==null&&P(Da);break;case 24:En(vt)}}function Ni(e,a){try{var r=a.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var m=c.next;r=m;do{if((r.tag&e)===e){c=void 0;var h=r.create,N=r.inst;c=h(),N.destroy=c}r=r.next}while(r!==m)}}catch(C){et(a,a.return,C)}}function na(e,a,r){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var h=m.next;c=h;do{if((c.tag&e)===e){var N=c.inst,C=N.destroy;if(C!==void 0){N.destroy=void 0,m=a;var z=r,X=C;try{X()}catch(re){et(m,z,re)}}}c=c.next}while(c!==h)}}catch(re){et(a,a.return,re)}}function Kf(e){var a=e.updateQueue;if(a!==null){var r=e.stateNode;try{Ld(a,r)}catch(c){et(e,e.return,c)}}}function Jf(e,a,r){r.props=za(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(c){et(e,a,c)}}function wi(e,a){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof r=="function"?e.refCleanup=r(c):r.current=c}}catch(m){et(e,a,m)}}function vn(e,a){var r=e.ref,c=e.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(m){et(e,a,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(m){et(e,a,m)}else r.current=null}function Xf(e){var a=e.type,r=e.memoizedProps,c=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break e;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(m){et(e,e.return,m)}}function sc(e,a,r){try{var c=e.stateNode;Av(c,e.type,r,a),c[zt]=a}catch(m){et(e,e.return,m)}}function Qf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ca(e.type)||e.tag===4}function ic(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ca(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lc(e,a,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,a):(a=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.appendChild(e),r=r._reactRootContainer,r!=null||a.onclick!==null||(a.onclick=Cn));else if(c!==4&&(c===27&&ca(e.type)&&(r=e.stateNode,a=null),e=e.child,e!==null))for(lc(e,a,r),e=e.sibling;e!==null;)lc(e,a,r),e=e.sibling}function Ll(e,a,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?r.insertBefore(e,a):r.appendChild(e);else if(c!==4&&(c===27&&ca(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ll(e,a,r),e=e.sibling;e!==null;)Ll(e,a,r),e=e.sibling}function Wf(e){var a=e.stateNode,r=e.memoizedProps;try{for(var c=e.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);At(a,c,r),a[_t]=e,a[zt]=r}catch(h){et(e,e.return,h)}}var In=!1,Nt=!1,rc=!1,em=typeof WeakSet=="function"?WeakSet:Set,St=null;function cv(e,a){if(e=e.containerInfo,jc=ir,e=dd(e),Wr(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var m=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var N=0,C=-1,z=-1,X=0,re=0,de=e,W=null;t:for(;;){for(var ne;de!==r||m!==0&&de.nodeType!==3||(C=N+m),de!==h||c!==0&&de.nodeType!==3||(z=N+c),de.nodeType===3&&(N+=de.nodeValue.length),(ne=de.firstChild)!==null;)W=de,de=ne;for(;;){if(de===e)break t;if(W===r&&++X===m&&(C=N),W===h&&++re===c&&(z=N),(ne=de.nextSibling)!==null)break;de=W,W=de.parentNode}de=ne}r=C===-1||z===-1?null:{start:C,end:z}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ec={focusedElem:e,selectionRange:r},ir=!1,St=a;St!==null;)if(a=St,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,St=e;else for(;St!==null;){switch(a=St,h=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)m=e[r],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,r=a,m=h.memoizedProps,h=h.memoizedState,c=r.stateNode;try{var Te=za(r.type,m);e=c.getSnapshotBeforeUpdate(Te,h),c.__reactInternalSnapshotBeforeUpdate=e}catch(Ee){et(r,r.return,Ee)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,r=e.nodeType,r===9)Mc(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=a.sibling,e!==null){e.return=a.return,St=e;break}St=a.return}}function tm(e,a,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:zn(e,r),c&4&&Ni(5,r);break;case 1:if(zn(e,r),c&4)if(e=r.stateNode,a===null)try{e.componentDidMount()}catch(N){et(r,r.return,N)}else{var m=za(r.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(m,a,e.__reactInternalSnapshotBeforeUpdate)}catch(N){et(r,r.return,N)}}c&64&&Kf(r),c&512&&wi(r,r.return);break;case 3:if(zn(e,r),c&64&&(e=r.updateQueue,e!==null)){if(a=null,r.child!==null)switch(r.child.tag){case 27:case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}try{Ld(e,a)}catch(N){et(r,r.return,N)}}break;case 27:a===null&&c&4&&Wf(r);case 26:case 5:zn(e,r),a===null&&c&4&&Xf(r),c&512&&wi(r,r.return);break;case 12:zn(e,r);break;case 31:zn(e,r),c&4&&sm(e,r);break;case 13:zn(e,r),c&4&&im(e,r),c&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=vv.bind(null,r),Lv(e,r))));break;case 22:if(c=r.memoizedState!==null||In,!c){a=a!==null&&a.memoizedState!==null||Nt,m=In;var h=Nt;In=c,(Nt=a)&&!h?On(e,r,(r.subtreeFlags&8772)!==0):zn(e,r),In=m,Nt=h}break;case 30:break;default:zn(e,r)}}function nm(e){var a=e.alternate;a!==null&&(e.alternate=null,nm(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&zr(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var dt=null,Lt=!1;function Un(e,a,r){for(r=r.child;r!==null;)am(e,a,r),r=r.sibling}function am(e,a,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Fs,r)}catch{}switch(r.tag){case 26:Nt||vn(r,a),Un(e,a,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Nt||vn(r,a);var c=dt,m=Lt;ca(r.type)&&(dt=r.stateNode,Lt=!1),Un(e,a,r),Di(r.stateNode),dt=c,Lt=m;break;case 5:Nt||vn(r,a);case 6:if(c=dt,m=Lt,dt=null,Un(e,a,r),dt=c,Lt=m,dt!==null)if(Lt)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(r.stateNode)}catch(h){et(r,a,h)}else try{dt.removeChild(r.stateNode)}catch(h){et(r,a,h)}break;case 18:dt!==null&&(Lt?(e=dt,Km(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),js(e)):Km(dt,r.stateNode));break;case 4:c=dt,m=Lt,dt=r.stateNode.containerInfo,Lt=!0,Un(e,a,r),dt=c,Lt=m;break;case 0:case 11:case 14:case 15:na(2,r,a),Nt||na(4,r,a),Un(e,a,r);break;case 1:Nt||(vn(r,a),c=r.stateNode,typeof c.componentWillUnmount=="function"&&Jf(r,a,c)),Un(e,a,r);break;case 21:Un(e,a,r);break;case 22:Nt=(c=Nt)||r.memoizedState!==null,Un(e,a,r),Nt=c;break;default:Un(e,a,r)}}function sm(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{js(e)}catch(r){et(a,a.return,r)}}}function im(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{js(e)}catch(r){et(a,a.return,r)}}function uv(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new em),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new em),a;default:throw Error(i(435,e.tag))}}function Vl(e,a){var r=uv(e);a.forEach(function(c){if(!r.has(c)){r.add(c);var m=yv.bind(null,e,c);c.then(m,m)}})}function Vt(e,a){var r=a.deletions;if(r!==null)for(var c=0;c<r.length;c++){var m=r[c],h=e,N=a,C=N;e:for(;C!==null;){switch(C.tag){case 27:if(ca(C.type)){dt=C.stateNode,Lt=!1;break e}break;case 5:dt=C.stateNode,Lt=!1;break e;case 3:case 4:dt=C.stateNode.containerInfo,Lt=!0;break e}C=C.return}if(dt===null)throw Error(i(160));am(h,N,m),dt=null,Lt=!1,h=m.alternate,h!==null&&(h.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)lm(a,e),a=a.sibling}var fn=null;function lm(e,a){var r=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vt(a,e),Ht(e),c&4&&(na(3,e,e.return),Ni(3,e),na(5,e,e.return));break;case 1:Vt(a,e),Ht(e),c&512&&(Nt||r===null||vn(r,r.return)),c&64&&In&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var m=fn;if(Vt(a,e),Ht(e),c&512&&(Nt||r===null||vn(r,r.return)),c&4){var h=r!==null?r.memoizedState:null;if(c=e.memoizedState,r===null)if(c===null)if(e.stateNode===null){e:{c=e.type,r=e.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":h=m.getElementsByTagName("title")[0],(!h||h[Ks]||h[_t]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=m.createElement(c),m.head.insertBefore(h,m.querySelector("head > title"))),At(h,c,r),h[_t]=e,Ct(h),c=h;break e;case"link":var N=lp("link","href",m).get(c+(r.href||""));if(N){for(var C=0;C<N.length;C++)if(h=N[C],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){N.splice(C,1);break t}}h=m.createElement(c),At(h,c,r),m.head.appendChild(h);break;case"meta":if(N=lp("meta","content",m).get(c+(r.content||""))){for(C=0;C<N.length;C++)if(h=N[C],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){N.splice(C,1);break t}}h=m.createElement(c),At(h,c,r),m.head.appendChild(h);break;default:throw Error(i(468,c))}h[_t]=e,Ct(h),c=h}e.stateNode=c}else rp(m,e.type,e.stateNode);else e.stateNode=ip(m,c,e.memoizedProps);else h!==c?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,c===null?rp(m,e.type,e.stateNode):ip(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&sc(e,e.memoizedProps,r.memoizedProps)}break;case 27:Vt(a,e),Ht(e),c&512&&(Nt||r===null||vn(r,r.return)),r!==null&&c&4&&sc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Vt(a,e),Ht(e),c&512&&(Nt||r===null||vn(r,r.return)),e.flags&32){m=e.stateNode;try{Xa(m,"")}catch(Te){et(e,e.return,Te)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,sc(e,m,r!==null?r.memoizedProps:m)),c&1024&&(rc=!0);break;case 6:if(Vt(a,e),Ht(e),c&4){if(e.stateNode===null)throw Error(i(162));c=e.memoizedProps,r=e.stateNode;try{r.nodeValue=c}catch(Te){et(e,e.return,Te)}}break;case 3:if(tr=null,m=fn,fn=Wl(a.containerInfo),Vt(a,e),fn=m,Ht(e),c&4&&r!==null&&r.memoizedState.isDehydrated)try{js(a.containerInfo)}catch(Te){et(e,e.return,Te)}rc&&(rc=!1,rm(e));break;case 4:c=fn,fn=Wl(e.stateNode.containerInfo),Vt(a,e),Ht(e),fn=c;break;case 12:Vt(a,e),Ht(e);break;case 31:Vt(a,e),Ht(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Vl(e,c)));break;case 13:Vt(a,e),Ht(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Bl=Xe()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Vl(e,c)));break;case 22:m=e.memoizedState!==null;var z=r!==null&&r.memoizedState!==null,X=In,re=Nt;if(In=X||m,Nt=re||z,Vt(a,e),Nt=re,In=X,Ht(e),c&8192)e:for(a=e.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(r===null||z||In||Nt||Oa(e)),r=null,a=e;;){if(a.tag===5||a.tag===26){if(r===null){z=r=a;try{if(h=z.stateNode,m)N=h.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{C=z.stateNode;var de=z.memoizedProps.style,W=de!=null&&de.hasOwnProperty("display")?de.display:null;C.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Te){et(z,z.return,Te)}}}else if(a.tag===6){if(r===null){z=a;try{z.stateNode.nodeValue=m?"":z.memoizedProps}catch(Te){et(z,z.return,Te)}}}else if(a.tag===18){if(r===null){z=a;try{var ne=z.stateNode;m?Jm(ne,!0):Jm(z.stateNode,!1)}catch(Te){et(z,z.return,Te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;r===a&&(r=null),a=a.return}r===a&&(r=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=e.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,Vl(e,r))));break;case 19:Vt(a,e),Ht(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Vl(e,c)));break;case 30:break;case 21:break;default:Vt(a,e),Ht(e)}}function Ht(e){var a=e.flags;if(a&2){try{for(var r,c=e.return;c!==null;){if(Qf(c)){r=c;break}c=c.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var m=r.stateNode,h=ic(e);Ll(e,h,m);break;case 5:var N=r.stateNode;r.flags&32&&(Xa(N,""),r.flags&=-33);var C=ic(e);Ll(e,C,N);break;case 3:case 4:var z=r.stateNode.containerInfo,X=ic(e);lc(e,X,z);break;default:throw Error(i(161))}}catch(re){et(e,e.return,re)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function rm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;rm(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function zn(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)tm(e,a.alternate,a),a=a.sibling}function Oa(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:na(4,a,a.return),Oa(a);break;case 1:vn(a,a.return);var r=a.stateNode;typeof r.componentWillUnmount=="function"&&Jf(a,a.return,r),Oa(a);break;case 27:Di(a.stateNode);case 26:case 5:vn(a,a.return),Oa(a);break;case 22:a.memoizedState===null&&Oa(a);break;case 30:Oa(a);break;default:Oa(a)}e=e.sibling}}function On(e,a,r){for(r=r&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=e,h=a,N=h.flags;switch(h.tag){case 0:case 11:case 15:On(m,h,r),Ni(4,h);break;case 1:if(On(m,h,r),c=h,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(X){et(c,c.return,X)}if(c=h,m=c.updateQueue,m!==null){var C=c.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)Od(z[m],C)}catch(X){et(c,c.return,X)}}r&&N&64&&Kf(h),wi(h,h.return);break;case 27:Wf(h);case 26:case 5:On(m,h,r),r&&c===null&&N&4&&Xf(h),wi(h,h.return);break;case 12:On(m,h,r);break;case 31:On(m,h,r),r&&N&4&&sm(m,h);break;case 13:On(m,h,r),r&&N&4&&im(m,h);break;case 22:h.memoizedState===null&&On(m,h,r),wi(h,h.return);break;case 30:break;default:On(m,h,r)}a=a.sibling}}function oc(e,a){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&oi(r))}function cc(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&oi(e))}function mn(e,a,r,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)om(e,a,r,c),a=a.sibling}function om(e,a,r,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:mn(e,a,r,c),m&2048&&Ni(9,a);break;case 1:mn(e,a,r,c);break;case 3:mn(e,a,r,c),m&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&oi(e)));break;case 12:if(m&2048){mn(e,a,r,c),e=a.stateNode;try{var h=a.memoizedProps,N=h.id,C=h.onPostCommit;typeof C=="function"&&C(N,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(z){et(a,a.return,z)}}else mn(e,a,r,c);break;case 31:mn(e,a,r,c);break;case 13:mn(e,a,r,c);break;case 23:break;case 22:h=a.stateNode,N=a.alternate,a.memoizedState!==null?h._visibility&2?mn(e,a,r,c):Ti(e,a):h._visibility&2?mn(e,a,r,c):(h._visibility|=2,gs(e,a,r,c,(a.subtreeFlags&10256)!==0||!1)),m&2048&&oc(N,a);break;case 24:mn(e,a,r,c),m&2048&&cc(a.alternate,a);break;default:mn(e,a,r,c)}}function gs(e,a,r,c,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var h=e,N=a,C=r,z=c,X=N.flags;switch(N.tag){case 0:case 11:case 15:gs(h,N,C,z,m),Ni(8,N);break;case 23:break;case 22:var re=N.stateNode;N.memoizedState!==null?re._visibility&2?gs(h,N,C,z,m):Ti(h,N):(re._visibility|=2,gs(h,N,C,z,m)),m&&X&2048&&oc(N.alternate,N);break;case 24:gs(h,N,C,z,m),m&&X&2048&&cc(N.alternate,N);break;default:gs(h,N,C,z,m)}a=a.sibling}}function Ti(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var r=e,c=a,m=c.flags;switch(c.tag){case 22:Ti(r,c),m&2048&&oc(c.alternate,c);break;case 24:Ti(r,c),m&2048&&cc(c.alternate,c);break;default:Ti(r,c)}a=a.sibling}}var Ci=8192;function vs(e,a,r){if(e.subtreeFlags&Ci)for(e=e.child;e!==null;)cm(e,a,r),e=e.sibling}function cm(e,a,r){switch(e.tag){case 26:vs(e,a,r),e.flags&Ci&&e.memoizedState!==null&&Jv(r,fn,e.memoizedState,e.memoizedProps);break;case 5:vs(e,a,r);break;case 3:case 4:var c=fn;fn=Wl(e.stateNode.containerInfo),vs(e,a,r),fn=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Ci,Ci=16777216,vs(e,a,r),Ci=c):vs(e,a,r));break;default:vs(e,a,r)}}function um(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function Si(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var c=a[r];St=c,fm(c,e)}um(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dm(e),e=e.sibling}function dm(e){switch(e.tag){case 0:case 11:case 15:Si(e),e.flags&2048&&na(9,e,e.return);break;case 3:Si(e);break;case 12:Si(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,Hl(e)):Si(e);break;default:Si(e)}}function Hl(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var c=a[r];St=c,fm(c,e)}um(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:na(8,a,a.return),Hl(a);break;case 22:r=a.stateNode,r._visibility&2&&(r._visibility&=-3,Hl(a));break;default:Hl(a)}e=e.sibling}}function fm(e,a){for(;St!==null;){var r=St;switch(r.tag){case 0:case 11:case 15:na(8,r,a);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:oi(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,St=c;else e:for(r=e;St!==null;){c=St;var m=c.sibling,h=c.return;if(nm(c),c===r){St=null;break e}if(m!==null){m.return=h,St=m;break e}St=h}}}var dv={getCacheForType:function(e){var a=jt(vt),r=a.data.get(e);return r===void 0&&(r=e(),a.data.set(e,r)),r},cacheSignal:function(){return jt(vt).controller.signal}},fv=typeof WeakMap=="function"?WeakMap:Map,Qe=0,st=null,Ve=null,Be=0,We=0,Kt=null,aa=!1,ys=!1,uc=!1,Ln=0,pt=0,sa=0,La=0,dc=0,Jt=0,bs=0,_i=null,Bt=null,fc=!1,Bl=0,mm=0,Gl=1/0,ql=null,ia=null,Tt=0,la=null,Ns=null,Vn=0,mc=0,pc=null,pm=null,ki=0,hc=null;function Xt(){return(Qe&2)!==0&&Be!==0?Be&-Be:F.T!==null?Nc():Eu()}function hm(){if(Jt===0)if((Be&536870912)===0||Pe){var e=Xi;Xi<<=1,(Xi&3932160)===0&&(Xi=262144),Jt=e}else Jt=536870912;return e=Yt.current,e!==null&&(e.flags|=32),Jt}function Gt(e,a,r){(e===st&&(We===2||We===9)||e.cancelPendingCommit!==null)&&(ws(e,0),ra(e,Be,Jt,!1)),Zs(e,r),((Qe&2)===0||e!==st)&&(e===st&&((Qe&2)===0&&(La|=r),pt===4&&ra(e,Be,Jt,!1)),yn(e))}function xm(e,a,r){if((Qe&6)!==0)throw Error(i(327));var c=!r&&(a&127)===0&&(a&e.expiredLanes)===0||Ys(e,a),m=c?hv(e,a):gc(e,a,!0),h=c;do{if(m===0){ys&&!c&&ra(e,a,0,!1);break}else{if(r=e.current.alternate,h&&!mv(r)){m=gc(e,a,!1),h=!1;continue}if(m===2){if(h=a,e.errorRecoveryDisabledLanes&h)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){a=N;e:{var C=e;m=_i;var z=C.current.memoizedState.isDehydrated;if(z&&(ws(C,N).flags|=256),N=gc(C,N,!1),N!==2){if(uc&&!z){C.errorRecoveryDisabledLanes|=h,La|=h,m=4;break e}h=Bt,Bt=m,h!==null&&(Bt===null?Bt=h:Bt.push.apply(Bt,h))}m=N}if(h=!1,m!==2)continue}}if(m===1){ws(e,0),ra(e,a,0,!0);break}e:{switch(c=e,h=m,h){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ra(c,a,Jt,!aa);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=Bl+300-Xe(),10<m)){if(ra(c,a,Jt,!aa),Wi(c,0,!0)!==0)break e;Vn=a,c.timeoutHandle=Ym(gm.bind(null,c,r,Bt,ql,fc,a,Jt,La,bs,aa,h,"Throttled",-0,0),m);break e}gm(c,r,Bt,ql,fc,a,Jt,La,bs,aa,h,null,-0,0)}}break}while(!0);yn(e)}function gm(e,a,r,c,m,h,N,C,z,X,re,de,W,ne){if(e.timeoutHandle=-1,de=a.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},cm(a,h,de);var Te=(h&62914560)===h?Bl-Xe():(h&4194048)===h?mm-Xe():0;if(Te=Xv(de,Te),Te!==null){Vn=h,e.cancelPendingCommit=Te(Sm.bind(null,e,a,h,r,c,m,N,C,z,re,de,null,W,ne)),ra(e,h,N,!X);return}}Sm(e,a,h,r,c,m,N,C,z)}function mv(e){for(var a=e;;){var r=a.tag;if((r===0||r===11||r===15)&&a.flags&16384&&(r=a.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var m=r[c],h=m.getSnapshot;m=m.value;try{if(!$t(h(),m))return!1}catch{return!1}}if(r=a.child,a.subtreeFlags&16384&&r!==null)r.return=a,a=r;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ra(e,a,r,c){a&=~dc,a&=~La,e.suspendedLanes|=a,e.pingedLanes&=~a,c&&(e.warmLanes|=a),c=e.expirationTimes;for(var m=a;0<m;){var h=31-Pt(m),N=1<<h;c[h]=-1,m&=~N}r!==0&&_u(e,r,a)}function Pl(){return(Qe&6)===0?(ji(0),!1):!0}function xc(){if(Ve!==null){if(We===0)var e=Ve.return;else e=Ve,jn=Ea=null,Mo(e),fs=null,ui=0,e=Ve;for(;e!==null;)Zf(e.alternate,e),e=e.return;Ve=null}}function ws(e,a){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Rv(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Vn=0,xc(),st=e,Ve=r=_n(e.current,null),Be=a,We=0,Kt=null,aa=!1,ys=Ys(e,a),uc=!1,bs=Jt=dc=La=sa=pt=0,Bt=_i=null,fc=!1,(a&8)!==0&&(a|=a&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=a;0<c;){var m=31-Pt(c),h=1<<m;a|=e[m],c&=~h}return Ln=a,dl(),r}function vm(e,a){Ue=null,F.H=vi,a===ds||a===yl?(a=Rd(),We=3):a===bo?(a=Rd(),We=4):We=a===Zo?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Kt=a,Ve===null&&(pt=1,Rl(e,nn(a,e.current)))}function ym(){var e=Yt.current;return e===null?!0:(Be&4194048)===Be?rn===null:(Be&62914560)===Be||(Be&536870912)!==0?e===rn:!1}function bm(){var e=F.H;return F.H=vi,e===null?vi:e}function Nm(){var e=F.A;return F.A=dv,e}function $l(){pt=4,aa||(Be&4194048)!==Be&&Yt.current!==null||(ys=!0),(sa&134217727)===0&&(La&134217727)===0||st===null||ra(st,Be,Jt,!1)}function gc(e,a,r){var c=Qe;Qe|=2;var m=bm(),h=Nm();(st!==e||Be!==a)&&(ql=null,ws(e,a)),a=!1;var N=pt;e:do try{if(We!==0&&Ve!==null){var C=Ve,z=Kt;switch(We){case 8:xc(),N=6;break e;case 3:case 2:case 9:case 6:Yt.current===null&&(a=!0);var X=We;if(We=0,Kt=null,Ts(e,C,z,X),r&&ys){N=0;break e}break;default:X=We,We=0,Kt=null,Ts(e,C,z,X)}}pv(),N=pt;break}catch(re){vm(e,re)}while(!0);return a&&e.shellSuspendCounter++,jn=Ea=null,Qe=c,F.H=m,F.A=h,Ve===null&&(st=null,Be=0,dl()),N}function pv(){for(;Ve!==null;)wm(Ve)}function hv(e,a){var r=Qe;Qe|=2;var c=bm(),m=Nm();st!==e||Be!==a?(ql=null,Gl=Xe()+500,ws(e,a)):ys=Ys(e,a);e:do try{if(We!==0&&Ve!==null){a=Ve;var h=Kt;t:switch(We){case 1:We=0,Kt=null,Ts(e,a,h,1);break;case 2:case 9:if(Dd(h)){We=0,Kt=null,Tm(a);break}a=function(){We!==2&&We!==9||st!==e||(We=7),yn(e)},h.then(a,a);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Dd(h)?(We=0,Kt=null,Tm(a)):(We=0,Kt=null,Ts(e,a,h,7));break;case 5:var N=null;switch(Ve.tag){case 26:N=Ve.memoizedState;case 5:case 27:var C=Ve;if(N?op(N):C.stateNode.complete){We=0,Kt=null;var z=C.sibling;if(z!==null)Ve=z;else{var X=C.return;X!==null?(Ve=X,Fl(X)):Ve=null}break t}}We=0,Kt=null,Ts(e,a,h,5);break;case 6:We=0,Kt=null,Ts(e,a,h,6);break;case 8:xc(),pt=6;break e;default:throw Error(i(462))}}xv();break}catch(re){vm(e,re)}while(!0);return jn=Ea=null,F.H=c,F.A=m,Qe=r,Ve!==null?0:(st=null,Be=0,dl(),pt)}function xv(){for(;Ve!==null&&!he();)wm(Ve)}function wm(e){var a=Ff(e.alternate,e,Ln);e.memoizedProps=e.pendingProps,a===null?Fl(e):Ve=a}function Tm(e){var a=e,r=a.alternate;switch(a.tag){case 15:case 0:a=Hf(r,a,a.pendingProps,a.type,void 0,Be);break;case 11:a=Hf(r,a,a.pendingProps,a.type.render,a.ref,Be);break;case 5:Mo(a);default:Zf(r,a),a=Ve=bd(a,Ln),a=Ff(r,a,Ln)}e.memoizedProps=e.pendingProps,a===null?Fl(e):Ve=a}function Ts(e,a,r,c){jn=Ea=null,Mo(a),fs=null,ui=0;var m=a.return;try{if(sv(e,m,a,r,Be)){pt=1,Rl(e,nn(r,e.current)),Ve=null;return}}catch(h){if(m!==null)throw Ve=m,h;pt=1,Rl(e,nn(r,e.current)),Ve=null;return}a.flags&32768?(Pe||c===1?e=!0:ys||(Be&536870912)!==0?e=!1:(aa=e=!0,(c===2||c===9||c===3||c===6)&&(c=Yt.current,c!==null&&c.tag===13&&(c.flags|=16384))),Cm(a,e)):Fl(a)}function Fl(e){var a=e;do{if((a.flags&32768)!==0){Cm(a,aa);return}e=a.return;var r=rv(a.alternate,a,Ln);if(r!==null){Ve=r;return}if(a=a.sibling,a!==null){Ve=a;return}Ve=a=e}while(a!==null);pt===0&&(pt=5)}function Cm(e,a){do{var r=ov(e.alternate,e);if(r!==null){r.flags&=32767,Ve=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!a&&(e=e.sibling,e!==null)){Ve=e;return}Ve=e=r}while(e!==null);pt=6,Ve=null}function Sm(e,a,r,c,m,h,N,C,z){e.cancelPendingCommit=null;do Yl();while(Tt!==0);if((Qe&6)!==0)throw Error(i(327));if(a!==null){if(a===e.current)throw Error(i(177));if(h=a.lanes|a.childLanes,h|=so,Kx(e,r,h,N,C,z),e===st&&(Ve=st=null,Be=0),Ns=a,la=e,Vn=r,mc=h,pc=m,pm=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bv(Pa,function(){return Am(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=F.T,F.T=null,m=H.p,H.p=2,N=Qe,Qe|=4;try{cv(e,a,r)}finally{Qe=N,H.p=m,F.T=c}}Tt=1,_m(),km(),jm()}}function _m(){if(Tt===1){Tt=0;var e=la,a=Ns,r=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var c=H.p;H.p=2;var m=Qe;Qe|=4;try{lm(a,e);var h=Ec,N=dd(e.containerInfo),C=h.focusedElem,z=h.selectionRange;if(N!==C&&C&&C.ownerDocument&&ud(C.ownerDocument.documentElement,C)){if(z!==null&&Wr(C)){var X=z.start,re=z.end;if(re===void 0&&(re=X),"selectionStart"in C)C.selectionStart=X,C.selectionEnd=Math.min(re,C.value.length);else{var de=C.ownerDocument||document,W=de&&de.defaultView||window;if(W.getSelection){var ne=W.getSelection(),Te=C.textContent.length,Ee=Math.min(z.start,Te),at=z.end===void 0?Ee:Math.min(z.end,Te);!ne.extend&&Ee>at&&(N=at,at=Ee,Ee=N);var Z=cd(C,Ee),B=cd(C,at);if(Z&&B&&(ne.rangeCount!==1||ne.anchorNode!==Z.node||ne.anchorOffset!==Z.offset||ne.focusNode!==B.node||ne.focusOffset!==B.offset)){var J=de.createRange();J.setStart(Z.node,Z.offset),ne.removeAllRanges(),Ee>at?(ne.addRange(J),ne.extend(B.node,B.offset)):(J.setEnd(B.node,B.offset),ne.addRange(J))}}}}for(de=[],ne=C;ne=ne.parentNode;)ne.nodeType===1&&de.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<de.length;C++){var ce=de[C];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}ir=!!jc,Ec=jc=null}finally{Qe=m,H.p=c,F.T=r}}e.current=a,Tt=2}}function km(){if(Tt===2){Tt=0;var e=la,a=Ns,r=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var c=H.p;H.p=2;var m=Qe;Qe|=4;try{tm(e,a.alternate,a)}finally{Qe=m,H.p=c,F.T=r}}Tt=3}}function jm(){if(Tt===4||Tt===3){Tt=0,gt();var e=la,a=Ns,r=Vn,c=pm;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Tt=5:(Tt=0,Ns=la=null,Em(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(ia=null),Ir(r),a=a.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Fs,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=F.T,m=H.p,H.p=2,F.T=null;try{for(var h=e.onRecoverableError,N=0;N<c.length;N++){var C=c[N];h(C.value,{componentStack:C.stack})}}finally{F.T=a,H.p=m}}(Vn&3)!==0&&Yl(),yn(e),m=e.pendingLanes,(r&261930)!==0&&(m&42)!==0?e===hc?ki++:(ki=0,hc=e):ki=0,ji(0)}}function Em(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,oi(a)))}function Yl(){return _m(),km(),jm(),Am()}function Am(){if(Tt!==5)return!1;var e=la,a=mc;mc=0;var r=Ir(Vn),c=F.T,m=H.p;try{H.p=32>r?32:r,F.T=null,r=pc,pc=null;var h=la,N=Vn;if(Tt=0,Ns=la=null,Vn=0,(Qe&6)!==0)throw Error(i(331));var C=Qe;if(Qe|=4,dm(h.current),om(h,h.current,N,r),Qe=C,ji(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Fs,h)}catch{}return!0}finally{H.p=m,F.T=c,Em(e,a)}}function Dm(e,a,r){a=nn(r,a),a=Yo(e.stateNode,a,2),e=Wn(e,a,2),e!==null&&(Zs(e,2),yn(e))}function et(e,a,r){if(e.tag===3)Dm(e,e,r);else for(;a!==null;){if(a.tag===3){Dm(a,e,r);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ia===null||!ia.has(c))){e=nn(r,e),r=Mf(2),c=Wn(a,r,2),c!==null&&(Rf(r,c,a,e),Zs(c,2),yn(c));break}}a=a.return}}function vc(e,a,r){var c=e.pingCache;if(c===null){c=e.pingCache=new fv;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(r)||(uc=!0,m.add(r),e=gv.bind(null,e,a,r),a.then(e,e))}function gv(e,a,r){var c=e.pingCache;c!==null&&c.delete(a),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,st===e&&(Be&r)===r&&(pt===4||pt===3&&(Be&62914560)===Be&&300>Xe()-Bl?(Qe&2)===0&&ws(e,0):dc|=r,bs===Be&&(bs=0)),yn(e)}function Mm(e,a){a===0&&(a=Su()),e=_a(e,a),e!==null&&(Zs(e,a),yn(e))}function vv(e){var a=e.memoizedState,r=0;a!==null&&(r=a.retryLane),Mm(e,r)}function yv(e,a){var r=0;switch(e.tag){case 31:case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(r=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),Mm(e,r)}function bv(e,a){return ae(e,a)}var Zl=null,Cs=null,yc=!1,Kl=!1,bc=!1,oa=0;function yn(e){e!==Cs&&e.next===null&&(Cs===null?Zl=Cs=e:Cs=Cs.next=e),Kl=!0,yc||(yc=!0,wv())}function ji(e,a){if(!bc&&Kl){bc=!0;do for(var r=!1,c=Zl;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var h=0;else{var N=c.suspendedLanes,C=c.pingedLanes;h=(1<<31-Pt(42|e)+1)-1,h&=m&~(N&~C),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,zm(c,h))}else h=Be,h=Wi(c,c===st?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||Ys(c,h)||(r=!0,zm(c,h));c=c.next}while(r);bc=!1}}function Nv(){Rm()}function Rm(){Kl=yc=!1;var e=0;oa!==0&&Mv()&&(e=oa);for(var a=Xe(),r=null,c=Zl;c!==null;){var m=c.next,h=Im(c,a);h===0?(c.next=null,r===null?Zl=m:r.next=m,m===null&&(Cs=r)):(r=c,(e!==0||(h&3)!==0)&&(Kl=!0)),c=m}Tt!==0&&Tt!==5||ji(e),oa!==0&&(oa=0)}function Im(e,a){for(var r=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var N=31-Pt(h),C=1<<N,z=m[N];z===-1?((C&r)===0||(C&c)!==0)&&(m[N]=Zx(C,a)):z<=a&&(e.expiredLanes|=C),h&=~C}if(a=st,r=Be,r=Wi(e,e===a?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,r===0||e===a&&(We===2||We===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&oe(c),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Ys(e,r)){if(a=r&-r,a===e.callbackPriority)return a;switch(c!==null&&oe(c),Ir(r)){case 2:case 8:r=hn;break;case 32:r=Pa;break;case 268435456:r=Cu;break;default:r=Pa}return c=Um.bind(null,e),r=ae(r,c),e.callbackPriority=a,e.callbackNode=r,a}return c!==null&&c!==null&&oe(c),e.callbackPriority=2,e.callbackNode=null,2}function Um(e,a){if(Tt!==0&&Tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Yl()&&e.callbackNode!==r)return null;var c=Be;return c=Wi(e,e===st?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(xm(e,c,a),Im(e,Xe()),e.callbackNode!=null&&e.callbackNode===r?Um.bind(null,e):null)}function zm(e,a){if(Yl())return null;xm(e,a,!0)}function wv(){Iv(function(){(Qe&6)!==0?ae(ba,Nv):Rm()})}function Nc(){if(oa===0){var e=cs;e===0&&(e=Ji,Ji<<=1,(Ji&261888)===0&&(Ji=256)),oa=e}return oa}function Om(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:al(""+e)}function Lm(e,a){var r=a.ownerDocument.createElement("input");return r.name=a.name,r.value=a.value,e.id&&r.setAttribute("form",e.id),a.parentNode.insertBefore(r,a),e=new FormData(e),r.parentNode.removeChild(r),e}function Tv(e,a,r,c,m){if(a==="submit"&&r&&r.stateNode===m){var h=Om((m[zt]||null).action),N=c.submitter;N&&(a=(a=N[zt]||null)?Om(a.formAction):N.getAttribute("formAction"),a!==null&&(h=a,N=null));var C=new rl("action","action",null,c,m);e.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(oa!==0){var z=N?Lm(m,N):new FormData(m);Bo(r,{pending:!0,data:z,method:m.method,action:h},null,z)}}else typeof h=="function"&&(C.preventDefault(),z=N?Lm(m,N):new FormData(m),Bo(r,{pending:!0,data:z,method:m.method,action:h},h,z))},currentTarget:m}]})}}for(var wc=0;wc<ao.length;wc++){var Tc=ao[wc],Cv=Tc.toLowerCase(),Sv=Tc[0].toUpperCase()+Tc.slice(1);dn(Cv,"on"+Sv)}dn(pd,"onAnimationEnd"),dn(hd,"onAnimationIteration"),dn(xd,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(Bg,"onTransitionRun"),dn(Gg,"onTransitionStart"),dn(qg,"onTransitionCancel"),dn(gd,"onTransitionEnd"),Ka("onMouseEnter",["mouseout","mouseover"]),Ka("onMouseLeave",["mouseout","mouseover"]),Ka("onPointerEnter",["pointerout","pointerover"]),Ka("onPointerLeave",["pointerout","pointerover"]),wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_v=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ei));function Vm(e,a){a=(a&4)!==0;for(var r=0;r<e.length;r++){var c=e[r],m=c.event;c=c.listeners;e:{var h=void 0;if(a)for(var N=c.length-1;0<=N;N--){var C=c[N],z=C.instance,X=C.currentTarget;if(C=C.listener,z!==h&&m.isPropagationStopped())break e;h=C,m.currentTarget=X;try{h(m)}catch(re){ul(re)}m.currentTarget=null,h=z}else for(N=0;N<c.length;N++){if(C=c[N],z=C.instance,X=C.currentTarget,C=C.listener,z!==h&&m.isPropagationStopped())break e;h=C,m.currentTarget=X;try{h(m)}catch(re){ul(re)}m.currentTarget=null,h=z}}}}function He(e,a){var r=a[Ur];r===void 0&&(r=a[Ur]=new Set);var c=e+"__bubble";r.has(c)||(Hm(a,e,2,!1),r.add(c))}function Cc(e,a,r){var c=0;a&&(c|=4),Hm(r,e,c,a)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Sc(e){if(!e[Jl]){e[Jl]=!0,Mu.forEach(function(r){r!=="selectionchange"&&(_v.has(r)||Cc(r,!1,e),Cc(r,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[Jl]||(a[Jl]=!0,Cc("selectionchange",!1,a))}}function Hm(e,a,r,c){switch(hp(a)){case 2:var m=e0;break;case 8:m=t0;break;default:m=Hc}r=m.bind(null,a,r,e),m=void 0,!Pr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(a,r,{capture:!0,passive:m}):e.addEventListener(a,r,!0):m!==void 0?e.addEventListener(a,r,{passive:m}):e.addEventListener(a,r,!1)}function _c(e,a,r,c,m){var h=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var C=c.stateNode.containerInfo;if(C===m)break;if(N===4)for(N=c.return;N!==null;){var z=N.tag;if((z===3||z===4)&&N.stateNode.containerInfo===m)return;N=N.return}for(;C!==null;){if(N=Fa(C),N===null)return;if(z=N.tag,z===5||z===6||z===26||z===27){c=h=N;continue e}C=C.parentNode}}c=c.return}Pu(function(){var X=h,re=Gr(r),de=[];e:{var W=vd.get(e);if(W!==void 0){var ne=rl,Te=e;switch(e){case"keypress":if(il(r)===0)break e;case"keydown":case"keyup":ne=yg;break;case"focusin":Te="focus",ne=Zr;break;case"focusout":Te="blur",ne=Zr;break;case"beforeblur":case"afterblur":ne=Zr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=wg;break;case pd:case hd:case xd:ne=ug;break;case gd:ne=Cg;break;case"scroll":case"scrollend":ne=ig;break;case"wheel":ne=_g;break;case"copy":case"cut":case"paste":ne=fg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Ku;break;case"toggle":case"beforetoggle":ne=jg}var Ee=(a&4)!==0,at=!Ee&&(e==="scroll"||e==="scrollend"),Z=Ee?W!==null?W+"Capture":null:W;Ee=[];for(var B=X,J;B!==null;){var ce=B;if(J=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||J===null||Z===null||(ce=Xs(B,Z),ce!=null&&Ee.push(Ai(B,ce,J))),at)break;B=B.return}0<Ee.length&&(W=new ne(W,Te,null,r,re),de.push({event:W,listeners:Ee}))}}if((a&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",ne=e==="mouseout"||e==="pointerout",W&&r!==Br&&(Te=r.relatedTarget||r.fromElement)&&(Fa(Te)||Te[$a]))break e;if((ne||W)&&(W=re.window===re?re:(W=re.ownerDocument)?W.defaultView||W.parentWindow:window,ne?(Te=r.relatedTarget||r.toElement,ne=X,Te=Te?Fa(Te):null,Te!==null&&(at=u(Te),Ee=Te.tag,Te!==at||Ee!==5&&Ee!==27&&Ee!==6)&&(Te=null)):(ne=null,Te=X),ne!==Te)){if(Ee=Yu,ce="onMouseLeave",Z="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Ee=Ku,ce="onPointerLeave",Z="onPointerEnter",B="pointer"),at=ne==null?W:Js(ne),J=Te==null?W:Js(Te),W=new Ee(ce,B+"leave",ne,r,re),W.target=at,W.relatedTarget=J,ce=null,Fa(re)===X&&(Ee=new Ee(Z,B+"enter",Te,r,re),Ee.target=J,Ee.relatedTarget=at,ce=Ee),at=ce,ne&&Te)t:{for(Ee=kv,Z=ne,B=Te,J=0,ce=Z;ce;ce=Ee(ce))J++;ce=0;for(var je=B;je;je=Ee(je))ce++;for(;0<J-ce;)Z=Ee(Z),J--;for(;0<ce-J;)B=Ee(B),ce--;for(;J--;){if(Z===B||B!==null&&Z===B.alternate){Ee=Z;break t}Z=Ee(Z),B=Ee(B)}Ee=null}else Ee=null;ne!==null&&Bm(de,W,ne,Ee,!1),Te!==null&&at!==null&&Bm(de,at,Te,Ee,!0)}}e:{if(W=X?Js(X):window,ne=W.nodeName&&W.nodeName.toLowerCase(),ne==="select"||ne==="input"&&W.type==="file")var Ze=ad;else if(td(W))if(sd)Ze=Lg;else{Ze=zg;var Se=Ug}else ne=W.nodeName,!ne||ne.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&Hr(X.elementType)&&(Ze=ad):Ze=Og;if(Ze&&(Ze=Ze(e,X))){nd(de,Ze,r,re);break e}Se&&Se(e,W,X),e==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&Vr(W,"number",W.value)}switch(Se=X?Js(X):window,e){case"focusin":(td(Se)||Se.contentEditable==="true")&&(ts=Se,eo=X,ii=null);break;case"focusout":ii=eo=ts=null;break;case"mousedown":to=!0;break;case"contextmenu":case"mouseup":case"dragend":to=!1,fd(de,r,re);break;case"selectionchange":if(Hg)break;case"keydown":case"keyup":fd(de,r,re)}var ze;if(Jr)e:{switch(e){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else es?Wu(e,r)&&(Ge="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ge="onCompositionStart");Ge&&(Ju&&r.locale!=="ko"&&(es||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&es&&(ze=$u()):(Fn=re,$r="value"in Fn?Fn.value:Fn.textContent,es=!0)),Se=Xl(X,Ge),0<Se.length&&(Ge=new Zu(Ge,e,null,r,re),de.push({event:Ge,listeners:Se}),ze?Ge.data=ze:(ze=ed(r),ze!==null&&(Ge.data=ze)))),(ze=Ag?Dg(e,r):Mg(e,r))&&(Ge=Xl(X,"onBeforeInput"),0<Ge.length&&(Se=new Zu("onBeforeInput","beforeinput",null,r,re),de.push({event:Se,listeners:Ge}),Se.data=ze)),Tv(de,e,X,r,re)}Vm(de,a)})}function Ai(e,a,r){return{instance:e,listener:a,currentTarget:r}}function Xl(e,a){for(var r=a+"Capture",c=[];e!==null;){var m=e,h=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||h===null||(m=Xs(e,r),m!=null&&c.unshift(Ai(e,m,h)),m=Xs(e,a),m!=null&&c.push(Ai(e,m,h))),e.tag===3)return c;e=e.return}return[]}function kv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bm(e,a,r,c,m){for(var h=a._reactName,N=[];r!==null&&r!==c;){var C=r,z=C.alternate,X=C.stateNode;if(C=C.tag,z!==null&&z===c)break;C!==5&&C!==26&&C!==27||X===null||(z=X,m?(X=Xs(r,h),X!=null&&N.unshift(Ai(r,X,z))):m||(X=Xs(r,h),X!=null&&N.push(Ai(r,X,z)))),r=r.return}N.length!==0&&e.push({event:a,listeners:N})}var jv=/\r\n?/g,Ev=/\u0000|\uFFFD/g;function Gm(e){return(typeof e=="string"?e:""+e).replace(jv,`
`).replace(Ev,"")}function qm(e,a){return a=Gm(a),Gm(e)===a}function nt(e,a,r,c,m,h){switch(r){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Xa(e,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Xa(e,""+c);break;case"className":tl(e,"class",c);break;case"tabIndex":tl(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":tl(e,r,c);break;case"style":Gu(e,c,h);break;case"data":if(a!=="object"){tl(e,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||r!=="href")){e.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=al(""+c),e.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(a!=="input"&&nt(e,a,"name",m.name,m,null),nt(e,a,"formEncType",m.formEncType,m,null),nt(e,a,"formMethod",m.formMethod,m,null),nt(e,a,"formTarget",m.formTarget,m,null)):(nt(e,a,"encType",m.encType,m,null),nt(e,a,"method",m.method,m,null),nt(e,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=al(""+c),e.setAttribute(r,c);break;case"onClick":c!=null&&(e.onclick=Cn);break;case"onScroll":c!=null&&He("scroll",e);break;case"onScrollEnd":c!=null&&He("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(r=c.__html,r!=null){if(m.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}r=al(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""+c):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":c===!0?e.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,c):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(r,c):e.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(r):e.setAttribute(r,c);break;case"popover":He("beforetoggle",e),He("toggle",e),el(e,"popover",c);break;case"xlinkActuate":Tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Tn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Tn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Tn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Tn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":el(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=ag.get(r)||r,el(e,r,c))}}function kc(e,a,r,c,m,h){switch(r){case"style":Gu(e,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(r=c.__html,r!=null){if(m.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"children":typeof c=="string"?Xa(e,c):(typeof c=="number"||typeof c=="bigint")&&Xa(e,""+c);break;case"onScroll":c!=null&&He("scroll",e);break;case"onScrollEnd":c!=null&&He("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ru.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(m=r.endsWith("Capture"),a=r.slice(2,m?r.length-7:void 0),h=e[zt]||null,h=h!=null?h[r]:null,typeof h=="function"&&e.removeEventListener(a,h,m),typeof c=="function")){typeof h!="function"&&h!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(a,c,m);break e}r in e?e[r]=c:c===!0?e.setAttribute(r,""):el(e,r,c)}}}function At(e,a,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",e),He("load",e);var c=!1,m=!1,h;for(h in r)if(r.hasOwnProperty(h)){var N=r[h];if(N!=null)switch(h){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:nt(e,a,h,N,r,null)}}m&&nt(e,a,"srcSet",r.srcSet,r,null),c&&nt(e,a,"src",r.src,r,null);return;case"input":He("invalid",e);var C=h=N=m=null,z=null,X=null;for(c in r)if(r.hasOwnProperty(c)){var re=r[c];if(re!=null)switch(c){case"name":m=re;break;case"type":N=re;break;case"checked":z=re;break;case"defaultChecked":X=re;break;case"value":h=re;break;case"defaultValue":C=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,a));break;default:nt(e,a,c,re,r,null)}}Lu(e,h,C,z,X,N,m,!1);return;case"select":He("invalid",e),c=N=h=null;for(m in r)if(r.hasOwnProperty(m)&&(C=r[m],C!=null))switch(m){case"value":h=C;break;case"defaultValue":N=C;break;case"multiple":c=C;default:nt(e,a,m,C,r,null)}a=h,r=N,e.multiple=!!c,a!=null?Ja(e,!!c,a,!1):r!=null&&Ja(e,!!c,r,!0);return;case"textarea":He("invalid",e),h=m=c=null;for(N in r)if(r.hasOwnProperty(N)&&(C=r[N],C!=null))switch(N){case"value":c=C;break;case"defaultValue":m=C;break;case"children":h=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:nt(e,a,N,C,r,null)}Hu(e,c,m,h);return;case"option":for(z in r)if(r.hasOwnProperty(z)&&(c=r[z],c!=null))switch(z){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:nt(e,a,z,c,r,null)}return;case"dialog":He("beforetoggle",e),He("toggle",e),He("cancel",e),He("close",e);break;case"iframe":case"object":He("load",e);break;case"video":case"audio":for(c=0;c<Ei.length;c++)He(Ei[c],e);break;case"image":He("error",e),He("load",e);break;case"details":He("toggle",e);break;case"embed":case"source":case"link":He("error",e),He("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in r)if(r.hasOwnProperty(X)&&(c=r[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:nt(e,a,X,c,r,null)}return;default:if(Hr(a)){for(re in r)r.hasOwnProperty(re)&&(c=r[re],c!==void 0&&kc(e,a,re,c,r,void 0));return}}for(C in r)r.hasOwnProperty(C)&&(c=r[C],c!=null&&nt(e,a,C,c,r,null))}function Av(e,a,r,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,h=null,N=null,C=null,z=null,X=null,re=null;for(ne in r){var de=r[ne];if(r.hasOwnProperty(ne)&&de!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":z=de;default:c.hasOwnProperty(ne)||nt(e,a,ne,null,c,de)}}for(var W in c){var ne=c[W];if(de=r[W],c.hasOwnProperty(W)&&(ne!=null||de!=null))switch(W){case"type":h=ne;break;case"name":m=ne;break;case"checked":X=ne;break;case"defaultChecked":re=ne;break;case"value":N=ne;break;case"defaultValue":C=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,a));break;default:ne!==de&&nt(e,a,W,ne,c,de)}}Lr(e,N,C,z,X,re,h,m);return;case"select":ne=N=C=W=null;for(h in r)if(z=r[h],r.hasOwnProperty(h)&&z!=null)switch(h){case"value":break;case"multiple":ne=z;default:c.hasOwnProperty(h)||nt(e,a,h,null,c,z)}for(m in c)if(h=c[m],z=r[m],c.hasOwnProperty(m)&&(h!=null||z!=null))switch(m){case"value":W=h;break;case"defaultValue":C=h;break;case"multiple":N=h;default:h!==z&&nt(e,a,m,h,c,z)}a=C,r=N,c=ne,W!=null?Ja(e,!!r,W,!1):!!c!=!!r&&(a!=null?Ja(e,!!r,a,!0):Ja(e,!!r,r?[]:"",!1));return;case"textarea":ne=W=null;for(C in r)if(m=r[C],r.hasOwnProperty(C)&&m!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:nt(e,a,C,null,c,m)}for(N in c)if(m=c[N],h=r[N],c.hasOwnProperty(N)&&(m!=null||h!=null))switch(N){case"value":W=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==h&&nt(e,a,N,m,c,h)}Vu(e,W,ne);return;case"option":for(var Te in r)if(W=r[Te],r.hasOwnProperty(Te)&&W!=null&&!c.hasOwnProperty(Te))switch(Te){case"selected":e.selected=!1;break;default:nt(e,a,Te,null,c,W)}for(z in c)if(W=c[z],ne=r[z],c.hasOwnProperty(z)&&W!==ne&&(W!=null||ne!=null))switch(z){case"selected":e.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:nt(e,a,z,W,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in r)W=r[Ee],r.hasOwnProperty(Ee)&&W!=null&&!c.hasOwnProperty(Ee)&&nt(e,a,Ee,null,c,W);for(X in c)if(W=c[X],ne=r[X],c.hasOwnProperty(X)&&W!==ne&&(W!=null||ne!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:nt(e,a,X,W,c,ne)}return;default:if(Hr(a)){for(var at in r)W=r[at],r.hasOwnProperty(at)&&W!==void 0&&!c.hasOwnProperty(at)&&kc(e,a,at,void 0,c,W);for(re in c)W=c[re],ne=r[re],!c.hasOwnProperty(re)||W===ne||W===void 0&&ne===void 0||kc(e,a,re,W,c,ne);return}}for(var Z in r)W=r[Z],r.hasOwnProperty(Z)&&W!=null&&!c.hasOwnProperty(Z)&&nt(e,a,Z,null,c,W);for(de in c)W=c[de],ne=r[de],!c.hasOwnProperty(de)||W===ne||W==null&&ne==null||nt(e,a,de,W,c,ne)}function Pm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,r=performance.getEntriesByType("resource"),c=0;c<r.length;c++){var m=r[c],h=m.transferSize,N=m.initiatorType,C=m.duration;if(h&&C&&Pm(N)){for(N=0,C=m.responseEnd,c+=1;c<r.length;c++){var z=r[c],X=z.startTime;if(X>C)break;var re=z.transferSize,de=z.initiatorType;re&&Pm(de)&&(z=z.responseEnd,N+=re*(z<C?1:(C-X)/(z-X)))}if(--c,a+=8*(h+N)/(m.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var jc=null,Ec=null;function Ql(e){return e.nodeType===9?e:e.ownerDocument}function $m(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fm(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function Ac(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Dc=null;function Mv(){var e=window.event;return e&&e.type==="popstate"?e===Dc?!1:(Dc=e,!0):(Dc=null,!1)}var Ym=typeof setTimeout=="function"?setTimeout:void 0,Rv=typeof clearTimeout=="function"?clearTimeout:void 0,Zm=typeof Promise=="function"?Promise:void 0,Iv=typeof queueMicrotask=="function"?queueMicrotask:typeof Zm<"u"?function(e){return Zm.resolve(null).then(e).catch(Uv)}:Ym;function Uv(e){setTimeout(function(){throw e})}function ca(e){return e==="head"}function Km(e,a){var r=a,c=0;do{var m=r.nextSibling;if(e.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"||r==="/&"){if(c===0){e.removeChild(m),js(a);return}c--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")c++;else if(r==="html")Di(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Di(r);for(var h=r.firstChild;h;){var N=h.nextSibling,C=h.nodeName;h[Ks]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&h.rel.toLowerCase()==="stylesheet"||r.removeChild(h),h=N}}else r==="body"&&Di(e.ownerDocument.body);r=m}while(r);js(a)}function Jm(e,a){var r=e;e=0;do{var c=r.nextSibling;if(r.nodeType===1?a?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(a?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=c}while(r)}function Mc(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var r=a;switch(a=a.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Mc(r),zr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function zv(e,a,r,c){for(;e.nodeType===1;){var m=r;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Ks])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var h=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=on(e.nextSibling),e===null)break}return null}function Ov(e,a,r){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=on(e.nextSibling),e===null))return null;return e}function Xm(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=on(e.nextSibling),e===null))return null;return e}function Rc(e){return e.data==="$?"||e.data==="$~"}function Ic(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Lv(e,a){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||r.readyState!=="loading")a();else{var c=function(){a(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function on(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var Uc=null;function Qm(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(a===0)return on(e.nextSibling);a--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||a++}e=e.nextSibling}return null}function Wm(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(a===0)return e;a--}else r!=="/$"&&r!=="/&"||a++}e=e.previousSibling}return null}function ep(e,a,r){switch(a=Ql(r),e){case"html":if(e=a.documentElement,!e)throw Error(i(452));return e;case"head":if(e=a.head,!e)throw Error(i(453));return e;case"body":if(e=a.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Di(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);zr(e)}var cn=new Map,tp=new Set;function Wl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hn=H.d;H.d={f:Vv,r:Hv,D:Bv,C:Gv,L:qv,m:Pv,X:Fv,S:$v,M:Yv};function Vv(){var e=Hn.f(),a=Pl();return e||a}function Hv(e){var a=Ya(e);a!==null&&a.tag===5&&a.type==="form"?vf(a):Hn.r(e)}var Ss=typeof document>"u"?null:document;function np(e,a,r){var c=Ss;if(c&&typeof a=="string"&&a){var m=en(a);m='link[rel="'+e+'"][href="'+m+'"]',typeof r=="string"&&(m+='[crossorigin="'+r+'"]'),tp.has(m)||(tp.add(m),e={rel:e,crossOrigin:r,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),At(a,"link",e),Ct(a),c.head.appendChild(a)))}}function Bv(e){Hn.D(e),np("dns-prefetch",e,null)}function Gv(e,a){Hn.C(e,a),np("preconnect",e,a)}function qv(e,a,r){Hn.L(e,a,r);var c=Ss;if(c&&e&&a){var m='link[rel="preload"][as="'+en(a)+'"]';a==="image"&&r&&r.imageSrcSet?(m+='[imagesrcset="'+en(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(m+='[imagesizes="'+en(r.imageSizes)+'"]')):m+='[href="'+en(e)+'"]';var h=m;switch(a){case"style":h=_s(e);break;case"script":h=ks(e)}cn.has(h)||(e=b({rel:"preload",href:a==="image"&&r&&r.imageSrcSet?void 0:e,as:a},r),cn.set(h,e),c.querySelector(m)!==null||a==="style"&&c.querySelector(Mi(h))||a==="script"&&c.querySelector(Ri(h))||(a=c.createElement("link"),At(a,"link",e),Ct(a),c.head.appendChild(a)))}}function Pv(e,a){Hn.m(e,a);var r=Ss;if(r&&e){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+en(c)+'"][href="'+en(e)+'"]',h=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ks(e)}if(!cn.has(h)&&(e=b({rel:"modulepreload",href:e},a),cn.set(h,e),r.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ri(h)))return}c=r.createElement("link"),At(c,"link",e),Ct(c),r.head.appendChild(c)}}}function $v(e,a,r){Hn.S(e,a,r);var c=Ss;if(c&&e){var m=Za(c).hoistableStyles,h=_s(e);a=a||"default";var N=m.get(h);if(!N){var C={loading:0,preload:null};if(N=c.querySelector(Mi(h)))C.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":a},r),(r=cn.get(h))&&zc(e,r);var z=N=c.createElement("link");Ct(z),At(z,"link",e),z._p=new Promise(function(X,re){z.onload=X,z.onerror=re}),z.addEventListener("load",function(){C.loading|=1}),z.addEventListener("error",function(){C.loading|=2}),C.loading|=4,er(N,a,c)}N={type:"stylesheet",instance:N,count:1,state:C},m.set(h,N)}}}function Fv(e,a){Hn.X(e,a);var r=Ss;if(r&&e){var c=Za(r).hoistableScripts,m=ks(e),h=c.get(m);h||(h=r.querySelector(Ri(m)),h||(e=b({src:e,async:!0},a),(a=cn.get(m))&&Oc(e,a),h=r.createElement("script"),Ct(h),At(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(m,h))}}function Yv(e,a){Hn.M(e,a);var r=Ss;if(r&&e){var c=Za(r).hoistableScripts,m=ks(e),h=c.get(m);h||(h=r.querySelector(Ri(m)),h||(e=b({src:e,async:!0,type:"module"},a),(a=cn.get(m))&&Oc(e,a),h=r.createElement("script"),Ct(h),At(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(m,h))}}function ap(e,a,r,c){var m=(m=le.current)?Wl(m):null;if(!m)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(a=_s(r.href),r=Za(m).hoistableStyles,c=r.get(a),c||(c={type:"style",instance:null,count:0,state:null},r.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=_s(r.href);var h=Za(m).hoistableStyles,N=h.get(e);if(N||(m=m.ownerDocument||m,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,N),(h=m.querySelector(Mi(e)))&&!h._p&&(N.instance=h,N.state.loading=5),cn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},cn.set(e,r),h||Zv(m,e,r,N.state))),a&&c===null)throw Error(i(528,""));return N}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=r.async,r=r.src,typeof r=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ks(r),r=Za(m).hoistableScripts,c=r.get(a),c||(c={type:"script",instance:null,count:0,state:null},r.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function _s(e){return'href="'+en(e)+'"'}function Mi(e){return'link[rel="stylesheet"]['+e+"]"}function sp(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Zv(e,a,r,c){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=e.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),At(a,"link",r),Ct(a),e.head.appendChild(a))}function ks(e){return'[src="'+en(e)+'"]'}function Ri(e){return"script[async]"+e}function ip(e,a,r){if(a.count++,a.instance===null)switch(a.type){case"style":var c=e.querySelector('style[data-href~="'+en(r.href)+'"]');if(c)return a.instance=c,Ct(c),c;var m=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Ct(c),At(c,"style",m),er(c,r.precedence,e),a.instance=c;case"stylesheet":m=_s(r.href);var h=e.querySelector(Mi(m));if(h)return a.state.loading|=4,a.instance=h,Ct(h),h;c=sp(r),(m=cn.get(m))&&zc(c,m),h=(e.ownerDocument||e).createElement("link"),Ct(h);var N=h;return N._p=new Promise(function(C,z){N.onload=C,N.onerror=z}),At(h,"link",c),a.state.loading|=4,er(h,r.precedence,e),a.instance=h;case"script":return h=ks(r.src),(m=e.querySelector(Ri(h)))?(a.instance=m,Ct(m),m):(c=r,(m=cn.get(h))&&(c=b({},r),Oc(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),Ct(m),At(m,"link",c),e.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,er(c,r.precedence,e));return a.instance}function er(e,a,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,h=m,N=0;N<c.length;N++){var C=c[N];if(C.dataset.precedence===a)h=C;else if(h!==m)break}h?h.parentNode.insertBefore(e,h.nextSibling):(a=r.nodeType===9?r.head:r,a.insertBefore(e,a.firstChild))}function zc(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function Oc(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var tr=null;function lp(e,a,r){if(tr===null){var c=new Map,m=tr=new Map;m.set(r,c)}else m=tr,c=m.get(r),c||(c=new Map,m.set(r,c));if(c.has(e))return c;for(c.set(e,null),r=r.getElementsByTagName(e),m=0;m<r.length;m++){var h=r[m];if(!(h[Ks]||h[_t]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var N=h.getAttribute(a)||"";N=e+N;var C=c.get(N);C?C.push(h):c.set(N,[h])}}return c}function rp(e,a,r){e=e.ownerDocument||e,e.head.insertBefore(r,a==="title"?e.querySelector("head > title"):null)}function Kv(e,a,r){if(r===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function op(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Jv(e,a,r,c){if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=_s(c.href),h=a.querySelector(Mi(m));if(h){a=h._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=nr.bind(e),a.then(e,e)),r.state.loading|=4,r.instance=h,Ct(h);return}h=a.ownerDocument||a,c=sp(c),(m=cn.get(m))&&zc(c,m),h=h.createElement("link"),Ct(h);var N=h;N._p=new Promise(function(C,z){N.onload=C,N.onerror=z}),At(h,"link",c),r.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,a),(a=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=nr.bind(e),a.addEventListener("load",r),a.addEventListener("error",r))}}var Lc=0;function Xv(e,a){return e.stylesheets&&e.count===0&&sr(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var c=setTimeout(function(){if(e.stylesheets&&sr(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+a);0<e.imgBytes&&Lc===0&&(Lc=62500*Dv());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&sr(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Lc?50:800)+a);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function nr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ar=null;function sr(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ar=new Map,a.forEach(Qv,e),ar=null,nr.call(e))}function Qv(e,a){if(!(a.state.loading&4)){var r=ar.get(e);if(r)var c=r.get(null);else{r=new Map,ar.set(e,r);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<m.length;h++){var N=m[h];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(r.set(N.dataset.precedence,N),c=N)}c&&r.set(null,c)}m=a.instance,N=m.getAttribute("data-precedence"),h=r.get(N)||c,h===c&&r.set(null,m),r.set(N,m),this.count++,c=nr.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),h?h.parentNode.insertBefore(m,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),a.state.loading|=4}}var Ii={$$typeof:R,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Wv(e,a,r,c,m,h,N,C,z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mr(0),this.hiddenUpdates=Mr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=h,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function cp(e,a,r,c,m,h,N,C,z,X,re,de){return e=new Wv(e,a,r,N,z,X,re,de,C),a=1,h===!0&&(a|=24),h=Ft(3,null,null,a),e.current=h,h.stateNode=e,a=go(),a.refCount++,e.pooledCache=a,a.refCount++,h.memoizedState={element:c,isDehydrated:r,cache:a},No(h),e}function up(e){return e?(e=ss,e):ss}function dp(e,a,r,c,m,h){m=up(m),c.context===null?c.context=m:c.pendingContext=m,c=Qn(a),c.payload={element:r},h=h===void 0?null:h,h!==null&&(c.callback=h),r=Wn(e,c,a),r!==null&&(Gt(r,e,a),fi(r,e,a))}function fp(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<a?r:a}}function Vc(e,a){fp(e,a),(e=e.alternate)&&fp(e,a)}function mp(e){if(e.tag===13||e.tag===31){var a=_a(e,67108864);a!==null&&Gt(a,e,67108864),Vc(e,67108864)}}function pp(e){if(e.tag===13||e.tag===31){var a=Xt();a=Rr(a);var r=_a(e,a);r!==null&&Gt(r,e,a),Vc(e,a)}}var ir=!0;function e0(e,a,r,c){var m=F.T;F.T=null;var h=H.p;try{H.p=2,Hc(e,a,r,c)}finally{H.p=h,F.T=m}}function t0(e,a,r,c){var m=F.T;F.T=null;var h=H.p;try{H.p=8,Hc(e,a,r,c)}finally{H.p=h,F.T=m}}function Hc(e,a,r,c){if(ir){var m=Bc(c);if(m===null)_c(e,a,c,lr,r),xp(e,c);else if(a0(m,e,a,r,c))c.stopPropagation();else if(xp(e,c),a&4&&-1<n0.indexOf(e)){for(;m!==null;){var h=Ya(m);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var N=Na(h.pendingLanes);if(N!==0){var C=h;for(C.pendingLanes|=2,C.entangledLanes|=2;N;){var z=1<<31-Pt(N);C.entanglements[1]|=z,N&=~z}yn(h),(Qe&6)===0&&(Gl=Xe()+500,ji(0))}}break;case 31:case 13:C=_a(h,2),C!==null&&Gt(C,h,2),Pl(),Vc(h,2)}if(h=Bc(c),h===null&&_c(e,a,c,lr,r),h===m)break;m=h}m!==null&&c.stopPropagation()}else _c(e,a,c,null,r)}}function Bc(e){return e=Gr(e),Gc(e)}var lr=null;function Gc(e){if(lr=null,e=Fa(e),e!==null){var a=u(e);if(a===null)e=null;else{var r=a.tag;if(r===13){if(e=p(a),e!==null)return e;e=null}else if(r===31){if(e=g(a),e!==null)return e;e=null}else if(r===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return lr=e,null}function hp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qa()){case ba:return 2;case hn:return 8;case Pa:case Dr:return 32;case Cu:return 268435456;default:return 32}default:return 32}}var qc=!1,ua=null,da=null,fa=null,Ui=new Map,zi=new Map,ma=[],n0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xp(e,a){switch(e){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Ui.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":zi.delete(a.pointerId)}}function Oi(e,a,r,c,m,h){return e===null||e.nativeEvent!==h?(e={blockedOn:a,domEventName:r,eventSystemFlags:c,nativeEvent:h,targetContainers:[m]},a!==null&&(a=Ya(a),a!==null&&mp(a)),e):(e.eventSystemFlags|=c,a=e.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),e)}function a0(e,a,r,c,m){switch(a){case"focusin":return ua=Oi(ua,e,a,r,c,m),!0;case"dragenter":return da=Oi(da,e,a,r,c,m),!0;case"mouseover":return fa=Oi(fa,e,a,r,c,m),!0;case"pointerover":var h=m.pointerId;return Ui.set(h,Oi(Ui.get(h)||null,e,a,r,c,m)),!0;case"gotpointercapture":return h=m.pointerId,zi.set(h,Oi(zi.get(h)||null,e,a,r,c,m)),!0}return!1}function gp(e){var a=Fa(e.target);if(a!==null){var r=u(a);if(r!==null){if(a=r.tag,a===13){if(a=p(r),a!==null){e.blockedOn=a,Au(e.priority,function(){pp(r)});return}}else if(a===31){if(a=g(r),a!==null){e.blockedOn=a,Au(e.priority,function(){pp(r)});return}}else if(a===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rr(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var r=Bc(e.nativeEvent);if(r===null){r=e.nativeEvent;var c=new r.constructor(r.type,r);Br=c,r.target.dispatchEvent(c),Br=null}else return a=Ya(r),a!==null&&mp(a),e.blockedOn=r,!1;a.shift()}return!0}function vp(e,a,r){rr(e)&&r.delete(a)}function s0(){qc=!1,ua!==null&&rr(ua)&&(ua=null),da!==null&&rr(da)&&(da=null),fa!==null&&rr(fa)&&(fa=null),Ui.forEach(vp),zi.forEach(vp)}function or(e,a){e.blockedOn===a&&(e.blockedOn=null,qc||(qc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,s0)))}var cr=null;function yp(e){cr!==e&&(cr=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){cr===e&&(cr=null);for(var a=0;a<e.length;a+=3){var r=e[a],c=e[a+1],m=e[a+2];if(typeof c!="function"){if(Gc(c||r)===null)continue;break}var h=Ya(r);h!==null&&(e.splice(a,3),a-=3,Bo(h,{pending:!0,data:m,method:r.method,action:c},c,m))}}))}function js(e){function a(z){return or(z,e)}ua!==null&&or(ua,e),da!==null&&or(da,e),fa!==null&&or(fa,e),Ui.forEach(a),zi.forEach(a);for(var r=0;r<ma.length;r++){var c=ma[r];c.blockedOn===e&&(c.blockedOn=null)}for(;0<ma.length&&(r=ma[0],r.blockedOn===null);)gp(r),r.blockedOn===null&&ma.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var m=r[c],h=r[c+1],N=m[zt]||null;if(typeof h=="function")N||yp(r);else if(N){var C=null;if(h&&h.hasAttribute("formAction")){if(m=h,N=h[zt]||null)C=N.formAction;else if(Gc(m)!==null)continue}else C=N.action;typeof C=="function"?r[c+1]=C:(r.splice(c,3),c-=3),yp(r)}}}function bp(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(N){return m=N})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),c||setTimeout(r,20)}function r(){if(!c&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(r,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function Pc(e){this._internalRoot=e}ur.prototype.render=Pc.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(i(409));var r=a.current,c=Xt();dp(r,c,e,a,null,null)},ur.prototype.unmount=Pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;dp(e.current,2,null,e,null,null),Pl(),a[$a]=null}};function ur(e){this._internalRoot=e}ur.prototype.unstable_scheduleHydration=function(e){if(e){var a=Eu();e={blockedOn:null,target:e,priority:a};for(var r=0;r<ma.length&&a!==0&&a<ma[r].priority;r++);ma.splice(r,0,e),r===0&&gp(e)}};var Np=t.version;if(Np!=="19.2.3")throw Error(i(527,Np,"19.2.3"));H.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=x(a),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var i0={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dr.isDisabled&&dr.supportsFiber)try{Fs=dr.inject(i0),qt=dr}catch{}}return Vi.createRoot=function(e,a){if(!o(e))throw Error(i(299));var r=!1,c="",m=jf,h=Ef,N=Af;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError)),a=cp(e,1,!1,null,null,r,c,null,m,h,N,bp),e[$a]=a.current,Sc(e),new Pc(a)},Vi.hydrateRoot=function(e,a,r){if(!o(e))throw Error(i(299));var c=!1,m="",h=jf,N=Ef,C=Af,z=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(N=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.formState!==void 0&&(z=r.formState)),a=cp(e,1,!0,a,r??null,c,m,z,h,N,C,bp),a.context=up(null),r=a.current,c=Xt(),c=Rr(c),m=Qn(c),m.callback=null,Wn(r,m,c),r=c,a.current.lanes=r,Zs(a,r),yn(a),e[$a]=a.current,Sc(e),new ur(a)},Vi.version="19.2.3",Vi}var Dp;function x0(){if(Dp)return Yc.exports;Dp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Yc.exports=h0(),Yc.exports}var g0=x0(),me=(s=>(s.INBOX="INBOX",s.NEXT_ACTION="NEXT_ACTION",s.DOING="DOING",s.DONE="DONE",s.WAITING="WAITING",s.REFERENCE="REFERENCE",s))(me||{}),$e=(s=>(s.UI="UI",s.UNI="UNI",s.NUI="NUI",s.NUNI="NUNI",s))($e||{});const cx="12tr_gamified_engine_state",v0=s=>{try{localStorage.setItem(cx,JSON.stringify(s))}catch(t){console.error("Failed to save state to localStorage",t)}},y0=()=>{try{const s=localStorage.getItem(cx);return s?JSON.parse(s):null}catch(s){return console.error("Failed to load state from localStorage",s),null}},b0=()=>{const s=new Date().setHours(0,0,0,0),t=new Date().toISOString().split("T")[0],n=["","","","'",""].map(w=>({id:`tag-${Math.random().toString(36).substr(2,5)}`,name:w,color:w===""?"#ef4444":"#f97316"})),i=["","","","",""].map(w=>({id:`hobby-${Math.random().toString(36).substr(2,5)}`,name:w,color:"#6366f1"})),o="folder_insights",u=[{id:o,name:"",color:"#f97316",status:"active",progress:0,isStrategic:!1,description:"FOLDER_NOTE"},{id:"goal_1",name:" React Advanced",color:"#6366f1",status:"active",progress:30,isStrategic:!0,type:"goal",sphere:"education"},{id:"goal_2",name:" 42",color:"#ef4444",status:"active",progress:10,isStrategic:!0,type:"goal",sphere:"health"},{id:"sub_1",name:"Hooks Mastery",color:"#6366f1",parentFolderId:"goal_1",status:"active",progress:50,isStrategic:!1,type:"subproject"},{id:"sub_2",name:" ",color:"#ef4444",parentFolderId:"goal_2",status:"active",progress:0,isStrategic:!1,type:"subproject"}],p=[{id:"p1",name:" ",status:"friend",rating:85,birthDate:"1995-05-12",birthDateShowInCalendar:!0,birthDateRepeatYearly:!0,tags:[""],hobbies:[""],socials:{telegram:"elena_pro"},notes:[{id:"n1",text:"   ",date:t}],memories:[],interactions:[],importantDates:[{id:"id1",label:" ",date:"2020-09-15",showInCalendar:!0,repeatYearly:!0}],loop:"month",createdAt:Date.now()},{id:"p2",name:" ",status:"colleague",rating:40,tags:[""],hobbies:[""],socials:{linkedin:"max-dev"},notes:[],memories:[],interactions:[],importantDates:[],loop:"week",createdAt:Date.now()},{id:"p3",name:" ",status:"mentor",rating:95,tags:[""],hobbies:[""],socials:{},notes:[],memories:[],interactions:[],importantDates:[],loop:"quarter",createdAt:Date.now()},{id:"p4",name:" '",status:"family",rating:100,birthDate:"1970-01-01",importantDates:[{id:"id2",label:"",date:"2024-06-20",showInCalendar:!0,repeatYearly:!0}],loop:"month",tags:[],hobbies:[],socials:{},notes:[],memories:[],interactions:[],createdAt:Date.now()},{id:"p5",name:" ",status:"acquaintance",rating:20,tags:[""],hobbies:[],socials:{},notes:[],memories:[],interactions:[],importantDates:[],loop:"none",createdAt:Date.now()}],g=[];[0,1,2,3,4,5,6].forEach(w=>{g.push({id:`tb-${w}-1`,title:" ",startHour:7,endHour:9,type:"routine",dayOfWeek:w,color:"#10b981"},{id:`tb-${w}-2`,title:" ",startHour:10,endHour:13,type:"work",dayOfWeek:w,color:"#f97316"},{id:`tb-${w}-3`,title:"  ",startHour:13,endHour:14,type:"rest",dayOfWeek:w,color:"#06b6d4"},{id:`tb-${w}-4`,title:"/",startHour:15,endHour:18,type:"study",dayOfWeek:w,color:"#6366f1"},{id:`tb-${w}-5`,title:" ",startHour:21,endHour:22,type:"routine",dayOfWeek:w,color:"#ec4899"})});const x=["   .","   ,     .","   ,    .","     .","     ''  ."].map((w,S)=>({id:`note-ins-${S}`,title:w,status:me.INBOX,priority:$e.NUI,difficulty:1,xp:10,tags:["insight"],createdAt:Date.now(),category:"note",projectId:o})),y=[{id:"subt-1",title:" useMemo  useCallback",status:me.NEXT_ACTION,priority:$e.UI,difficulty:2,xp:100,tags:[""],createdAt:Date.now(),projectId:"sub_1"},{id:"subt-2",title:" custom hook  API",status:me.INBOX,priority:$e.UNI,difficulty:3,xp:150,tags:[""],createdAt:Date.now(),projectId:"sub_1"},{id:"subt-3",title:"   ",status:me.NEXT_ACTION,priority:$e.NUI,difficulty:1,xp:40,tags:[""],createdAt:Date.now(),projectId:"sub_2"},{id:"subt-4",title:"  ",status:me.INBOX,priority:$e.NUNI,difficulty:1,xp:30,tags:[""],createdAt:Date.now(),projectId:"sub_2"},{id:"in-1",title:"  ",status:me.INBOX,priority:$e.NUNI,difficulty:1,xp:20,tags:[],createdAt:Date.now(),category:"unsorted"},{id:"in-2",title:"   GPT-5",status:me.INBOX,priority:$e.NUI,difficulty:2,xp:50,tags:[""],createdAt:Date.now(),category:"unsorted"},{id:"in-3",title:": -  ",status:me.INBOX,priority:$e.NUI,difficulty:1,xp:100,tags:[],createdAt:Date.now(),category:"unsorted"},{id:"in-4",title:"  ",status:me.INBOX,priority:$e.UI,difficulty:1,xp:30,tags:[],createdAt:Date.now(),category:"unsorted"},{id:"in-5",title:" ",status:me.INBOX,priority:$e.NUNI,difficulty:2,xp:20,tags:[],createdAt:Date.now(),category:"unsorted"},{id:"nx-1",title:"   ",status:me.NEXT_ACTION,priority:$e.UI,difficulty:2,xp:60,tags:[""],createdAt:Date.now(),category:"tasks"},{id:"nx-2",title:"  ",status:me.NEXT_ACTION,priority:$e.UI,difficulty:1,xp:40,tags:[""],createdAt:Date.now(),category:"tasks",personId:"p3"},{id:"nx-3",title:"   ",status:me.NEXT_ACTION,priority:$e.UNI,difficulty:1,xp:30,tags:[],createdAt:Date.now(),category:"tasks"},{id:"nx-4",title:" LinkedIn",status:me.NEXT_ACTION,priority:$e.NUI,difficulty:2,xp:120,tags:[""],createdAt:Date.now(),category:"tasks"},{id:"nx-5",title:"   ",status:me.NEXT_ACTION,priority:$e.UI,difficulty:3,xp:150,tags:[""],createdAt:Date.now(),category:"tasks"},{id:"cal-1",title:"  ",status:me.INBOX,isEvent:!0,scheduledDate:s+36e5*10,priority:$e.UI,difficulty:2,xp:80,tags:[""],createdAt:Date.now()},{id:"cal-2",title:"  ",status:me.INBOX,isEvent:!0,scheduledDate:s+36e5*19,priority:$e.NUNI,difficulty:1,xp:50,tags:["'"],createdAt:Date.now(),personId:"p1"},{id:"cal-3",title:"",status:me.INBOX,isEvent:!0,scheduledDate:s+864e5*2,priority:$e.UI,difficulty:2,xp:100,tags:[],createdAt:Date.now()},{id:"cal-4",title:" ",status:me.INBOX,isEvent:!0,scheduledDate:s+864e5*5,priority:$e.UI,difficulty:3,xp:300,tags:[""],createdAt:Date.now()},{id:"cal-5",title:" ",status:me.INBOX,isEvent:!0,scheduledDate:s+864e5*7,priority:$e.UI,difficulty:1,xp:50,tags:[],createdAt:Date.now()},{id:"hab-1",title:" 10",status:me.INBOX,priority:$e.NUI,difficulty:1,xp:30,tags:["habit"],createdAt:Date.now(),projectSection:"habits",habitHistory:{[t]:{status:"completed"}}},{id:"hab-2",title:" 20 ",status:me.INBOX,priority:$e.NUI,difficulty:1,xp:40,tags:["habit"],createdAt:Date.now(),projectSection:"habits"},{id:"hab-3",title:" 2",status:me.INBOX,priority:$e.NUI,difficulty:1,xp:25,tags:["habit"],createdAt:Date.now(),projectSection:"habits"},{id:"hab-4",title:" 2",status:me.INBOX,priority:$e.NUI,difficulty:1,xp:20,tags:["habit"],createdAt:Date.now(),projectSection:"habits"},{id:"hab-5",title:"English 15m",status:me.INBOX,priority:$e.NUI,difficulty:1,xp:50,tags:["habit"],createdAt:Date.now(),projectSection:"habits"}],b=[{id:"d-1",date:t,content:JSON.stringify([{id:"b1",type:"heading",content:"  "},{id:"b2",type:"text",content:"   12TR.   ."}]),createdAt:Date.now(),updatedAt:Date.now()},{id:"d-2",date:new Date(s-864e5).toISOString().split("T")[0],content:JSON.stringify([{id:"b3",type:"text",content:"  ,   ."}]),createdAt:Date.now()-864e5,updatedAt:Date.now()-864e5},{id:"d-3",date:new Date(s-1728e5).toISOString().split("T")[0],content:JSON.stringify([{id:"b4",type:"quote",content:"   ,    ."}]),createdAt:Date.now()-1728e5,updatedAt:Date.now()-1728e5},{id:"d-4",date:new Date(s-2592e5).toISOString().split("T")[0],content:JSON.stringify([{id:"b5",type:"text",content:"    ."}]),createdAt:Date.now()-2592e5,updatedAt:Date.now()-2592e5},{id:"d-5",date:new Date(s-3456e5).toISOString().split("T")[0],content:JSON.stringify([{id:"b6",type:"heading",content:" "},{id:"b7",type:"task",content:"   ",checked:!0}]),createdAt:Date.now()-3456e5,updatedAt:Date.now()-3456e5}];return{tags:n,hobbies:i,projects:u,people:p,tasks:[...y,...x],diary:b,timeBlocks:g}},ux=j.createContext(void 0),N0=({children:s})=>{const t=y0(),[n,i]=j.useState((t==null?void 0:t.activeTab)||"dashboard"),[o,u]=j.useState((t==null?void 0:t.theme)||"classic"),[p,g]=j.useState((t==null?void 0:t.detailsWidth)||450),[v,x]=j.useState((t==null?void 0:t.isSidebarCollapsed)||!1),[y,b]=j.useState((t==null?void 0:t.sidebarSettings)||{}),[w,S]=j.useState((t==null?void 0:t.aiEnabled)??!1),[_,T]=j.useState(Date.now()),[A,M]=j.useState("month"),[U,R]=j.useState((t==null?void 0:t.cycle)||{id:"c1",startDate:Date.now(),endDate:Date.now()+1e3*60*60*24*84,currentWeek:1,globalExecutionScore:0}),[Y,q]=j.useState((t==null?void 0:t.tasks)||[]),[te,D]=j.useState((t==null?void 0:t.projects)||[]),[I,E]=j.useState((t==null?void 0:t.diary)||[]),[O,L]=j.useState((t==null?void 0:t.people)||[]),[V,K]=j.useState((t==null?void 0:t.tags)||[]),[G,fe]=j.useState((t==null?void 0:t.hobbies)||[]),[F,H]=j.useState((t==null?void 0:t.shoppingStores)||[]),[pe,$]=j.useState((t==null?void 0:t.shoppingItems)||[]),[ue,k]=j.useState((t==null?void 0:t.inboxCategories)||[{id:"pinned",title:"",icon:"fa-thumbtack",isPinned:!0,scope:"inbox"},{id:"unsorted",title:"",icon:"fa-inbox",isPinned:!1,scope:"inbox"},{id:"tasks",title:"",icon:"fa-bolt",isPinned:!1,scope:"actions"},{id:"notes",title:"",icon:"fa-note-sticky",isPinned:!1,scope:"inbox"}]),[P,se]=j.useState((t==null?void 0:t.timeBlocks)||[]),[Q,ye]=j.useState((t==null?void 0:t.blockHistory)||{}),[le,ve]=j.useState((t==null?void 0:t.routinePresets)||[]),[_e,xe]=j.useState((t==null?void 0:t.reportTemplate)||[]),[be,it]=j.useState((t==null?void 0:t.relationshipTypes)||["friend","colleague","family","mentor","acquaintance"]),[ut,Ut]=j.useState((t==null?void 0:t.character)||{name:"",race:"Human",archetype:"Strategist",role:"",level:1,xp:0,gold:0,bio:"   .",vision:"   .",avatarUrl:"https://api.dicebear.com/7.x/avataaars/svg?seed=Hero",energy:100,maxEnergy:100,focus:100,goals:[],views:[],beliefs:[],preferences:{focusBlockers:[]},skills:[],achievements:[],stats:{health:50,career:50,finance:50,education:50,relationships:50,rest:50}});j.useEffect(()=>{if(Y.length===0&&te.length===0&&O.length===0){const ae=b0();q(ae.tasks),D(ae.projects),L(ae.people),K(ae.tags),fe(ae.hobbies),E(ae.diary)}},[]),j.useEffect(()=>{document.documentElement.setAttribute("data-theme",o),v0({tasks:Y,projects:te,people:O,relationshipTypes:be,character:ut,tags:V,hobbies:G,cycle:U,diary:I,inboxCategories:ue,detailsWidth:p,sidebarSettings:y,isSidebarCollapsed:v,aiEnabled:w,timeBlocks:P,blockHistory:Q,routinePresets:le,activeTab:n,theme:o,reportTemplate:_e,shoppingStores:F,shoppingItems:pe})},[Y,te,O,be,ut,V,G,U,I,ue,p,y,v,w,P,Q,le,n,o,_e,F,pe]);const Ye=j.useCallback((ie,ae)=>{b(oe=>({...oe,[ie]:ae}))},[]),Qt=j.useCallback(ie=>{Ut(ae=>({...ae,...ie}))},[]),qn=j.useCallback(ie=>{xe(ie)},[]),Zi=j.useCallback((ie,ae,oe)=>{let he=oe;return E(gt=>oe?gt.map(Xe=>Xe.id===oe?{...Xe,date:ie,content:ae,updatedAt:Date.now()}:Xe):(he=Math.random().toString(36).substr(2,9),[{id:he,date:ie,content:ae,createdAt:Date.now(),updatedAt:Date.now()},...gt])),he||""},[]),Ki=j.useMemo(()=>({tasks:Y,projects:te,people:O,relationshipTypes:be,cycle:U,character:ut,tags:V,hobbies:G,diary:I,inboxCategories:ue,timeBlocks:P,blockHistory:Q,routinePresets:le,activeTab:n,setActiveTab:i,theme:o,setTheme:u,detailsWidth:p,setDetailsWidth:g,sidebarSettings:y,isSidebarCollapsed:v,setSidebarCollapsed:x,updateSidebarSetting:Ye,aiEnabled:w,setAiEnabled:S,updateCharacter:Qt,calendarDate:_,setCalendarDate:T,calendarViewMode:A,setCalendarViewMode:M,reportTemplate:_e,updateReportTemplate:qn,shoppingStores:F,shoppingItems:pe,addTask:(ie,ae="unsorted",oe,he="actions",gt=!1,Xe,qa,ba=me.INBOX)=>{const hn=Math.random().toString(36).substr(2,9),Pa={id:hn,title:ie,status:ba,priority:$e.NUI,difficulty:1,xp:50,tags:[],createdAt:Date.now(),category:ae,projectId:oe,projectSection:he,isEvent:gt,scheduledDate:Xe,personId:qa};return q(Dr=>[Pa,...Dr]),hn},addProject:ie=>{const ae=Math.random().toString(36).substr(2,9);return D(oe=>[...oe,{...ie,id:ae,progress:0,status:"active"}]),ae},updateTask:ie=>q(ae=>ae.some(he=>he.id===ie.id)?ae.map(he=>he.id===ie.id?ie:he):[ie,...ae]),updateProject:ie=>D(ae=>ae.map(oe=>oe.id===ie.id?ie:oe)),deleteProject:ie=>D(ae=>ae.filter(oe=>oe.id!==ie)),deleteTask:(ie,ae=!1)=>q(oe=>ae?oe.filter(he=>he.id!==ie):oe.map(he=>he.id===ie?{...he,isDeleted:!0}:he)),restoreTask:ie=>q(ae=>ae.map(oe=>oe.id===ie?{...oe,isDeleted:!1}:oe)),moveTaskToCategory:(ie,ae)=>q(oe=>oe.map(he=>he.id===ie?{...he,category:ae}:he)),moveTaskToProjectSection:(ie,ae)=>q(oe=>oe.map(he=>he.id===ie?{...he,projectSection:ae}:he)),setProjectParent:(ie,ae)=>D(oe=>oe.map(he=>he.id===ie?{...he,parentFolderId:ae}:he)),scheduleTask:(ie,ae)=>q(oe=>oe.map(he=>he.id===ie?{...he,scheduledDate:ae}:he)),toggleTaskStatus:ie=>{const ae=ie.status!==me.DONE;q(oe=>oe.map(he=>he.id===ie.id?{...he,status:ae?me.DONE:me.INBOX,completedAt:ae?Date.now():void 0}:he))},toggleHabitStatus:(ie,ae,oe,he)=>q(gt=>gt.map(Xe=>{var qa,ba;if(Xe.id===ie){const hn={...Xe.habitHistory||{}};return hn[ae]={status:oe||(((qa=hn[ae])==null?void 0:qa.status)==="completed"?"none":"completed"),note:he||((ba=hn[ae])==null?void 0:ba.note)},{...Xe,habitHistory:hn}}return Xe})),toggleTaskPin:ie=>q(ae=>ae.map(oe=>oe.id===ie?{...oe,isPinned:!oe.isPinned}:oe)),undoLastAction:()=>{},pendingUndo:!1,addTag:ie=>{const ae={id:Math.random().toString(36).substr(2,9),name:ie,color:"#f97316"};return K(oe=>[...oe,ae]),ae},renameTag:(ie,ae)=>K(oe=>oe.map(he=>he.name===ie?{...he,name:ae}:he)),deleteTag:ie=>K(ae=>ae.filter(oe=>oe.name!==ie)),addHobby:ie=>{const ae={id:Math.random().toString(36).substr(2,9),name:ie,color:"#f97316"};return fe(oe=>[...oe,ae]),ae},renameHobby:(ie,ae)=>fe(oe=>oe.map(he=>he.name===ie?{...he,name:ae}:he)),deleteHobby:ie=>fe(ae=>ae.filter(oe=>oe.name!==ie)),saveDiaryEntry:Zi,deleteDiaryEntry:ie=>E(ae=>ae.filter(oe=>oe.id!==ie)),addInboxCategory:(ie,ae,oe)=>k(he=>[...he,{id:Math.random().toString(36).substr(2,9),title:ie,icon:"fa-folder",isPinned:!1,scope:ae,color:oe}]),updateInboxCategory:(ie,ae)=>k(oe=>oe.map(he=>he.id===ie?{...he,...ae}:he)),deleteInboxCategory:ie=>k(ae=>ae.filter(oe=>oe.id!==ie)),addTimeBlock:ie=>se(ae=>[...ae,{...ie,id:Math.random().toString(36).substr(2,9)}]),updateTimeBlock:ie=>se(ae=>ae.map(oe=>oe.id===ie.id?ie:oe)),deleteTimeBlock:ie=>se(ae=>ae.filter(oe=>oe.id!==ie)),setBlockStatus:(ie,ae,oe)=>ye(he=>({...he,[ie]:{...he[ie]||{},[ae]:oe}})),saveRoutineAsPreset:(ie,ae)=>{const oe=P.filter(he=>he.dayOfWeek===ae);ve(he=>[...he,{id:Math.random().toString(36).substr(2,9),name:ie,blocks:oe}])},applyRoutinePreset:(ie,ae)=>{const oe=le.find(he=>he.id===ie);oe&&se(he=>[...he.filter(gt=>gt.dayOfWeek!==ae),...oe.blocks.map(gt=>({...gt,id:Math.random().toString(36).substr(2,9),dayOfWeek:ae}))])},addChecklistItem:(ie,ae)=>q(oe=>oe.map(he=>he.id===ie?{...he,checklist:[...he.checklist||[],{id:Math.random().toString(36).substr(2,9),title:ae,completed:!1}]}:he)),toggleChecklistItem:(ie,ae)=>q(oe=>oe.map(he=>{var gt;return he.id===ie?{...he,checklist:(gt=he.checklist)==null?void 0:gt.map(Xe=>Xe.id===ae?{...Xe,completed:!Xe.completed}:Xe)}:he})),removeChecklistItem:(ie,ae)=>q(oe=>oe.map(he=>{var gt;return he.id===ie?{...he,checklist:(gt=he.checklist)==null?void 0:gt.filter(Xe=>Xe.id!==ae)}:he})),addPerson:(ie,ae="acquaintance")=>{const oe=`p-${Math.random().toString(36).substr(2,9)}`;return L(he=>[...he,{id:oe,name:ie,status:ae,rating:5,tags:[],hobbies:[],socials:{},notes:[],memories:[],interactions:[],importantDates:[],loop:"month",createdAt:Date.now()}]),oe},updatePerson:ie=>L(ae=>ae.map(oe=>oe.id===ie.id?ie:oe)),deletePerson:ie=>L(ae=>ae.filter(oe=>oe.id!==ie)),addPersonMemory:(ie,ae)=>L(oe=>oe.map(he=>he.id===ie?{...he,memories:[{...ae,id:Math.random().toString(36).substr(2,9)},...he.memories]}:he)),addPersonNote:(ie,ae)=>L(oe=>oe.map(he=>he.id===ie?{...he,notes:[{id:Math.random().toString(36).substr(2,9),text:ae,date:new Date().toISOString()},...he.notes]}:he)),addInteraction:(ie,ae)=>L(oe=>oe.map(he=>he.id===ie?{...he,lastInteractionAt:ae.date,interactions:[{...ae,id:Math.random().toString(36).substr(2,9)},...he.interactions||[]]}:he)),deleteInteraction:(ie,ae)=>L(oe=>oe.map(he=>he.id===ie?{...he,interactions:(he.interactions||[]).filter(gt=>gt.id!==ae)}:he)),addRelationshipType:ie=>it(ae=>[...new Set([...ae,ie])]),deleteRelationshipType:ie=>it(ae=>ae.filter(oe=>oe!==ie)),updateCycle:ie=>R(ae=>({...ae,...ie})),toggleCycleDay:ie=>{},setWeeklyScore:(ie,ae)=>{},addStore:(ie,ae="fa-shop",oe="#f97316")=>H(he=>[...he,{id:Math.random().toString(36).substr(2,9),name:ie,icon:ae,color:oe}]),updateStore:ie=>H(ae=>ae.map(oe=>oe.id===ie.id?ie:oe)),deleteStore:ie=>{H(ae=>ae.filter(oe=>oe.id!==ie)),$(ae=>ae.filter(oe=>oe.storeId!==ie))},addShoppingItem:(ie,ae)=>$(oe=>[...oe,{id:Math.random().toString(36).substr(2,9),name:ie,storeId:ae,isBought:!1}]),updateShoppingItem:ie=>$(ae=>ae.map(oe=>oe.id===ie.id?ie:oe)),toggleShoppingItem:ie=>$(ae=>ae.map(oe=>oe.id===ie?{...oe,isBought:!oe.isBought}:oe)),deleteShoppingItem:ie=>$(ae=>ae.filter(oe=>oe.id!==ie))}),[Y,te,O,be,U,ut,V,G,I,ue,P,Q,le,n,o,p,y,v,w,_,A,_e,F,pe,Zi,Ye,Qt,qn,S]);return l.jsx(ux.Provider,{value:Ki,children:s})},Le=()=>{const s=j.useContext(ux);if(!s)throw new Error("useApp must be used within an AppProvider");return s},ee=({variant:s,children:t,className:n="",italic:i=!1,onDoubleClick:o,onClick:u})=>{const p=i?"italic":"",g={h1:"text-4xl font-black tracking-tighter font-heading",h2:"text-2xl font-black tracking-tight font-heading",h3:"text-lg font-bold font-heading",body:"text-sm font-medium leading-relaxed",caption:"text-xs font-bold uppercase tracking-widest opacity-60",tiny:"text-[10px] font-black uppercase tracking-widest"};return l.jsx("div",{className:`${g[s]} ${p} ${n}`,style:{color:"var(--text-main)"},onDoubleClick:o,onClick:u,children:t})},qe=({children:s,variant:t="primary",size:n="md",loading:i=!1,icon:o,className:u="",...p})=>{const g="inline-flex items-center justify-center gap-2 rounded-2xl font-black transition-none active:scale-95 disabled:opacity-50 disabled:pointer-events-none",v={primary:"bg-[var(--primary)] text-white shadow-lg",secondary:"bg-[var(--primary)]/10 text-[var(--primary)] border border-[var(--primary)]/20",ghost:"text-[var(--text-muted)] hover:bg-[var(--bg-main)] hover:text-[var(--text-main)]",danger:"bg-rose-500 text-white",white:"bg-[var(--bg-card)] text-[var(--text-main)] border border-[var(--border-color)] shadow-sm"},x={sm:"px-4 py-2 text-xs",md:"px-6 py-3 text-sm",lg:"px-8 py-4 text-base",icon:"w-10 h-10 p-0"};return l.jsx("button",{className:`${g} ${v[t]} ${x[n]} ${u}`,disabled:i,...p,children:i?l.jsx("i",{className:"fa-solid fa-circle-notch animate-spin"}):l.jsxs(l.Fragment,{children:[o&&l.jsx("i",{className:`fa-solid ${o} ${n==="icon"?"text-base":"text-xs"}`}),s]})})},w0=({activeTab:s,setActiveTab:t,counts:n})=>{const{tasks:i,updateTask:o,scheduleTask:u,toggleTaskStatus:p,isSidebarCollapsed:g,setSidebarCollapsed:v,sidebarSettings:x,updateSidebarSetting:y,aiEnabled:b,setAiEnabled:w,theme:S,setTheme:_}=Le(),[T,A]=j.useState(!1),[M,U]=j.useState(!1),R=[{id:"today",icon:"fa-star",label:"",acceptDrop:!0},{id:"planner",icon:"fa-calendar-check",label:"",acceptDrop:!0},{id:"dashboard",icon:"fa-house",label:""},{id:"inbox",icon:"fa-inbox",label:"",acceptDrop:!0},{id:"next_actions",icon:"fa-bolt",label:"",acceptDrop:!0},{id:"projects",icon:"fa-folder-tree",label:""},{id:"calendar",icon:"fa-calendar-days",label:""},{id:"notes",icon:"fa-note-sticky",label:"",acceptDrop:!0}],Y=[{id:"diary",icon:"fa-book-open",label:""},{id:"habits",icon:"fa-repeat",label:""},{id:"people",icon:"fa-user-ninja",label:""},{id:"focus",icon:"fa-bullseye",label:""},{id:"character",icon:"fa-user-shield",label:""},{id:"shopping",icon:"fa-cart-shopping",label:""}],q=[{id:"hashtags",icon:"fa-hashtag",label:""},{id:"hobbies",icon:"fa-masks-theater",label:""},{id:"completed",icon:"fa-circle-check",label:"",acceptDrop:!0},{id:"trash",icon:"fa-trash-can",label:"",acceptDrop:!0}],te=j.useMemo(()=>[...R,...Y,...q],[]),D=(E,O)=>{E.preventDefault();const L=E.dataTransfer.getData("taskId");if(!L)return;const V=i.find(K=>K.id===L);if(V)switch(O){case"today":u(L,new Date().setHours(0,0,0,0));break;case"planner":o({...V,projectSection:"planner",isDeleted:!1});break;case"inbox":o({...V,status:me.INBOX,scheduledDate:void 0,projectId:void 0,category:"unsorted",isDeleted:!1});break;case"next_actions":o({...V,status:me.NEXT_ACTION,isDeleted:!1});break;case"notes":o({...V,category:"note",status:me.INBOX,isDeleted:!1});break;case"completed":V.status!==me.DONE&&p(V);break;case"trash":o({...V,isDeleted:!0});break}},I=E=>{if(x[E.id]===!1)return null;const O=s===E.id;return l.jsx("div",{onDragOver:L=>L.preventDefault(),onDrop:L=>D(L,E.id),className:"relative group px-1",children:l.jsxs("button",{onClick:()=>t(E.id),className:`w-full flex items-center gap-2 px-2 py-1.5 rounded-xl transition-all ${O?"bg-orange-50 text-orange-700 border border-orange-100 shadow-sm":"text-slate-500 hover:bg-slate-50"}`,children:[l.jsx("span",{className:`w-4 flex justify-center text-xs ${O?"text-orange-600":""}`,children:l.jsx("i",{className:`fa-solid ${E.icon}`})}),!g&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"flex-1 text-left font-black text-[9px] tracking-widest truncate uppercase leading-none",children:E.label}),n[E.id]>0&&l.jsx("span",{className:"h-3.5 min-w-[14px] flex items-center justify-center rounded-full text-[7px] font-black px-1 bg-slate-100 text-slate-500",children:n[E.id]})]})]})},E.id)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`${g?"w-14":"w-48"} hidden md:flex bg-white border-r border-slate-100 flex-col h-screen sticky top-0 z-40 transition-all duration-300 ease-in-out shrink-0`,children:[l.jsxs("div",{className:"p-4 flex items-center justify-between",children:[!g&&l.jsx("div",{className:"text-xl font-black font-heading text-orange-600 flex items-center gap-2 tracking-tighter leading-none",children:l.jsx("span",{children:"12TR"})}),l.jsx("button",{onClick:()=>v(!g),className:"w-8 h-8 rounded-xl hover:bg-slate-50 flex items-center justify-center text-slate-300 hover:text-slate-600",children:l.jsx("i",{className:`fa-solid ${g?"fa-bars":"fa-chevron-left"}`})})]}),l.jsxs("nav",{className:"flex-1 space-y-0.5 py-2 overflow-y-auto custom-scrollbar no-scrollbar pl-0.5",children:[R.map(I),l.jsx("div",{className:"my-3 mx-4 border-t border-slate-50"}),!g&&l.jsx("div",{className:"px-4 mb-1",children:l.jsx("span",{className:"text-[7px] uppercase font-black tracking-widest text-slate-300",children:"Toolbox"})}),Y.map(I)]}),l.jsxs("div",{className:"px-1 py-4 border-t border-slate-50 space-y-0.5",children:[q.map(I),l.jsxs("button",{onClick:()=>A(!0),className:"w-full flex items-center gap-2 px-2.5 py-1.5 rounded-xl text-slate-400 hover:bg-slate-50 transition-all",children:[l.jsx("span",{className:"w-4 flex justify-center text-[10px]",children:l.jsx("i",{className:"fa-solid fa-gear"})}),!g&&l.jsx("span",{className:"font-black text-[9px] tracking-widest uppercase",children:""})]})]})]}),l.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 h-16 bg-white/90 backdrop-blur-xl border-t border-slate-100 z-50 flex items-center justify-around px-4 pb-safe",children:[{id:"today",icon:"fa-star",label:""},{id:"planner",icon:"fa-calendar-check",label:""},{id:"inbox",icon:"fa-inbox",label:""},{id:"calendar",icon:"fa-calendar-days",label:""},{id:"menu",icon:"fa-grid-2",label:"",isMenuTrigger:!0}].map(E=>l.jsxs("button",{onClick:()=>E.isMenuTrigger?U(!0):t(E.id),className:`flex flex-col items-center justify-center w-12 h-12 rounded-2xl transition-all ${!E.isMenuTrigger&&s===E.id?"text-orange-600 bg-orange-50 shadow-inner":"text-slate-400"}`,children:[l.jsx("i",{className:`fa-solid ${E.isMenuTrigger?"fa-table-cells-large":E.icon} text-lg mb-0.5`}),l.jsx("span",{className:"text-[6px] font-black uppercase tracking-tighter",children:E.label})]},E.id))}),M&&l.jsxs("div",{className:"fixed inset-0 z-[200] bg-white md:hidden animate-in fade-in slide-in-from-bottom duration-300 flex flex-col",children:[l.jsxs("header",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-2xl bg-orange-600 flex items-center justify-center text-white shadow-lg",children:l.jsx("i",{className:"fa-solid fa-table-cells-large"})}),l.jsx(ee,{variant:"h2",className:"text-xl",children:" "})]}),l.jsx("button",{onClick:()=>U(!1),className:"w-10 h-10 rounded-2xl bg-slate-50 flex items-center justify-center text-slate-400",children:l.jsx("i",{className:"fa-solid fa-xmark"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-50/30",children:l.jsx("div",{className:"grid grid-cols-3 gap-4 pb-20",children:te.map(E=>{if(x[E.id]===!1)return null;const O=s===E.id;return l.jsxs("button",{onClick:()=>{t(E.id),U(!1)},className:`flex flex-col items-center justify-center p-4 rounded-3xl border transition-all ${O?"bg-orange-600 border-orange-600 text-white shadow-xl shadow-orange-100":"bg-white border-slate-100 text-slate-500 shadow-sm"}`,children:[l.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center mb-2 ${O?"bg-white/10":"bg-slate-50"}`,children:l.jsx("i",{className:`fa-solid ${E.icon} text-lg`})}),l.jsx("span",{className:"text-[8px] font-black uppercase text-center leading-tight",children:E.label}),n[E.id]>0&&l.jsxs("span",{className:`mt-1 text-[7px] font-black ${O?"text-white/60":"text-slate-300"}`,children:["(",n[E.id],")"]})]},E.id)})})})]}),T&&l.jsx(T0,{onHide:()=>A(!1),allSections:te})]})},T0=({onHide:s,allSections:t})=>{const{theme:n,setTheme:i,aiEnabled:o,setAiEnabled:u,sidebarSettings:p,updateSidebarSetting:g}=Le();return l.jsxs("div",{className:"fixed inset-0 z-[250] flex items-center justify-center p-2 md:p-4 tiktok-blur",children:[l.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:s}),l.jsxs("div",{className:"bg-white w-full max-w-xl max-h-[95vh] md:max-h-[90vh] rounded-[2rem] md:rounded-[2.5rem] shadow-2xl overflow-hidden flex flex-col relative animate-in zoom-in-95 duration-200",children:[l.jsxs("header",{className:"p-6 md:p-8 border-b border-slate-100 flex justify-between items-center bg-white shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-2xl bg-orange-600 flex items-center justify-center text-white shadow-lg",children:l.jsx("i",{className:"fa-solid fa-gear"})}),l.jsx(ee,{variant:"h2",className:"text-xl",children:" "})]}),l.jsx("button",{onClick:s,className:"w-10 h-10 rounded-2xl bg-slate-50 flex items-center justify-center text-slate-400 hover:text-slate-900 transition-all",children:l.jsx("i",{className:"fa-solid fa-xmark"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:l.jsxs("section",{children:[l.jsx(ee,{variant:"tiny",className:"text-orange-500 font-black mb-4 uppercase",children:" "}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:t.map(v=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("i",{className:`fa-solid ${v.icon} text-slate-400`}),l.jsx("span",{className:"text-[10px] font-black uppercase",children:v.label})]}),l.jsx("button",{onClick:()=>g(v.id,p[v.id]===!1),className:`w-9 h-5 rounded-full relative transition-all ${p[v.id]!==!1?"bg-orange-500":"bg-slate-200"}`,children:l.jsx("div",{className:`absolute top-1 w-3 h-3 bg-white rounded-full transition-all ${p[v.id]!==!1?"right-1":"left-1"}`})})]},v.id))})]})}),l.jsx("footer",{className:"p-6 border-t border-slate-100 bg-slate-50/30",children:l.jsx(qe,{onClick:s,variant:"primary",className:"w-full py-4 rounded-[1.5rem] font-black uppercase shadow-lg",children:""})})]})]})},De=({children:s,className:t="",blur:n=!1,padding:i="md",hover:o=!1,onClick:u,draggable:p,onDragStart:g})=>{const v="border transition-none",x=n?"backdrop-blur-xl bg-[var(--bg-card)]/80":"bg-[var(--bg-card)]",y="border-[var(--border-color)]",b="rounded-[var(--radius)]",w=o?"hover:shadow-lg hover:border-[var(--primary)]/30":"shadow-sm",S={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return l.jsx("div",{className:`${v} ${x} ${y} ${b} ${w} ${S[i]} ${t}`,onClick:u,draggable:p,onDragStart:g,style:{color:"var(--text-main)"},children:s})},ft=({children:s,variant:t="slate",icon:n,className:i="",style:o})=>{const u={orange:"bg-orange-50 text-orange-600 border-orange-100",emerald:"bg-emerald-50 text-emerald-600 border-emerald-100",rose:"bg-rose-50 text-rose-600 border-rose-100",slate:"bg-slate-50 text-slate-500 border-slate-100",yellow:"bg-yellow-50 text-yellow-700 border-yellow-100",indigo:"bg-indigo-50 text-indigo-600 border-indigo-100"};return l.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-lg border text-[10px] font-black uppercase tracking-wider ${u[t]} ${i}`,style:o,children:[n&&l.jsx("i",{className:`fa-solid ${n}`}),s]})},dx=({value:s,onChange:t,onSelectTag:n,onEnter:i,onBlur:o,placeholder:u,className:p,autoFocus:g=!1})=>{const{tags:v,addTag:x}=Le(),[y,b]=j.useState(!1),[w,S]=j.useState(""),[_,T]=j.useState(0),A=j.useRef(null),M=I=>{let E=I.target.value;const O=I.target.selectionStart||0;T(O),t(E),U(E,O)},U=(I,E)=>{const L=I.slice(0,E).split(/\s/),V=L[L.length-1];V.startsWith("#")?(S(V.slice(1)),b(!0)):V.length>0?(S(V),b(!0)):b(!1)},R=I=>{const E=I.target.selectionStart||0;T(E),b(!0),S("")},Y=I=>{I.key==="Enter"&&(y&&q.length>0?(I.preventDefault(),te(q[0].name)):i&&(I.preventDefault(),i())),I.key==="Escape"&&b(!1)},q=v.filter(I=>I.name.toLowerCase().includes(w.toLowerCase())),te=I=>{const E=s.slice(0,_),O=s.slice(_),L=E.split(/\s/);L[L.length-1],L[L.length-1]=`#${I} `;const V=L.join(" ").replace(/\s\s+/g," ")+O;t(V),n(I),b(!1),setTimeout(()=>{var K;return(K=A.current)==null?void 0:K.focus()},0)},D=()=>{if(!w)return;const I=x(w);te(I.name)};return l.jsxs("div",{className:"relative w-full h-full flex items-center overflow-visible",children:[l.jsx("input",{ref:A,type:"text",autoFocus:g,value:s,onChange:M,onFocus:R,onKeyDown:Y,onBlur:()=>{setTimeout(()=>{b(!1),o==null||o()},200)},placeholder:u,className:`${p} outline-none`}),y&&l.jsx("div",{className:"absolute z-[100] top-full mt-1 w-64 bg-white rounded-xl shadow-2xl border border-slate-100 p-2 tiktok-blur animate-in slide-in-from-top-2 duration-200",children:l.jsxs("div",{className:"max-h-48 overflow-y-auto custom-scrollbar",children:[q.length>0?q.map(I=>l.jsxs("button",{type:"button",onMouseDown:E=>{E.preventDefault(),te(I.name)},className:"w-full flex items-center gap-2 px-2 py-1.5 hover:bg-slate-50 rounded-lg transition-colors text-left",children:[l.jsx("div",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:I.color}}),l.jsxs("span",{className:"text-[10px] font-bold text-slate-700 truncate",children:["#",I.name]})]},I.id)):l.jsx("div",{className:"p-2 text-[10px] font-bold text-slate-400 text-center uppercase tracking-widest",children:" "}),w&&!v.some(I=>I.name===w)&&l.jsxs("button",{type:"button",onMouseDown:I=>{I.preventDefault(),D()},className:"w-full flex items-center gap-2 px-2 py-1.5 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors text-left border-t border-slate-50 mt-1",children:[l.jsx("i",{className:"fa-solid fa-plus text-[8px]"}),l.jsxs("span",{className:"text-[10px] font-black italic",children:[' "#',w,'"']})]})]})})]})},C0=({block:s,index:t,isFocused:n,onUpdate:i,onKeyDown:o,onFocus:u,onContextMenu:p,allBlocks:g})=>{const v=j.useRef(null);j.useEffect(()=>{v.current&&v.current.innerHTML!==s.content&&(v.current.innerHTML=s.content)},[s.id]),j.useEffect(()=>{n&&v.current&&document.activeElement!==v.current&&v.current.focus()},[n]);const x=b=>{i({content:b.currentTarget.innerHTML})};let y="";return s.type==="heading"&&(y="text-lg md:text-xl font-black text-[var(--text-main)] leading-tight"),s.type==="text"&&(y="text-sm font-medium text-[var(--text-main)] leading-relaxed"),s.type==="quote"&&(y="text-sm font-medium italic text-[var(--text-muted)] border-l-4 border-[var(--primary)]/30 pl-3 py-1 bg-[var(--primary)]/5 rounded-r-lg"),s.type==="task"&&(y=`text-sm font-bold transition-all ${s.checked?"line-through text-[var(--text-muted)] opacity-60":"text-[var(--text-main)]"}`),(s.type==="bullet"||s.type==="number")&&(y="text-sm text-[var(--text-main)] font-medium"),l.jsxs("div",{className:"flex items-start gap-2 md:gap-3 w-full group/row mb-1",children:[l.jsx("div",{className:"w-5 flex flex-col items-center opacity-0 group-hover/row:opacity-100 transition-opacity pt-1 shrink-0",children:l.jsx("button",{onClick:()=>i({id:"DELETE_BLOCK"}),className:"text-[var(--text-muted)] hover:text-rose-50 p-1",children:l.jsx("i",{className:"fa-solid fa-xmark text-[10px]"})})}),l.jsxs("div",{className:"flex-1 min-w-0 flex items-start gap-2 md:gap-3",children:[s.type==="task"&&l.jsx("button",{onClick:()=>i({checked:!s.checked}),className:`w-5 h-5 rounded-lg border mt-0.5 flex items-center justify-center shrink-0 transition-all ${s.checked?"bg-emerald-500 border-emerald-500 text-white shadow-sm":"border-[var(--border-color)] bg-[var(--bg-card)] hover:border-[var(--primary)] shadow-sm"}`,children:s.checked&&l.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),s.type==="bullet"&&l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[var(--text-muted)] mt-2 shrink-0 shadow-inner"}),s.type==="number"&&l.jsxs("span",{className:"text-[10px] font-black text-[var(--primary)] mt-1 shrink-0 w-4 text-right",children:[g.slice(0,t+1).filter(b=>b.type==="number").length,"."]}),l.jsx("div",{ref:v,contentEditable:!0,suppressContentEditableWarning:!0,"data-placeholder":s.type==="heading"?"...":" ...",onInput:x,onKeyDown:b=>{var w;return o(b,s,((w=v.current)==null?void 0:w.innerHTML)||"")},onFocus:u,onContextMenu:p,className:`focus:ring-0 outline-none w-full bg-transparent empty:before:content-[attr(data-placeholder)] empty:before:text-[var(--text-muted)]/30 block-input transition-all ${y}`})]})]})},fx=({id:s,date:t,onClose:n,standaloneMode:i=!1,initialContent:o,onContentChange:u})=>{var K;const{diary:p,saveDiaryEntry:g}=Le(),[v,x]=j.useState(s),[y,b]=j.useState(t),[w,S]=j.useState([]),[_,T]=j.useState(!1),[A,M]=j.useState(null),[U,R]=j.useState({x:0,y:0,visible:!1}),Y=j.useRef(null),q=i?o:(K=p.find(G=>G.id===v))==null?void 0:K.content;j.useEffect(()=>{if(q)try{const G=JSON.parse(q);if(Array.isArray(G))S(G);else throw new Error}catch{const F=q.split(`
`).filter(H=>H.trim()!=="").map(H=>({id:Math.random().toString(36).substr(2,9),type:H.startsWith("#")?"heading":"text",content:H.replace(/^#+\s*/,""),checked:!1}));S(F.length>0?F:[{id:"b1",type:"text",content:""}])}else S([{id:"b-init",type:"text",content:""}])},[s,q]);const te=(G=!1)=>{const fe=JSON.stringify(w);if(i){u==null||u(fe),T(!1);return}if(!w.some(pe=>pe.content.trim()!==""&&pe.content!=="<br>")&&!v)return;const H=g(y,fe,v);return v||x(H),T(!1),H},D=()=>{te(),n()};j.useEffect(()=>{if(w.length!==0)return T(!0),i&&(u==null||u(JSON.stringify(w))),Y.current&&clearTimeout(Y.current),Y.current=window.setTimeout(()=>te(!0),1500),()=>{Y.current&&clearTimeout(Y.current)}},[w,y]);const I=(G,fe)=>{if(fe.id==="DELETE_BLOCK"){w.length>1&&S(F=>F.filter(H=>H.id!==G));return}S(F=>F.map(H=>H.id===G?{...H,...fe}:H))},E=(G,fe="text")=>{const F={id:Math.random().toString(36).substr(2,9),type:fe,content:"",checked:!1},H=w.findIndex($=>$.id===G),pe=[...w];pe.splice(H+1,0,F),S(pe),M(F.id)},O=(G,fe,F)=>{if(G.key==="Enter"&&!G.shiftKey){G.preventDefault();const H=["task","bullet","number"].includes(fe.type)?fe.type:"text";E(fe.id,H)}if(G.key==="Backspace"&&(F===""||F==="<br>")&&w.length>1){G.preventDefault();const H=w.findIndex(pe=>pe.id===fe.id);H>0&&M(w[H-1].id),S(pe=>pe.filter($=>$.id!==fe.id))}},L=(G,fe)=>{document.execCommand(G,!1,fe),R(F=>({...F,visible:!1}))},V=G=>{const fe=window.getSelection();if(fe&&fe.toString().length>0){G.preventDefault();const F=Math.min(G.clientX,window.innerWidth-150);R({x:F,y:G.clientY,visible:!0})}};return l.jsxs("div",{className:`h-full flex flex-col bg-[var(--bg-card)] relative ${i?"rounded-2xl border border-[var(--border-color)] overflow-hidden":""}`,children:[!i&&l.jsxs("header",{className:"p-4 border-b border-[var(--border-color)] flex justify-between items-center bg-[var(--bg-card)] shrink-0 sticky top-0 z-30",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"date",value:y,onChange:G=>b(G.target.value),className:"bg-transparent border-none text-[var(--primary)] font-black uppercase text-[10px] tracking-widest focus:ring-0 p-0 cursor-pointer"}),l.jsx("div",{className:"h-3 w-px bg-[var(--border-color)] hidden sm:block"}),l.jsx(ee,{variant:"tiny",className:"text-[var(--text-muted)] font-black uppercase text-[8px] tracking-widest hidden sm:block",children:""})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:D,className:"px-5 py-2 bg-[var(--primary)] text-white rounded-xl text-[9px] font-black uppercase shadow-lg active:scale-95 transition-all",children:""}),l.jsx("button",{onClick:n,className:"w-9 h-9 rounded-xl bg-[var(--bg-main)] text-[var(--text-muted)] flex items-center justify-center transition-all hover:text-[var(--text-main)] active:scale-95",children:l.jsx("i",{className:"fa-solid fa-xmark"})})]})]}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsxs("div",{className:"px-2 md:px-4 py-1.5 bg-[var(--bg-main)]/30 flex items-center gap-1 overflow-x-auto no-scrollbar border-b border-[var(--border-color)] shrink-0",children:[l.jsx("button",{onClick:()=>A&&I(A,{type:"heading"}),title:"",className:"p-2 hover:bg-[var(--bg-card)] rounded-lg text-[var(--text-muted)] hover:text-[var(--primary)] transition-all",children:l.jsx("i",{className:"fa-solid fa-heading text-xs"})}),l.jsx("button",{onClick:()=>A&&I(A,{type:"text"}),title:"",className:"p-2 hover:bg-[var(--bg-card)] rounded-lg text-[var(--text-muted)] hover:text-[var(--primary)] transition-all",children:l.jsx("i",{className:"fa-solid fa-paragraph text-xs"})}),l.jsx("button",{onClick:()=>A&&I(A,{type:"task"}),title:"",className:"p-2 hover:bg-[var(--bg-card)] rounded-lg text-[var(--text-muted)] hover:text-[var(--primary)] transition-all",children:l.jsx("i",{className:"fa-solid fa-square-check text-xs"})}),l.jsx("button",{onClick:()=>A&&I(A,{type:"bullet"}),title:"",className:"p-2 hover:bg-[var(--bg-card)] rounded-lg text-[var(--text-muted)] hover:text-[var(--primary)] transition-all",children:l.jsx("i",{className:"fa-solid fa-list-ul text-xs"})}),l.jsx("button",{onClick:()=>A&&I(A,{type:"number"}),title:"",className:"p-2 hover:bg-[var(--bg-card)] rounded-lg text-[var(--text-muted)] hover:text-[var(--primary)] transition-all",children:l.jsx("i",{className:"fa-solid fa-list-ol text-xs"})}),l.jsx("button",{onClick:()=>A&&I(A,{type:"quote"}),title:"",className:"p-2 hover:bg-[var(--bg-card)] rounded-lg text-[var(--text-muted)] hover:text-[var(--primary)] transition-all",children:l.jsx("i",{className:"fa-solid fa-quote-left text-xs"})})]}),l.jsx("div",{className:`flex-1 overflow-y-auto custom-scrollbar p-4 md:p-6 space-y-1 bg-[var(--bg-card)] ${i?"pb-10":"pb-32"}`,children:w.map((G,fe)=>l.jsx(C0,{block:G,index:fe,allBlocks:w,isFocused:A===G.id,onUpdate:F=>I(G.id,F),onKeyDown:(F,H,pe)=>O(F,H,pe),onFocus:()=>M(G.id),onContextMenu:V},G.id))}),U.visible&&l.jsxs("div",{className:"fixed z-[200] bg-slate-900 text-white p-1 rounded-xl shadow-2xl flex items-center gap-1 tiktok-blur animate-in fade-in zoom-in-95 scale-90",style:{top:U.y-45,left:U.x},children:[l.jsx("button",{onMouseDown:G=>{G.preventDefault(),L("bold")},className:"w-8 h-8 rounded-lg hover:bg-white/10 transition-colors",children:l.jsx("i",{className:"fa-solid fa-bold text-xs"})}),l.jsx("button",{onMouseDown:G=>{G.preventDefault(),L("italic")},className:"w-8 h-8 rounded-lg hover:bg-white/10 transition-colors",children:l.jsx("i",{className:"fa-solid fa-italic text-xs"})}),l.jsx("button",{onMouseDown:G=>{G.preventDefault(),L("underline")},className:"w-8 h-8 rounded-lg hover:bg-white/10 transition-colors text-[var(--primary)]",children:l.jsx("i",{className:"fa-solid fa-underline text-xs"})})]}),l.jsx("footer",{className:"p-3 border-t border-[var(--border-color)] flex items-center justify-between bg-[var(--bg-card)] shrink-0",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${_?"bg-[var(--primary)] animate-pulse":"bg-emerald-400"}`}),l.jsx("span",{className:"text-[8px] font-black text-[var(--text-muted)] uppercase tracking-widest",children:_?"":""})]})})]})]})},qs=({task:s,onClose:t})=>{const{updateTask:n,scheduleTask:i,tags:o,addTag:u,projects:p,people:g,hobbies:v,addChecklistItem:x,toggleChecklistItem:y,removeChecklistItem:b,toggleTaskStatus:w}=Le(),[S,_]=j.useState("notes"),[T,A]=j.useState(!1),[M,U]=j.useState(""),[R,Y]=j.useState(""),[q,te]=j.useState(s.title),D=j.useRef(null),I=j.useRef(null);j.useEffect(()=>{te(s.title)},[s.id,s.title]);const E=G=>{n({...s,scheduledDate:G}),A(!1)},O=G=>{s.tags.includes(G)||n({...s,tags:[...s.tags,G]})},L=G=>{M.trim()&&(x(s.id,M.trim()),U(""),setTimeout(()=>{var fe;return(fe=I.current)==null?void 0:fe.focus()},0))},V=s.status===me.DONE,K=p.find(G=>G.id===s.projectId);return l.jsxs("div",{className:"w-full flex flex-col h-full bg-[var(--bg-card)] relative",children:[l.jsxs("header",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-color)] shrink-0 bg-[var(--bg-card)] sticky top-0 z-20",children:[l.jsxs("div",{className:"flex items-center gap-2 relative",children:[l.jsxs("button",{onClick:()=>A(!T),className:`h-7 px-2.5 rounded-lg text-[9px] font-black uppercase tracking-widest flex items-center gap-2 transition-all ${s.scheduledDate?"bg-[var(--primary)] text-white shadow-md":"bg-[var(--bg-main)] text-[var(--text-muted)] hover:bg-[var(--border-color)]"}`,children:[l.jsx("i",{className:"fa-solid fa-calendar-day text-[10px]"}),s.scheduledDate?new Date(s.scheduledDate).toLocaleDateString("uk-UA",{day:"numeric",month:"short"}):" "]}),l.jsxs("div",{className:"flex bg-[var(--bg-main)] p-0.5 rounded-lg border border-[var(--border-color)]",children:[l.jsx("button",{onClick:()=>n({...s,isEvent:!1}),className:`px-2 py-1 rounded-md text-[7px] font-black uppercase transition-all ${s.isEvent?"text-[var(--text-muted)]":"bg-[var(--bg-card)] shadow-sm text-[var(--text-main)]"}`,children:""}),l.jsx("button",{onClick:()=>n({...s,isEvent:!0}),className:`px-2 py-1 rounded-md text-[7px] font-black uppercase transition-all ${s.isEvent?"bg-pink-600 text-white shadow-sm":"text-[var(--text-muted)]"}`,children:""})]}),T&&l.jsxs("div",{ref:D,className:"absolute top-9 left-0 w-60 bg-[var(--bg-card)] shadow-2xl rounded-2xl border border-[var(--border-color)] z-[100] p-4 tiktok-blur animate-in fade-in zoom-in-95",children:[l.jsx("input",{type:"date",className:"w-full bg-[var(--bg-main)] p-2 rounded-xl border-none text-[11px] font-bold outline-none text-[var(--text-main)]",onChange:G=>E(new Date(G.target.value).getTime())}),l.jsx("button",{onClick:()=>E(void 0),className:"w-full mt-2 py-1.5 text-[8px] font-black text-rose-500 uppercase hover:bg-rose-50 rounded-lg",children:""})]})]}),l.jsx("button",{onClick:t,className:"w-8 h-8 rounded-xl hover:bg-[var(--bg-main)] text-[var(--text-muted)] flex items-center justify-center transition-all shrink-0",children:l.jsx("i",{className:"fa-solid fa-xmark text-xs"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[var(--bg-card)]",children:l.jsxs("div",{className:"p-4 md:p-5 space-y-5",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("button",{onClick:G=>{G.stopPropagation(),w(s)},className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center shrink-0 mt-1 transition-all ${V?"bg-emerald-500 border-emerald-500 text-white":"border-[var(--border-color)] bg-[var(--bg-card)] text-transparent hover:border-[var(--primary)]"}`,children:l.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("input",{type:"text",value:q,onChange:G=>te(G.target.value),onBlur:()=>n({...s,title:q}),placeholder:"  ...",className:`w-full bg-transparent text-xl font-black border-none focus:ring-0 p-0 placeholder:opacity-20 leading-tight mb-1 outline-none ${V?"line-through text-[var(--text-muted)]":"text-[var(--text-main)]"}`}),K&&l.jsxs("span",{className:"text-[7px] font-black uppercase text-[var(--primary)] bg-[var(--primary)]/5 px-1.5 py-0.5 rounded",children:["# ",K.name]})]})]}),l.jsxs("div",{className:"flex items-center gap-1.5 bg-[var(--bg-main)]/50 p-1 rounded-xl border border-[var(--border-color)]",children:[l.jsxs("div",{className:"flex items-center gap-1.5 bg-[var(--bg-card)] px-2 py-1 rounded-lg border border-[var(--border-color)] shadow-sm shrink-0 transition-all hover:border-[var(--primary)]/30",children:[l.jsx("i",{className:"fa-solid fa-user-ninja text-indigo-400 text-[9px]"}),l.jsxs("select",{value:s.personId||"",onChange:G=>n({...s,personId:G.target.value||void 0}),className:"bg-transparent border-none text-[9px] font-black uppercase tracking-tight focus:ring-0 p-0 outline-none w-16 cursor-pointer text-[var(--text-main)]",children:[l.jsx("option",{value:"",children:""}),g.map(G=>l.jsx("option",{value:G.id,children:G.name},G.id))]})]}),l.jsxs("div",{className:"flex-1 min-w-0 bg-[var(--bg-card)] px-2 py-1 rounded-lg border border-[var(--border-color)] shadow-sm focus-within:ring-2 focus-within:ring-[var(--primary)]/10 transition-all flex items-center gap-1.5",children:[l.jsx("i",{className:"fa-solid fa-tag text-[var(--primary)] text-[9px] shrink-0"}),l.jsx(dx,{value:R,onChange:Y,onSelectTag:G=>{O(G),Y("")},className:"w-full border-none text-[9px] font-black uppercase placeholder:text-[var(--text-muted)] p-0 bg-transparent text-[var(--text-main)]",placeholder:"..."})]})]}),l.jsxs("div",{className:"flex gap-4 border-b border-[var(--border-color)]",children:[l.jsx("button",{onClick:()=>_("notes"),className:`pb-2 text-[9px] font-black uppercase tracking-widest border-b-2 transition-all ${S==="notes"?"border-[var(--primary)] text-[var(--text-main)]":"border-transparent text-[var(--text-muted)] hover:text-[var(--text-main)]"}`,children:""}),l.jsxs("button",{onClick:()=>_("checklist"),className:`pb-2 text-[9px] font-black uppercase tracking-widest border-b-2 transition-all ${S==="checklist"?"border-[var(--primary)] text-[var(--text-main)]":"border-transparent text-[var(--text-muted)] hover:text-[var(--text-main)]"}`,children:[" (",(s.checklist||[]).length,")"]})]}),l.jsx("div",{className:"min-h-[300px]",children:S==="checklist"?l.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[l.jsx("input",{ref:I,value:M,onChange:G=>U(G.target.value),onKeyDown:G=>{G.key==="Enter"&&L()},placeholder:"+   ...",className:"w-full bg-[var(--bg-main)] border-none rounded-xl py-3 px-4 text-[12px] font-bold outline-none focus:ring-2 focus:ring-[var(--primary)]/10 transition-all shadow-inner text-[var(--text-main)]"}),l.jsx("div",{className:"space-y-1",children:(s.checklist||[]).map(G=>l.jsxs("div",{className:"flex items-center gap-3 py-2 px-3 hover:bg-[var(--bg-main)] rounded-xl group/item transition-colors",children:[l.jsx("button",{onClick:()=>y(s.id,G.id),className:`w-4.5 h-4.5 rounded-lg border flex items-center justify-center transition-all ${G.completed?"bg-emerald-500 border-emerald-500 text-white":"border-[var(--border-color)] bg-[var(--bg-card)] text-transparent group-hover/item:border-[var(--primary)]"}`,children:l.jsx("i",{className:"fa-solid fa-check text-[8px]"})}),l.jsx("span",{className:`text-[12px] flex-1 truncate ${G.completed?"text-[var(--text-muted)] line-through":"text-[var(--text-main)] font-bold"}`,children:G.title}),l.jsx("button",{onClick:()=>b(s.id,G.id),className:"opacity-0 group-hover/item:opacity-100 text-[var(--text-muted)] hover:text-rose-500 transition-all",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]},G.id))})]}):l.jsx("div",{className:"animate-in fade-in h-full",children:l.jsx(fx,{id:s.id,date:new Date(s.createdAt).toISOString().split("T")[0],onClose:()=>{},standaloneMode:!0,initialContent:s.content,onContentChange:G=>n({...s,content:G})})})})]})}),l.jsx("footer",{className:"p-4 md:p-5 border-t border-[var(--border-color)] shrink-0 bg-[var(--bg-card)]",children:l.jsx(qe,{onClick:()=>{n({...s,title:q}),t()},className:"w-full py-4 rounded-2xl shadow-xl font-black uppercase tracking-widest text-[10px]",children:"  "})})]})},Gn=(s=300,t=800)=>{const{detailsWidth:n,setDetailsWidth:i}=Le(),[o,u]=j.useState(!1),p=j.useCallback(x=>{x.preventDefault(),u(!0)},[]),g=j.useCallback(()=>{u(!1)},[]),v=j.useCallback(x=>{if(!o)return;const y=window.innerWidth-x.clientX;y>s&&y<t&&i(y)},[o,i,s,t]);return j.useEffect(()=>(o?(window.addEventListener("mousemove",v),window.addEventListener("mouseup",g)):(window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",g)),()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",g)}),[o,v,g]),{isResizing:o,startResizing:p,detailsWidth:n}},S0=()=>{const{tasks:s,people:t,setActiveTab:n,setCalendarDate:i,setCalendarViewMode:o}=Le(),u=new Date,p=j.useMemo(()=>{const x=new Date(u),y=u.getDay(),b=u.getDate()-y+(y===0?-6:1);return x.setDate(b),Array.from({length:7},(w,S)=>{const _=new Date(x);return _.setDate(x.getDate()+S),_})},[]),g=x=>{const y=x.getFullYear(),b=String(x.getMonth()+1).padStart(2,"0"),w=String(x.getDate()).padStart(2,"0"),S=`${y}-${b}-${w}`,_=x.getMonth(),T=x.getDate(),A=x.getFullYear(),M={event:!1,quest:!1};return s.forEach(R=>{if(R.isDeleted||!R.scheduledDate)return;const Y=new Date(R.scheduledDate),q=Y.getFullYear(),te=String(Y.getMonth()+1).padStart(2,"0"),D=String(Y.getDate()).padStart(2,"0");`${q}-${te}-${D}`===S&&(R.isEvent?M.event=!0:M.quest=!0)}),t.some(R=>{var Y;if(R.birthDate&&R.birthDateShowInCalendar!==!1){const q=new Date(R.birthDate);if(q.getMonth()===_&&q.getDate()===T&&(R.birthDateRepeatYearly!==!1||q.getFullYear()===A))return!0}return(Y=R.importantDates)==null?void 0:Y.some(q=>{if(!q.showInCalendar)return!1;const te=new Date(q.date);return te.getMonth()===_&&te.getDate()===T&&(q.repeatYearly||te.getFullYear()===A)})})&&(M.event=!0),M},v=x=>{i(x.getTime()),o("week"),n("calendar")};return l.jsx("div",{className:"bg-[var(--bg-main)]/50 p-1 rounded-xl border border-[var(--border-color)] shadow-inner w-full",children:l.jsx("div",{className:"flex justify-between items-center gap-0.5",children:p.map((x,y)=>{const b=x.toDateString()===u.toDateString(),w=g(x);return l.jsxs("button",{onClick:()=>v(x),className:"flex flex-col items-center gap-0.5 group flex-1 min-w-0 transition-transform active:scale-90",children:[l.jsx("span",{className:`text-[5px] md:text-[6px] font-black uppercase leading-none transition-colors ${b?"text-[var(--primary)]":"text-[var(--text-muted)] opacity-50"}`,children:x.toLocaleString("uk-UA",{weekday:"short"}).slice(0,2)}),l.jsx("div",{className:`w-5 h-5 md:w-6 md:h-6 rounded-lg flex items-center justify-center text-[8px] md:text-[9px] font-black transition-all ${b?"bg-[var(--primary)] text-white shadow-lg ring-1 ring-[var(--primary)]/20":"text-[var(--text-main)] hover:bg-[var(--bg-card)] hover:shadow-sm hover:text-[var(--primary)]"}`,children:x.getDate()}),l.jsxs("div",{className:"h-0.5 flex items-center justify-center gap-0.5",children:[w.event&&l.jsx("div",{className:"w-0.5 h-0.5 rounded-full bg-blue-400"}),w.quest&&l.jsx("div",{className:"w-0.5 h-0.5 rounded-full bg-rose-400"})]})]},y)})})})},Mp=()=>{var ue;const{tasks:s,projects:t,timeBlocks:n,toggleTaskStatus:i,toggleHabitStatus:o,character:u,cycle:p,setActiveTab:g,setCalendarViewMode:v,aiEnabled:x,people:y}=Le(),[b,w]=j.useState(new Date),[S,_]=j.useState(null),[T,A]=j.useState("tasks"),[M,U]=j.useState("all"),[R,Y]=j.useState("day"),[q,te]=j.useState(!1),[D,I]=j.useState(!0),{detailsWidth:E,startResizing:O,isResizing:L}=Gn(300,800);j.useEffect(()=>{const k=setInterval(()=>w(new Date),6e4);return()=>clearInterval(k)},[]);const V=j.useMemo(()=>new Date().setHours(0,0,0,0),[]),K=j.useMemo(()=>new Date().toISOString().split("T")[0]),G=j.useMemo(()=>{const k=s.filter(_e=>!_e.isDeleted&&_e.projectSection!=="habits"),se=(()=>{const _e=new Date;return R==="day"?new Date().setHours(0,0,0,0):R==="week"?_e.setDate(_e.getDate()-7):_e.setMonth(_e.getMonth()-1)})(),Q=k.filter(_e=>(_e.completedAt||_e.createdAt)>=se),ye=Q.filter(_e=>_e.status===me.DONE),le=Q.length>0?Math.round(ye.length/Q.length*100):0,ve={health:{done:0,total:0},career:{done:0,total:0},finance:{done:0,total:0},rest:{done:0,total:0}};return s.forEach(_e=>{if(_e.isDeleted)return;const xe=t.find(be=>be.id===_e.projectId);xe!=null&&xe.sphere&&ve[xe.sphere]&&(ve[xe.sphere].total++,_e.status===me.DONE&&ve[xe.sphere].done++)}),{kpi:le,doneCount:ye.length,totalCount:Q.length,spheres:ve}},[s,t,R]),fe=j.useMemo(()=>{const k=s.filter(se=>!se.isDeleted&&(se.projectSection==="habits"||se.tags.includes("habit")));if(k.length===0)return 0;const P=k.filter(se=>{var Q,ye;return((ye=(Q=se.habitHistory)==null?void 0:Q[K])==null?void 0:ye.status)==="completed"}).length;return Math.round(P/k.length*100)},[s,K]),F=j.useMemo(()=>s.filter(P=>{if(P.isDeleted||P.status===me.DONE||P.projectSection==="habits"||P.category==="note")return!1;const se=P.scheduledDate&&new Date(P.scheduledDate).setHours(0,0,0,0)===V;return M==="calendar"?se:M==="projects"?!!P.projectId:se||P.status===me.NEXT_ACTION||P.status===me.INBOX&&!P.scheduledDate&&!P.projectId}).sort((P,se)=>{if(M==="calendar")return(P.scheduledDate||0)-(se.scheduledDate||0);const Q={[$e.UI]:4,[$e.UNI]:3,[$e.NUI]:2,[$e.NUNI]:1};return(Q[se.priority]||0)-(Q[P.priority]||0)}),[s,V,M]),H=j.useMemo(()=>{const k=s.filter(P=>!P.isDeleted&&P.tags.includes("insight"));return k.length===0?"   .":k[b.getHours()%k.length].title},[s,b]),pe=async()=>{if(!x)return alert("   ");te(!0),await new Promise(k=>setTimeout(k,1500)),alert(` :  KPI  ${G.kpi}%.      ${Object.entries(G.spheres).sort((k,P)=>P[1].total-k[1].total)[0][0]}.     !`),te(!1)},$=k=>{if(!k)return null;const P=new Date(k);return P.getHours()===0&&P.getMinutes()===0?null:P.toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"})};return l.jsxs("div",{className:"h-screen flex bg-[var(--bg-main)] overflow-hidden relative text-[var(--text-main)] transition-none",children:[l.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full",children:[l.jsx("header",{className:"p-3 md:p-4 bg-[var(--bg-card)] border-b border-[var(--border-color)] shrink-0",children:l.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col gap-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ee,{variant:"h1",className:"text-xl font-black text-[var(--text-main)]",children:""}),l.jsx("div",{className:"text-[10px] font-black text-[var(--text-muted)] opacity-50 uppercase tracking-widest pt-1",children:b.toLocaleDateString("uk-UA",{weekday:"short",day:"numeric",month:"short"})})]}),l.jsxs("div",{className:"flex bg-[var(--bg-main)] p-0.5 rounded-lg border border-[var(--border-color)]",children:[l.jsx("button",{onClick:()=>A("tasks"),className:`px-3 py-1 rounded-md text-[8px] font-black uppercase tracking-widest transition-all ${T==="tasks"?"bg-[var(--bg-card)] text-[var(--primary)] shadow-sm":"text-[var(--text-muted)]"}`,children:""}),l.jsx("button",{onClick:()=>A("progress"),className:`px-3 py-1 rounded-md text-[8px] font-black uppercase tracking-widest transition-all ${T==="progress"?"bg-[var(--bg-card)] text-[var(--primary)] shadow-sm":"text-[var(--text-muted)]"}`,children:""})]})]}),l.jsx("div",{className:"md:hidden",children:l.jsx(S0,{})}),l.jsxs("div",{className:"flex items-center gap-2 bg-black/5 px-2 py-1 rounded-lg border border-theme overflow-hidden",children:[l.jsx("button",{onClick:()=>I(!D),className:`shrink-0 text-[10px] ${D?"text-[var(--primary)]":"text-[var(--text-muted)]"}`,children:l.jsx("i",{className:`fa-solid ${D?"fa-eye":"fa-eye-slash"}`})}),l.jsx("div",{className:"flex-1 overflow-hidden",children:l.jsxs("p",{className:`text-[9px] font-bold text-[var(--text-muted)] uppercase tracking-tight truncate ${D?"":"hidden"}`,children:[l.jsx("span",{className:"text-[var(--primary)] mr-2",children:""})," ",H]})})]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 md:p-6 transition-none",children:l.jsx("div",{className:"max-w-6xl mx-auto space-y-4 pb-32",children:T==="tasks"?l.jsxs(l.Fragment,{children:[l.jsxs(De,{padding:"none",className:"bg-[var(--bg-card)] border-[var(--border-color)] p-2.5 rounded-xl shadow-sm flex items-center gap-3 relative group border-l-4 border-l-[var(--primary)] transition-none",children:[l.jsx("div",{className:"min-w-0 flex-1 pl-1",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-[var(--primary)]",children:":"}),l.jsx("span",{className:"text-11px font-black text-[var(--text-main)] truncate uppercase",children:((ue=n.find(k=>k.dayOfWeek===b.getDay()&&b.getHours()>=k.startHour&&b.getHours()<k.endHour))==null?void 0:ue.title)||" "})]})}),l.jsx("button",{onClick:()=>g("calendar"),className:"w-7 h-7 rounded-lg bg-[var(--bg-main)] text-[var(--text-muted)] hover:bg-[var(--primary)] hover:text-white flex items-center justify-center shrink-0 transition-none",children:l.jsx("i",{className:"fa-solid fa-clock-rotate-left text-[10px]"})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 items-start transition-none",children:[l.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[l.jsxs("section",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center px-1",children:[l.jsx(ee,{variant:"tiny",className:"font-black uppercase text-[8px] tracking-[0.2em] text-[var(--text-muted)] opacity-70",children:" "}),l.jsx("div",{className:"flex bg-black/5 p-0.5 rounded-lg border border-theme",children:["all","projects","calendar"].map(k=>l.jsx("button",{onClick:()=>U(k),className:`px-2 py-0.5 rounded-md text-[7px] font-black uppercase tracking-widest transition-none ${M===k?"bg-[var(--bg-card)] text-[var(--primary)] shadow-sm":"text-[var(--text-muted)]"}`,children:k==="all"?"":k==="projects"?"":""},k))})]}),l.jsx("div",{className:"grid grid-cols-1 gap-1",children:F.map(k=>l.jsxs(De,{padding:"none",onClick:()=>_(k.id),className:"flex items-center gap-2.5 px-2.5 py-1.5 bg-[var(--bg-card)] border-[var(--border-color)] hover:border-[var(--primary)]/30 transition-none cursor-pointer shadow-sm rounded-lg group",children:[l.jsx("button",{onClick:P=>{P.stopPropagation(),i(k)},className:`w-4 h-4 rounded-md border-2 flex items-center justify-center shrink-0 transition-all ${k.status===me.DONE?"bg-emerald-500 border-emerald-500 text-white":"border-[var(--border-color)] bg-black/5 text-transparent"}`,children:l.jsx("i",{className:"fa-solid fa-check text-[7px]"})}),l.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between gap-4",children:[l.jsx("div",{className:`text-[11px] font-bold truncate leading-tight ${k.status===me.DONE?"text-[var(--text-muted)] opacity-40 line-through":"text-[var(--text-main)]"}`,children:k.title}),$(k.scheduledDate)&&l.jsx("span",{className:"text-[7px] font-black text-[var(--primary)] bg-[var(--primary)]/5 px-1.5 py-0.5 rounded",children:$(k.scheduledDate)})]})]},k.id))})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx("div",{className:"flex justify-between items-center px-1",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ee,{variant:"tiny",className:"font-black uppercase text-[8px] tracking-[0.2em] text-[var(--text-muted)] opacity-70",children:""}),l.jsxs("div",{className:"text-[7px] font-black py-0 px-1 rounded bg-[var(--primary)]/10 text-[var(--primary)]",children:[fe,"%"]})]})}),l.jsx("div",{className:"flex overflow-x-auto no-scrollbar gap-2 pb-1",children:s.filter(k=>!k.isDeleted&&k.projectSection==="habits").map(k=>{var se,Q;const P=((Q=(se=k.habitHistory)==null?void 0:se[K])==null?void 0:Q.status)==="completed";return l.jsxs("button",{onClick:()=>o(k.id,K,P?"none":"completed"),className:`shrink-0 w-24 p-2 rounded-xl border transition-none flex flex-col items-center gap-1.5 ${P?"bg-emerald-50/10 border-emerald-500/20 text-emerald-500 shadow-inner":"bg-[var(--bg-card)] border-[var(--border-color)] text-[var(--text-muted)] opacity-60"}`,children:[l.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center text-[9px] ${P?"bg-emerald-500 text-white shadow-sm":"bg-black/5 border border-theme"}`,children:l.jsx("i",{className:`fa-solid ${P?"fa-check":"fa-repeat"}`})}),l.jsx("span",{className:"text-[6px] font-black uppercase text-center leading-tight truncate w-full",children:k.title})]},k.id)})})]})]}),l.jsx("div",{className:"lg:col-span-4 space-y-6",children:l.jsxs("section",{className:"space-y-2",children:[l.jsx(ee,{variant:"tiny",className:"font-black uppercase text-[8px] tracking-[0.2em] text-[var(--text-muted)] opacity-70 px-1",children:" "}),l.jsx("div",{className:"space-y-1",children:s.filter(k=>!k.isDeleted&&k.isEvent&&k.scheduledDate&&k.scheduledDate>=V).slice(0,3).map(k=>l.jsxs("div",{className:"p-2 bg-[var(--bg-card)] border border-[var(--border-color)] rounded-lg flex items-center gap-2.5 shadow-sm",children:[l.jsx("div",{className:"w-6 h-6 rounded-md flex items-center justify-center shrink-0 bg-pink-500/10 text-pink-500",children:l.jsx("i",{className:"fa-solid fa-calendar-star text-[8px]"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"text-[9px] font-black text-[var(--text-main)] truncate uppercase",children:k.title}),l.jsx("div",{className:"text-[7px] font-bold text-[var(--text-muted)] opacity-50 uppercase",children:new Date(k.scheduledDate).toLocaleDateString("uk-UA",{day:"numeric",month:"short"})})]})]},k.id))})]})})]})]}):l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"flex bg-[var(--bg-card)] p-0.5 rounded-lg border border-[var(--border-color)]",children:["day","week","month"].map(k=>l.jsx("button",{onClick:()=>Y(k),className:`px-4 py-1.5 rounded-md text-[8px] font-black uppercase tracking-widest transition-all ${R===k?"bg-[var(--bg-main)] text-[var(--primary)] shadow-inner":"text-[var(--text-muted)]"}`,children:k==="day"?"":k==="week"?"":""},k))}),l.jsxs(ft,{variant:"orange",className:"text-[9px] font-black",children:["KPI: ",G.kpi,"%"]})]}),l.jsxs(De,{className:"bg-[var(--bg-card)] border-[var(--border-color)] p-6 shadow-sm rounded-2xl",children:[l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[{key:"health",label:"'",color:"rose"},{key:"career",label:"'",color:"indigo"},{key:"finance",label:"",color:"emerald"},{key:"rest",label:"",color:"cyan"}].map(k=>{const P=G.spheres[k.key],se=P.total>0?Math.round(P.done/P.total*100):0;return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsx("span",{className:"text-[8px] font-black uppercase text-[var(--text-muted)] tracking-widest opacity-60",children:k.label}),l.jsxs("span",{className:"text-sm font-black text-[var(--text-main)]",children:[se,"%"]})]}),l.jsx("div",{className:"h-1.5 bg-black/5 rounded-full overflow-hidden border border-theme",children:l.jsx("div",{className:`h-full ${k.color==="rose"?"bg-rose-500":k.color==="indigo"?"bg-indigo-500":k.color==="emerald"?"bg-emerald-500":"bg-cyan-500"}`,style:{width:`${se}%`}})}),l.jsxs("div",{className:"text-[7px] font-bold text-[var(--text-muted)] opacity-40 uppercase",children:[P.done,"/",P.total," "]})]},k.key)})}),l.jsxs("div",{className:"mt-8 pt-6 border-t border-theme flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"w-12 h-12 rounded-xl bg-[var(--primary)]/10 flex items-center justify-center text-[var(--primary)] text-xl font-black shadow-inner",children:[G.kpi,"%"]}),l.jsxs("div",{children:[l.jsx(ee,{variant:"tiny",className:"text-[var(--text-muted)] font-black text-[8px] uppercase tracking-widest opacity-60",children:" "}),l.jsxs("div",{className:"text-10px font-black text-[var(--text-main)] uppercase",children:[" ",G.doneCount,"  ",G.totalCount," "]})]})]}),l.jsxs("button",{onClick:pe,disabled:q,className:"w-full md:w-auto flex items-center justify-center gap-2 bg-[var(--text-main)] text-[var(--bg-main)] px-8 py-3 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all hover:scale-[1.02] active:scale-95 disabled:opacity-50",children:[q?l.jsx("i",{className:"fa-solid fa-circle-notch animate-spin"}):l.jsx("i",{className:"fa-solid fa-sparkles text-[var(--primary)]"}),"  "]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs(De,{padding:"md",className:"border-emerald-100 bg-emerald-50/20",children:[l.jsx(ee,{variant:"tiny",className:"text-emerald-600 font-black mb-1 uppercase text-[7px]",children:" "}),l.jsxs("div",{className:"text-2xl font-black text-emerald-700",children:[fe,"%"]}),l.jsx("p",{className:"text-[9px] text-emerald-600/60 font-bold uppercase mt-1",children:" "})]}),l.jsxs(De,{padding:"md",className:"border-orange-100 bg-orange-50/20",children:[l.jsx(ee,{variant:"tiny",className:"text-orange-600 font-black mb-1 uppercase text-[7px]",children:" "}),l.jsxs("div",{className:"text-2xl font-black text-orange-700",children:["+",G.doneCount*50," XP"]}),l.jsxs("p",{className:"text-[9px] text-orange-600/60 font-bold uppercase mt-1",children:["  ",R]})]})]})]})})})]}),l.jsx("div",{className:`flex h-full border-l border-[var(--border-color)] z-[110] bg-[var(--bg-card)] shrink-0 transition-all duration-300 ${S?"translate-x-0":"translate-x-full absolute"}`,style:{width:S?E:0},children:S&&l.jsxs("div",{className:"h-full w-full relative",children:[l.jsx("div",{onMouseDown:O,className:`absolute left-0 top-0 bottom-0 w-[1px] cursor-col-resize hover:bg-[var(--primary)] z-[100] ${L?"bg-[var(--primary)]":"bg-[var(--border-color)]"}`}),l.jsx(qs,{task:s.find(k=>k.id===S),onClose:()=>_(null)})]})})]})},Rp=10,_0=()=>{const[s,t]=j.useState(Array(Rp).fill(null).map(()=>Array(Rp).fill(!0))),n=(i,o)=>{const u=[...s];u[i]=[...u[i]],u[i][o]=!1,t(u)};return l.jsxs("div",{className:"p-8 h-full bg-slate-950 overflow-auto",children:[l.jsxs("div",{className:"mb-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-heading font-bold text-white",children:" "}),l.jsx("p",{className:"text-slate-400",children:" ,       ."})]}),l.jsxs("div",{className:"bg-slate-900 px-6 py-2 rounded-full border border-slate-800 text-yellow-400 font-bold flex items-center gap-3",children:[l.jsx("i",{className:"fa-solid fa-compass"})," : 12%"]})]}),l.jsx("div",{className:"inline-grid grid-cols-5 md:grid-cols-10 gap-2 bg-slate-900/50 p-4 rounded-3xl shadow-2xl border border-slate-800 backdrop-blur-md",children:s.map((i,o)=>i.map((u,p)=>l.jsxs("div",{onClick:()=>n(o,p),className:`w-14 h-14 md:w-20 md:h-20 rounded-xl cursor-pointer flex items-center justify-center relative overflow-hidden group ${u?"bg-slate-800 border border-slate-700 hover:bg-slate-700":"bg-emerald-900/20 border border-emerald-500/30 shadow-[inset_0_0_20px_rgba(16,185,129,0.1)]"}`,children:[u?l.jsx("div",{className:"text-slate-600 group-hover:scale-125",children:l.jsx("i",{className:"fa-solid fa-cloud"})}):l.jsx("div",{className:"text-2xl text-white",children:Math.random()>.9?l.jsx("i",{className:"fa-solid fa-gem text-cyan-400"}):Math.random()>.7?l.jsx("i",{className:"fa-solid fa-tree text-emerald-500"}):l.jsx("i",{className:"fa-solid fa-chess-rook text-slate-400"})}),u&&l.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-black/40 to-transparent pointer-events-none"})]},`${o}-${p}`)))})]})};var Je;(function(s){s.assertEqual=o=>{};function t(o){}s.assertIs=t;function n(o){throw new Error}s.assertNever=n,s.arrayToEnum=o=>{const u={};for(const p of o)u[p]=p;return u},s.getValidEnumValues=o=>{const u=s.objectKeys(o).filter(g=>typeof o[o[g]]!="number"),p={};for(const g of u)p[g]=o[g];return s.objectValues(p)},s.objectValues=o=>s.objectKeys(o).map(function(u){return o[u]}),s.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const u=[];for(const p in o)Object.prototype.hasOwnProperty.call(o,p)&&u.push(p);return u},s.find=(o,u)=>{for(const p of o)if(u(p))return p},s.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function i(o,u=" | "){return o.map(p=>typeof p=="string"?`'${p}'`:p).join(u)}s.joinValues=i,s.jsonStringifyReplacer=(o,u)=>typeof u=="bigint"?u.toString():u})(Je||(Je={}));var Ip;(function(s){s.mergeShapes=(t,n)=>({...t,...n})})(Ip||(Ip={}));const Ce=Je.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ha=s=>{switch(typeof s){case"undefined":return Ce.undefined;case"string":return Ce.string;case"number":return Number.isNaN(s)?Ce.nan:Ce.number;case"boolean":return Ce.boolean;case"function":return Ce.function;case"bigint":return Ce.bigint;case"symbol":return Ce.symbol;case"object":return Array.isArray(s)?Ce.array:s===null?Ce.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?Ce.promise:typeof Map<"u"&&s instanceof Map?Ce.map:typeof Set<"u"&&s instanceof Set?Ce.set:typeof Date<"u"&&s instanceof Date?Ce.date:Ce.object;default:return Ce.unknown}},ge=Je.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Bn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(u){return u.message},i={_errors:[]},o=u=>{for(const p of u.issues)if(p.code==="invalid_union")p.unionErrors.map(o);else if(p.code==="invalid_return_type")o(p.returnTypeError);else if(p.code==="invalid_arguments")o(p.argumentsError);else if(p.path.length===0)i._errors.push(n(p));else{let g=i,v=0;for(;v<p.path.length;){const x=p.path[v];v===p.path.length-1?(g[x]=g[x]||{_errors:[]},g[x]._errors.push(n(p))):g[x]=g[x]||{_errors:[]},g=g[x],v++}}};return o(this),i}static assert(t){if(!(t instanceof Bn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Je.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},i=[];for(const o of this.issues)if(o.path.length>0){const u=o.path[0];n[u]=n[u]||[],n[u].push(t(o))}else i.push(t(o));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}Bn.create=s=>new Bn(s);const eu=(s,t)=>{let n;switch(s.code){case ge.invalid_type:s.received===Ce.undefined?n="Required":n=`Expected ${s.expected}, received ${s.received}`;break;case ge.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(s.expected,Je.jsonStringifyReplacer)}`;break;case ge.unrecognized_keys:n=`Unrecognized key(s) in object: ${Je.joinValues(s.keys,", ")}`;break;case ge.invalid_union:n="Invalid input";break;case ge.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Je.joinValues(s.options)}`;break;case ge.invalid_enum_value:n=`Invalid enum value. Expected ${Je.joinValues(s.options)}, received '${s.received}'`;break;case ge.invalid_arguments:n="Invalid function arguments";break;case ge.invalid_return_type:n="Invalid function return type";break;case ge.invalid_date:n="Invalid date";break;case ge.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(n=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?n=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?n=`Invalid input: must end with "${s.validation.endsWith}"`:Je.assertNever(s.validation):s.validation!=="regex"?n=`Invalid ${s.validation}`:n="Invalid";break;case ge.too_small:s.type==="array"?n=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?n=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?n=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="bigint"?n=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?n=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:n="Invalid input";break;case ge.too_big:s.type==="array"?n=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?n=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?n=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?n=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?n=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:n="Invalid input";break;case ge.custom:n="Invalid input";break;case ge.invalid_intersection_types:n="Intersection results could not be merged";break;case ge.not_multiple_of:n=`Number must be a multiple of ${s.multipleOf}`;break;case ge.not_finite:n="Number must be finite";break;default:n=t.defaultError,Je.assertNever(s)}return{message:n}};let k0=eu;function j0(){return k0}const E0=s=>{const{data:t,path:n,errorMaps:i,issueData:o}=s,u=[...n,...o.path||[]],p={...o,path:u};if(o.message!==void 0)return{...o,path:u,message:o.message};let g="";const v=i.filter(x=>!!x).slice().reverse();for(const x of v)g=x(p,{data:t,defaultError:g}).message;return{...o,path:u,message:g}};function Ne(s,t){const n=j0(),i=E0({issueData:t,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,n,n===eu?void 0:eu].filter(o=>!!o)});s.common.issues.push(i)}class It{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const i=[];for(const o of n){if(o.status==="aborted")return Re;o.status==="dirty"&&t.dirty(),i.push(o.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,n){const i=[];for(const o of n){const u=await o.key,p=await o.value;i.push({key:u,value:p})}return It.mergeObjectSync(t,i)}static mergeObjectSync(t,n){const i={};for(const o of n){const{key:u,value:p}=o;if(u.status==="aborted"||p.status==="aborted")return Re;u.status==="dirty"&&t.dirty(),p.status==="dirty"&&t.dirty(),u.value!=="__proto__"&&(typeof p.value<"u"||o.alwaysSet)&&(i[u.value]=p.value)}return{status:t.value,value:i}}}const Re=Object.freeze({status:"aborted"}),Gi=s=>({status:"dirty",value:s}),un=s=>({status:"valid",value:s}),Up=s=>s.status==="aborted",zp=s=>s.status==="dirty",Os=s=>s.status==="valid",gr=s=>typeof Promise<"u"&&s instanceof Promise;var ke;(function(s){s.errToObj=t=>typeof t=="string"?{message:t}:t||{},s.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ke||(ke={}));class wn{constructor(t,n,i,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=i,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Op=(s,t)=>{if(Os(t))return{success:!0,data:t.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Bn(s.common.issues);return this._error=n,this._error}}};function Oe(s){if(!s)return{};const{errorMap:t,invalid_type_error:n,required_error:i,description:o}=s;if(t&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(p,g)=>{const{message:v}=s;return p.code==="invalid_enum_value"?{message:v??g.defaultError}:typeof g.data>"u"?{message:v??i??g.defaultError}:p.code!=="invalid_type"?{message:g.defaultError}:{message:v??n??g.defaultError}},description:o}}class Fe{get description(){return this._def.description}_getType(t){return ha(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ha(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new It,ctx:{common:t.parent.common,data:t.data,parsedType:ha(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(gr(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const i=this.safeParse(t,n);if(i.success)return i.data;throw i.error}safeParse(t,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ha(t)},o=this._parseSync({data:t,path:i.path,parent:i});return Op(i,o)}"~validate"(t){var i,o;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ha(t)};if(!this["~standard"].async)try{const u=this._parseSync({data:t,path:[],parent:n});return Os(u)?{value:u.value}:{issues:n.common.issues}}catch(u){(o=(i=u==null?void 0:u.message)==null?void 0:i.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(u=>Os(u)?{value:u.value}:{issues:n.common.issues})}async parseAsync(t,n){const i=await this.safeParseAsync(t,n);if(i.success)return i.data;throw i.error}async safeParseAsync(t,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ha(t)},o=this._parse({data:t,path:i.path,parent:i}),u=await(gr(o)?o:Promise.resolve(o));return Op(i,u)}refine(t,n){const i=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,u)=>{const p=t(o),g=()=>u.addIssue({code:ge.custom,...i(o)});return typeof Promise<"u"&&p instanceof Promise?p.then(v=>v?!0:(g(),!1)):p?!0:(g(),!1)})}refinement(t,n){return this._refinement((i,o)=>t(i)?!0:(o.addIssue(typeof n=="function"?n(i,o):n),!1))}_refinement(t){return new Hs({schema:this,typeName:Me.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return xa.create(this,this._def)}nullable(){return Bs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Nn.create(this)}promise(){return wr.create(this,this._def)}or(t){return yr.create([this,t],this._def)}and(t){return br.create(this,t,this._def)}transform(t){return new Hs({...Oe(this._def),schema:this,typeName:Me.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new su({...Oe(this._def),innerType:this,defaultValue:n,typeName:Me.ZodDefault})}brand(){return new Q0({typeName:Me.ZodBranded,type:this,...Oe(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new iu({...Oe(this._def),innerType:this,catchValue:n,typeName:Me.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return vu.create(this,t)}readonly(){return lu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const A0=/^c[^\s-]{8,}$/i,D0=/^[0-9a-z]+$/,M0=/^[0-9A-HJKMNP-TV-Z]{26}$/i,R0=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,I0=/^[a-z0-9_-]{21}$/i,U0=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,z0=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,O0=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,L0="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Xc;const V0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,H0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,B0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,G0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,q0=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,P0=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,mx="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$0=new RegExp(`^${mx}$`);function px(s){let t="[0-5]\\d";s.precision?t=`${t}\\.\\d{${s.precision}}`:s.precision==null&&(t=`${t}(\\.\\d+)?`);const n=s.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function F0(s){return new RegExp(`^${px(s)}$`)}function Y0(s){let t=`${mx}T${px(s)}`;const n=[];return n.push(s.local?"Z?":"Z"),s.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Z0(s,t){return!!((t==="v4"||!t)&&V0.test(s)||(t==="v6"||!t)&&B0.test(s))}function K0(s,t){if(!U0.test(s))return!1;try{const[n]=s.split(".");if(!n)return!1;const i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||t&&o.alg!==t)}catch{return!1}}function J0(s,t){return!!((t==="v4"||!t)&&H0.test(s)||(t==="v6"||!t)&&G0.test(s))}class bn extends Fe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ce.string){const u=this._getOrReturnCtx(t);return Ne(u,{code:ge.invalid_type,expected:Ce.string,received:u.parsedType}),Re}const i=new It;let o;for(const u of this._def.checks)if(u.kind==="min")t.data.length<u.value&&(o=this._getOrReturnCtx(t,o),Ne(o,{code:ge.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),i.dirty());else if(u.kind==="max")t.data.length>u.value&&(o=this._getOrReturnCtx(t,o),Ne(o,{code:ge.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),i.dirty());else if(u.kind==="length"){const p=t.data.length>u.value,g=t.data.length<u.value;(p||g)&&(o=this._getOrReturnCtx(t,o),p?Ne(o,{code:ge.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):g&&Ne(o,{code:ge.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),i.dirty())}else if(u.kind==="email")O0.test(t.data)||(o=this._getOrReturnCtx(t,o),Ne(o,{validation:"email",code:ge.invalid_string,message:u.message}),i.dirty());else if(u.kind==="emoji")Xc||(Xc=new RegExp(L0,"u")),Xc.test(t.data)||(o=this._getOrReturnCtx(t,o),Ne(o,{validation:"emoji",code:ge.invalid_string,message:u.message}),i.dirty());else if(u.kind==="uuid")R0.test(t.data)||(o=this._getOrReturnCtx(t,o),Ne(o,{validation:"uuid",code:ge.invalid_string,message:u.message}),i.dirty());else if(u.kind==="nanoid")I0.test(t.data)||(o=this._getOrReturnCtx(t,o),Ne(o,{validation:"nanoid",code:ge.invalid_string,message:u.message}),i.dirty());else if(u.kind==="cuid")A0.test(t.data)||(o=this._getOrReturnCtx(t,o),Ne(o,{validation:"cuid",code:ge.invalid_string,message:u.message}),i.dirty());else if(u.kind==="cuid2")D0.test(t.data)||(o=this._getOrReturnCtx(t,o),Ne(o,{validation:"cuid2",code:ge.invalid_string,message:u.message}),i.dirty());else if(u.kind==="ulid")M0.test(t.data)||(o=this._getOrReturnCtx(t,o),Ne(o,{validation:"ulid",code:ge.invalid_string,message:u.message}),i.dirty());else if(u.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),Ne(o,{validation:"url",code:ge.invalid_string,message:u.message}),i.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),Ne(o,{validation:"regex",code:ge.invalid_string,message:u.message}),i.dirty())):u.kind==="trim"?t.data=t.data.trim():u.kind==="includes"?t.data.includes(u.value,u.position)||(o=this._getOrReturnCtx(t,o),Ne(o,{code:ge.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),i.dirty()):u.kind==="toLowerCase"?t.data=t.data.toLowerCase():u.kind==="toUpperCase"?t.data=t.data.toUpperCase():u.kind==="startsWith"?t.data.startsWith(u.value)||(o=this._getOrReturnCtx(t,o),Ne(o,{code:ge.invalid_string,validation:{startsWith:u.value},message:u.message}),i.dirty()):u.kind==="endsWith"?t.data.endsWith(u.value)||(o=this._getOrReturnCtx(t,o),Ne(o,{code:ge.invalid_string,validation:{endsWith:u.value},message:u.message}),i.dirty()):u.kind==="datetime"?Y0(u).test(t.data)||(o=this._getOrReturnCtx(t,o),Ne(o,{code:ge.invalid_string,validation:"datetime",message:u.message}),i.dirty()):u.kind==="date"?$0.test(t.data)||(o=this._getOrReturnCtx(t,o),Ne(o,{code:ge.invalid_string,validation:"date",message:u.message}),i.dirty()):u.kind==="time"?F0(u).test(t.data)||(o=this._getOrReturnCtx(t,o),Ne(o,{code:ge.invalid_string,validation:"time",message:u.message}),i.dirty()):u.kind==="duration"?z0.test(t.data)||(o=this._getOrReturnCtx(t,o),Ne(o,{validation:"duration",code:ge.invalid_string,message:u.message}),i.dirty()):u.kind==="ip"?Z0(t.data,u.version)||(o=this._getOrReturnCtx(t,o),Ne(o,{validation:"ip",code:ge.invalid_string,message:u.message}),i.dirty()):u.kind==="jwt"?K0(t.data,u.alg)||(o=this._getOrReturnCtx(t,o),Ne(o,{validation:"jwt",code:ge.invalid_string,message:u.message}),i.dirty()):u.kind==="cidr"?J0(t.data,u.version)||(o=this._getOrReturnCtx(t,o),Ne(o,{validation:"cidr",code:ge.invalid_string,message:u.message}),i.dirty()):u.kind==="base64"?q0.test(t.data)||(o=this._getOrReturnCtx(t,o),Ne(o,{validation:"base64",code:ge.invalid_string,message:u.message}),i.dirty()):u.kind==="base64url"?P0.test(t.data)||(o=this._getOrReturnCtx(t,o),Ne(o,{validation:"base64url",code:ge.invalid_string,message:u.message}),i.dirty()):Je.assertNever(u);return{status:i.value,value:t.data}}_regex(t,n,i){return this.refinement(o=>t.test(o),{validation:n,code:ge.invalid_string,...ke.errToObj(i)})}_addCheck(t){return new bn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ke.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ke.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ke.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ke.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ke.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ke.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ke.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ke.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ke.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ke.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ke.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ke.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ke.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ke.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ke.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ke.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ke.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...ke.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ke.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ke.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ke.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ke.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ke.errToObj(n)})}nonempty(t){return this.min(1,ke.errToObj(t))}trim(){return new bn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}bn.create=s=>new bn({checks:[],typeName:Me.ZodString,coerce:(s==null?void 0:s.coerce)??!1,...Oe(s)});function X0(s,t){const n=(s.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,o=n>i?n:i,u=Number.parseInt(s.toFixed(o).replace(".","")),p=Number.parseInt(t.toFixed(o).replace(".",""));return u%p/10**o}class Ha extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ce.number){const u=this._getOrReturnCtx(t);return Ne(u,{code:ge.invalid_type,expected:Ce.number,received:u.parsedType}),Re}let i;const o=new It;for(const u of this._def.checks)u.kind==="int"?Je.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),Ne(i,{code:ge.invalid_type,expected:"integer",received:"float",message:u.message}),o.dirty()):u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(i=this._getOrReturnCtx(t,i),Ne(i,{code:ge.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),o.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(i=this._getOrReturnCtx(t,i),Ne(i,{code:ge.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),o.dirty()):u.kind==="multipleOf"?X0(t.data,u.value)!==0&&(i=this._getOrReturnCtx(t,i),Ne(i,{code:ge.not_multiple_of,multipleOf:u.value,message:u.message}),o.dirty()):u.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),Ne(i,{code:ge.not_finite,message:u.message}),o.dirty()):Je.assertNever(u);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ke.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ke.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ke.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ke.toString(n))}setLimit(t,n,i,o){return new Ha({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:ke.toString(o)}]})}_addCheck(t){return new Ha({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ke.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ke.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ke.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ke.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ke.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ke.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Je.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Ha.create=s=>new Ha({checks:[],typeName:Me.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...Oe(s)});class Ba extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ce.bigint)return this._getInvalidInput(t);let i;const o=new It;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(i=this._getOrReturnCtx(t,i),Ne(i,{code:ge.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),o.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(i=this._getOrReturnCtx(t,i),Ne(i,{code:ge.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),o.dirty()):u.kind==="multipleOf"?t.data%u.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),Ne(i,{code:ge.not_multiple_of,multipleOf:u.value,message:u.message}),o.dirty()):Je.assertNever(u);return{status:o.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Ne(n,{code:ge.invalid_type,expected:Ce.bigint,received:n.parsedType}),Re}gte(t,n){return this.setLimit("min",t,!0,ke.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ke.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ke.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ke.toString(n))}setLimit(t,n,i,o){return new Ba({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:ke.toString(o)}]})}_addCheck(t){return new Ba({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ke.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ke.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ba.create=s=>new Ba({checks:[],typeName:Me.ZodBigInt,coerce:(s==null?void 0:s.coerce)??!1,...Oe(s)});class vr extends Fe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ce.boolean){const i=this._getOrReturnCtx(t);return Ne(i,{code:ge.invalid_type,expected:Ce.boolean,received:i.parsedType}),Re}return un(t.data)}}vr.create=s=>new vr({typeName:Me.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...Oe(s)});class Ls extends Fe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ce.date){const u=this._getOrReturnCtx(t);return Ne(u,{code:ge.invalid_type,expected:Ce.date,received:u.parsedType}),Re}if(Number.isNaN(t.data.getTime())){const u=this._getOrReturnCtx(t);return Ne(u,{code:ge.invalid_date}),Re}const i=new It;let o;for(const u of this._def.checks)u.kind==="min"?t.data.getTime()<u.value&&(o=this._getOrReturnCtx(t,o),Ne(o,{code:ge.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),i.dirty()):u.kind==="max"?t.data.getTime()>u.value&&(o=this._getOrReturnCtx(t,o),Ne(o,{code:ge.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),i.dirty()):Je.assertNever(u);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ls({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ke.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ke.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Ls.create=s=>new Ls({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:Me.ZodDate,...Oe(s)});class Lp extends Fe{_parse(t){if(this._getType(t)!==Ce.symbol){const i=this._getOrReturnCtx(t);return Ne(i,{code:ge.invalid_type,expected:Ce.symbol,received:i.parsedType}),Re}return un(t.data)}}Lp.create=s=>new Lp({typeName:Me.ZodSymbol,...Oe(s)});class Vp extends Fe{_parse(t){if(this._getType(t)!==Ce.undefined){const i=this._getOrReturnCtx(t);return Ne(i,{code:ge.invalid_type,expected:Ce.undefined,received:i.parsedType}),Re}return un(t.data)}}Vp.create=s=>new Vp({typeName:Me.ZodUndefined,...Oe(s)});class Hp extends Fe{_parse(t){if(this._getType(t)!==Ce.null){const i=this._getOrReturnCtx(t);return Ne(i,{code:ge.invalid_type,expected:Ce.null,received:i.parsedType}),Re}return un(t.data)}}Hp.create=s=>new Hp({typeName:Me.ZodNull,...Oe(s)});class Bp extends Fe{constructor(){super(...arguments),this._any=!0}_parse(t){return un(t.data)}}Bp.create=s=>new Bp({typeName:Me.ZodAny,...Oe(s)});class tu extends Fe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return un(t.data)}}tu.create=s=>new tu({typeName:Me.ZodUnknown,...Oe(s)});class ga extends Fe{_parse(t){const n=this._getOrReturnCtx(t);return Ne(n,{code:ge.invalid_type,expected:Ce.never,received:n.parsedType}),Re}}ga.create=s=>new ga({typeName:Me.ZodNever,...Oe(s)});class Gp extends Fe{_parse(t){if(this._getType(t)!==Ce.undefined){const i=this._getOrReturnCtx(t);return Ne(i,{code:ge.invalid_type,expected:Ce.void,received:i.parsedType}),Re}return un(t.data)}}Gp.create=s=>new Gp({typeName:Me.ZodVoid,...Oe(s)});class Nn extends Fe{_parse(t){const{ctx:n,status:i}=this._processInputParams(t),o=this._def;if(n.parsedType!==Ce.array)return Ne(n,{code:ge.invalid_type,expected:Ce.array,received:n.parsedType}),Re;if(o.exactLength!==null){const p=n.data.length>o.exactLength.value,g=n.data.length<o.exactLength.value;(p||g)&&(Ne(n,{code:p?ge.too_big:ge.too_small,minimum:g?o.exactLength.value:void 0,maximum:p?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(Ne(n,{code:ge.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(Ne(n,{code:ge.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((p,g)=>o.type._parseAsync(new wn(n,p,n.path,g)))).then(p=>It.mergeArray(i,p));const u=[...n.data].map((p,g)=>o.type._parseSync(new wn(n,p,n.path,g)));return It.mergeArray(i,u)}get element(){return this._def.type}min(t,n){return new Nn({...this._def,minLength:{value:t,message:ke.toString(n)}})}max(t,n){return new Nn({...this._def,maxLength:{value:t,message:ke.toString(n)}})}length(t,n){return new Nn({...this._def,exactLength:{value:t,message:ke.toString(n)}})}nonempty(t){return this.min(1,t)}}Nn.create=(s,t)=>new Nn({type:s,minLength:null,maxLength:null,exactLength:null,typeName:Me.ZodArray,...Oe(t)});function Ms(s){if(s instanceof wt){const t={};for(const n in s.shape){const i=s.shape[n];t[n]=xa.create(Ms(i))}return new wt({...s._def,shape:()=>t})}else return s instanceof Nn?new Nn({...s._def,type:Ms(s.element)}):s instanceof xa?xa.create(Ms(s.unwrap())):s instanceof Bs?Bs.create(Ms(s.unwrap())):s instanceof Ga?Ga.create(s.items.map(t=>Ms(t))):s}class wt extends Fe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Je.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==Ce.object){const x=this._getOrReturnCtx(t);return Ne(x,{code:ge.invalid_type,expected:Ce.object,received:x.parsedType}),Re}const{status:i,ctx:o}=this._processInputParams(t),{shape:u,keys:p}=this._getCached(),g=[];if(!(this._def.catchall instanceof ga&&this._def.unknownKeys==="strip"))for(const x in o.data)p.includes(x)||g.push(x);const v=[];for(const x of p){const y=u[x],b=o.data[x];v.push({key:{status:"valid",value:x},value:y._parse(new wn(o,b,o.path,x)),alwaysSet:x in o.data})}if(this._def.catchall instanceof ga){const x=this._def.unknownKeys;if(x==="passthrough")for(const y of g)v.push({key:{status:"valid",value:y},value:{status:"valid",value:o.data[y]}});else if(x==="strict")g.length>0&&(Ne(o,{code:ge.unrecognized_keys,keys:g}),i.dirty());else if(x!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const x=this._def.catchall;for(const y of g){const b=o.data[y];v.push({key:{status:"valid",value:y},value:x._parse(new wn(o,b,o.path,y)),alwaysSet:y in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const x=[];for(const y of v){const b=await y.key,w=await y.value;x.push({key:b,value:w,alwaysSet:y.alwaysSet})}return x}).then(x=>It.mergeObjectSync(i,x)):It.mergeObjectSync(i,v)}get shape(){return this._def.shape()}strict(t){return ke.errToObj,new wt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,i)=>{var u,p;const o=((p=(u=this._def).errorMap)==null?void 0:p.call(u,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:ke.errToObj(t).message??o}:{message:o}}}:{}})}strip(){return new wt({...this._def,unknownKeys:"strip"})}passthrough(){return new wt({...this._def,unknownKeys:"passthrough"})}extend(t){return new wt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new wt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Me.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new wt({...this._def,catchall:t})}pick(t){const n={};for(const i of Je.objectKeys(t))t[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new wt({...this._def,shape:()=>n})}omit(t){const n={};for(const i of Je.objectKeys(this.shape))t[i]||(n[i]=this.shape[i]);return new wt({...this._def,shape:()=>n})}deepPartial(){return Ms(this)}partial(t){const n={};for(const i of Je.objectKeys(this.shape)){const o=this.shape[i];t&&!t[i]?n[i]=o:n[i]=o.optional()}return new wt({...this._def,shape:()=>n})}required(t){const n={};for(const i of Je.objectKeys(this.shape))if(t&&!t[i])n[i]=this.shape[i];else{let u=this.shape[i];for(;u instanceof xa;)u=u._def.innerType;n[i]=u}return new wt({...this._def,shape:()=>n})}keyof(){return hx(Je.objectKeys(this.shape))}}wt.create=(s,t)=>new wt({shape:()=>s,unknownKeys:"strip",catchall:ga.create(),typeName:Me.ZodObject,...Oe(t)});wt.strictCreate=(s,t)=>new wt({shape:()=>s,unknownKeys:"strict",catchall:ga.create(),typeName:Me.ZodObject,...Oe(t)});wt.lazycreate=(s,t)=>new wt({shape:s,unknownKeys:"strip",catchall:ga.create(),typeName:Me.ZodObject,...Oe(t)});class yr extends Fe{_parse(t){const{ctx:n}=this._processInputParams(t),i=this._def.options;function o(u){for(const g of u)if(g.result.status==="valid")return g.result;for(const g of u)if(g.result.status==="dirty")return n.common.issues.push(...g.ctx.common.issues),g.result;const p=u.map(g=>new Bn(g.ctx.common.issues));return Ne(n,{code:ge.invalid_union,unionErrors:p}),Re}if(n.common.async)return Promise.all(i.map(async u=>{const p={...n,common:{...n.common,issues:[]},parent:null};return{result:await u._parseAsync({data:n.data,path:n.path,parent:p}),ctx:p}})).then(o);{let u;const p=[];for(const v of i){const x={...n,common:{...n.common,issues:[]},parent:null},y=v._parseSync({data:n.data,path:n.path,parent:x});if(y.status==="valid")return y;y.status==="dirty"&&!u&&(u={result:y,ctx:x}),x.common.issues.length&&p.push(x.common.issues)}if(u)return n.common.issues.push(...u.ctx.common.issues),u.result;const g=p.map(v=>new Bn(v));return Ne(n,{code:ge.invalid_union,unionErrors:g}),Re}}get options(){return this._def.options}}yr.create=(s,t)=>new yr({options:s,typeName:Me.ZodUnion,...Oe(t)});function nu(s,t){const n=ha(s),i=ha(t);if(s===t)return{valid:!0,data:s};if(n===Ce.object&&i===Ce.object){const o=Je.objectKeys(t),u=Je.objectKeys(s).filter(g=>o.indexOf(g)!==-1),p={...s,...t};for(const g of u){const v=nu(s[g],t[g]);if(!v.valid)return{valid:!1};p[g]=v.data}return{valid:!0,data:p}}else if(n===Ce.array&&i===Ce.array){if(s.length!==t.length)return{valid:!1};const o=[];for(let u=0;u<s.length;u++){const p=s[u],g=t[u],v=nu(p,g);if(!v.valid)return{valid:!1};o.push(v.data)}return{valid:!0,data:o}}else return n===Ce.date&&i===Ce.date&&+s==+t?{valid:!0,data:s}:{valid:!1}}class br extends Fe{_parse(t){const{status:n,ctx:i}=this._processInputParams(t),o=(u,p)=>{if(Up(u)||Up(p))return Re;const g=nu(u.value,p.value);return g.valid?((zp(u)||zp(p))&&n.dirty(),{status:n.value,value:g.data}):(Ne(i,{code:ge.invalid_intersection_types}),Re)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([u,p])=>o(u,p)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}br.create=(s,t,n)=>new br({left:s,right:t,typeName:Me.ZodIntersection,...Oe(n)});class Ga extends Fe{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Ce.array)return Ne(i,{code:ge.invalid_type,expected:Ce.array,received:i.parsedType}),Re;if(i.data.length<this._def.items.length)return Ne(i,{code:ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Re;!this._def.rest&&i.data.length>this._def.items.length&&(Ne(i,{code:ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const u=[...i.data].map((p,g)=>{const v=this._def.items[g]||this._def.rest;return v?v._parse(new wn(i,p,i.path,g)):null}).filter(p=>!!p);return i.common.async?Promise.all(u).then(p=>It.mergeArray(n,p)):It.mergeArray(n,u)}get items(){return this._def.items}rest(t){return new Ga({...this._def,rest:t})}}Ga.create=(s,t)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ga({items:s,typeName:Me.ZodTuple,rest:null,...Oe(t)})};class Nr extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Ce.object)return Ne(i,{code:ge.invalid_type,expected:Ce.object,received:i.parsedType}),Re;const o=[],u=this._def.keyType,p=this._def.valueType;for(const g in i.data)o.push({key:u._parse(new wn(i,g,i.path,g)),value:p._parse(new wn(i,i.data[g],i.path,g)),alwaysSet:g in i.data});return i.common.async?It.mergeObjectAsync(n,o):It.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,i){return n instanceof Fe?new Nr({keyType:t,valueType:n,typeName:Me.ZodRecord,...Oe(i)}):new Nr({keyType:bn.create(),valueType:t,typeName:Me.ZodRecord,...Oe(n)})}}class qp extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Ce.map)return Ne(i,{code:ge.invalid_type,expected:Ce.map,received:i.parsedType}),Re;const o=this._def.keyType,u=this._def.valueType,p=[...i.data.entries()].map(([g,v],x)=>({key:o._parse(new wn(i,g,i.path,[x,"key"])),value:u._parse(new wn(i,v,i.path,[x,"value"]))}));if(i.common.async){const g=new Map;return Promise.resolve().then(async()=>{for(const v of p){const x=await v.key,y=await v.value;if(x.status==="aborted"||y.status==="aborted")return Re;(x.status==="dirty"||y.status==="dirty")&&n.dirty(),g.set(x.value,y.value)}return{status:n.value,value:g}})}else{const g=new Map;for(const v of p){const x=v.key,y=v.value;if(x.status==="aborted"||y.status==="aborted")return Re;(x.status==="dirty"||y.status==="dirty")&&n.dirty(),g.set(x.value,y.value)}return{status:n.value,value:g}}}}qp.create=(s,t,n)=>new qp({valueType:t,keyType:s,typeName:Me.ZodMap,...Oe(n)});class $i extends Fe{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Ce.set)return Ne(i,{code:ge.invalid_type,expected:Ce.set,received:i.parsedType}),Re;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(Ne(i,{code:ge.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(Ne(i,{code:ge.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const u=this._def.valueType;function p(v){const x=new Set;for(const y of v){if(y.status==="aborted")return Re;y.status==="dirty"&&n.dirty(),x.add(y.value)}return{status:n.value,value:x}}const g=[...i.data.values()].map((v,x)=>u._parse(new wn(i,v,i.path,x)));return i.common.async?Promise.all(g).then(v=>p(v)):p(g)}min(t,n){return new $i({...this._def,minSize:{value:t,message:ke.toString(n)}})}max(t,n){return new $i({...this._def,maxSize:{value:t,message:ke.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}$i.create=(s,t)=>new $i({valueType:s,minSize:null,maxSize:null,typeName:Me.ZodSet,...Oe(t)});class au extends Fe{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}au.create=(s,t)=>new au({getter:s,typeName:Me.ZodLazy,...Oe(t)});class Pp extends Fe{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Ne(n,{received:n.data,code:ge.invalid_literal,expected:this._def.value}),Re}return{status:"valid",value:t.data}}get value(){return this._def.value}}Pp.create=(s,t)=>new Pp({value:s,typeName:Me.ZodLiteral,...Oe(t)});function hx(s,t){return new Vs({values:s,typeName:Me.ZodEnum,...Oe(t)})}class Vs extends Fe{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),i=this._def.values;return Ne(n,{expected:Je.joinValues(i),received:n.parsedType,code:ge.invalid_type}),Re}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),i=this._def.values;return Ne(n,{received:n.data,code:ge.invalid_enum_value,options:i}),Re}return un(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Vs.create(t,{...this._def,...n})}exclude(t,n=this._def){return Vs.create(this.options.filter(i=>!t.includes(i)),{...this._def,...n})}}Vs.create=hx;class $p extends Fe{_parse(t){const n=Je.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==Ce.string&&i.parsedType!==Ce.number){const o=Je.objectValues(n);return Ne(i,{expected:Je.joinValues(o),received:i.parsedType,code:ge.invalid_type}),Re}if(this._cache||(this._cache=new Set(Je.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const o=Je.objectValues(n);return Ne(i,{received:i.data,code:ge.invalid_enum_value,options:o}),Re}return un(t.data)}get enum(){return this._def.values}}$p.create=(s,t)=>new $p({values:s,typeName:Me.ZodNativeEnum,...Oe(t)});class wr extends Fe{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ce.promise&&n.common.async===!1)return Ne(n,{code:ge.invalid_type,expected:Ce.promise,received:n.parsedType}),Re;const i=n.parsedType===Ce.promise?n.data:Promise.resolve(n.data);return un(i.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}wr.create=(s,t)=>new wr({type:s,typeName:Me.ZodPromise,...Oe(t)});class Hs extends Fe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Me.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:i}=this._processInputParams(t),o=this._def.effect||null,u={addIssue:p=>{Ne(i,p),p.fatal?n.abort():n.dirty()},get path(){return i.path}};if(u.addIssue=u.addIssue.bind(u),o.type==="preprocess"){const p=o.transform(i.data,u);if(i.common.async)return Promise.resolve(p).then(async g=>{if(n.value==="aborted")return Re;const v=await this._def.schema._parseAsync({data:g,path:i.path,parent:i});return v.status==="aborted"?Re:v.status==="dirty"||n.value==="dirty"?Gi(v.value):v});{if(n.value==="aborted")return Re;const g=this._def.schema._parseSync({data:p,path:i.path,parent:i});return g.status==="aborted"?Re:g.status==="dirty"||n.value==="dirty"?Gi(g.value):g}}if(o.type==="refinement"){const p=g=>{const v=o.refinement(g,u);if(i.common.async)return Promise.resolve(v);if(v instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(i.common.async===!1){const g=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return g.status==="aborted"?Re:(g.status==="dirty"&&n.dirty(),p(g.value),{status:n.value,value:g.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(g=>g.status==="aborted"?Re:(g.status==="dirty"&&n.dirty(),p(g.value).then(()=>({status:n.value,value:g.value}))))}if(o.type==="transform")if(i.common.async===!1){const p=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Os(p))return Re;const g=o.transform(p.value,u);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:g}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(p=>Os(p)?Promise.resolve(o.transform(p.value,u)).then(g=>({status:n.value,value:g})):Re);Je.assertNever(o)}}Hs.create=(s,t,n)=>new Hs({schema:s,typeName:Me.ZodEffects,effect:t,...Oe(n)});Hs.createWithPreprocess=(s,t,n)=>new Hs({schema:t,effect:{type:"preprocess",transform:s},typeName:Me.ZodEffects,...Oe(n)});class xa extends Fe{_parse(t){return this._getType(t)===Ce.undefined?un(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}xa.create=(s,t)=>new xa({innerType:s,typeName:Me.ZodOptional,...Oe(t)});class Bs extends Fe{_parse(t){return this._getType(t)===Ce.null?un(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Bs.create=(s,t)=>new Bs({innerType:s,typeName:Me.ZodNullable,...Oe(t)});class su extends Fe{_parse(t){const{ctx:n}=this._processInputParams(t);let i=n.data;return n.parsedType===Ce.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}su.create=(s,t)=>new su({innerType:s,typeName:Me.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Oe(t)});class iu extends Fe{_parse(t){const{ctx:n}=this._processInputParams(t),i={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return gr(o)?o.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new Bn(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Bn(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}iu.create=(s,t)=>new iu({innerType:s,typeName:Me.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Oe(t)});class Fp extends Fe{_parse(t){if(this._getType(t)!==Ce.nan){const i=this._getOrReturnCtx(t);return Ne(i,{code:ge.invalid_type,expected:Ce.nan,received:i.parsedType}),Re}return{status:"valid",value:t.data}}}Fp.create=s=>new Fp({typeName:Me.ZodNaN,...Oe(s)});class Q0 extends Fe{_parse(t){const{ctx:n}=this._processInputParams(t),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class vu extends Fe{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?Re:u.status==="dirty"?(n.dirty(),Gi(u.value)):this._def.out._parseAsync({data:u.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Re:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(t,n){return new vu({in:t,out:n,typeName:Me.ZodPipeline})}}class lu extends Fe{_parse(t){const n=this._def.innerType._parse(t),i=o=>(Os(o)&&(o.value=Object.freeze(o.value)),o);return gr(n)?n.then(o=>i(o)):i(n)}unwrap(){return this._def.innerType}}lu.create=(s,t)=>new lu({innerType:s,typeName:Me.ZodReadonly,...Oe(t)});var Me;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(Me||(Me={}));const Va=bn.create,Yp=Ha.create;Ba.create;const W0=vr.create;Ls.create;const Zp=tu.create;ga.create;const qi=Nn.create,ey=wt.create,ty=yr.create;br.create;Ga.create;const ny=Nr.create,ay=au.create,sy=Vs.create;wr.create;xa.create;Bs.create;const Es={string:(s=>bn.create({...s,coerce:!0})),number:(s=>Ha.create({...s,coerce:!0})),boolean:(s=>vr.create({...s,coerce:!0})),bigint:(s=>Ba.create({...s,coerce:!0})),date:(s=>Ls.create({...s,coerce:!0}))};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let iy,ly;function ry(){return{geminiUrl:iy,vertexUrl:ly}}function oy(s,t,n){var i,o,u;if(!(!((i=s.httpOptions)===null||i===void 0)&&i.baseUrl)){const p=ry();return s.vertexai?(o=p.vertexUrl)!==null&&o!==void 0?o:t:(u=p.geminiUrl)!==null&&u!==void 0?u:n}return s.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ps{}function Ae(s,t){const n=/\{([^}]+)\}/g;return s.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const u=t[o];return u!=null?String(u):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function f(s,t,n){for(let u=0;u<t.length-1;u++){const p=t[u];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in s))if(Array.isArray(n))s[g]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(s[g])){const v=s[g];if(Array.isArray(n))for(let x=0;x<v.length;x++){const y=v[x];f(y,t.slice(u+1),n[x])}else for(const x of v)f(x,t.slice(u+1),n)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in s||(s[g]=[{}]);const v=s[g];f(v[0],t.slice(u+1),n);return}(!s[p]||typeof s[p]!="object")&&(s[p]={}),s=s[p]}const i=t[t.length-1],o=s[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else s[i]=n}function d(s,t){try{if(t.length===1&&t[0]==="_self")return s;for(let n=0;n<t.length;n++){if(typeof s!="object"||s===null)return;const i=t[n];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in s){const u=s[o];return Array.isArray(u)?u.map(p=>d(p,t.slice(n+1))):void 0}else return}else s=s[i]}return s}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kp;(function(s){s.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",s.OUTCOME_OK="OUTCOME_OK",s.OUTCOME_FAILED="OUTCOME_FAILED",s.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Kp||(Kp={}));var Jp;(function(s){s.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",s.PYTHON="PYTHON"})(Jp||(Jp={}));var we;(function(s){s.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",s.STRING="STRING",s.NUMBER="NUMBER",s.INTEGER="INTEGER",s.BOOLEAN="BOOLEAN",s.ARRAY="ARRAY",s.OBJECT="OBJECT",s.NULL="NULL"})(we||(we={}));var Xp;(function(s){s.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",s.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",s.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",s.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",s.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",s.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Xp||(Xp={}));var Qp;(function(s){s.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",s.SEVERITY="SEVERITY",s.PROBABILITY="PROBABILITY"})(Qp||(Qp={}));var Wp;(function(s){s.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE",s.OFF="OFF"})(Wp||(Wp={}));var eh;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(eh||(eh={}));var th;(function(s){s.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",s.NO_AUTH="NO_AUTH",s.API_KEY_AUTH="API_KEY_AUTH",s.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",s.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",s.OAUTH="OAUTH",s.OIDC_AUTH="OIDC_AUTH"})(th||(th={}));var nh;(function(s){s.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",s.STOP="STOP",s.MAX_TOKENS="MAX_TOKENS",s.SAFETY="SAFETY",s.RECITATION="RECITATION",s.LANGUAGE="LANGUAGE",s.OTHER="OTHER",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT",s.SPII="SPII",s.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",s.IMAGE_SAFETY="IMAGE_SAFETY",s.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(nh||(nh={}));var ah;(function(s){s.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",s.NEGLIGIBLE="NEGLIGIBLE",s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH"})(ah||(ah={}));var sh;(function(s){s.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",s.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",s.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",s.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",s.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(sh||(sh={}));var ih;(function(s){s.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(ih||(ih={}));var lh;(function(s){s.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",s.ON_DEMAND="ON_DEMAND",s.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(lh||(lh={}));var Tr;(function(s){s.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",s.TEXT="TEXT",s.IMAGE="IMAGE",s.AUDIO="AUDIO"})(Tr||(Tr={}));var rh;(function(s){s.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",s.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",s.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",s.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(rh||(rh={}));var ru;(function(s){s.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",s.JOB_STATE_QUEUED="JOB_STATE_QUEUED",s.JOB_STATE_PENDING="JOB_STATE_PENDING",s.JOB_STATE_RUNNING="JOB_STATE_RUNNING",s.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",s.JOB_STATE_FAILED="JOB_STATE_FAILED",s.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",s.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",s.JOB_STATE_PAUSED="JOB_STATE_PAUSED",s.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",s.JOB_STATE_UPDATING="JOB_STATE_UPDATING",s.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ru||(ru={}));var oh;(function(s){s.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",s.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",s.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",s.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",s.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",s.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",s.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(oh||(oh={}));var ch;(function(s){s.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",s.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",s.BALANCED="BALANCED",s.PRIORITIZE_COST="PRIORITIZE_COST"})(ch||(ch={}));var uh;(function(s){s.UNSPECIFIED="UNSPECIFIED",s.BLOCKING="BLOCKING",s.NON_BLOCKING="NON_BLOCKING"})(uh||(uh={}));var dh;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(dh||(dh={}));var fh;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE"})(fh||(fh={}));var mh;(function(s){s.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",s.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",s.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(mh||(mh={}));var ph;(function(s){s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE"})(ph||(ph={}));var hh;(function(s){s.DONT_ALLOW="DONT_ALLOW",s.ALLOW_ADULT="ALLOW_ADULT",s.ALLOW_ALL="ALLOW_ALL"})(hh||(hh={}));var xh;(function(s){s.auto="auto",s.en="en",s.ja="ja",s.ko="ko",s.hi="hi"})(xh||(xh={}));var gh;(function(s){s.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",s.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",s.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",s.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",s.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(gh||(gh={}));var vh;(function(s){s.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",s.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",s.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",s.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(vh||(vh={}));var yh;(function(s){s.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",s.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",s.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",s.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(yh||(yh={}));var bh;(function(s){s.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",s.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",s.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",s.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",s.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",s.EDIT_MODE_STYLE="EDIT_MODE_STYLE",s.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",s.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(bh||(bh={}));var Nh;(function(s){s.STATE_UNSPECIFIED="STATE_UNSPECIFIED",s.PROCESSING="PROCESSING",s.ACTIVE="ACTIVE",s.FAILED="FAILED"})(Nh||(Nh={}));var wh;(function(s){s.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",s.UPLOADED="UPLOADED",s.GENERATED="GENERATED"})(wh||(wh={}));var Th;(function(s){s.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",s.TEXT="TEXT",s.IMAGE="IMAGE",s.VIDEO="VIDEO",s.AUDIO="AUDIO",s.DOCUMENT="DOCUMENT"})(Th||(Th={}));var Ch;(function(s){s.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",s.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",s.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ch||(Ch={}));var Sh;(function(s){s.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",s.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",s.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Sh||(Sh={}));var _h;(function(s){s.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",s.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",s.NO_INTERRUPTION="NO_INTERRUPTION"})(_h||(_h={}));var kh;(function(s){s.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",s.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",s.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(kh||(kh={}));var jh;(function(s){s.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",s.SILENT="SILENT",s.WHEN_IDLE="WHEN_IDLE",s.INTERRUPT="INTERRUPT"})(jh||(jh={}));var Eh;(function(s){s.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",s.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",s.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",s.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",s.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",s.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",s.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",s.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",s.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",s.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",s.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",s.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",s.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Eh||(Eh={}));var Rs;(function(s){s.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",s.PLAY="PLAY",s.PAUSE="PAUSE",s.STOP="STOP",s.RESET_CONTEXT="RESET_CONTEXT"})(Rs||(Rs={}));class Hi{get text(){var t,n,i,o,u,p,g,v;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let x="",y=!1;const b=[];for(const w of(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[S,_]of Object.entries(w))S!=="text"&&S!=="thought"&&(_!==null||_!==void 0)&&b.push(S);if(typeof w.text=="string"){if(typeof w.thought=="boolean"&&w.thought)continue;y=!0,x+=w.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?x:void 0}get data(){var t,n,i,o,u,p,g,v;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let x="";const y=[];for(const b of(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[w,S]of Object.entries(b))w!=="inlineData"&&(S!==null||S!==void 0)&&y.push(w);b.inlineData&&typeof b.inlineData.data=="string"&&(x+=atob(b.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),x.length>0?btoa(x):void 0}get functionCalls(){var t,n,i,o,u,p,g,v;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const x=(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((x==null?void 0:x.length)!==0)return x}get executableCode(){var t,n,i,o,u,p,g,v,x;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((y==null?void 0:y.length)!==0)return(x=y==null?void 0:y[0])===null||x===void 0?void 0:x.code}get codeExecutionResult(){var t,n,i,o,u,p,g,v,x;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((y==null?void 0:y.length)!==0)return(x=y==null?void 0:y[0])===null||x===void 0?void 0:x.output}}class Ah{}class Dh{}class cy{}class uy{}class Mh{}class Rh{}class Ih{}class dy{}class Uh{}class zh{}class Oh{}class fy{}class ou{constructor(t){const n={};for(const i of t.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class my{}class py{}class hy{get text(){var t,n,i;let o="",u=!1;const p=[];for(const g of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[v,x]of Object.entries(g))v!=="text"&&v!=="thought"&&x!==null&&p.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;u=!0,o+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?o:void 0}get data(){var t,n,i;let o="";const u=[];for(const p of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[g,v]of Object.entries(p))g!=="inlineData"&&v!==null&&u.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(o+=atob(p.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class xy{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lt(s,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(s.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function xx(s,t){const n=lt(s,t);return n?n.startsWith("publishers/")&&s.isVertexAI()?`projects/${s.getProject()}/locations/${s.getLocation()}/${n}`:n.startsWith("models/")&&s.isVertexAI()?`projects/${s.getProject()}/locations/${s.getLocation()}/publishers/google/${n}`:n:""}function gx(s,t){return Array.isArray(t)?t.map(n=>Cr(s,n)):[Cr(s,t)]}function Cr(s,t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function gy(s,t){const n=Cr(s,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function vy(s,t){const n=Cr(s,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Lh(s,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function vx(s,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>Lh(s,n)):[Lh(s,t)]}function cu(s){return s!=null&&typeof s=="object"&&"parts"in s&&Array.isArray(s.parts)}function Vh(s){return s!=null&&typeof s=="object"&&"functionCall"in s}function Hh(s){return s!=null&&typeof s=="object"&&"functionResponse"in s}function Rt(s,t){if(t==null)throw new Error("ContentUnion is required");return cu(t)?t:{role:"user",parts:vx(s,t)}}function yx(s,t){if(!t)return[];if(s.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const i=Rt(s,n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(s.isVertexAI()){const n=Rt(s,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Rt(s,n)):[Rt(s,t)]}function pn(s,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Vh(t)||Hh(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Rt(s,t)]}const n=[],i=[],o=cu(t[0]);for(const u of t){const p=cu(u);if(p!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(p)n.push(u);else{if(Vh(u)||Hh(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(u)}}return o||n.push({role:"user",parts:vx(s,i)}),n}const yy=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Bh=sy(["string","number","integer","object","array","boolean","null"]),by=ty([Bh,qi(Bh)]);function Ny(s=!0){const t=ay(()=>{const n=ey({type:by.optional(),format:Va().optional(),title:Va().optional(),description:Va().optional(),default:Zp().optional(),items:t.optional(),minItems:Es.string().optional(),maxItems:Es.string().optional(),enum:qi(Zp()).optional(),properties:ny(Va(),t).optional(),required:qi(Va()).optional(),minProperties:Es.string().optional(),maxProperties:Es.string().optional(),propertyOrdering:qi(Va()).optional(),minimum:Yp().optional(),maximum:Yp().optional(),minLength:Es.string().optional(),maxLength:Es.string().optional(),pattern:Va().optional(),anyOf:qi(t).optional(),additionalProperties:W0().optional()});return s?n.strict():n});return t}function wy(s,t){s.includes("null")&&(t.nullable=!0);const n=s.filter(i=>i!=="null");if(n.length===1)t.type=Object.keys(we).includes(n[0].toUpperCase())?we[n[0].toUpperCase()]:we.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const i of n)t.anyOf.push({type:Object.keys(we).includes(i.toUpperCase())?we[i.toUpperCase()]:we.TYPE_UNSPECIFIED})}}function Is(s){const t={},n=["items"],i=["anyOf"],o=["properties"];if(s.type&&s.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=s.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(t.nullable=!0,s=u[1]):u[1].type==="null"&&(t.nullable=!0,s=u[0])),s.type instanceof Array&&wy(s.type,t);for(const[p,g]of Object.entries(s))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.keys(we).includes(g.toUpperCase())?g.toUpperCase():we.TYPE_UNSPECIFIED}else if(n.includes(p))t[p]=Is(g);else if(i.includes(p)){const v=[];for(const x of g){if(x.type=="null"){t.nullable=!0;continue}v.push(Is(x))}t[p]=v}else if(o.includes(p)){const v={};for(const[x,y]of Object.entries(g))v[x]=Is(y);t[p]=v}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Sr(s,t){if(Object.keys(t).includes("$schema")){delete t.$schema;const n=Ny().parse(t);return Is(n)}else return Is(t)}function bx(s,t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function yu(s,t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Fi(s,t){if(t.functionDeclarations)for(const n of t.functionDeclarations)n.parameters&&(n.parameters=Sr(s,n.parameters)),n.response&&(n.response=Sr(s,n.response));return t}function Yi(s,t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const n=[];for(const i of t)n.push(i);return n}function Ty(s,t,n,i=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===i;return s.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${s.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${s.getProject()}/locations/${s.getLocation()}/${t}`:o?`projects/${s.getProject()}/locations/${s.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function va(s,t){if(typeof t!="string")throw new Error("name must be a string");return Ty(s,t,"cachedContents")}function Nx(s,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ya(s,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Cy(s){return s!=null&&typeof s=="object"&&"name"in s}function Sy(s){return s!=null&&typeof s=="object"&&"video"in s}function _y(s){return s!=null&&typeof s=="object"&&"uri"in s}function wx(s,t){var n;let i;if(Cy(t)&&(i=t.name),!(_y(t)&&(i=t.uri,i===void 0))&&!(Sy(t)&&(i=(n=t.video)===null||n===void 0?void 0:n.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const u=i.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${i}`);i=u[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function Tx(s,t){let n;return s.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Cx(s,t){for(const n of["models","tunedModels","publisherModels"])if(ky(t,n))return t[n];return[]}function ky(s,t){return s!==null&&typeof s=="object"&&t in s}function jy(s,t={}){const n=s,i={name:n.name,description:n.description,parameters:Is(_r(n.inputSchema))};return t.behavior&&(i.behavior=t.behavior),{functionDeclarations:[i]}}function Ey(s,t={}){const n=[],i=new Set;for(const o of s){const u=o.name;if(i.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);i.add(u);const p=jy(o,t);p.functionDeclarations&&n.push(...p.functionDeclarations)}return{functionDeclarations:n}}function Ay(s){const t=[];for(const n of s)t.push(_r(n));return t}function Dy(s){const t={};for(const[n,i]of Object.entries(s)){const o=i;t[n]=_r(o)}return t}function _r(s){const t=new Set(["items"]),n=new Set(["anyOf"]),i=new Set(["properties"]),o={};for(const[u,p]of Object.entries(s))if(t.has(u))o[u]=_r(p);else if(n.has(u))o[u]=Ay(p);else if(i.has(u))o[u]=Dy(p);else if(u==="type"){const g=p.toUpperCase();o[u]=Object.keys(we).includes(g)?g:we.TYPE_UNSPECIFIED}else yy.has(u)&&(o[u]=p);return o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function My(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function Ry(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function Iy(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(n,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function Uy(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],My(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],Ry(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],Iy(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function Gh(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>Uy(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function zy(s,t){const n={},i=d(t,["behavior"]);i!=null&&f(n,["behavior"],i);const o=d(t,["description"]);o!=null&&f(n,["description"],o);const u=d(t,["name"]);u!=null&&f(n,["name"],u);const p=d(t,["parameters"]);p!=null&&f(n,["parameters"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],g),n}function Oy(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function Ly(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],Oy(s,i)),n}function Vy(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function Hy(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],Vy(s,i)),n}function By(){return{}}function Gy(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(x=>zy(s,x))),f(n,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearch"]);o!=null&&f(n,["googleSearch"],Ly(s,o));const u=d(t,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],Hy(s,u)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(n,["urlContext"],By());const g=d(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function qy(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["allowedFunctionNames"]);return o!=null&&f(n,["allowedFunctionNames"],o),n}function Py(s,t){const n={},i=d(t,["latitude"]);i!=null&&f(n,["latitude"],i);const o=d(t,["longitude"]);return o!=null&&f(n,["longitude"],o),n}function $y(s,t){const n={},i=d(t,["latLng"]);i!=null&&f(n,["latLng"],Py(s,i));const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function Fy(s,t){const n={},i=d(t,["functionCallingConfig"]);i!=null&&f(n,["functionCallingConfig"],qy(s,i));const o=d(t,["retrievalConfig"]);return o!=null&&f(n,["retrievalConfig"],$y(s,o)),n}function Yy(s,t,n){const i={},o=d(t,["ttl"]);n!==void 0&&o!=null&&f(n,["ttl"],o);const u=d(t,["expireTime"]);n!==void 0&&u!=null&&f(n,["expireTime"],u);const p=d(t,["displayName"]);n!==void 0&&p!=null&&f(n,["displayName"],p);const g=d(t,["contents"]);if(n!==void 0&&g!=null){let b=pn(s,g);Array.isArray(b)&&(b=b.map(w=>Gh(s,w))),f(n,["contents"],b)}const v=d(t,["systemInstruction"]);n!==void 0&&v!=null&&f(n,["systemInstruction"],Gh(s,Rt(s,v)));const x=d(t,["tools"]);if(n!==void 0&&x!=null){let b=x;Array.isArray(b)&&(b=b.map(w=>Gy(s,w))),f(n,["tools"],b)}const y=d(t,["toolConfig"]);if(n!==void 0&&y!=null&&f(n,["toolConfig"],Fy(s,y)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function Zy(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["model"],xx(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],Yy(s,o,n)),n}function Ky(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],va(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Jy(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],va(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Xy(s,t,n){const i={},o=d(t,["ttl"]);n!==void 0&&o!=null&&f(n,["ttl"],o);const u=d(t,["expireTime"]);return n!==void 0&&u!=null&&f(n,["expireTime"],u),i}function Qy(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],va(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],Xy(s,o,n)),n}function Wy(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);return n!==void 0&&u!=null&&f(n,["_query","pageToken"],u),i}function eb(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],Wy(s,i,n)),n}function tb(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function nb(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function ab(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function sb(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],tb(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],nb(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],ab(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function qh(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>sb(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function ib(s,t){const n={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&f(n,["description"],i);const o=d(t,["name"]);o!=null&&f(n,["name"],o);const u=d(t,["parameters"]);u!=null&&f(n,["parameters"],u);const p=d(t,["response"]);return p!=null&&f(n,["response"],p),n}function lb(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function rb(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],lb(s,i)),n}function ob(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function cb(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],ob(s,i)),n}function ub(){return{}}function db(s,t){const n={},i=d(t,["apiKeyString"]);return i!=null&&f(n,["apiKeyString"],i),n}function fb(s,t){const n={},i=d(t,["apiKeyConfig"]);i!=null&&f(n,["apiKeyConfig"],db(s,i));const o=d(t,["authType"]);o!=null&&f(n,["authType"],o);const u=d(t,["googleServiceAccountConfig"]);u!=null&&f(n,["googleServiceAccountConfig"],u);const p=d(t,["httpBasicAuthConfig"]);p!=null&&f(n,["httpBasicAuthConfig"],p);const g=d(t,["oauthConfig"]);g!=null&&f(n,["oauthConfig"],g);const v=d(t,["oidcConfig"]);return v!=null&&f(n,["oidcConfig"],v),n}function mb(s,t){const n={},i=d(t,["authConfig"]);return i!=null&&f(n,["authConfig"],fb(s,i)),n}function pb(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>ib(s,b))),f(n,["functionDeclarations"],y)}const o=d(t,["retrieval"]);o!=null&&f(n,["retrieval"],o);const u=d(t,["googleSearch"]);u!=null&&f(n,["googleSearch"],rb(s,u));const p=d(t,["googleSearchRetrieval"]);p!=null&&f(n,["googleSearchRetrieval"],cb(s,p)),d(t,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],ub());const v=d(t,["googleMaps"]);if(v!=null&&f(n,["googleMaps"],mb(s,v)),d(t,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const x=d(t,["codeExecution"]);return x!=null&&f(n,["codeExecution"],x),n}function hb(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["allowedFunctionNames"]);return o!=null&&f(n,["allowedFunctionNames"],o),n}function xb(s,t){const n={},i=d(t,["latitude"]);i!=null&&f(n,["latitude"],i);const o=d(t,["longitude"]);return o!=null&&f(n,["longitude"],o),n}function gb(s,t){const n={},i=d(t,["latLng"]);i!=null&&f(n,["latLng"],xb(s,i));const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function vb(s,t){const n={},i=d(t,["functionCallingConfig"]);i!=null&&f(n,["functionCallingConfig"],hb(s,i));const o=d(t,["retrievalConfig"]);return o!=null&&f(n,["retrievalConfig"],gb(s,o)),n}function yb(s,t,n){const i={},o=d(t,["ttl"]);n!==void 0&&o!=null&&f(n,["ttl"],o);const u=d(t,["expireTime"]);n!==void 0&&u!=null&&f(n,["expireTime"],u);const p=d(t,["displayName"]);n!==void 0&&p!=null&&f(n,["displayName"],p);const g=d(t,["contents"]);if(n!==void 0&&g!=null){let w=pn(s,g);Array.isArray(w)&&(w=w.map(S=>qh(s,S))),f(n,["contents"],w)}const v=d(t,["systemInstruction"]);n!==void 0&&v!=null&&f(n,["systemInstruction"],qh(s,Rt(s,v)));const x=d(t,["tools"]);if(n!==void 0&&x!=null){let w=x;Array.isArray(w)&&(w=w.map(S=>pb(s,S))),f(n,["tools"],w)}const y=d(t,["toolConfig"]);n!==void 0&&y!=null&&f(n,["toolConfig"],vb(s,y));const b=d(t,["kmsKeyName"]);return n!==void 0&&b!=null&&f(n,["encryption_spec","kmsKeyName"],b),i}function bb(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["model"],xx(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],yb(s,o,n)),n}function Nb(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],va(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function wb(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],va(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Tb(s,t,n){const i={},o=d(t,["ttl"]);n!==void 0&&o!=null&&f(n,["ttl"],o);const u=d(t,["expireTime"]);return n!==void 0&&u!=null&&f(n,["expireTime"],u),i}function Cb(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],va(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],Tb(s,o,n)),n}function Sb(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);return n!==void 0&&u!=null&&f(n,["_query","pageToken"],u),i}function _b(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],Sb(s,i,n)),n}function pr(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["model"]);u!=null&&f(n,["model"],u);const p=d(t,["createTime"]);p!=null&&f(n,["createTime"],p);const g=d(t,["updateTime"]);g!=null&&f(n,["updateTime"],g);const v=d(t,["expireTime"]);v!=null&&f(n,["expireTime"],v);const x=d(t,["usageMetadata"]);return x!=null&&f(n,["usageMetadata"],x),n}function kb(){return{}}function jb(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["cachedContents"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>pr(s,p))),f(n,["cachedContents"],u)}return n}function hr(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["model"]);u!=null&&f(n,["model"],u);const p=d(t,["createTime"]);p!=null&&f(n,["createTime"],p);const g=d(t,["updateTime"]);g!=null&&f(n,["updateTime"],g);const v=d(t,["expireTime"]);v!=null&&f(n,["expireTime"],v);const x=d(t,["usageMetadata"]);return x!=null&&f(n,["usageMetadata"],x),n}function Eb(){return{}}function Ab(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["cachedContents"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>hr(s,p))),f(n,["cachedContents"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gs;(function(s){s.PAGED_ITEM_BATCH_JOBS="batchJobs",s.PAGED_ITEM_MODELS="models",s.PAGED_ITEM_TUNING_JOBS="tuningJobs",s.PAGED_ITEM_FILES="files",s.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Gs||(Gs={}));class kr{constructor(t,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,i,o)}init(t,n,i){var o,u;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let p={config:{}};i?typeof i=="object"?p=Object.assign({},i):p=i:p={config:{}},p.config&&(p.config.pageToken=n.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(u=(o=p.config)===null||o===void 0?void 0:o.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Db extends Ps{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new kr(Gs.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=bb(this.apiClient,t);return g=Ae("cachedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>hr(this.apiClient,y))}else{const x=Zy(this.apiClient,t);return g=Ae("cachedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>pr(this.apiClient,y))}}async get(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Nb(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>hr(this.apiClient,y))}else{const x=Ky(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>pr(this.apiClient,y))}}async delete(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=wb(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(()=>{const y=Eb(),b=new zh;return Object.assign(b,y),b})}else{const x=Jy(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(()=>{const y=kb(),b=new zh;return Object.assign(b,y),b})}}async update(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Cb(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>hr(this.apiClient,y))}else{const x=Qy(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>pr(this.apiClient,y))}}async listInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=_b(this.apiClient,t);return g=Ae("cachedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=Ab(this.apiClient,y),w=new Oh;return Object.assign(w,b),w})}else{const x=eb(this.apiClient,t);return g=Ae("cachedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=jb(this.apiClient,y),w=new Oh;return Object.assign(w,b),w})}}}function Ph(s){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&s[t],i=0;if(n)return n.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&i>=s.length&&(s=void 0),{value:s&&s[i++],done:!s}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ct(s){return this instanceof ct?(this.v=s,this):new ct(s)}function Us(s,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,t||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),o[Symbol.asyncIterator]=function(){return this},o;function p(S){return function(_){return Promise.resolve(_).then(S,b)}}function g(S,_){i[S]&&(o[S]=function(T){return new Promise(function(A,M){u.push([S,T,A,M])>1||v(S,T)})},_&&(o[S]=_(o[S])))}function v(S,_){try{x(i[S](_))}catch(T){w(u[0][3],T)}}function x(S){S.value instanceof ct?Promise.resolve(S.value.v).then(y,b):w(u[0][2],S)}function y(S){v("next",S)}function b(S){v("throw",S)}function w(S,_){S(_),u.shift(),u.length&&v(u[0][0],u[0][1])}}function Pi(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=s[Symbol.asyncIterator],n;return t?t.call(s):(s=typeof Ph=="function"?Ph(s):s[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=s[u]&&function(p){return new Promise(function(g,v){p=s[u](p),o(g,v,p.done,p.value)})}}function o(u,p,g,v){Promise.resolve(v).then(function(x){u({value:x,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mb(s){var t;if(s.candidates==null||s.candidates.length===0)return!1;const n=(t=s.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Sx(n)}function Sx(s){if(s.parts===void 0||s.parts.length===0)return!1;for(const t of s.parts)if(t===void 0||Object.keys(t).length===0||!t.thought&&t.text!==void 0&&t.text==="")return!1;return!0}function Rb(s){if(s.length!==0){for(const t of s)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function $h(s){if(s===void 0||s.length===0)return[];const t=[],n=s.length;let i=0;for(;i<n;)if(s[i].role==="user")t.push(s[i]),i++;else{const o=[];let u=!0;for(;i<n&&s[i].role==="model";)o.push(s[i]),u&&!Sx(s[i])&&(u=!1),i++;u?t.push(...o):t.pop()}return t}class Ib{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Ub(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Ub{constructor(t,n,i,o={},u=[]){this.apiClient=t,this.modelsModule=n,this.model=i,this.config=o,this.history=u,this.sendPromise=Promise.resolve(),Rb(u)}async sendMessage(t){var n;await this.sendPromise;const i=Rt(this.apiClient,t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var u,p,g;const v=await o,x=(p=(u=v.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content,y=v.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let w=[];y!=null&&(w=(g=y.slice(b))!==null&&g!==void 0?g:[]);const S=x?[x]:[];this.recordHistory(i,S,w)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(t){var n;await this.sendPromise;const i=Rt(this.apiClient,t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const u=await o;return this.processStreamResponse(u,i)}getHistory(t=!1){const n=t?$h(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var i,o;return Us(this,arguments,function*(){var p,g,v,x;const y=[];try{for(var b=!0,w=Pi(t),S;S=yield ct(w.next()),p=S.done,!p;b=!0){x=S.value,b=!1;const _=x;if(Mb(_)){const T=(o=(i=_.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;T!==void 0&&y.push(T)}yield yield ct(_)}}catch(_){g={error:_}}finally{try{!b&&!p&&(v=w.return)&&(yield ct(v.call(w)))}finally{if(g)throw g.error}}this.recordHistory(n,y)})}recordHistory(t,n,i){let o=[];n.length>0&&n.every(u=>u.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...$h(i)):this.history.push(t),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zb(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);return n!==void 0&&u!=null&&f(n,["_query","pageToken"],u),i}function Ob(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],zb(s,i,n)),n}function Lb(s,t){const n={},i=d(t,["details"]);i!=null&&f(n,["details"],i);const o=d(t,["message"]);o!=null&&f(n,["message"],o);const u=d(t,["code"]);return u!=null&&f(n,["code"],u),n}function Vb(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["mimeType"]);u!=null&&f(n,["mimeType"],u);const p=d(t,["sizeBytes"]);p!=null&&f(n,["sizeBytes"],p);const g=d(t,["createTime"]);g!=null&&f(n,["createTime"],g);const v=d(t,["expirationTime"]);v!=null&&f(n,["expirationTime"],v);const x=d(t,["updateTime"]);x!=null&&f(n,["updateTime"],x);const y=d(t,["sha256Hash"]);y!=null&&f(n,["sha256Hash"],y);const b=d(t,["uri"]);b!=null&&f(n,["uri"],b);const w=d(t,["downloadUri"]);w!=null&&f(n,["downloadUri"],w);const S=d(t,["state"]);S!=null&&f(n,["state"],S);const _=d(t,["source"]);_!=null&&f(n,["source"],_);const T=d(t,["videoMetadata"]);T!=null&&f(n,["videoMetadata"],T);const A=d(t,["error"]);return A!=null&&f(n,["error"],Lb(s,A)),n}function Hb(s,t){const n={},i=d(t,["file"]);i!=null&&f(n,["file"],Vb(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Bb(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","file"],wx(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Gb(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","file"],wx(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function qb(s,t){const n={},i=d(t,["details"]);i!=null&&f(n,["details"],i);const o=d(t,["message"]);o!=null&&f(n,["message"],o);const u=d(t,["code"]);return u!=null&&f(n,["code"],u),n}function uu(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["mimeType"]);u!=null&&f(n,["mimeType"],u);const p=d(t,["sizeBytes"]);p!=null&&f(n,["sizeBytes"],p);const g=d(t,["createTime"]);g!=null&&f(n,["createTime"],g);const v=d(t,["expirationTime"]);v!=null&&f(n,["expirationTime"],v);const x=d(t,["updateTime"]);x!=null&&f(n,["updateTime"],x);const y=d(t,["sha256Hash"]);y!=null&&f(n,["sha256Hash"],y);const b=d(t,["uri"]);b!=null&&f(n,["uri"],b);const w=d(t,["downloadUri"]);w!=null&&f(n,["downloadUri"],w);const S=d(t,["state"]);S!=null&&f(n,["state"],S);const _=d(t,["source"]);_!=null&&f(n,["source"],_);const T=d(t,["videoMetadata"]);T!=null&&f(n,["videoMetadata"],T);const A=d(t,["error"]);return A!=null&&f(n,["error"],qb(s,A)),n}function Pb(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["files"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>uu(s,p))),f(n,["files"],u)}return n}function $b(){return{}}function Fb(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yb extends Ps{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new kr(Gs.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>uu(this.apiClient,n))}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Ob(this.apiClient,t);return u=Ae("files",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>{const x=Pb(this.apiClient,v),y=new fy;return Object.assign(y,x),y})}}async createInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Hb(this.apiClient,t);return u=Ae("upload/v1beta/files",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(()=>{const v=$b(),x=new my;return Object.assign(x,v),x})}}async get(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Bb(this.apiClient,t);return u=Ae("files/{file}",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>uu(this.apiClient,v))}}async delete(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Gb(this.apiClient,t);return u=Ae("files/{file}",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(()=>{const v=Fb(),x=new py;return Object.assign(x,v),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zb(s,t){const n={},i=d(t,["voiceName"]);return i!=null&&f(n,["voiceName"],i),n}function Kb(s,t){const n={},i=d(t,["voiceName"]);return i!=null&&f(n,["voiceName"],i),n}function _x(s,t){const n={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(n,["prebuiltVoiceConfig"],Zb(s,i)),n}function Jb(s,t){const n={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(n,["prebuiltVoiceConfig"],Kb(s,i)),n}function Xb(s,t){const n={},i=d(t,["speaker"]);i!=null&&f(n,["speaker"],i);const o=d(t,["voiceConfig"]);return o!=null&&f(n,["voiceConfig"],_x(s,o)),n}function Qb(s,t){const n={},i=d(t,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>Xb(s,u))),f(n,["speakerVoiceConfigs"],o)}return n}function Wb(s,t){const n={},i=d(t,["voiceConfig"]);i!=null&&f(n,["voiceConfig"],_x(s,i));const o=d(t,["multiSpeakerVoiceConfig"]);o!=null&&f(n,["multiSpeakerVoiceConfig"],Qb(s,o));const u=d(t,["languageCode"]);return u!=null&&f(n,["languageCode"],u),n}function eN(s,t){const n={},i=d(t,["voiceConfig"]);if(i!=null&&f(n,["voiceConfig"],Jb(s,i)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function tN(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function nN(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function aN(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function sN(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function iN(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(n,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function lN(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function rN(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],tN(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],aN(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],iN(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function oN(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],nN(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],sN(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],lN(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function cN(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>rN(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function uN(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>oN(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function dN(s,t){const n={},i=d(t,["behavior"]);i!=null&&f(n,["behavior"],i);const o=d(t,["description"]);o!=null&&f(n,["description"],o);const u=d(t,["name"]);u!=null&&f(n,["name"],u);const p=d(t,["parameters"]);p!=null&&f(n,["parameters"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],g),n}function fN(s,t){const n={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&f(n,["description"],i);const o=d(t,["name"]);o!=null&&f(n,["name"],o);const u=d(t,["parameters"]);u!=null&&f(n,["parameters"],u);const p=d(t,["response"]);return p!=null&&f(n,["response"],p),n}function mN(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function pN(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function hN(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],mN(s,i)),n}function xN(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],pN(s,i)),n}function gN(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function vN(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function yN(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],gN(s,i)),n}function bN(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],vN(s,i)),n}function NN(){return{}}function wN(s,t){const n={},i=d(t,["apiKeyString"]);return i!=null&&f(n,["apiKeyString"],i),n}function TN(s,t){const n={},i=d(t,["apiKeyConfig"]);i!=null&&f(n,["apiKeyConfig"],wN(s,i));const o=d(t,["authType"]);o!=null&&f(n,["authType"],o);const u=d(t,["googleServiceAccountConfig"]);u!=null&&f(n,["googleServiceAccountConfig"],u);const p=d(t,["httpBasicAuthConfig"]);p!=null&&f(n,["httpBasicAuthConfig"],p);const g=d(t,["oauthConfig"]);g!=null&&f(n,["oauthConfig"],g);const v=d(t,["oidcConfig"]);return v!=null&&f(n,["oidcConfig"],v),n}function CN(s,t){const n={},i=d(t,["authConfig"]);return i!=null&&f(n,["authConfig"],TN(s,i)),n}function SN(){return{}}function _N(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(x=>dN(s,x))),f(n,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearch"]);o!=null&&f(n,["googleSearch"],hN(s,o));const u=d(t,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],yN(s,u)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(n,["urlContext"],SN());const g=d(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function kN(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>fN(s,b))),f(n,["functionDeclarations"],y)}const o=d(t,["retrieval"]);o!=null&&f(n,["retrieval"],o);const u=d(t,["googleSearch"]);u!=null&&f(n,["googleSearch"],xN(s,u));const p=d(t,["googleSearchRetrieval"]);p!=null&&f(n,["googleSearchRetrieval"],bN(s,p)),d(t,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],NN());const v=d(t,["googleMaps"]);if(v!=null&&f(n,["googleMaps"],CN(s,v)),d(t,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const x=d(t,["codeExecution"]);return x!=null&&f(n,["codeExecution"],x),n}function jN(s,t){const n={},i=d(t,["handle"]);if(i!=null&&f(n,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function EN(s,t){const n={},i=d(t,["handle"]);i!=null&&f(n,["handle"],i);const o=d(t,["transparent"]);return o!=null&&f(n,["transparent"],o),n}function Fh(){return{}}function Yh(){return{}}function AN(s,t){const n={},i=d(t,["disabled"]);i!=null&&f(n,["disabled"],i);const o=d(t,["startOfSpeechSensitivity"]);o!=null&&f(n,["startOfSpeechSensitivity"],o);const u=d(t,["endOfSpeechSensitivity"]);u!=null&&f(n,["endOfSpeechSensitivity"],u);const p=d(t,["prefixPaddingMs"]);p!=null&&f(n,["prefixPaddingMs"],p);const g=d(t,["silenceDurationMs"]);return g!=null&&f(n,["silenceDurationMs"],g),n}function DN(s,t){const n={},i=d(t,["disabled"]);i!=null&&f(n,["disabled"],i);const o=d(t,["startOfSpeechSensitivity"]);o!=null&&f(n,["startOfSpeechSensitivity"],o);const u=d(t,["endOfSpeechSensitivity"]);u!=null&&f(n,["endOfSpeechSensitivity"],u);const p=d(t,["prefixPaddingMs"]);p!=null&&f(n,["prefixPaddingMs"],p);const g=d(t,["silenceDurationMs"]);return g!=null&&f(n,["silenceDurationMs"],g),n}function MN(s,t){const n={},i=d(t,["automaticActivityDetection"]);i!=null&&f(n,["automaticActivityDetection"],AN(s,i));const o=d(t,["activityHandling"]);o!=null&&f(n,["activityHandling"],o);const u=d(t,["turnCoverage"]);return u!=null&&f(n,["turnCoverage"],u),n}function RN(s,t){const n={},i=d(t,["automaticActivityDetection"]);i!=null&&f(n,["automaticActivityDetection"],DN(s,i));const o=d(t,["activityHandling"]);o!=null&&f(n,["activityHandling"],o);const u=d(t,["turnCoverage"]);return u!=null&&f(n,["turnCoverage"],u),n}function IN(s,t){const n={},i=d(t,["targetTokens"]);return i!=null&&f(n,["targetTokens"],i),n}function UN(s,t){const n={},i=d(t,["targetTokens"]);return i!=null&&f(n,["targetTokens"],i),n}function zN(s,t){const n={},i=d(t,["triggerTokens"]);i!=null&&f(n,["triggerTokens"],i);const o=d(t,["slidingWindow"]);return o!=null&&f(n,["slidingWindow"],IN(s,o)),n}function ON(s,t){const n={},i=d(t,["triggerTokens"]);i!=null&&f(n,["triggerTokens"],i);const o=d(t,["slidingWindow"]);return o!=null&&f(n,["slidingWindow"],UN(s,o)),n}function LN(s,t){const n={},i=d(t,["proactiveAudio"]);return i!=null&&f(n,["proactiveAudio"],i),n}function VN(s,t){const n={},i=d(t,["proactiveAudio"]);return i!=null&&f(n,["proactiveAudio"],i),n}function HN(s,t,n){const i={},o=d(t,["generationConfig"]);n!==void 0&&o!=null&&f(n,["setup","generationConfig"],o);const u=d(t,["responseModalities"]);n!==void 0&&u!=null&&f(n,["setup","generationConfig","responseModalities"],u);const p=d(t,["temperature"]);n!==void 0&&p!=null&&f(n,["setup","generationConfig","temperature"],p);const g=d(t,["topP"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topP"],g);const v=d(t,["topK"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","topK"],v);const x=d(t,["maxOutputTokens"]);n!==void 0&&x!=null&&f(n,["setup","generationConfig","maxOutputTokens"],x);const y=d(t,["mediaResolution"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","mediaResolution"],y);const b=d(t,["seed"]);n!==void 0&&b!=null&&f(n,["setup","generationConfig","seed"],b);const w=d(t,["speechConfig"]);n!==void 0&&w!=null&&f(n,["setup","generationConfig","speechConfig"],Wb(s,yu(s,w)));const S=d(t,["enableAffectiveDialog"]);n!==void 0&&S!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],S);const _=d(t,["systemInstruction"]);n!==void 0&&_!=null&&f(n,["setup","systemInstruction"],cN(s,Rt(s,_)));const T=d(t,["tools"]);if(n!==void 0&&T!=null){let te=Yi(s,T);Array.isArray(te)&&(te=te.map(D=>_N(s,Fi(s,D)))),f(n,["setup","tools"],te)}const A=d(t,["sessionResumption"]);n!==void 0&&A!=null&&f(n,["setup","sessionResumption"],jN(s,A));const M=d(t,["inputAudioTranscription"]);n!==void 0&&M!=null&&f(n,["setup","inputAudioTranscription"],Fh());const U=d(t,["outputAudioTranscription"]);n!==void 0&&U!=null&&f(n,["setup","outputAudioTranscription"],Fh());const R=d(t,["realtimeInputConfig"]);n!==void 0&&R!=null&&f(n,["setup","realtimeInputConfig"],MN(s,R));const Y=d(t,["contextWindowCompression"]);n!==void 0&&Y!=null&&f(n,["setup","contextWindowCompression"],zN(s,Y));const q=d(t,["proactivity"]);return n!==void 0&&q!=null&&f(n,["setup","proactivity"],LN(s,q)),i}function BN(s,t,n){const i={},o=d(t,["generationConfig"]);n!==void 0&&o!=null&&f(n,["setup","generationConfig"],o);const u=d(t,["responseModalities"]);n!==void 0&&u!=null&&f(n,["setup","generationConfig","responseModalities"],u);const p=d(t,["temperature"]);n!==void 0&&p!=null&&f(n,["setup","generationConfig","temperature"],p);const g=d(t,["topP"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topP"],g);const v=d(t,["topK"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","topK"],v);const x=d(t,["maxOutputTokens"]);n!==void 0&&x!=null&&f(n,["setup","generationConfig","maxOutputTokens"],x);const y=d(t,["mediaResolution"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","mediaResolution"],y);const b=d(t,["seed"]);n!==void 0&&b!=null&&f(n,["setup","generationConfig","seed"],b);const w=d(t,["speechConfig"]);n!==void 0&&w!=null&&f(n,["setup","generationConfig","speechConfig"],eN(s,yu(s,w)));const S=d(t,["enableAffectiveDialog"]);n!==void 0&&S!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],S);const _=d(t,["systemInstruction"]);n!==void 0&&_!=null&&f(n,["setup","systemInstruction"],uN(s,Rt(s,_)));const T=d(t,["tools"]);if(n!==void 0&&T!=null){let te=Yi(s,T);Array.isArray(te)&&(te=te.map(D=>kN(s,Fi(s,D)))),f(n,["setup","tools"],te)}const A=d(t,["sessionResumption"]);n!==void 0&&A!=null&&f(n,["setup","sessionResumption"],EN(s,A));const M=d(t,["inputAudioTranscription"]);n!==void 0&&M!=null&&f(n,["setup","inputAudioTranscription"],Yh());const U=d(t,["outputAudioTranscription"]);n!==void 0&&U!=null&&f(n,["setup","outputAudioTranscription"],Yh());const R=d(t,["realtimeInputConfig"]);n!==void 0&&R!=null&&f(n,["setup","realtimeInputConfig"],RN(s,R));const Y=d(t,["contextWindowCompression"]);n!==void 0&&Y!=null&&f(n,["setup","contextWindowCompression"],ON(s,Y));const q=d(t,["proactivity"]);return n!==void 0&&q!=null&&f(n,["setup","proactivity"],VN(s,q)),i}function GN(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["setup","model"],lt(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],HN(s,o,n)),n}function qN(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["setup","model"],lt(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],BN(s,o,n)),n}function PN(){return{}}function $N(){return{}}function FN(){return{}}function YN(){return{}}function ZN(s,t){const n={},i=d(t,["media"]);i!=null&&f(n,["mediaChunks"],gx(s,i));const o=d(t,["audio"]);o!=null&&f(n,["audio"],vy(s,o));const u=d(t,["audioStreamEnd"]);u!=null&&f(n,["audioStreamEnd"],u);const p=d(t,["video"]);p!=null&&f(n,["video"],gy(s,p));const g=d(t,["text"]);return g!=null&&f(n,["text"],g),d(t,["activityStart"])!=null&&f(n,["activityStart"],PN()),d(t,["activityEnd"])!=null&&f(n,["activityEnd"],FN()),n}function KN(s,t){const n={},i=d(t,["media"]);if(i!=null&&f(n,["mediaChunks"],gx(s,i)),d(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=d(t,["audioStreamEnd"]);if(o!=null&&f(n,["audioStreamEnd"],o),d(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(d(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return d(t,["activityStart"])!=null&&f(n,["activityStart"],$N()),d(t,["activityEnd"])!=null&&f(n,["activityEnd"],YN()),n}function kx(s,t){const n={},i=d(t,["text"]);i!=null&&f(n,["text"],i);const o=d(t,["weight"]);return o!=null&&f(n,["weight"],o),n}function JN(s,t){const n={},i=d(t,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>kx(s,u))),f(n,["weightedPrompts"],o)}return n}function jx(s,t){const n={},i=d(t,["temperature"]);i!=null&&f(n,["temperature"],i);const o=d(t,["topK"]);o!=null&&f(n,["topK"],o);const u=d(t,["seed"]);u!=null&&f(n,["seed"],u);const p=d(t,["guidance"]);p!=null&&f(n,["guidance"],p);const g=d(t,["bpm"]);g!=null&&f(n,["bpm"],g);const v=d(t,["density"]);v!=null&&f(n,["density"],v);const x=d(t,["brightness"]);x!=null&&f(n,["brightness"],x);const y=d(t,["scale"]);y!=null&&f(n,["scale"],y);const b=d(t,["muteBass"]);b!=null&&f(n,["muteBass"],b);const w=d(t,["muteDrums"]);w!=null&&f(n,["muteDrums"],w);const S=d(t,["onlyBassAndDrums"]);return S!=null&&f(n,["onlyBassAndDrums"],S),n}function XN(s,t){const n={},i=d(t,["musicGenerationConfig"]);return i!=null&&f(n,["musicGenerationConfig"],jx(s,i)),n}function Ex(s,t){const n={},i=d(t,["model"]);return i!=null&&f(n,["model"],i),n}function Ax(s,t){const n={},i=d(t,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>kx(s,u))),f(n,["weightedPrompts"],o)}return n}function du(s,t){const n={},i=d(t,["setup"]);i!=null&&f(n,["setup"],Ex(s,i));const o=d(t,["clientContent"]);o!=null&&f(n,["clientContent"],Ax(s,o));const u=d(t,["musicGenerationConfig"]);u!=null&&f(n,["musicGenerationConfig"],jx(s,u));const p=d(t,["playbackControl"]);return p!=null&&f(n,["playbackControl"],p),n}function QN(){return{}}function WN(){return{}}function ew(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function tw(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function nw(s,t){const n={},i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function aw(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function sw(s,t){const n={},i=d(t,["fileUri"]);i!=null&&f(n,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function iw(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function lw(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],ew(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],nw(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],sw(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function rw(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],tw(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],aw(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],iw(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function ow(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>lw(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function cw(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>rw(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function Zh(s,t){const n={},i=d(t,["text"]);i!=null&&f(n,["text"],i);const o=d(t,["finished"]);return o!=null&&f(n,["finished"],o),n}function Kh(s,t){const n={},i=d(t,["text"]);i!=null&&f(n,["text"],i);const o=d(t,["finished"]);return o!=null&&f(n,["finished"],o),n}function uw(s,t){const n={},i=d(t,["retrievedUrl"]);i!=null&&f(n,["retrievedUrl"],i);const o=d(t,["urlRetrievalStatus"]);return o!=null&&f(n,["urlRetrievalStatus"],o),n}function dw(s,t){const n={},i=d(t,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>uw(s,u))),f(n,["urlMetadata"],o)}return n}function fw(s,t){const n={},i=d(t,["modelTurn"]);i!=null&&f(n,["modelTurn"],ow(s,i));const o=d(t,["turnComplete"]);o!=null&&f(n,["turnComplete"],o);const u=d(t,["interrupted"]);u!=null&&f(n,["interrupted"],u);const p=d(t,["groundingMetadata"]);p!=null&&f(n,["groundingMetadata"],p);const g=d(t,["generationComplete"]);g!=null&&f(n,["generationComplete"],g);const v=d(t,["inputTranscription"]);v!=null&&f(n,["inputTranscription"],Zh(s,v));const x=d(t,["outputTranscription"]);x!=null&&f(n,["outputTranscription"],Zh(s,x));const y=d(t,["urlContextMetadata"]);return y!=null&&f(n,["urlContextMetadata"],dw(s,y)),n}function mw(s,t){const n={},i=d(t,["modelTurn"]);i!=null&&f(n,["modelTurn"],cw(s,i));const o=d(t,["turnComplete"]);o!=null&&f(n,["turnComplete"],o);const u=d(t,["interrupted"]);u!=null&&f(n,["interrupted"],u);const p=d(t,["groundingMetadata"]);p!=null&&f(n,["groundingMetadata"],p);const g=d(t,["generationComplete"]);g!=null&&f(n,["generationComplete"],g);const v=d(t,["inputTranscription"]);v!=null&&f(n,["inputTranscription"],Kh(s,v));const x=d(t,["outputTranscription"]);return x!=null&&f(n,["outputTranscription"],Kh(s,x)),n}function pw(s,t){const n={},i=d(t,["id"]);i!=null&&f(n,["id"],i);const o=d(t,["args"]);o!=null&&f(n,["args"],o);const u=d(t,["name"]);return u!=null&&f(n,["name"],u),n}function hw(s,t){const n={},i=d(t,["args"]);i!=null&&f(n,["args"],i);const o=d(t,["name"]);return o!=null&&f(n,["name"],o),n}function xw(s,t){const n={},i=d(t,["functionCalls"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>pw(s,u))),f(n,["functionCalls"],o)}return n}function gw(s,t){const n={},i=d(t,["functionCalls"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>hw(s,u))),f(n,["functionCalls"],o)}return n}function vw(s,t){const n={},i=d(t,["ids"]);return i!=null&&f(n,["ids"],i),n}function yw(s,t){const n={},i=d(t,["ids"]);return i!=null&&f(n,["ids"],i),n}function fr(s,t){const n={},i=d(t,["modality"]);i!=null&&f(n,["modality"],i);const o=d(t,["tokenCount"]);return o!=null&&f(n,["tokenCount"],o),n}function mr(s,t){const n={},i=d(t,["modality"]);i!=null&&f(n,["modality"],i);const o=d(t,["tokenCount"]);return o!=null&&f(n,["tokenCount"],o),n}function bw(s,t){const n={},i=d(t,["promptTokenCount"]);i!=null&&f(n,["promptTokenCount"],i);const o=d(t,["cachedContentTokenCount"]);o!=null&&f(n,["cachedContentTokenCount"],o);const u=d(t,["responseTokenCount"]);u!=null&&f(n,["responseTokenCount"],u);const p=d(t,["toolUsePromptTokenCount"]);p!=null&&f(n,["toolUsePromptTokenCount"],p);const g=d(t,["thoughtsTokenCount"]);g!=null&&f(n,["thoughtsTokenCount"],g);const v=d(t,["totalTokenCount"]);v!=null&&f(n,["totalTokenCount"],v);const x=d(t,["promptTokensDetails"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(_=>fr(s,_))),f(n,["promptTokensDetails"],S)}const y=d(t,["cacheTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(_=>fr(s,_))),f(n,["cacheTokensDetails"],S)}const b=d(t,["responseTokensDetails"]);if(b!=null){let S=b;Array.isArray(S)&&(S=S.map(_=>fr(s,_))),f(n,["responseTokensDetails"],S)}const w=d(t,["toolUsePromptTokensDetails"]);if(w!=null){let S=w;Array.isArray(S)&&(S=S.map(_=>fr(s,_))),f(n,["toolUsePromptTokensDetails"],S)}return n}function Nw(s,t){const n={},i=d(t,["promptTokenCount"]);i!=null&&f(n,["promptTokenCount"],i);const o=d(t,["cachedContentTokenCount"]);o!=null&&f(n,["cachedContentTokenCount"],o);const u=d(t,["candidatesTokenCount"]);u!=null&&f(n,["responseTokenCount"],u);const p=d(t,["toolUsePromptTokenCount"]);p!=null&&f(n,["toolUsePromptTokenCount"],p);const g=d(t,["thoughtsTokenCount"]);g!=null&&f(n,["thoughtsTokenCount"],g);const v=d(t,["totalTokenCount"]);v!=null&&f(n,["totalTokenCount"],v);const x=d(t,["promptTokensDetails"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(T=>mr(s,T))),f(n,["promptTokensDetails"],_)}const y=d(t,["cacheTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(T=>mr(s,T))),f(n,["cacheTokensDetails"],_)}const b=d(t,["candidatesTokensDetails"]);if(b!=null){let _=b;Array.isArray(_)&&(_=_.map(T=>mr(s,T))),f(n,["responseTokensDetails"],_)}const w=d(t,["toolUsePromptTokensDetails"]);if(w!=null){let _=w;Array.isArray(_)&&(_=_.map(T=>mr(s,T))),f(n,["toolUsePromptTokensDetails"],_)}const S=d(t,["trafficType"]);return S!=null&&f(n,["trafficType"],S),n}function ww(s,t){const n={},i=d(t,["timeLeft"]);return i!=null&&f(n,["timeLeft"],i),n}function Tw(s,t){const n={},i=d(t,["timeLeft"]);return i!=null&&f(n,["timeLeft"],i),n}function Cw(s,t){const n={},i=d(t,["newHandle"]);i!=null&&f(n,["newHandle"],i);const o=d(t,["resumable"]);o!=null&&f(n,["resumable"],o);const u=d(t,["lastConsumedClientMessageIndex"]);return u!=null&&f(n,["lastConsumedClientMessageIndex"],u),n}function Sw(s,t){const n={},i=d(t,["newHandle"]);i!=null&&f(n,["newHandle"],i);const o=d(t,["resumable"]);o!=null&&f(n,["resumable"],o);const u=d(t,["lastConsumedClientMessageIndex"]);return u!=null&&f(n,["lastConsumedClientMessageIndex"],u),n}function _w(s,t){const n={};d(t,["setupComplete"])!=null&&f(n,["setupComplete"],QN());const o=d(t,["serverContent"]);o!=null&&f(n,["serverContent"],fw(s,o));const u=d(t,["toolCall"]);u!=null&&f(n,["toolCall"],xw(s,u));const p=d(t,["toolCallCancellation"]);p!=null&&f(n,["toolCallCancellation"],vw(s,p));const g=d(t,["usageMetadata"]);g!=null&&f(n,["usageMetadata"],bw(s,g));const v=d(t,["goAway"]);v!=null&&f(n,["goAway"],ww(s,v));const x=d(t,["sessionResumptionUpdate"]);return x!=null&&f(n,["sessionResumptionUpdate"],Cw(s,x)),n}function kw(s,t){const n={};d(t,["setupComplete"])!=null&&f(n,["setupComplete"],WN());const o=d(t,["serverContent"]);o!=null&&f(n,["serverContent"],mw(s,o));const u=d(t,["toolCall"]);u!=null&&f(n,["toolCall"],gw(s,u));const p=d(t,["toolCallCancellation"]);p!=null&&f(n,["toolCallCancellation"],yw(s,p));const g=d(t,["usageMetadata"]);g!=null&&f(n,["usageMetadata"],Nw(s,g));const v=d(t,["goAway"]);v!=null&&f(n,["goAway"],Tw(s,v));const x=d(t,["sessionResumptionUpdate"]);return x!=null&&f(n,["sessionResumptionUpdate"],Sw(s,x)),n}function jw(){return{}}function Ew(s,t){const n={},i=d(t,["text"]);i!=null&&f(n,["text"],i);const o=d(t,["weight"]);return o!=null&&f(n,["weight"],o),n}function Aw(s,t){const n={},i=d(t,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>Ew(s,u))),f(n,["weightedPrompts"],o)}return n}function Dw(s,t){const n={},i=d(t,["temperature"]);i!=null&&f(n,["temperature"],i);const o=d(t,["topK"]);o!=null&&f(n,["topK"],o);const u=d(t,["seed"]);u!=null&&f(n,["seed"],u);const p=d(t,["guidance"]);p!=null&&f(n,["guidance"],p);const g=d(t,["bpm"]);g!=null&&f(n,["bpm"],g);const v=d(t,["density"]);v!=null&&f(n,["density"],v);const x=d(t,["brightness"]);x!=null&&f(n,["brightness"],x);const y=d(t,["scale"]);y!=null&&f(n,["scale"],y);const b=d(t,["muteBass"]);b!=null&&f(n,["muteBass"],b);const w=d(t,["muteDrums"]);w!=null&&f(n,["muteDrums"],w);const S=d(t,["onlyBassAndDrums"]);return S!=null&&f(n,["onlyBassAndDrums"],S),n}function Mw(s,t){const n={},i=d(t,["clientContent"]);i!=null&&f(n,["clientContent"],Aw(s,i));const o=d(t,["musicGenerationConfig"]);return o!=null&&f(n,["musicGenerationConfig"],Dw(s,o)),n}function Rw(s,t){const n={},i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);o!=null&&f(n,["mimeType"],o);const u=d(t,["sourceMetadata"]);return u!=null&&f(n,["sourceMetadata"],Mw(s,u)),n}function Iw(s,t){const n={},i=d(t,["audioChunks"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>Rw(s,u))),f(n,["audioChunks"],o)}return n}function Uw(s,t){const n={},i=d(t,["text"]);i!=null&&f(n,["text"],i);const o=d(t,["filteredReason"]);return o!=null&&f(n,["filteredReason"],o),n}function zw(s,t){const n={};d(t,["setupComplete"])!=null&&f(n,["setupComplete"],jw());const o=d(t,["serverContent"]);o!=null&&f(n,["serverContent"],Iw(s,o));const u=d(t,["filteredPrompt"]);return u!=null&&f(n,["filteredPrompt"],Uw(s,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ow(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function Lw(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function Vw(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(n,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function Hw(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],Ow(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],Lw(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],Vw(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function jr(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>Hw(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function Bw(s,t){const n={},i=d(t,["anyOf"]);i!=null&&f(n,["anyOf"],i);const o=d(t,["default"]);o!=null&&f(n,["default"],o);const u=d(t,["description"]);u!=null&&f(n,["description"],u);const p=d(t,["enum"]);p!=null&&f(n,["enum"],p);const g=d(t,["example"]);g!=null&&f(n,["example"],g);const v=d(t,["format"]);v!=null&&f(n,["format"],v);const x=d(t,["items"]);x!=null&&f(n,["items"],x);const y=d(t,["maxItems"]);y!=null&&f(n,["maxItems"],y);const b=d(t,["maxLength"]);b!=null&&f(n,["maxLength"],b);const w=d(t,["maxProperties"]);w!=null&&f(n,["maxProperties"],w);const S=d(t,["maximum"]);S!=null&&f(n,["maximum"],S);const _=d(t,["minItems"]);_!=null&&f(n,["minItems"],_);const T=d(t,["minLength"]);T!=null&&f(n,["minLength"],T);const A=d(t,["minProperties"]);A!=null&&f(n,["minProperties"],A);const M=d(t,["minimum"]);M!=null&&f(n,["minimum"],M);const U=d(t,["nullable"]);U!=null&&f(n,["nullable"],U);const R=d(t,["pattern"]);R!=null&&f(n,["pattern"],R);const Y=d(t,["properties"]);Y!=null&&f(n,["properties"],Y);const q=d(t,["propertyOrdering"]);q!=null&&f(n,["propertyOrdering"],q);const te=d(t,["required"]);te!=null&&f(n,["required"],te);const D=d(t,["title"]);D!=null&&f(n,["title"],D);const I=d(t,["type"]);return I!=null&&f(n,["type"],I),n}function Gw(s,t){const n={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(t,["category"]);i!=null&&f(n,["category"],i);const o=d(t,["threshold"]);return o!=null&&f(n,["threshold"],o),n}function qw(s,t){const n={},i=d(t,["behavior"]);i!=null&&f(n,["behavior"],i);const o=d(t,["description"]);o!=null&&f(n,["description"],o);const u=d(t,["name"]);u!=null&&f(n,["name"],u);const p=d(t,["parameters"]);p!=null&&f(n,["parameters"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],g),n}function Pw(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function $w(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],Pw(s,i)),n}function Fw(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function Yw(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],Fw(s,i)),n}function Zw(){return{}}function Kw(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(x=>qw(s,x))),f(n,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearch"]);o!=null&&f(n,["googleSearch"],$w(s,o));const u=d(t,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],Yw(s,u)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(n,["urlContext"],Zw());const g=d(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function Jw(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["allowedFunctionNames"]);return o!=null&&f(n,["allowedFunctionNames"],o),n}function Xw(s,t){const n={},i=d(t,["latitude"]);i!=null&&f(n,["latitude"],i);const o=d(t,["longitude"]);return o!=null&&f(n,["longitude"],o),n}function Qw(s,t){const n={},i=d(t,["latLng"]);i!=null&&f(n,["latLng"],Xw(s,i));const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function Ww(s,t){const n={},i=d(t,["functionCallingConfig"]);i!=null&&f(n,["functionCallingConfig"],Jw(s,i));const o=d(t,["retrievalConfig"]);return o!=null&&f(n,["retrievalConfig"],Qw(s,o)),n}function e1(s,t){const n={},i=d(t,["voiceName"]);return i!=null&&f(n,["voiceName"],i),n}function Dx(s,t){const n={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(n,["prebuiltVoiceConfig"],e1(s,i)),n}function t1(s,t){const n={},i=d(t,["speaker"]);i!=null&&f(n,["speaker"],i);const o=d(t,["voiceConfig"]);return o!=null&&f(n,["voiceConfig"],Dx(s,o)),n}function n1(s,t){const n={},i=d(t,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>t1(s,u))),f(n,["speakerVoiceConfigs"],o)}return n}function a1(s,t){const n={},i=d(t,["voiceConfig"]);i!=null&&f(n,["voiceConfig"],Dx(s,i));const o=d(t,["multiSpeakerVoiceConfig"]);o!=null&&f(n,["multiSpeakerVoiceConfig"],n1(s,o));const u=d(t,["languageCode"]);return u!=null&&f(n,["languageCode"],u),n}function s1(s,t){const n={},i=d(t,["includeThoughts"]);i!=null&&f(n,["includeThoughts"],i);const o=d(t,["thinkingBudget"]);return o!=null&&f(n,["thinkingBudget"],o),n}function i1(s,t,n){const i={},o=d(t,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],jr(s,Rt(s,o)));const u=d(t,["temperature"]);u!=null&&f(i,["temperature"],u);const p=d(t,["topP"]);p!=null&&f(i,["topP"],p);const g=d(t,["topK"]);g!=null&&f(i,["topK"],g);const v=d(t,["candidateCount"]);v!=null&&f(i,["candidateCount"],v);const x=d(t,["maxOutputTokens"]);x!=null&&f(i,["maxOutputTokens"],x);const y=d(t,["stopSequences"]);y!=null&&f(i,["stopSequences"],y);const b=d(t,["responseLogprobs"]);b!=null&&f(i,["responseLogprobs"],b);const w=d(t,["logprobs"]);w!=null&&f(i,["logprobs"],w);const S=d(t,["presencePenalty"]);S!=null&&f(i,["presencePenalty"],S);const _=d(t,["frequencyPenalty"]);_!=null&&f(i,["frequencyPenalty"],_);const T=d(t,["seed"]);T!=null&&f(i,["seed"],T);const A=d(t,["responseMimeType"]);A!=null&&f(i,["responseMimeType"],A);const M=d(t,["responseSchema"]);if(M!=null&&f(i,["responseSchema"],Bw(s,Sr(s,M))),d(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=d(t,["safetySettings"]);if(n!==void 0&&U!=null){let O=U;Array.isArray(O)&&(O=O.map(L=>Gw(s,L))),f(n,["safetySettings"],O)}const R=d(t,["tools"]);if(n!==void 0&&R!=null){let O=Yi(s,R);Array.isArray(O)&&(O=O.map(L=>Kw(s,Fi(s,L)))),f(n,["tools"],O)}const Y=d(t,["toolConfig"]);if(n!==void 0&&Y!=null&&f(n,["toolConfig"],Ww(s,Y)),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=d(t,["cachedContent"]);n!==void 0&&q!=null&&f(n,["cachedContent"],va(s,q));const te=d(t,["responseModalities"]);te!=null&&f(i,["responseModalities"],te);const D=d(t,["mediaResolution"]);D!=null&&f(i,["mediaResolution"],D);const I=d(t,["speechConfig"]);if(I!=null&&f(i,["speechConfig"],a1(s,bx(s,I))),d(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const E=d(t,["thinkingConfig"]);return E!=null&&f(i,["thinkingConfig"],s1(s,E)),i}function Jh(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["contents"]);if(o!=null){let p=pn(s,o);Array.isArray(p)&&(p=p.map(g=>jr(s,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["generationConfig"],i1(s,u,n)),n}function l1(s,t,n){const i={},o=d(t,["taskType"]);n!==void 0&&o!=null&&f(n,["requests[]","taskType"],o);const u=d(t,["title"]);n!==void 0&&u!=null&&f(n,["requests[]","title"],u);const p=d(t,["outputDimensionality"]);if(n!==void 0&&p!=null&&f(n,["requests[]","outputDimensionality"],p),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function r1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["contents"]);o!=null&&f(n,["requests[]","content"],yx(s,o));const u=d(t,["config"]);u!=null&&f(n,["config"],l1(s,u,n));const p=d(t,["model"]);return p!==void 0&&f(n,["requests[]","model"],lt(s,p)),n}function o1(s,t,n){const i={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=d(t,["numberOfImages"]);n!==void 0&&o!=null&&f(n,["parameters","sampleCount"],o);const u=d(t,["aspectRatio"]);n!==void 0&&u!=null&&f(n,["parameters","aspectRatio"],u);const p=d(t,["guidanceScale"]);if(n!==void 0&&p!=null&&f(n,["parameters","guidanceScale"],p),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=d(t,["safetyFilterLevel"]);n!==void 0&&g!=null&&f(n,["parameters","safetySetting"],g);const v=d(t,["personGeneration"]);n!==void 0&&v!=null&&f(n,["parameters","personGeneration"],v);const x=d(t,["includeSafetyAttributes"]);n!==void 0&&x!=null&&f(n,["parameters","includeSafetyAttributes"],x);const y=d(t,["includeRaiReason"]);n!==void 0&&y!=null&&f(n,["parameters","includeRaiReason"],y);const b=d(t,["language"]);n!==void 0&&b!=null&&f(n,["parameters","language"],b);const w=d(t,["outputMimeType"]);n!==void 0&&w!=null&&f(n,["parameters","outputOptions","mimeType"],w);const S=d(t,["outputCompressionQuality"]);if(n!==void 0&&S!=null&&f(n,["parameters","outputOptions","compressionQuality"],S),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function c1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["config"]);return u!=null&&f(n,["config"],o1(s,u,n)),n}function u1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","name"],lt(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function d1(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);n!==void 0&&u!=null&&f(n,["_query","pageToken"],u);const p=d(t,["filter"]);n!==void 0&&p!=null&&f(n,["_query","filter"],p);const g=d(t,["queryBase"]);return n!==void 0&&g!=null&&f(n,["_url","models_url"],Tx(s,g)),i}function f1(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],d1(s,i,n)),n}function m1(s,t,n){const i={},o=d(t,["displayName"]);n!==void 0&&o!=null&&f(n,["displayName"],o);const u=d(t,["description"]);n!==void 0&&u!=null&&f(n,["description"],u);const p=d(t,["defaultCheckpointId"]);return n!==void 0&&p!=null&&f(n,["defaultCheckpointId"],p),i}function p1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","name"],lt(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],m1(s,o,n)),n}function h1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","name"],lt(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function x1(s,t){const n={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function g1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["contents"]);if(o!=null){let p=pn(s,o);Array.isArray(p)&&(p=p.map(g=>jr(s,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["config"],x1(s,u)),n}function v1(s,t){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(t,["imageBytes"]);i!=null&&f(n,["bytesBase64Encoded"],ya(s,i));const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function y1(s,t,n){const i={},o=d(t,["numberOfVideos"]);if(n!==void 0&&o!=null&&f(n,["parameters","sampleCount"],o),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=d(t,["durationSeconds"]);if(n!==void 0&&u!=null&&f(n,["parameters","durationSeconds"],u),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=d(t,["aspectRatio"]);if(n!==void 0&&p!=null&&f(n,["parameters","aspectRatio"],p),d(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const g=d(t,["personGeneration"]);if(n!==void 0&&g!=null&&f(n,["parameters","personGeneration"],g),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=d(t,["negativePrompt"]);if(n!==void 0&&v!=null&&f(n,["parameters","negativePrompt"],v),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");if(d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return i}function b1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["image"]);u!=null&&f(n,["instances[0]","image"],v1(s,u));const p=d(t,["config"]);return p!=null&&f(n,["config"],y1(s,p,n)),n}function N1(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function w1(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function T1(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function C1(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],N1(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],w1(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],T1(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function $s(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>C1(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function S1(s,t){const n={},i=d(t,["anyOf"]);i!=null&&f(n,["anyOf"],i);const o=d(t,["default"]);o!=null&&f(n,["default"],o);const u=d(t,["description"]);u!=null&&f(n,["description"],u);const p=d(t,["enum"]);p!=null&&f(n,["enum"],p);const g=d(t,["example"]);g!=null&&f(n,["example"],g);const v=d(t,["format"]);v!=null&&f(n,["format"],v);const x=d(t,["items"]);x!=null&&f(n,["items"],x);const y=d(t,["maxItems"]);y!=null&&f(n,["maxItems"],y);const b=d(t,["maxLength"]);b!=null&&f(n,["maxLength"],b);const w=d(t,["maxProperties"]);w!=null&&f(n,["maxProperties"],w);const S=d(t,["maximum"]);S!=null&&f(n,["maximum"],S);const _=d(t,["minItems"]);_!=null&&f(n,["minItems"],_);const T=d(t,["minLength"]);T!=null&&f(n,["minLength"],T);const A=d(t,["minProperties"]);A!=null&&f(n,["minProperties"],A);const M=d(t,["minimum"]);M!=null&&f(n,["minimum"],M);const U=d(t,["nullable"]);U!=null&&f(n,["nullable"],U);const R=d(t,["pattern"]);R!=null&&f(n,["pattern"],R);const Y=d(t,["properties"]);Y!=null&&f(n,["properties"],Y);const q=d(t,["propertyOrdering"]);q!=null&&f(n,["propertyOrdering"],q);const te=d(t,["required"]);te!=null&&f(n,["required"],te);const D=d(t,["title"]);D!=null&&f(n,["title"],D);const I=d(t,["type"]);return I!=null&&f(n,["type"],I),n}function _1(s,t){const n={},i=d(t,["featureSelectionPreference"]);return i!=null&&f(n,["featureSelectionPreference"],i),n}function k1(s,t){const n={},i=d(t,["method"]);i!=null&&f(n,["method"],i);const o=d(t,["category"]);o!=null&&f(n,["category"],o);const u=d(t,["threshold"]);return u!=null&&f(n,["threshold"],u),n}function j1(s,t){const n={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&f(n,["description"],i);const o=d(t,["name"]);o!=null&&f(n,["name"],o);const u=d(t,["parameters"]);u!=null&&f(n,["parameters"],u);const p=d(t,["response"]);return p!=null&&f(n,["response"],p),n}function E1(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function A1(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],E1(s,i)),n}function D1(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function M1(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],D1(s,i)),n}function R1(){return{}}function I1(s,t){const n={},i=d(t,["apiKeyString"]);return i!=null&&f(n,["apiKeyString"],i),n}function U1(s,t){const n={},i=d(t,["apiKeyConfig"]);i!=null&&f(n,["apiKeyConfig"],I1(s,i));const o=d(t,["authType"]);o!=null&&f(n,["authType"],o);const u=d(t,["googleServiceAccountConfig"]);u!=null&&f(n,["googleServiceAccountConfig"],u);const p=d(t,["httpBasicAuthConfig"]);p!=null&&f(n,["httpBasicAuthConfig"],p);const g=d(t,["oauthConfig"]);g!=null&&f(n,["oauthConfig"],g);const v=d(t,["oidcConfig"]);return v!=null&&f(n,["oidcConfig"],v),n}function z1(s,t){const n={},i=d(t,["authConfig"]);return i!=null&&f(n,["authConfig"],U1(s,i)),n}function Mx(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>j1(s,b))),f(n,["functionDeclarations"],y)}const o=d(t,["retrieval"]);o!=null&&f(n,["retrieval"],o);const u=d(t,["googleSearch"]);u!=null&&f(n,["googleSearch"],A1(s,u));const p=d(t,["googleSearchRetrieval"]);p!=null&&f(n,["googleSearchRetrieval"],M1(s,p)),d(t,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],R1());const v=d(t,["googleMaps"]);if(v!=null&&f(n,["googleMaps"],z1(s,v)),d(t,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const x=d(t,["codeExecution"]);return x!=null&&f(n,["codeExecution"],x),n}function O1(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["allowedFunctionNames"]);return o!=null&&f(n,["allowedFunctionNames"],o),n}function L1(s,t){const n={},i=d(t,["latitude"]);i!=null&&f(n,["latitude"],i);const o=d(t,["longitude"]);return o!=null&&f(n,["longitude"],o),n}function V1(s,t){const n={},i=d(t,["latLng"]);i!=null&&f(n,["latLng"],L1(s,i));const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function H1(s,t){const n={},i=d(t,["functionCallingConfig"]);i!=null&&f(n,["functionCallingConfig"],O1(s,i));const o=d(t,["retrievalConfig"]);return o!=null&&f(n,["retrievalConfig"],V1(s,o)),n}function B1(s,t){const n={},i=d(t,["voiceName"]);return i!=null&&f(n,["voiceName"],i),n}function G1(s,t){const n={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(n,["prebuiltVoiceConfig"],B1(s,i)),n}function q1(s,t){const n={},i=d(t,["voiceConfig"]);if(i!=null&&f(n,["voiceConfig"],G1(s,i)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function P1(s,t){const n={},i=d(t,["includeThoughts"]);i!=null&&f(n,["includeThoughts"],i);const o=d(t,["thinkingBudget"]);return o!=null&&f(n,["thinkingBudget"],o),n}function $1(s,t,n){const i={},o=d(t,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],$s(s,Rt(s,o)));const u=d(t,["temperature"]);u!=null&&f(i,["temperature"],u);const p=d(t,["topP"]);p!=null&&f(i,["topP"],p);const g=d(t,["topK"]);g!=null&&f(i,["topK"],g);const v=d(t,["candidateCount"]);v!=null&&f(i,["candidateCount"],v);const x=d(t,["maxOutputTokens"]);x!=null&&f(i,["maxOutputTokens"],x);const y=d(t,["stopSequences"]);y!=null&&f(i,["stopSequences"],y);const b=d(t,["responseLogprobs"]);b!=null&&f(i,["responseLogprobs"],b);const w=d(t,["logprobs"]);w!=null&&f(i,["logprobs"],w);const S=d(t,["presencePenalty"]);S!=null&&f(i,["presencePenalty"],S);const _=d(t,["frequencyPenalty"]);_!=null&&f(i,["frequencyPenalty"],_);const T=d(t,["seed"]);T!=null&&f(i,["seed"],T);const A=d(t,["responseMimeType"]);A!=null&&f(i,["responseMimeType"],A);const M=d(t,["responseSchema"]);M!=null&&f(i,["responseSchema"],S1(s,Sr(s,M)));const U=d(t,["routingConfig"]);U!=null&&f(i,["routingConfig"],U);const R=d(t,["modelSelectionConfig"]);R!=null&&f(i,["modelConfig"],_1(s,R));const Y=d(t,["safetySettings"]);if(n!==void 0&&Y!=null){let G=Y;Array.isArray(G)&&(G=G.map(fe=>k1(s,fe))),f(n,["safetySettings"],G)}const q=d(t,["tools"]);if(n!==void 0&&q!=null){let G=Yi(s,q);Array.isArray(G)&&(G=G.map(fe=>Mx(s,Fi(s,fe)))),f(n,["tools"],G)}const te=d(t,["toolConfig"]);n!==void 0&&te!=null&&f(n,["toolConfig"],H1(s,te));const D=d(t,["labels"]);n!==void 0&&D!=null&&f(n,["labels"],D);const I=d(t,["cachedContent"]);n!==void 0&&I!=null&&f(n,["cachedContent"],va(s,I));const E=d(t,["responseModalities"]);E!=null&&f(i,["responseModalities"],E);const O=d(t,["mediaResolution"]);O!=null&&f(i,["mediaResolution"],O);const L=d(t,["speechConfig"]);L!=null&&f(i,["speechConfig"],q1(s,bx(s,L)));const V=d(t,["audioTimestamp"]);V!=null&&f(i,["audioTimestamp"],V);const K=d(t,["thinkingConfig"]);return K!=null&&f(i,["thinkingConfig"],P1(s,K)),i}function Xh(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["contents"]);if(o!=null){let p=pn(s,o);Array.isArray(p)&&(p=p.map(g=>$s(s,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["generationConfig"],$1(s,u,n)),n}function F1(s,t,n){const i={},o=d(t,["taskType"]);n!==void 0&&o!=null&&f(n,["instances[]","task_type"],o);const u=d(t,["title"]);n!==void 0&&u!=null&&f(n,["instances[]","title"],u);const p=d(t,["outputDimensionality"]);n!==void 0&&p!=null&&f(n,["parameters","outputDimensionality"],p);const g=d(t,["mimeType"]);n!==void 0&&g!=null&&f(n,["instances[]","mimeType"],g);const v=d(t,["autoTruncate"]);return n!==void 0&&v!=null&&f(n,["parameters","autoTruncate"],v),i}function Y1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["contents"]);o!=null&&f(n,["instances[]","content"],yx(s,o));const u=d(t,["config"]);return u!=null&&f(n,["config"],F1(s,u,n)),n}function Z1(s,t,n){const i={},o=d(t,["outputGcsUri"]);n!==void 0&&o!=null&&f(n,["parameters","storageUri"],o);const u=d(t,["negativePrompt"]);n!==void 0&&u!=null&&f(n,["parameters","negativePrompt"],u);const p=d(t,["numberOfImages"]);n!==void 0&&p!=null&&f(n,["parameters","sampleCount"],p);const g=d(t,["aspectRatio"]);n!==void 0&&g!=null&&f(n,["parameters","aspectRatio"],g);const v=d(t,["guidanceScale"]);n!==void 0&&v!=null&&f(n,["parameters","guidanceScale"],v);const x=d(t,["seed"]);n!==void 0&&x!=null&&f(n,["parameters","seed"],x);const y=d(t,["safetyFilterLevel"]);n!==void 0&&y!=null&&f(n,["parameters","safetySetting"],y);const b=d(t,["personGeneration"]);n!==void 0&&b!=null&&f(n,["parameters","personGeneration"],b);const w=d(t,["includeSafetyAttributes"]);n!==void 0&&w!=null&&f(n,["parameters","includeSafetyAttributes"],w);const S=d(t,["includeRaiReason"]);n!==void 0&&S!=null&&f(n,["parameters","includeRaiReason"],S);const _=d(t,["language"]);n!==void 0&&_!=null&&f(n,["parameters","language"],_);const T=d(t,["outputMimeType"]);n!==void 0&&T!=null&&f(n,["parameters","outputOptions","mimeType"],T);const A=d(t,["outputCompressionQuality"]);n!==void 0&&A!=null&&f(n,["parameters","outputOptions","compressionQuality"],A);const M=d(t,["addWatermark"]);n!==void 0&&M!=null&&f(n,["parameters","addWatermark"],M);const U=d(t,["enhancePrompt"]);return n!==void 0&&U!=null&&f(n,["parameters","enhancePrompt"],U),i}function K1(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["config"]);return u!=null&&f(n,["config"],Z1(s,u,n)),n}function bu(s,t){const n={},i=d(t,["gcsUri"]);i!=null&&f(n,["gcsUri"],i);const o=d(t,["imageBytes"]);o!=null&&f(n,["bytesBase64Encoded"],ya(s,o));const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function J1(s,t){const n={},i=d(t,["maskMode"]);i!=null&&f(n,["maskMode"],i);const o=d(t,["segmentationClasses"]);o!=null&&f(n,["maskClasses"],o);const u=d(t,["maskDilation"]);return u!=null&&f(n,["dilation"],u),n}function X1(s,t){const n={},i=d(t,["controlType"]);i!=null&&f(n,["controlType"],i);const o=d(t,["enableControlImageComputation"]);return o!=null&&f(n,["computeControl"],o),n}function Q1(s,t){const n={},i=d(t,["styleDescription"]);return i!=null&&f(n,["styleDescription"],i),n}function W1(s,t){const n={},i=d(t,["subjectType"]);i!=null&&f(n,["subjectType"],i);const o=d(t,["subjectDescription"]);return o!=null&&f(n,["subjectDescription"],o),n}function eT(s,t){const n={},i=d(t,["referenceImage"]);i!=null&&f(n,["referenceImage"],bu(s,i));const o=d(t,["referenceId"]);o!=null&&f(n,["referenceId"],o);const u=d(t,["referenceType"]);u!=null&&f(n,["referenceType"],u);const p=d(t,["maskImageConfig"]);p!=null&&f(n,["maskImageConfig"],J1(s,p));const g=d(t,["controlImageConfig"]);g!=null&&f(n,["controlImageConfig"],X1(s,g));const v=d(t,["styleImageConfig"]);v!=null&&f(n,["styleImageConfig"],Q1(s,v));const x=d(t,["subjectImageConfig"]);return x!=null&&f(n,["subjectImageConfig"],W1(s,x)),n}function tT(s,t,n){const i={},o=d(t,["outputGcsUri"]);n!==void 0&&o!=null&&f(n,["parameters","storageUri"],o);const u=d(t,["negativePrompt"]);n!==void 0&&u!=null&&f(n,["parameters","negativePrompt"],u);const p=d(t,["numberOfImages"]);n!==void 0&&p!=null&&f(n,["parameters","sampleCount"],p);const g=d(t,["aspectRatio"]);n!==void 0&&g!=null&&f(n,["parameters","aspectRatio"],g);const v=d(t,["guidanceScale"]);n!==void 0&&v!=null&&f(n,["parameters","guidanceScale"],v);const x=d(t,["seed"]);n!==void 0&&x!=null&&f(n,["parameters","seed"],x);const y=d(t,["safetyFilterLevel"]);n!==void 0&&y!=null&&f(n,["parameters","safetySetting"],y);const b=d(t,["personGeneration"]);n!==void 0&&b!=null&&f(n,["parameters","personGeneration"],b);const w=d(t,["includeSafetyAttributes"]);n!==void 0&&w!=null&&f(n,["parameters","includeSafetyAttributes"],w);const S=d(t,["includeRaiReason"]);n!==void 0&&S!=null&&f(n,["parameters","includeRaiReason"],S);const _=d(t,["language"]);n!==void 0&&_!=null&&f(n,["parameters","language"],_);const T=d(t,["outputMimeType"]);n!==void 0&&T!=null&&f(n,["parameters","outputOptions","mimeType"],T);const A=d(t,["outputCompressionQuality"]);n!==void 0&&A!=null&&f(n,["parameters","outputOptions","compressionQuality"],A);const M=d(t,["editMode"]);n!==void 0&&M!=null&&f(n,["parameters","editMode"],M);const U=d(t,["baseSteps"]);return n!==void 0&&U!=null&&f(n,["parameters","editConfig","baseSteps"],U),i}function nT(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["referenceImages"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>eT(s,v))),f(n,["instances[0]","referenceImages"],g)}const p=d(t,["config"]);return p!=null&&f(n,["config"],tT(s,p,n)),n}function aT(s,t,n){const i={},o=d(t,["includeRaiReason"]);n!==void 0&&o!=null&&f(n,["parameters","includeRaiReason"],o);const u=d(t,["outputMimeType"]);n!==void 0&&u!=null&&f(n,["parameters","outputOptions","mimeType"],u);const p=d(t,["outputCompressionQuality"]);n!==void 0&&p!=null&&f(n,["parameters","outputOptions","compressionQuality"],p);const g=d(t,["numberOfImages"]);n!==void 0&&g!=null&&f(n,["parameters","sampleCount"],g);const v=d(t,["mode"]);return n!==void 0&&v!=null&&f(n,["parameters","mode"],v),i}function sT(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["image"]);o!=null&&f(n,["instances[0]","image"],bu(s,o));const u=d(t,["upscaleFactor"]);u!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],u);const p=d(t,["config"]);return p!=null&&f(n,["config"],aT(s,p,n)),n}function iT(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","name"],lt(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function lT(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);n!==void 0&&u!=null&&f(n,["_query","pageToken"],u);const p=d(t,["filter"]);n!==void 0&&p!=null&&f(n,["_query","filter"],p);const g=d(t,["queryBase"]);return n!==void 0&&g!=null&&f(n,["_url","models_url"],Tx(s,g)),i}function rT(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],lT(s,i,n)),n}function oT(s,t,n){const i={},o=d(t,["displayName"]);n!==void 0&&o!=null&&f(n,["displayName"],o);const u=d(t,["description"]);n!==void 0&&u!=null&&f(n,["description"],u);const p=d(t,["defaultCheckpointId"]);return n!==void 0&&p!=null&&f(n,["defaultCheckpointId"],p),i}function cT(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],oT(s,o,n)),n}function uT(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","name"],lt(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function dT(s,t,n){const i={},o=d(t,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],$s(s,Rt(s,o)));const u=d(t,["tools"]);if(n!==void 0&&u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>Mx(s,v))),f(n,["tools"],g)}const p=d(t,["generationConfig"]);return n!==void 0&&p!=null&&f(n,["generationConfig"],p),i}function fT(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["contents"]);if(o!=null){let p=pn(s,o);Array.isArray(p)&&(p=p.map(g=>$s(s,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["config"],dT(s,u,n)),n}function mT(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["contents"]);if(o!=null){let p=pn(s,o);Array.isArray(p)&&(p=p.map(g=>$s(s,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["config"],u),n}function pT(s,t,n){const i={},o=d(t,["numberOfVideos"]);n!==void 0&&o!=null&&f(n,["parameters","sampleCount"],o);const u=d(t,["outputGcsUri"]);n!==void 0&&u!=null&&f(n,["parameters","storageUri"],u);const p=d(t,["fps"]);n!==void 0&&p!=null&&f(n,["parameters","fps"],p);const g=d(t,["durationSeconds"]);n!==void 0&&g!=null&&f(n,["parameters","durationSeconds"],g);const v=d(t,["seed"]);n!==void 0&&v!=null&&f(n,["parameters","seed"],v);const x=d(t,["aspectRatio"]);n!==void 0&&x!=null&&f(n,["parameters","aspectRatio"],x);const y=d(t,["resolution"]);n!==void 0&&y!=null&&f(n,["parameters","resolution"],y);const b=d(t,["personGeneration"]);n!==void 0&&b!=null&&f(n,["parameters","personGeneration"],b);const w=d(t,["pubsubTopic"]);n!==void 0&&w!=null&&f(n,["parameters","pubsubTopic"],w);const S=d(t,["negativePrompt"]);n!==void 0&&S!=null&&f(n,["parameters","negativePrompt"],S);const _=d(t,["enhancePrompt"]);n!==void 0&&_!=null&&f(n,["parameters","enhancePrompt"],_);const T=d(t,["generateAudio"]);return n!==void 0&&T!=null&&f(n,["parameters","generateAudio"],T),i}function hT(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["_url","model"],lt(s,i));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["image"]);u!=null&&f(n,["instances[0]","image"],bu(s,u));const p=d(t,["config"]);return p!=null&&f(n,["config"],pT(s,p,n)),n}function xT(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function gT(s,t){const n={},i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function vT(s,t){const n={},i=d(t,["fileUri"]);i!=null&&f(n,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function yT(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],xT(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],gT(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],vT(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function bT(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>yT(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function NT(s,t){const n={},i=d(t,["citationSources"]);return i!=null&&f(n,["citations"],i),n}function wT(s,t){const n={},i=d(t,["retrievedUrl"]);i!=null&&f(n,["retrievedUrl"],i);const o=d(t,["urlRetrievalStatus"]);return o!=null&&f(n,["urlRetrievalStatus"],o),n}function TT(s,t){const n={},i=d(t,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>wT(s,u))),f(n,["urlMetadata"],o)}return n}function CT(s,t){const n={},i=d(t,["content"]);i!=null&&f(n,["content"],bT(s,i));const o=d(t,["citationMetadata"]);o!=null&&f(n,["citationMetadata"],NT(s,o));const u=d(t,["tokenCount"]);u!=null&&f(n,["tokenCount"],u);const p=d(t,["finishReason"]);p!=null&&f(n,["finishReason"],p);const g=d(t,["urlContextMetadata"]);g!=null&&f(n,["urlContextMetadata"],TT(s,g));const v=d(t,["avgLogprobs"]);v!=null&&f(n,["avgLogprobs"],v);const x=d(t,["groundingMetadata"]);x!=null&&f(n,["groundingMetadata"],x);const y=d(t,["index"]);y!=null&&f(n,["index"],y);const b=d(t,["logprobsResult"]);b!=null&&f(n,["logprobsResult"],b);const w=d(t,["safetyRatings"]);return w!=null&&f(n,["safetyRatings"],w),n}function Qh(s,t){const n={},i=d(t,["candidates"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(v=>CT(s,v))),f(n,["candidates"],g)}const o=d(t,["modelVersion"]);o!=null&&f(n,["modelVersion"],o);const u=d(t,["promptFeedback"]);u!=null&&f(n,["promptFeedback"],u);const p=d(t,["usageMetadata"]);return p!=null&&f(n,["usageMetadata"],p),n}function ST(s,t){const n={},i=d(t,["values"]);return i!=null&&f(n,["values"],i),n}function _T(){return{}}function kT(s,t){const n={},i=d(t,["embeddings"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>ST(s,p))),f(n,["embeddings"],u)}return d(t,["metadata"])!=null&&f(n,["metadata"],_T()),n}function jT(s,t){const n={},i=d(t,["bytesBase64Encoded"]);i!=null&&f(n,["imageBytes"],ya(s,i));const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function Rx(s,t){const n={},i=d(t,["safetyAttributes","categories"]);i!=null&&f(n,["categories"],i);const o=d(t,["safetyAttributes","scores"]);o!=null&&f(n,["scores"],o);const u=d(t,["contentType"]);return u!=null&&f(n,["contentType"],u),n}function ET(s,t){const n={},i=d(t,["_self"]);i!=null&&f(n,["image"],jT(s,i));const o=d(t,["raiFilteredReason"]);o!=null&&f(n,["raiFilteredReason"],o);const u=d(t,["_self"]);return u!=null&&f(n,["safetyAttributes"],Rx(s,u)),n}function AT(s,t){const n={},i=d(t,["predictions"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>ET(s,p))),f(n,["generatedImages"],u)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&f(n,["positivePromptSafetyAttributes"],Rx(s,o)),n}function DT(s,t){const n={},i=d(t,["baseModel"]);i!=null&&f(n,["baseModel"],i);const o=d(t,["createTime"]);o!=null&&f(n,["createTime"],o);const u=d(t,["updateTime"]);return u!=null&&f(n,["updateTime"],u),n}function fu(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["description"]);u!=null&&f(n,["description"],u);const p=d(t,["version"]);p!=null&&f(n,["version"],p);const g=d(t,["_self"]);g!=null&&f(n,["tunedModelInfo"],DT(s,g));const v=d(t,["inputTokenLimit"]);v!=null&&f(n,["inputTokenLimit"],v);const x=d(t,["outputTokenLimit"]);x!=null&&f(n,["outputTokenLimit"],x);const y=d(t,["supportedGenerationMethods"]);return y!=null&&f(n,["supportedActions"],y),n}function MT(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["_self"]);if(o!=null){let u=Cx(s,o);Array.isArray(u)&&(u=u.map(p=>fu(s,p))),f(n,["models"],u)}return n}function RT(){return{}}function IT(s,t){const n={},i=d(t,["totalTokens"]);i!=null&&f(n,["totalTokens"],i);const o=d(t,["cachedContentTokenCount"]);return o!=null&&f(n,["cachedContentTokenCount"],o),n}function UT(s,t){const n={},i=d(t,["video","uri"]);i!=null&&f(n,["uri"],i);const o=d(t,["video","encodedVideo"]);o!=null&&f(n,["videoBytes"],ya(s,o));const u=d(t,["encoding"]);return u!=null&&f(n,["mimeType"],u),n}function zT(s,t){const n={},i=d(t,["_self"]);return i!=null&&f(n,["video"],UT(s,i)),n}function OT(s,t){const n={},i=d(t,["generatedSamples"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(g=>zT(s,g))),f(n,["generatedVideos"],p)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(n,["raiMediaFilteredCount"],o);const u=d(t,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function LT(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);p!=null&&f(n,["error"],p);const g=d(t,["response","generateVideoResponse"]);return g!=null&&f(n,["response"],OT(s,g)),n}function VT(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function HT(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function BT(s,t){const n={},i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function GT(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],VT(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],HT(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],BT(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function qT(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>GT(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function PT(s,t){const n={},i=d(t,["citations"]);return i!=null&&f(n,["citations"],i),n}function $T(s,t){const n={},i=d(t,["content"]);i!=null&&f(n,["content"],qT(s,i));const o=d(t,["citationMetadata"]);o!=null&&f(n,["citationMetadata"],PT(s,o));const u=d(t,["finishMessage"]);u!=null&&f(n,["finishMessage"],u);const p=d(t,["finishReason"]);p!=null&&f(n,["finishReason"],p);const g=d(t,["avgLogprobs"]);g!=null&&f(n,["avgLogprobs"],g);const v=d(t,["groundingMetadata"]);v!=null&&f(n,["groundingMetadata"],v);const x=d(t,["index"]);x!=null&&f(n,["index"],x);const y=d(t,["logprobsResult"]);y!=null&&f(n,["logprobsResult"],y);const b=d(t,["safetyRatings"]);return b!=null&&f(n,["safetyRatings"],b),n}function Wh(s,t){const n={},i=d(t,["candidates"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(y=>$T(s,y))),f(n,["candidates"],x)}const o=d(t,["createTime"]);o!=null&&f(n,["createTime"],o);const u=d(t,["responseId"]);u!=null&&f(n,["responseId"],u);const p=d(t,["modelVersion"]);p!=null&&f(n,["modelVersion"],p);const g=d(t,["promptFeedback"]);g!=null&&f(n,["promptFeedback"],g);const v=d(t,["usageMetadata"]);return v!=null&&f(n,["usageMetadata"],v),n}function FT(s,t){const n={},i=d(t,["truncated"]);i!=null&&f(n,["truncated"],i);const o=d(t,["token_count"]);return o!=null&&f(n,["tokenCount"],o),n}function YT(s,t){const n={},i=d(t,["values"]);i!=null&&f(n,["values"],i);const o=d(t,["statistics"]);return o!=null&&f(n,["statistics"],FT(s,o)),n}function ZT(s,t){const n={},i=d(t,["billableCharacterCount"]);return i!=null&&f(n,["billableCharacterCount"],i),n}function KT(s,t){const n={},i=d(t,["predictions[]","embeddings"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>YT(s,p))),f(n,["embeddings"],u)}const o=d(t,["metadata"]);return o!=null&&f(n,["metadata"],ZT(s,o)),n}function JT(s,t){const n={},i=d(t,["gcsUri"]);i!=null&&f(n,["gcsUri"],i);const o=d(t,["bytesBase64Encoded"]);o!=null&&f(n,["imageBytes"],ya(s,o));const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function Ix(s,t){const n={},i=d(t,["safetyAttributes","categories"]);i!=null&&f(n,["categories"],i);const o=d(t,["safetyAttributes","scores"]);o!=null&&f(n,["scores"],o);const u=d(t,["contentType"]);return u!=null&&f(n,["contentType"],u),n}function Nu(s,t){const n={},i=d(t,["_self"]);i!=null&&f(n,["image"],JT(s,i));const o=d(t,["raiFilteredReason"]);o!=null&&f(n,["raiFilteredReason"],o);const u=d(t,["_self"]);u!=null&&f(n,["safetyAttributes"],Ix(s,u));const p=d(t,["prompt"]);return p!=null&&f(n,["enhancedPrompt"],p),n}function XT(s,t){const n={},i=d(t,["predictions"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>Nu(s,p))),f(n,["generatedImages"],u)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&f(n,["positivePromptSafetyAttributes"],Ix(s,o)),n}function QT(s,t){const n={},i=d(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>Nu(s,u))),f(n,["generatedImages"],o)}return n}function WT(s,t){const n={},i=d(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>Nu(s,u))),f(n,["generatedImages"],o)}return n}function eC(s,t){const n={},i=d(t,["endpoint"]);i!=null&&f(n,["name"],i);const o=d(t,["deployedModelId"]);return o!=null&&f(n,["deployedModelId"],o),n}function tC(s,t){const n={},i=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&f(n,["baseModel"],i);const o=d(t,["createTime"]);o!=null&&f(n,["createTime"],o);const u=d(t,["updateTime"]);return u!=null&&f(n,["updateTime"],u),n}function nC(s,t){const n={},i=d(t,["checkpointId"]);i!=null&&f(n,["checkpointId"],i);const o=d(t,["epoch"]);o!=null&&f(n,["epoch"],o);const u=d(t,["step"]);return u!=null&&f(n,["step"],u),n}function mu(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["description"]);u!=null&&f(n,["description"],u);const p=d(t,["versionId"]);p!=null&&f(n,["version"],p);const g=d(t,["deployedModels"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(S=>eC(s,S))),f(n,["endpoints"],w)}const v=d(t,["labels"]);v!=null&&f(n,["labels"],v);const x=d(t,["_self"]);x!=null&&f(n,["tunedModelInfo"],tC(s,x));const y=d(t,["defaultCheckpointId"]);y!=null&&f(n,["defaultCheckpointId"],y);const b=d(t,["checkpoints"]);if(b!=null){let w=b;Array.isArray(w)&&(w=w.map(S=>nC(s,S))),f(n,["checkpoints"],w)}return n}function aC(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["_self"]);if(o!=null){let u=Cx(s,o);Array.isArray(u)&&(u=u.map(p=>mu(s,p))),f(n,["models"],u)}return n}function sC(){return{}}function iC(s,t){const n={},i=d(t,["totalTokens"]);return i!=null&&f(n,["totalTokens"],i),n}function lC(s,t){const n={},i=d(t,["tokensInfo"]);return i!=null&&f(n,["tokensInfo"],i),n}function rC(s,t){const n={},i=d(t,["gcsUri"]);i!=null&&f(n,["uri"],i);const o=d(t,["bytesBase64Encoded"]);o!=null&&f(n,["videoBytes"],ya(s,o));const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function oC(s,t){const n={},i=d(t,["_self"]);return i!=null&&f(n,["video"],rC(s,i)),n}function cC(s,t){const n={},i=d(t,["videos"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(g=>oC(s,g))),f(n,["generatedVideos"],p)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(n,["raiMediaFilteredCount"],o);const u=d(t,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function uC(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);p!=null&&f(n,["error"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],cC(s,g)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dC="Content-Type",fC="X-Server-Timeout",mC="User-Agent",pu="x-goog-api-client",pC="1.3.0",hC=`google-genai-sdk/${pC}`,xC="v1beta1",gC="v1beta",ex=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Ux extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class hu extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class vC{constructor(t){var n,i;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:xC,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:gC,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,i);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))o.searchParams.append(p,String(g));let u={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=t.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,n,t.abortSignal),this.unaryApiCall(o,u,t.httpMethod)}patchHttpOptions(t,n){const i=JSON.parse(JSON.stringify(t));for(const[o,u]of Object.entries(n))typeof u=="object"?i[o]=Object.assign(Object.assign({},i[o]),u):u!==void 0&&(i[o]=u);return i}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let u={};return u.body=t.body,u=await this.includeExtraHttpOptionsToRequestInit(u,n,t.abortSignal),this.streamApiCall(o,u,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,i){if(n&&n.timeout||i){const o=new AbortController,u=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=u}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await tx(o),new ou(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await tx(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){var n;return Us(this,arguments,function*(){const o=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),u=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let p="";for(;;){const{done:g,value:v}=yield ct(o.read());if(g){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const x=u.decode(v);try{const b=JSON.parse(x);if("error"in b){const w=JSON.parse(JSON.stringify(b.error)),S=w.status,_=w.code,T=`got status: ${S}. ${JSON.stringify(b)}`;if(_>=400&&_<500)throw new Ux(T);if(_>=500&&_<600)throw new hu(T)}}catch(b){const w=b;if(w.name==="ClientError"||w.name==="ServerError")throw b}p+=x;let y=p.match(ex);for(;y;){const b=y[1];try{const w=new Response(b,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ct(new ou(w)),p=p.slice(y[0].length),y=p.match(ex)}catch(w){throw new Error(`exception parsing stream chunk ${b}. ${w}`)}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const t={},n=hC+" "+this.clientOptions.userAgentExtra;return t[mC]=n,t[pu]=n,t[dC]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))n.append(i,o);t.timeout&&t.timeout>0&&n.append(fC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const u=this.clientOptions.uploader,p=await u.stat(t);o.sizeBytes=String(p.size);const g=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=g;const v=await this.fetchUploadUrl(o,n);return u.upload(t,v,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n){var i;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const u={file:t},p=await this.request({path:Ae("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:o});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(i=p==null?void 0:p.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function tx(s){var t;if(s===void 0)throw new hu("response is undefined");if(!s.ok){const n=s.status,i=s.statusText;let o;!((t=s.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await s.json():o={error:{message:await s.text(),code:s.status,status:s.statusText}};const u=`got status: ${n} ${i}. ${JSON.stringify(o)}`;throw n>=400&&n<500?new Ux(u):n>=500&&n<600?new hu(u):new Error(u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yC="mcp_used/unknown";function zx(s){for(const t of s)if(wu(t)||typeof t=="object"&&"inputSchema"in t)return!0;return!1}function Ox(s){var t;const n=(t=s[pu])!==null&&t!==void 0?t:"";s[pu]=(n+` ${yC}`).trimStart()}function bC(s){var t,n,i;return(i=(n=(t=s.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>wu(o)))!==null&&i!==void 0?i:!1}function NC(s){var t,n,i;return(i=(n=(t=s.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>!wu(o)))!==null&&i!==void 0?i:!1}function wu(s){return s!==null&&typeof s=="object"&&s instanceof Tu}function wC(s,t=100){return Us(this,arguments,function*(){let i,o=0;for(;o<t;){const u=yield ct(s.listTools({cursor:i}));for(const p of u.tools)yield yield ct(p),o++;if(!u.nextCursor)break;i=u.nextCursor}})}class Tu{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Tu(t,n)}async initialize(){var t,n,i,o;if(this.mcpTools.length>0)return;const u={},p=[];for(const y of this.mcpClients)try{for(var g=!0,v=(n=void 0,Pi(wC(y))),x;x=await v.next(),t=x.done,!t;g=!0){o=x.value,g=!1;const b=o;p.push(b);const w=b.name;if(u[w])throw new Error(`Duplicate function name ${w} found in MCP tools. Please ensure function names are unique.`);u[w]=y}}catch(b){n={error:b}}finally{try{!g&&!t&&(i=v.return)&&await i.call(v)}finally{if(n)throw n.error}}this.mcpTools=p,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),Ey(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const i of t)if(i.name in this.functionNameToMcpClient){const u=await this.functionNameToMcpClient[i.name].callTool({name:i.name,arguments:i.args});n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function TC(s,t,n){const i=new xy;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const u=zw(s,o);Object.assign(i,u),t(i)}class CC{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i}async connect(t){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),p=kC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),v=`${o}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${g}`;let x=()=>{};const y=new Promise(R=>{x=R}),b=t.callbacks,w=function(){x({})},S=this.apiClient,_={onopen:w,onmessage:R=>{TC(S,b.onmessage,R)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(R){},onclose:(i=b==null?void 0:b.onclose)!==null&&i!==void 0?i:function(R){}},T=this.webSocketFactory.create(v,_C(p),_);T.connect(),await y;const A=lt(this.apiClient,t.model),M=Ex(this.apiClient,{model:A}),U=du(this.apiClient,{setup:M});return T.send(JSON.stringify(U)),new SC(T,this.apiClient)}}class SC{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=JN(this.apiClient,t),i=Ax(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=XN(this.apiClient,t),i=du(this.apiClient,n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(t){const n=du(this.apiClient,{playbackControl:t});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Rs.PLAY)}pause(){this.sendPlaybackControl(Rs.PAUSE)}stop(){this.sendPlaybackControl(Rs.STOP)}resetContext(){this.sendPlaybackControl(Rs.RESET_CONTEXT)}close(){this.conn.close()}}function _C(s){const t={};return s.forEach((n,i)=>{t[i]=n}),t}function kC(s){const t=new Headers;for(const[n,i]of Object.entries(s))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function EC(s,t,n){const i=new hy;let o;if(n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),s.isVertexAI()){const u=kw(s,o);Object.assign(i,u)}else{const u=_w(s,o);Object.assign(i,u)}t(i)}class AC{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i,this.music=new CC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,i,o,u,p,g;const v=this.apiClient.getWebsocketBaseUrl(),x=this.apiClient.getApiVersion();let y;const b=this.apiClient.getDefaultHeaders();t.config&&t.config.tools&&zx(t.config.tools)&&Ox(b);const w=IC(b);if(this.apiClient.isVertexAI())y=`${v}/ws/google.cloud.aiplatform.${x}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(w);else{const E=this.apiClient.getApiKey();let O="BidiGenerateContent",L="key";E!=null&&E.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),O="BidiGenerateContentConstrained",L="access_token"),y=`${v}/ws/google.ai.generativelanguage.${x}.GenerativeService.${O}?${L}=${E}`}let S=()=>{};const _=new Promise(E=>{S=E}),T=t.callbacks,A=function(){var E;(E=T==null?void 0:T.onopen)===null||E===void 0||E.call(T),S({})},M=this.apiClient,U={onopen:A,onmessage:E=>{EC(M,T.onmessage,E)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(E){},onclose:(i=T==null?void 0:T.onclose)!==null&&i!==void 0?i:function(E){}},R=this.webSocketFactory.create(y,RC(w),U);R.connect(),await _;let Y=lt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&Y.startsWith("publishers/")){const E=this.apiClient.getProject(),O=this.apiClient.getLocation();Y=`projects/${E}/locations/${O}/`+Y}let q={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Tr.AUDIO]}:t.config.responseModalities=[Tr.AUDIO]),!((u=t.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const te=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],D=[];for(const E of te)if(this.isCallableTool(E)){const O=E;D.push(await O.tool())}else D.push(E);D.length>0&&(t.config.tools=D);const I={model:Y,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?q=qN(this.apiClient,I):q=GN(this.apiClient,I),delete q.config,R.send(JSON.stringify(q)),new MC(R,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const DC={turnComplete:!0};class MC{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=pn(t,n.turns),t.isVertexAI()?i=i.map(o=>$s(t,o)):i=i.map(o=>jr(t,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const u of i){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!t.isVertexAI()&&!("id"in u))throw new Error(jC)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},DC),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:KN(this.apiClient,t)}:n={realtimeInput:ZN(this.apiClient,t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function RC(s){const t={};return s.forEach((n,i)=>{t[i]=n}),t}function IC(s){const t=new Headers;for(const[n,i]of Object.entries(s))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nx=10;function ax(s){var t,n,i;if(!((t=s==null?void 0:s.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let o=!1;for(const p of(n=s==null?void 0:s.tools)!==null&&n!==void 0?n:[])if(xr(p)){o=!0;break}if(!o)return!0;const u=(i=s==null?void 0:s.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function xr(s){return"callTool"in s&&typeof s.callTool=="function"}function sx(s){var t;return!(!((t=s==null?void 0:s.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UC extends Ps{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var i,o,u,p,g;const v=await this.processParamsForMcpUsage(n);if(!bC(n)||ax(n.config))return await this.generateContentInternal(v);if(NC(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let x,y;const b=pn(this.apiClient,v.contents),w=(u=(o=(i=v.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&u!==void 0?u:nx;let S=0;for(;S<w&&(x=await this.generateContentInternal(v),!(!x.functionCalls||x.functionCalls.length===0));){const _=x.candidates[0].content,T=[];for(const A of(g=(p=n.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(xr(A)){const U=await A.callTool(x.functionCalls);T.push(...U)}S++,y={role:"user",parts:T},v.contents=pn(this.apiClient,v.contents),v.contents.push(_),v.contents.push(y),sx(v.config)&&(b.push(_),b.push(y))}return sx(v.config)&&(x.automaticFunctionCallingHistory=b),x},this.generateContentStream=async n=>{if(ax(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let u;const p=[];if(i!=null&&i.generatedImages)for(const v of i.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((o=v==null?void 0:v.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?u=v==null?void 0:v.safetyAttributes:p.push(v);let g;return u?g={generatedImages:p,positivePromptSafetyAttributes:u}:g={generatedImages:p},g}),this.list=async n=>{var i;const p={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((i=p.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new kr(Gs.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)}}async processParamsForMcpUsage(t){var n,i,o;const u=(n=t.config)===null||n===void 0?void 0:n.tools;if(!u)return t;const p=await Promise.all(u.map(async v=>xr(v)?await v.tool():v)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&zx(t.config.tools)){const v=(o=(i=t.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let x=Object.assign({},v);Object.keys(x).length===0&&(x=this.apiClient.getDefaultHeaders()),Ox(x),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:x})}return g}async initAfcToolsMap(t){var n,i,o;const u=new Map;for(const p of(i=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(xr(p)){const g=p,v=await g.tool();for(const x of(o=v.functionDeclarations)!==null&&o!==void 0?o:[]){if(!x.name)throw new Error("Function declaration name is required.");if(u.has(x.name))throw new Error(`Duplicate tool declaration name: ${x.name}`);u.set(x.name,g)}}return u}async processAfcStream(t){var n,i,o;const u=(o=(i=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:nx;let p=!1,g=0;const v=await this.initAfcToolsMap(t);return(function(x,y,b){var w,S;return Us(this,arguments,function*(){for(var _,T,A,M;g<u;){p&&(g++,p=!1);const q=yield ct(x.processParamsForMcpUsage(b)),te=yield ct(x.generateContentStreamInternal(q)),D=[],I=[];try{for(var U=!0,R=(T=void 0,Pi(te)),Y;Y=yield ct(R.next()),_=Y.done,!_;U=!0){M=Y.value,U=!1;const E=M;if(yield yield ct(E),E.candidates&&(!((w=E.candidates[0])===null||w===void 0)&&w.content)){I.push(E.candidates[0].content);for(const O of(S=E.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(g<u&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(O.functionCall.name)){const L=yield ct(y.get(O.functionCall.name).callTool([O.functionCall]));D.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch(E){T={error:E}}finally{try{!U&&!_&&(A=R.return)&&(yield ct(A.call(R)))}finally{if(T)throw T.error}}if(D.length>0){p=!0;const E=new Hi;E.candidates=[{content:{role:"user",parts:D}}],yield yield ct(E);const O=[];O.push(...I),O.push({role:"user",parts:D});const L=pn(x.apiClient,b.contents).concat(O);b.contents=L}else break}})})(this,v,t)}async generateContentInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Xh(this.apiClient,t);return g=Ae("{model}:generateContent",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=Wh(this.apiClient,y),w=new Hi;return Object.assign(w,b),w})}else{const x=Jh(this.apiClient,t);return g=Ae("{model}:generateContent",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=Qh(this.apiClient,y),w=new Hi;return Object.assign(w,b),w})}}async generateContentStreamInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Xh(this.apiClient,t);g=Ae("{model}:streamGenerateContent?alt=sse",x._url),v=x._query,delete x.config,delete x._url,delete x._query;const y=this.apiClient;return p=y.requestStream({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),p.then(function(b){return Us(this,arguments,function*(){var w,S,_,T;try{for(var A=!0,M=Pi(b),U;U=yield ct(M.next()),w=U.done,!w;A=!0){T=U.value,A=!1;const Y=Wh(y,yield ct(T.json())),q=new Hi;Object.assign(q,Y),yield yield ct(q)}}catch(R){S={error:R}}finally{try{!A&&!w&&(_=M.return)&&(yield ct(_.call(M)))}finally{if(S)throw S.error}}})})}else{const x=Jh(this.apiClient,t);g=Ae("{model}:streamGenerateContent?alt=sse",x._url),v=x._query,delete x.config,delete x._url,delete x._query;const y=this.apiClient;return p=y.requestStream({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}),p.then(function(b){return Us(this,arguments,function*(){var w,S,_,T;try{for(var A=!0,M=Pi(b),U;U=yield ct(M.next()),w=U.done,!w;A=!0){T=U.value,A=!1;const Y=Qh(y,yield ct(T.json())),q=new Hi;Object.assign(q,Y),yield yield ct(q)}}catch(R){S={error:R}}finally{try{!A&&!w&&(_=M.return)&&(yield ct(_.call(M)))}finally{if(S)throw S.error}}})})}}async embedContent(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Y1(this.apiClient,t);return g=Ae("{model}:predict",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=KT(this.apiClient,y),w=new Ah;return Object.assign(w,b),w})}else{const x=r1(this.apiClient,t);return g=Ae("{model}:batchEmbedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=kT(this.apiClient,y),w=new Ah;return Object.assign(w,b),w})}}async generateImagesInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=K1(this.apiClient,t);return g=Ae("{model}:predict",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=XT(this.apiClient,y),w=new Dh;return Object.assign(w,b),w})}else{const x=c1(this.apiClient,t);return g=Ae("{model}:predict",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=AT(this.apiClient,y),w=new Dh;return Object.assign(w,b),w})}}async editImageInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=nT(this.apiClient,t);return u=Ae("{model}:predict",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>{const x=QT(this.apiClient,v),y=new cy;return Object.assign(y,x),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=sT(this.apiClient,t);return u=Ae("{model}:predict",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>{const x=WT(this.apiClient,v),y=new uy;return Object.assign(y,x),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=iT(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>mu(this.apiClient,y))}else{const x=u1(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>fu(this.apiClient,y))}}async listInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=rT(this.apiClient,t);return g=Ae("{models_url}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=aC(this.apiClient,y),w=new Mh;return Object.assign(w,b),w})}else{const x=f1(this.apiClient,t);return g=Ae("{models_url}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=MT(this.apiClient,y),w=new Mh;return Object.assign(w,b),w})}}async update(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=cT(this.apiClient,t);return g=Ae("{model}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>mu(this.apiClient,y))}else{const x=p1(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>fu(this.apiClient,y))}}async delete(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=uT(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(()=>{const y=sC(),b=new Rh;return Object.assign(b,y),b})}else{const x=h1(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(()=>{const y=RT(),b=new Rh;return Object.assign(b,y),b})}}async countTokens(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=fT(this.apiClient,t);return g=Ae("{model}:countTokens",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=iC(this.apiClient,y),w=new Ih;return Object.assign(w,b),w})}else{const x=g1(this.apiClient,t);return g=Ae("{model}:countTokens",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=IT(this.apiClient,y),w=new Ih;return Object.assign(w,b),w})}}async computeTokens(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=mT(this.apiClient,t);return u=Ae("{model}:computeTokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>{const x=lC(this.apiClient,v),y=new dy;return Object.assign(y,x),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=hT(this.apiClient,t);return g=Ae("{model}:predictLongRunning",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>uC(this.apiClient,y))}else{const x=b1(this.apiClient,t);return g=Ae("{model}:predictLongRunning",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>LT(this.apiClient,y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zC(s,t){const n={},i=d(t,["operationName"]);i!=null&&f(n,["_url","operationName"],i);const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function OC(s,t){const n={},i=d(t,["operationName"]);i!=null&&f(n,["_url","operationName"],i);const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function LC(s,t){const n={},i=d(t,["operationName"]);i!=null&&f(n,["operationName"],i);const o=d(t,["resourceName"]);o!=null&&f(n,["_url","resourceName"],o);const u=d(t,["config"]);return u!=null&&f(n,["config"],u),n}function VC(s,t){const n={},i=d(t,["video","uri"]);i!=null&&f(n,["uri"],i);const o=d(t,["video","encodedVideo"]);o!=null&&f(n,["videoBytes"],ya(s,o));const u=d(t,["encoding"]);return u!=null&&f(n,["mimeType"],u),n}function HC(s,t){const n={},i=d(t,["_self"]);return i!=null&&f(n,["video"],VC(s,i)),n}function BC(s,t){const n={},i=d(t,["generatedSamples"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(g=>HC(s,g))),f(n,["generatedVideos"],p)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(n,["raiMediaFilteredCount"],o);const u=d(t,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function GC(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);p!=null&&f(n,["error"],p);const g=d(t,["response","generateVideoResponse"]);return g!=null&&f(n,["response"],BC(s,g)),n}function qC(s,t){const n={},i=d(t,["gcsUri"]);i!=null&&f(n,["uri"],i);const o=d(t,["bytesBase64Encoded"]);o!=null&&f(n,["videoBytes"],ya(s,o));const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function PC(s,t){const n={},i=d(t,["_self"]);return i!=null&&f(n,["video"],qC(s,i)),n}function $C(s,t){const n={},i=d(t,["videos"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(g=>PC(s,g))),f(n,["generatedVideos"],p)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(n,["raiMediaFilteredCount"],o);const u=d(t,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function ix(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);p!=null&&f(n,["error"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],$C(s,g)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FC extends Ps{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let u;return i&&"httpOptions"in i&&(u=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:u}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=OC(this.apiClient,t);return g=Ae("{operationName}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>ix(this.apiClient,y))}else{const x=zC(this.apiClient,t);return g=Ae("{operationName}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>GC(this.apiClient,y))}}async fetchPredictVideosOperationInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=LC(this.apiClient,t);return u=Ae("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>ix(this.apiClient,v))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YC(s,t){const n={},i=d(t,["voiceName"]);return i!=null&&f(n,["voiceName"],i),n}function Lx(s,t){const n={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(n,["prebuiltVoiceConfig"],YC(s,i)),n}function ZC(s,t){const n={},i=d(t,["speaker"]);i!=null&&f(n,["speaker"],i);const o=d(t,["voiceConfig"]);return o!=null&&f(n,["voiceConfig"],Lx(s,o)),n}function KC(s,t){const n={},i=d(t,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>ZC(s,u))),f(n,["speakerVoiceConfigs"],o)}return n}function JC(s,t){const n={},i=d(t,["voiceConfig"]);i!=null&&f(n,["voiceConfig"],Lx(s,i));const o=d(t,["multiSpeakerVoiceConfig"]);o!=null&&f(n,["multiSpeakerVoiceConfig"],KC(s,o));const u=d(t,["languageCode"]);return u!=null&&f(n,["languageCode"],u),n}function XC(s,t){const n={},i=d(t,["fps"]);i!=null&&f(n,["fps"],i);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function QC(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["data"]);i!=null&&f(n,["data"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function WC(s,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(n,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function eS(s,t){const n={},i=d(t,["videoMetadata"]);i!=null&&f(n,["videoMetadata"],XC(s,i));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],QC(s,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],WC(s,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const b=d(t,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function tS(s,t){const n={},i=d(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(p=>eS(s,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function nS(s,t){const n={},i=d(t,["behavior"]);i!=null&&f(n,["behavior"],i);const o=d(t,["description"]);o!=null&&f(n,["description"],o);const u=d(t,["name"]);u!=null&&f(n,["name"],u);const p=d(t,["parameters"]);p!=null&&f(n,["parameters"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],g),n}function aS(s,t){const n={},i=d(t,["startTime"]);i!=null&&f(n,["startTime"],i);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function sS(s,t){const n={},i=d(t,["timeRangeFilter"]);return i!=null&&f(n,["timeRangeFilter"],aS(s,i)),n}function iS(s,t){const n={},i=d(t,["mode"]);i!=null&&f(n,["mode"],i);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function lS(s,t){const n={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(n,["dynamicRetrievalConfig"],iS(s,i)),n}function rS(){return{}}function oS(s,t){const n={},i=d(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(x=>nS(s,x))),f(n,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearch"]);o!=null&&f(n,["googleSearch"],sS(s,o));const u=d(t,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],lS(s,u)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(n,["urlContext"],rS());const g=d(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function cS(s,t){const n={},i=d(t,["handle"]);if(i!=null&&f(n,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function lx(){return{}}function uS(s,t){const n={},i=d(t,["disabled"]);i!=null&&f(n,["disabled"],i);const o=d(t,["startOfSpeechSensitivity"]);o!=null&&f(n,["startOfSpeechSensitivity"],o);const u=d(t,["endOfSpeechSensitivity"]);u!=null&&f(n,["endOfSpeechSensitivity"],u);const p=d(t,["prefixPaddingMs"]);p!=null&&f(n,["prefixPaddingMs"],p);const g=d(t,["silenceDurationMs"]);return g!=null&&f(n,["silenceDurationMs"],g),n}function dS(s,t){const n={},i=d(t,["automaticActivityDetection"]);i!=null&&f(n,["automaticActivityDetection"],uS(s,i));const o=d(t,["activityHandling"]);o!=null&&f(n,["activityHandling"],o);const u=d(t,["turnCoverage"]);return u!=null&&f(n,["turnCoverage"],u),n}function fS(s,t){const n={},i=d(t,["targetTokens"]);return i!=null&&f(n,["targetTokens"],i),n}function mS(s,t){const n={},i=d(t,["triggerTokens"]);i!=null&&f(n,["triggerTokens"],i);const o=d(t,["slidingWindow"]);return o!=null&&f(n,["slidingWindow"],fS(s,o)),n}function pS(s,t){const n={},i=d(t,["proactiveAudio"]);return i!=null&&f(n,["proactiveAudio"],i),n}function hS(s,t,n){const i={},o=d(t,["generationConfig"]);n!==void 0&&o!=null&&f(n,["setup","generationConfig"],o);const u=d(t,["responseModalities"]);n!==void 0&&u!=null&&f(n,["setup","generationConfig","responseModalities"],u);const p=d(t,["temperature"]);n!==void 0&&p!=null&&f(n,["setup","generationConfig","temperature"],p);const g=d(t,["topP"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topP"],g);const v=d(t,["topK"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","topK"],v);const x=d(t,["maxOutputTokens"]);n!==void 0&&x!=null&&f(n,["setup","generationConfig","maxOutputTokens"],x);const y=d(t,["mediaResolution"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","mediaResolution"],y);const b=d(t,["seed"]);n!==void 0&&b!=null&&f(n,["setup","generationConfig","seed"],b);const w=d(t,["speechConfig"]);n!==void 0&&w!=null&&f(n,["setup","generationConfig","speechConfig"],JC(s,yu(s,w)));const S=d(t,["enableAffectiveDialog"]);n!==void 0&&S!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],S);const _=d(t,["systemInstruction"]);n!==void 0&&_!=null&&f(n,["setup","systemInstruction"],tS(s,Rt(s,_)));const T=d(t,["tools"]);if(n!==void 0&&T!=null){let te=Yi(s,T);Array.isArray(te)&&(te=te.map(D=>oS(s,Fi(s,D)))),f(n,["setup","tools"],te)}const A=d(t,["sessionResumption"]);n!==void 0&&A!=null&&f(n,["setup","sessionResumption"],cS(s,A));const M=d(t,["inputAudioTranscription"]);n!==void 0&&M!=null&&f(n,["setup","inputAudioTranscription"],lx());const U=d(t,["outputAudioTranscription"]);n!==void 0&&U!=null&&f(n,["setup","outputAudioTranscription"],lx());const R=d(t,["realtimeInputConfig"]);n!==void 0&&R!=null&&f(n,["setup","realtimeInputConfig"],dS(s,R));const Y=d(t,["contextWindowCompression"]);n!==void 0&&Y!=null&&f(n,["setup","contextWindowCompression"],mS(s,Y));const q=d(t,["proactivity"]);return n!==void 0&&q!=null&&f(n,["setup","proactivity"],pS(s,q)),i}function xS(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["setup","model"],lt(s,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],hS(s,o,n)),n}function gS(s,t,n){const i={},o=d(t,["expireTime"]);n!==void 0&&o!=null&&f(n,["expireTime"],o);const u=d(t,["newSessionExpireTime"]);n!==void 0&&u!=null&&f(n,["newSessionExpireTime"],u);const p=d(t,["uses"]);n!==void 0&&p!=null&&f(n,["uses"],p);const g=d(t,["liveConnectConstraints"]);n!==void 0&&g!=null&&f(n,["bidiGenerateContentSetup"],xS(s,g));const v=d(t,["lockAdditionalFields"]);return n!==void 0&&v!=null&&f(n,["fieldMask"],v),i}function vS(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],gS(s,i,n)),n}function yS(s,t){const n={},i=d(t,["name"]);return i!=null&&f(n,["name"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bS(s){const t=[];for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)){const i=s[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(u=>`${n}.${u}`);t.push(...o)}else t.push(n)}return t.join(",")}function NS(s,t){let n=null;const i=s.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const u=i.setup;typeof u=="object"&&u!==null?(s.bidiGenerateContentSetup=u,n=u):delete s.bidiGenerateContentSetup}else i!==void 0&&delete s.bidiGenerateContentSetup;const o=s.fieldMask;if(n){const u=bS(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)u?s.fieldMask=u:delete s.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];o.length>0&&(g=o.map(x=>p.includes(x)?`generationConfig.${x}`:x));const v=[];u&&v.push(u),g.length>0&&v.push(...g),v.length>0?s.fieldMask=v.join(","):delete s.fieldMask}else delete s.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?s.fieldMask=o.join(","):delete s.fieldMask;return s}class wS extends Ps{constructor(t){super(),this.apiClient=t}async create(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=vS(this.apiClient,t);u=Ae("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const v=NS(g,t.config);return o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),o.then(x=>yS(this.apiClient,x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TS(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],i);const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function CS(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);n!==void 0&&u!=null&&f(n,["_query","pageToken"],u);const p=d(t,["filter"]);return n!==void 0&&p!=null&&f(n,["_query","filter"],p),i}function SS(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],CS(s,i,n)),n}function _S(s,t){const n={},i=d(t,["textInput"]);i!=null&&f(n,["textInput"],i);const o=d(t,["output"]);return o!=null&&f(n,["output"],o),n}function kS(s,t){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(t,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>_S(s,u))),f(n,["examples","examples"],o)}return n}function jS(s,t,n){const i={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=d(t,["tunedModelDisplayName"]);if(n!==void 0&&o!=null&&f(n,["displayName"],o),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=d(t,["epochCount"]);n!==void 0&&u!=null&&f(n,["tuningTask","hyperparameters","epochCount"],u);const p=d(t,["learningRateMultiplier"]);if(p!=null&&f(i,["tuningTask","hyperparameters","learningRateMultiplier"],p),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=d(t,["batchSize"]);n!==void 0&&g!=null&&f(n,["tuningTask","hyperparameters","batchSize"],g);const v=d(t,["learningRate"]);return n!==void 0&&v!=null&&f(n,["tuningTask","hyperparameters","learningRate"],v),i}function ES(s,t){const n={},i=d(t,["baseModel"]);i!=null&&f(n,["baseModel"],i);const o=d(t,["trainingDataset"]);o!=null&&f(n,["tuningTask","trainingData"],kS(s,o));const u=d(t,["config"]);return u!=null&&f(n,["config"],jS(s,u,n)),n}function AS(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["_url","name"],i);const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function DS(s,t,n){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);n!==void 0&&u!=null&&f(n,["_query","pageToken"],u);const p=d(t,["filter"]);return n!==void 0&&p!=null&&f(n,["_query","filter"],p),i}function MS(s,t){const n={},i=d(t,["config"]);return i!=null&&f(n,["config"],DS(s,i,n)),n}function RS(s,t,n){const i={},o=d(t,["gcsUri"]);if(n!==void 0&&o!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],o),d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function IS(s,t){const n={},i=d(t,["gcsUri"]);return i!=null&&f(n,["validationDatasetUri"],i),n}function US(s,t,n){const i={},o=d(t,["validationDataset"]);n!==void 0&&o!=null&&f(n,["supervisedTuningSpec"],IS(s,o));const u=d(t,["tunedModelDisplayName"]);n!==void 0&&u!=null&&f(n,["tunedModelDisplayName"],u);const p=d(t,["description"]);n!==void 0&&p!=null&&f(n,["description"],p);const g=d(t,["epochCount"]);n!==void 0&&g!=null&&f(n,["supervisedTuningSpec","hyperParameters","epochCount"],g);const v=d(t,["learningRateMultiplier"]);n!==void 0&&v!=null&&f(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v);const x=d(t,["exportLastCheckpointOnly"]);n!==void 0&&x!=null&&f(n,["supervisedTuningSpec","exportLastCheckpointOnly"],x);const y=d(t,["adapterSize"]);if(n!==void 0&&y!=null&&f(n,["supervisedTuningSpec","hyperParameters","adapterSize"],y),d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function zS(s,t){const n={},i=d(t,["baseModel"]);i!=null&&f(n,["baseModel"],i);const o=d(t,["trainingDataset"]);o!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],RS(s,o,n));const u=d(t,["config"]);return u!=null&&f(n,["config"],US(s,u,n)),n}function OS(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["model"],i);const o=d(t,["name"]);return o!=null&&f(n,["endpoint"],o),n}function Vx(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["state"]);o!=null&&f(n,["state"],Nx(s,o));const u=d(t,["createTime"]);u!=null&&f(n,["createTime"],u);const p=d(t,["tuningTask","startTime"]);p!=null&&f(n,["startTime"],p);const g=d(t,["tuningTask","completeTime"]);g!=null&&f(n,["endTime"],g);const v=d(t,["updateTime"]);v!=null&&f(n,["updateTime"],v);const x=d(t,["description"]);x!=null&&f(n,["description"],x);const y=d(t,["baseModel"]);y!=null&&f(n,["baseModel"],y);const b=d(t,["_self"]);b!=null&&f(n,["tunedModel"],OS(s,b));const w=d(t,["distillationSpec"]);w!=null&&f(n,["distillationSpec"],w);const S=d(t,["experiment"]);S!=null&&f(n,["experiment"],S);const _=d(t,["labels"]);_!=null&&f(n,["labels"],_);const T=d(t,["pipelineJob"]);T!=null&&f(n,["pipelineJob"],T);const A=d(t,["serviceAccount"]);A!=null&&f(n,["serviceAccount"],A);const M=d(t,["tunedModelDisplayName"]);return M!=null&&f(n,["tunedModelDisplayName"],M),n}function LS(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["tunedModels"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>Vx(s,p))),f(n,["tuningJobs"],u)}return n}function VS(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);return p!=null&&f(n,["error"],p),n}function HS(s,t){const n={},i=d(t,["checkpointId"]);i!=null&&f(n,["checkpointId"],i);const o=d(t,["epoch"]);o!=null&&f(n,["epoch"],o);const u=d(t,["step"]);u!=null&&f(n,["step"],u);const p=d(t,["endpoint"]);return p!=null&&f(n,["endpoint"],p),n}function BS(s,t){const n={},i=d(t,["model"]);i!=null&&f(n,["model"],i);const o=d(t,["endpoint"]);o!=null&&f(n,["endpoint"],o);const u=d(t,["checkpoints"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>HS(s,g))),f(n,["checkpoints"],p)}return n}function xu(s,t){const n={},i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["state"]);o!=null&&f(n,["state"],Nx(s,o));const u=d(t,["createTime"]);u!=null&&f(n,["createTime"],u);const p=d(t,["startTime"]);p!=null&&f(n,["startTime"],p);const g=d(t,["endTime"]);g!=null&&f(n,["endTime"],g);const v=d(t,["updateTime"]);v!=null&&f(n,["updateTime"],v);const x=d(t,["error"]);x!=null&&f(n,["error"],x);const y=d(t,["description"]);y!=null&&f(n,["description"],y);const b=d(t,["baseModel"]);b!=null&&f(n,["baseModel"],b);const w=d(t,["tunedModel"]);w!=null&&f(n,["tunedModel"],BS(s,w));const S=d(t,["supervisedTuningSpec"]);S!=null&&f(n,["supervisedTuningSpec"],S);const _=d(t,["tuningDataStats"]);_!=null&&f(n,["tuningDataStats"],_);const T=d(t,["encryptionSpec"]);T!=null&&f(n,["encryptionSpec"],T);const A=d(t,["partnerModelTuningSpec"]);A!=null&&f(n,["partnerModelTuningSpec"],A);const M=d(t,["distillationSpec"]);M!=null&&f(n,["distillationSpec"],M);const U=d(t,["experiment"]);U!=null&&f(n,["experiment"],U);const R=d(t,["labels"]);R!=null&&f(n,["labels"],R);const Y=d(t,["pipelineJob"]);Y!=null&&f(n,["pipelineJob"],Y);const q=d(t,["serviceAccount"]);q!=null&&f(n,["serviceAccount"],q);const te=d(t,["tunedModelDisplayName"]);return te!=null&&f(n,["tunedModelDisplayName"],te),n}function GS(s,t){const n={},i=d(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=d(t,["tuningJobs"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>xu(s,p))),f(n,["tuningJobs"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qS extends Ps{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new kr(Gs.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:ru.JOB_STATE_QUEUED}}}}async getInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=AS(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>xu(this.apiClient,y))}else{const x=TS(this.apiClient,t);return g=Ae("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>Vx(this.apiClient,y))}}async listInternal(t){var n,i,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=MS(this.apiClient,t);return g=Ae("tuningJobs",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),p.then(y=>{const b=GS(this.apiClient,y),w=new Uh;return Object.assign(w,b),w})}else{const x=SS(this.apiClient,t);return g=Ae("tunedModels",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const b=LS(this.apiClient,y),w=new Uh;return Object.assign(w,b),w})}}async tuneInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=zS(this.apiClient,t);return u=Ae("tuningJobs",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>xu(this.apiClient,v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,i;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ES(this.apiClient,t);return u=Ae("tunedModels",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),o.then(v=>VS(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PS{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const $S=1024*1024*8,FS=3,YS=1e3,ZS=2,Qc="x-goog-upload-status";async function KS(s,t,n){var i,o,u;let p=0,g=0,v=new ou(new Response),x="upload";for(p=s.size;g<p;){const b=Math.min($S,p-g),w=s.slice(g,g+b);g+b>=p&&(x+=", finalize");let S=0,_=YS;for(;S<FS&&(v=await n.request({path:"",body:w,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":String(g),"Content-Length":String(b)}}}),!(!((i=v==null?void 0:v.headers)===null||i===void 0)&&i[Qc]));)S++,await XS(_),_=_*ZS;if(g+=b,((o=v==null?void 0:v.headers)===null||o===void 0?void 0:o[Qc])!=="active")break;if(p<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(v==null?void 0:v.json());if(((u=v==null?void 0:v.headers)===null||u===void 0?void 0:u[Qc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function JS(s){return{size:s.size,type:s.type}}function XS(s){return new Promise(t=>setTimeout(t,s))}class QS{async upload(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await KS(t,n,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await JS(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WS{create(t,n,i){return new e_(t,n,i)}}class e_{constructor(t,n,i){this.url=t,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rx="x-goog-api-key";class t_{constructor(t){this.apiKey=t}async addAuthHeaders(t){if(t.get(rx)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(rx,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n_="gl-node/";class Hx{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const i=oy(t,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion;const o=new t_(this.apiKey);this.apiClient=new vC({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:n_+"web",uploader:new QS,downloader:new PS}),this.models=new UC(this.apiClient),this.live=new AC(this.apiClient,o,new WS),this.chats=new Ib(this.models,this.apiClient),this.caches=new Db(this.apiClient),this.files=new Yb(this.apiClient),this.operations=new FC(this.apiClient),this.authTokens=new wS(this.apiClient),this.tunings=new qS(this.apiClient)}}var a_={};const Er=()=>new Hx({apiKey:a_.API_KEY}),s_=async(s,t)=>{const n=Er(),i=s.memories.map(g=>`${g.date}: ${g.event} (${g.emotion})`).join(`
`),o=s.notes.map(g=>`${g.date}: ${g.text}`).join(`
`),u=`
         .
     (): ${t.name}, : ${t.role}, : ${t.archetype}.
    : ${s.name}, status: ${s.status}, : ${s.hobbies.join(", ")}.
    
     :
    ${i}
    
    :
    ${o}
    
        AI-    .
      :
    1.  (      ).
    2.   (    ).
    3.   (    ).
    4. 3-5     .
    
       JSON.
  `,p=await n.models.generateContent({model:"gemini-3-flash-preview",contents:u,config:{responseMimeType:"application/json",responseSchema:{type:we.OBJECT,properties:{summary:{type:we.STRING},interests:{type:we.ARRAY,items:{type:we.STRING}},tone:{type:we.STRING},topics:{type:we.ARRAY,items:{type:we.STRING}}}}}});return JSON.parse(p.text||"{}")},i_=async(s,t,n)=>{const i=Er(),o=`
      -  '. 
       "${t}"   "${s}".
      .

        ,       :
    1.    ( ).
    2.     ( ).
    3.     ( ).  ,   ,       .
    4.    .
    5.     YYYY-MM-DD ( ,  NULL).

       JSON.
  `,u=await i.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{responseMimeType:"application/json",responseSchema:{type:we.OBJECT,properties:{hobbies:{type:we.ARRAY,items:{type:we.STRING}},goals:{type:we.ARRAY,items:{type:we.STRING}},notes:{type:we.ARRAY,items:{type:we.STRING}},summary:{type:we.STRING},birthDate:{type:we.STRING,nullable:!0}}}}});return JSON.parse(u.text||"{}")},l_=async(s,t,n)=>{const i=Er(),o=`
          : ${n.name} (${n.race} ${n.archetype}).
     : ${n.vision}
    : ${n.goals.join(", ")}

        : "${s}".
     : ${t}

           GTD  12- :
    1. " " (Next Actions)  3-5      .
    2. "" (Bosses)  2-3  ,     3  .
    3. "" (Habits)  1-2       .

         JSON.
  `,u=await i.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{responseMimeType:"application/json",responseSchema:{type:we.OBJECT,properties:{nextActions:{type:we.ARRAY,items:{type:we.STRING}},subprojects:{type:we.ARRAY,items:{type:we.OBJECT,properties:{title:{type:we.STRING},tasks:{type:we.ARRAY,items:{type:we.STRING}}},required:["title","tasks"]}},habits:{type:we.ARRAY,items:{type:we.STRING}}},required:["nextActions","subprojects","habits"]}}});return JSON.parse(u.text||"{}")},r_=async(s,t,n)=>{const i=Er(),o=`
        GTD    .
       ( + )     .
    : ${t.name}, : ${t.vision}, : ${t.role}.
     : ${t.preferences.workStyle}, ${t.preferences.planningStyle}.
     : ${n.join(", ")}.

      :
    ${s.map(p=>`- [ID:${p.id}] : "${p.title}". : "${p.content||""}"`).join(`
`)}

        :
    1. : 'tasks', 'notes', 'project'.
    2. :  'subtasks', 'habits', 'events', 'people'.
    3.  :        ,  ,       (focusBlockers)?
        ,    'profileImpact'.

        JSON ( ').
  `,u=await i.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{responseMimeType:"application/json",responseSchema:{type:we.ARRAY,items:{type:we.OBJECT,properties:{id:{type:we.STRING},category:{type:we.STRING},priority:{type:we.STRING},status:{type:we.STRING},tags:{type:we.ARRAY,items:{type:we.STRING}},reason:{type:we.STRING},decomposition:{type:we.OBJECT,properties:{subtasks:{type:we.ARRAY,items:{type:we.STRING}},habits:{type:we.ARRAY,items:{type:we.STRING}},events:{type:we.ARRAY,items:{type:we.OBJECT,properties:{title:{type:we.STRING},date:{type:we.STRING}}}},people:{type:we.ARRAY,items:{type:we.OBJECT,properties:{name:{type:we.STRING},status:{type:we.STRING},note:{type:we.STRING}}}}}},profileImpact:{type:we.OBJECT,properties:{bioUpdate:{type:we.STRING},roleUpdate:{type:we.STRING},newGoal:{type:we.STRING},newBelief:{type:we.STRING},workStyleUpdate:{type:we.STRING},newFocusBlocker:{type:we.STRING}}}},required:["id","category","priority","status","tags","reason"]}}}});return JSON.parse(u.text||"[]")},o_=({decisions:s,onClose:t,onConfirm:n})=>{const{tasks:i}=Le(),[o,u]=j.useState(new Set(s.map(v=>v.id))),p=v=>{const x=new Set(o);x.has(v)?x.delete(v):x.add(v),u(x)},g=v=>v==="tasks"?"":v==="notes"?"":v==="project"?"":v;return l.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 tiktok-blur",children:[l.jsx("div",{className:"absolute inset-0 bg-slate-950/60",onClick:t}),l.jsxs(De,{className:"w-full max-w-2xl max-h-[85vh] bg-white border-none shadow-2xl overflow-hidden flex flex-col relative animate-in zoom-in-95 duration-300 rounded-[2.5rem]",children:[l.jsxs("header",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-white sticky top-0 z-10",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-tr from-orange-500 to-pink-500 flex items-center justify-center text-white shadow-lg shadow-orange-200",children:l.jsx("i",{className:"fa-solid fa-sparkles text-xl"})}),l.jsxs("div",{children:[l.jsx(ee,{variant:"h2",className:"text-2xl mb-1 tracking-tight",children:" "}),l.jsx(ee,{variant:"tiny",className:"text-slate-400",children:"     "})]})]}),l.jsx("button",{onClick:t,className:"w-10 h-10 rounded-2xl bg-slate-50 flex items-center justify-center text-slate-300 hover:text-slate-900 transition-all",children:l.jsx("i",{className:"fa-solid fa-xmark"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-8 space-y-6",children:s.map(v=>{var w,S,_;const x=i.find(T=>T.id===v.id);if(!x)return null;const y=o.has(v.id),b=v.decomposition||v.profileImpact;return l.jsxs("div",{onClick:()=>p(v.id),className:`p-6 rounded-[2.5rem] border-2 transition-all cursor-pointer group flex items-start gap-5 ${y?"bg-white border-orange-200 shadow-xl ring-1 ring-orange-100":"bg-slate-50/50 border-transparent opacity-60 grayscale"}`,children:[l.jsx("div",{className:`w-8 h-8 rounded-full border-2 flex items-center justify-center shrink-0 mt-1 transition-all ${y?"bg-orange-600 border-orange-600 text-white shadow-inner":"bg-white border-slate-200 text-transparent"}`,children:l.jsx("i",{className:"fa-solid fa-check text-[12px]"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(ee,{variant:"h3",className:"text-base mb-2 truncate group-hover:text-orange-600 transition-colors",children:x.title}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[l.jsx(ft,{variant:"orange",className:"text-[7px] py-0 px-1.5 uppercase font-black",children:g(v.category)}),l.jsx(ft,{variant:"indigo",className:"text-[7px] py-0 px-1.5 uppercase font-black",children:v.priority}),v.tags.map(T=>l.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:["#",T]},T))]}),l.jsxs("div",{className:"bg-slate-50/50 p-4 rounded-2xl border border-slate-100 italic text-[11px] text-slate-500 leading-relaxed mb-4",children:['"',v.reason,'"']}),y&&b&&l.jsxs("div",{className:"space-y-4 mt-4 border-t border-slate-100 pt-4 animate-in slide-in-from-top-2",children:[v.decomposition&&l.jsxs("div",{className:"space-y-3",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 mb-2 uppercase font-black text-[7px]",children:"  :"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[(w=v.decomposition.subtasks)==null?void 0:w.map((T,A)=>l.jsx("div",{className:"bg-slate-100 px-2 py-1 rounded text-[9px] font-bold",children:"+ "},A)),(S=v.decomposition.people)==null?void 0:S.map((T,A)=>l.jsxs("div",{className:"bg-sky-50 text-sky-700 px-2 py-1 rounded text-[9px] font-bold",children:[l.jsx("i",{className:"fa-solid fa-user-plus mr-1"})," ",T.name]},A)),(_=v.decomposition.events)==null?void 0:_.map((T,A)=>l.jsxs("div",{className:"bg-pink-50 text-pink-700 px-2 py-1 rounded text-[9px] font-bold",children:[l.jsx("i",{className:"fa-solid fa-calendar mr-1"})," "]},A))]})]}),v.profileImpact&&l.jsxs("div",{className:"space-y-3",children:[l.jsx(ee,{variant:"tiny",className:"text-orange-500 mb-2 uppercase font-black text-[7px]",children:" :"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.profileImpact.bioUpdate&&l.jsx(ft,{variant:"orange",className:"text-[7px]",children:" Bio"}),v.profileImpact.roleUpdate&&l.jsx(ft,{variant:"orange",className:"text-[7px]",children:" "}),v.profileImpact.newBelief&&l.jsx(ft,{variant:"indigo",className:"text-[7px]",children:" "}),v.profileImpact.newFocusBlocker&&l.jsx(ft,{variant:"rose",className:"text-[7px]",children:"Focus-blocker"})]})]})]})]})]},v.id)})}),l.jsxs("footer",{className:"p-8 border-t border-slate-50 bg-slate-50/30 flex gap-4 sticky bottom-0 z-10",children:[l.jsx(qe,{variant:"ghost",className:"flex-1 py-4",onClick:t,children:""}),l.jsxs(qe,{variant:"primary",className:"flex-[2] py-4 shadow-xl shadow-orange-200",disabled:o.size===0,onClick:()=>n(o),children:["  (",o.size,")"]})]})]})]})},Wc=({showCompleted:s=!1,showNextActions:t=!1})=>{const{tasks:n,toggleTaskStatus:i,addTask:o,updateTask:u,inboxCategories:p,updateInboxCategory:g,deleteInboxCategory:v,addInboxCategory:x,character:y,aiEnabled:b,people:w}=Le(),{detailsWidth:S}=Gn(300,800),[_,T]=j.useState(null),[A,M]=j.useState(""),[U,R]=j.useState(!1),[Y,q]=j.useState(""),[te,D]=j.useState(null),[I,E]=j.useState(""),[O,L]=j.useState(null),[V,K]=j.useState(!1),[G,fe]=j.useState([]),[F,H]=j.useState(!1),[pe,$]=j.useState(window.innerWidth<1024);j.useEffect(()=>{const xe=()=>$(window.innerWidth<1024);return window.addEventListener("resize",xe),()=>window.removeEventListener("resize",xe)},[]);const ue=t?"actions":"inbox",k=t?me.NEXT_ACTION:me.INBOX,P=xe=>{xe&&xe.preventDefault(),A.trim()&&(o(A.trim(),t?"tasks":"unsorted",void 0,"actions",!1,void 0,void 0,k),M(""))},se=xe=>{xe.preventDefault(),Y.trim()&&(x(Y.trim(),ue),q(""),R(!1))},Q=xe=>{I.trim()&&g(xe,{title:I.trim()}),D(null)},ye=(xe,be)=>{xe.dataTransfer.setData("taskId",be)},le=(xe,be)=>{xe.preventDefault(),L(null);const it=xe.dataTransfer.getData("taskId"),ut=n.find(Ut=>Ut.id===it);if(ut){const Ut=p.find(qn=>qn.id===be),Qt=((Ut==null?void 0:Ut.scope)||ue)==="actions"?me.NEXT_ACTION:me.INBOX;u({...ut,category:be,status:Qt,isDeleted:!1})}},ve=j.useMemo(()=>p.filter(xe=>xe.id==="pinned"?!0:xe.id==="unsorted"||xe.id==="notes"?!t:xe.id==="tasks"?t:xe.scope===ue),[p,ue,t]),_e=async()=>{const xe=n.filter(be=>!be.isDeleted&&be.status===k&&(be.category==="unsorted"||!be.category));if(xe.length!==0){K(!0);try{const be=await r_(xe.map(it=>({id:it.id,title:it.title,content:it.content})),y,w.map(it=>it.name));fe(be),H(!0)}catch{alert(" AI.")}finally{K(!1)}}};return l.jsxs("div",{className:"h-screen flex flex-col lg:flex-row overflow-hidden relative bg-[var(--bg-main)]",children:[l.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full relative",children:[l.jsxs("header",{className:"px-4 md:px-6 pt-4 md:pt-6 pb-2 md:pb-4 border-b border-[var(--border-color)] flex flex-col gap-4 sticky top-0 bg-[var(--bg-card)] z-20 shadow-sm shrink-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center text-white shadow-lg ${t?"bg-amber-500":"bg-indigo-600"}`,children:l.jsx("i",{className:`fa-solid ${t?"fa-bolt-lightning":"fa-inbox"}`})}),l.jsxs("div",{children:[l.jsx(ee,{variant:"h1",className:"text-lg md:text-xl font-black uppercase tracking-tight",children:t?" ":""}),l.jsxs(ee,{variant:"tiny",className:"text-[var(--text-muted)] opacity-50 uppercase tracking-widest text-[8px]",children:[n.filter(xe=>!xe.isDeleted&&xe.status===k).length," "]})]})]}),l.jsxs(qe,{size:"sm",variant:"white",onClick:()=>R(!U),className:"h-9 px-3 rounded-xl gap-2 text-[9px] font-black uppercase tracking-widest",children:[l.jsx("i",{className:`fa-solid ${U?"fa-xmark text-rose-500":"fa-folder-plus text-orange-500"}`}),U?"":""]})]}),U&&l.jsxs("form",{onSubmit:se,className:"flex gap-2 animate-in slide-in-from-top-2 duration-300",children:[l.jsx("input",{autoFocus:!0,value:Y,onChange:xe=>q(xe.target.value),placeholder:`   ${t?"":""}...`,className:"flex-1 bg-[var(--bg-main)] border-2 border-[var(--primary)]/20 rounded-2xl px-5 py-3 text-xs font-bold outline-none focus:border-[var(--primary)] transition-all shadow-inner"}),l.jsx(qe,{variant:"primary",type:"submit",className:"rounded-2xl px-6",children:"OK"})]}),l.jsxs("form",{onSubmit:P,className:"flex gap-2",children:[l.jsx("div",{className:"flex-1",children:l.jsx(dx,{value:A,onChange:M,onSelectTag:()=>{},onEnter:P,placeholder:t?"  ...":" ...",className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl px-5 py-3 text-sm font-bold outline-none focus:ring-4 focus:ring-[var(--primary)]/5 transition-all"})}),l.jsx(qe,{size:"md",type:"submit",className:"rounded-2xl shadow-lg px-6",children:"OK"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-6 space-y-6 md:space-y-8 pb-32",children:ve.map(xe=>{const be=n.filter(Ye=>!Ye.isDeleted&&Ye.status===k&&(xe.isPinned?Ye.isPinned:Ye.category===xe.id)),it=te===xe.id,ut=["pinned","unsorted","tasks","notes"].includes(xe.id),Ut=O===xe.id;return be.length===0&&ut&&!["unsorted","tasks"].includes(xe.id)?null:l.jsxs("section",{onDragOver:Ye=>{Ye.preventDefault(),L(xe.id)},onDragLeave:()=>L(null),onDrop:Ye=>le(Ye,xe.id),className:`space-y-2 md:space-y-3 rounded-[2rem] transition-all duration-200 ${Ut?"bg-[var(--primary)]/5 ring-4 ring-[var(--primary)]/10 p-3 -m-3":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between px-2",children:[l.jsxs("div",{className:"flex items-center gap-2 group/title flex-1",children:[l.jsx("div",{className:`w-1 h-3 md:w-1.5 md:h-4 rounded-full bg-[var(--primary)] ${be.length>0?"opacity-100":"opacity-20"}`}),it?l.jsx("input",{autoFocus:!0,value:I,onChange:Ye=>E(Ye.target.value),onBlur:()=>Q(xe.id),onKeyDown:Ye=>Ye.key==="Enter"&&Q(xe.id),className:"bg-transparent border-b-2 border-[var(--primary)] outline-none text-[8px] md:text-[9px] font-black uppercase tracking-widest text-slate-900"}):l.jsx(ee,{variant:"tiny",onClick:()=>!ut&&(D(xe.id),E(xe.title)),className:`text-[var(--text-main)] font-black uppercase text-[8px] md:text-[9px] tracking-[0.2em] ${ut?"":"cursor-edit hover:text-[var(--primary)]"}`,children:xe.title})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-[7px] md:text-[8px] font-black text-slate-300",children:be.length}),!ut&&l.jsx("button",{onClick:()=>v(xe.id),className:"text-slate-200 hover:text-rose-500 transition-colors p-1",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[9px]"})})]})]}),l.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[be.map(Ye=>l.jsxs(De,{padding:"none",draggable:!0,onDragStart:Qt=>ye(Qt,Ye.id),onClick:()=>T(Ye.id),className:"flex items-center gap-3 md:gap-4 p-3 md:p-4 cursor-grab active:cursor-grabbing hover:border-[var(--primary)]/50 bg-[var(--bg-card)] group shadow-sm hover:shadow-md transition-all rounded-xl md:rounded-2xl border-transparent",children:[l.jsx("button",{onClick:Qt=>{Qt.stopPropagation(),i(Ye)},className:`w-5 h-5 md:w-6 md:h-6 rounded-lg md:rounded-xl border-2 transition-all flex items-center justify-center shrink-0 ${Ye.status===me.DONE?"bg-emerald-500 border-emerald-500 text-white":"border-[var(--border-color)] bg-white"}`,children:Ye.status===me.DONE&&l.jsx("i",{className:"fa-solid fa-check text-[8px] md:text-[10px]"})}),l.jsx("span",{className:`text-[13px] md:text-sm font-bold flex-1 truncate ${Ye.status===me.DONE?"text-[var(--text-muted)] line-through opacity-50":"text-[var(--text-main)]"}`,children:Ye.title}),l.jsx("i",{className:"fa-solid fa-grip-vertical text-slate-100 group-hover:text-slate-300 transition-colors text-[9px] md:text-[10px]"})]},Ye.id)),be.length===0&&l.jsxs("div",{className:"py-6 md:py-8 border-2 border-dashed border-slate-100/50 rounded-xl md:rounded-2xl flex flex-col items-center justify-center grayscale opacity-10",children:[l.jsx("i",{className:"fa-solid fa-folder-open text-lg md:text-xl mb-1"}),l.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase tracking-widest",children:" "})]})]})]},xe.id)})}),b&&l.jsx("div",{className:`absolute left-1/2 -translate-x-1/2 z-30 ${pe?"bottom-24":"bottom-8"}`,children:l.jsxs("button",{onClick:_e,disabled:V,className:"bg-slate-900 text-white px-8 py-4 rounded-[2rem] shadow-2xl flex items-center gap-3 hover:scale-105 active:scale-95 transition-all font-black uppercase text-[10px] tracking-widest border border-white/10 ring-4 ring-slate-900/5",children:[V?l.jsx("i",{className:"fa-solid fa-circle-notch animate-spin"}):l.jsx("i",{className:"fa-solid fa-sparkles text-orange-400"}),V?"...":" "]})})]}),l.jsx("div",{className:`flex h-full border-l border-[var(--border-color)] z-[110] bg-[var(--bg-card)] shrink-0 transition-all duration-300 ${pe?_?"fixed inset-0 w-full translate-x-0":"fixed inset-0 w-full translate-x-full":""}`,children:l.jsx("div",{style:{width:pe?"100vw":S},className:"h-full bg-[var(--bg-card)] relative overflow-hidden flex flex-col shadow-2xl",children:_?l.jsx(qs,{task:n.find(xe=>xe.id===_),onClose:()=>T(null)}):!pe&&l.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 text-center opacity-5 grayscale pointer-events-none select-none",children:[" ",l.jsx("i",{className:"fa-solid fa-inbox text-9xl mb-8"})," "]})})}),F&&l.jsx(o_,{decisions:G,onClose:()=>H(!1),onConfirm:()=>H(!1)})]})},c_=({currentDate:s,viewMode:t,onNavigate:n,onToday:i,onSetViewMode:o})=>l.jsxs("header",{className:"p-4 bg-[var(--bg-card)] border-b border-[var(--border-color)] flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shadow-sm z-20 shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(ee,{variant:"h3",className:"text-[var(--text-main)] capitalize min-w-[140px] text-base",children:t==="year"?s.getFullYear():s.toLocaleString("uk-UA",{month:"long",year:"numeric"})}),l.jsxs("div",{className:"flex bg-[var(--bg-main)] rounded-xl p-0.5 border border-[var(--border-color)]",children:[l.jsx("button",{onClick:()=>n(-1),className:"w-8 h-8 flex items-center justify-center text-[var(--text-muted)] hover:text-[var(--primary)] transition-colors",children:l.jsx("i",{className:"fa-solid fa-chevron-left text-[10px]"})}),l.jsx("button",{onClick:i,className:"px-3 text-[9px] font-black uppercase text-[var(--text-muted)] hover:text-[var(--primary)] border-x border-[var(--border-color)] transition-colors",children:""}),l.jsx("button",{onClick:()=>n(1),className:"w-8 h-8 flex items-center justify-center text-[var(--text-muted)] hover:text-[var(--primary)] transition-colors",children:l.jsx("i",{className:"fa-solid fa-chevron-right text-[10px]"})})]})]}),l.jsx("div",{className:"flex bg-[var(--bg-main)] rounded-xl p-0.5 border border-[var(--border-color)] overflow-x-auto no-scrollbar",children:["day","week","month","year"].map(u=>l.jsx("button",{onClick:()=>o(u),className:`px-4 py-1.5 rounded-lg text-[8px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${t===u?"bg-[var(--bg-card)] shadow-sm text-[var(--primary)]":"text-[var(--text-muted)] hover:text-[var(--text-main)]"}`,children:u==="day"?"":u==="week"?"":u==="month"?"":""},u))})]}),As=({label:s,icon:t,type:n,level:i,isOpen:o,count:u,color:p,onToggle:g,onAdd:v,onClick:x,isDraggable:y,onDragStart:b,children:w})=>l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{draggable:y,onDragStart:b,onClick:g||x,className:`group flex items-center gap-1.5 py-1.5 px-2 cursor-pointer hover:bg-[var(--text-main)]/5 rounded-lg transition-colors relative ${i>0?"ml-2":""} ${o&&(n==="folder"||n==="system")?"bg-[var(--text-main)]/[0.03]":""}`,children:[l.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[n==="folder"||n==="system"||w&&zs.Children.count(w)>0?l.jsx("i",{className:`fa-solid fa-chevron-right text-[7px] text-[var(--text-muted)] transition-transform ${o?"rotate-90 text-[var(--primary)]":""}`}):l.jsx("div",{className:"w-2.5"}),l.jsx("i",{className:`fa-solid ${t} text-[10px] w-4 text-center ${n==="event"?"text-[var(--primary)]":n==="note"?"text-[var(--primary)] opacity-60":n==="folder"?"text-[var(--primary)]":"text-[var(--text-muted)]"}`,style:p?{color:p}:{}})]}),l.jsx("span",{className:`text-[10px] truncate flex-1 uppercase tracking-tight ${n==="folder"||n==="system"?"font-black text-[var(--text-main)]":"font-bold text-[var(--text-muted)]"}`,children:s}),u!==void 0&&u>0&&l.jsx("span",{className:"text-[7px] font-black text-white bg-[var(--primary)] px-1.5 rounded-full shadow-sm",children:u})]}),o&&w&&l.jsx("div",{className:"border-l border-[var(--border-color)] ml-3.5 mt-0.5 pl-1",children:w})]}),u_=({onSelectTask:s})=>{const{tasks:t,projects:n,inboxCategories:i}=Le(),[o,u]=j.useState({root_planned:!0,root_inbox:!0,root_actions:!0,root_notes:!1,root_projects:!0}),p=y=>u(b=>({...b,[y]:!b[y]})),g=j.useMemo(()=>t.filter(y=>!y.isDeleted&&y.status!==me.DONE&&!!y.scheduledDate),[t]),v=j.useMemo(()=>t.filter(y=>!y.isDeleted&&y.status!==me.DONE&&!y.scheduledDate),[t]),x=(y,b)=>l.jsx(As,{id:y.id,label:y.title,icon:y.isEvent?"fa-calendar-star":y.category==="note"?"fa-note-sticky":"fa-circle-dot",type:y.isEvent?"event":y.category==="note"?"note":"task",level:b,onClick:()=>s(y.id),isDraggable:!0,onDragStart:w=>w.dataTransfer.setData("taskId",y.id)},y.id);return l.jsxs("aside",{className:"w-64 bg-[var(--bg-card)] border-r border-[var(--border-color)] flex flex-col hidden lg:flex shrink-0 select-none shadow-sm h-full overflow-hidden",children:[l.jsx("header",{className:"p-4 border-b border-[var(--border-color)] flex items-center justify-between bg-[var(--bg-main)]/20",children:l.jsx(ee,{variant:"tiny",className:"text-[var(--text-muted)] font-black tracking-widest opacity-60",children:" "})}),l.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-4 bg-[var(--bg-main)]/10",children:[l.jsx(As,{id:"root_inbox",label:"",icon:"fa-inbox",type:"system",level:-1,isOpen:o.root_inbox,onToggle:()=>p("root_inbox"),children:i.filter(y=>y.scope==="inbox"||y.id==="unsorted").map(y=>l.jsx(As,{id:y.id,label:y.title,icon:y.icon,type:"folder",level:0,count:v.filter(b=>b.category===y.id&&b.status===me.INBOX).length,isOpen:o[`cat_${y.id}`],onToggle:()=>p(`cat_${y.id}`),children:v.filter(b=>b.category===y.id&&b.status===me.INBOX).map(b=>x(b,1))},y.id))}),l.jsx(As,{id:"root_planned",label:"",icon:"fa-calendar-check",type:"system",level:-1,isOpen:o.root_planned,onToggle:()=>p("root_planned"),children:g.sort((y,b)=>(y.scheduledDate||0)-(b.scheduledDate||0)).slice(0,10).map(y=>x(y,0))}),l.jsx(As,{id:"root_projects",label:"",icon:"fa-folder-tree",type:"system",level:-1,isOpen:o.root_projects,onToggle:()=>p("root_projects"),children:n.filter(y=>y.type==="goal"&&y.status==="active").map(y=>l.jsx(As,{id:y.id,label:y.name,icon:"fa-flag-checkered",color:y.color,type:"folder",level:0,isOpen:o[`p_${y.id}`],onToggle:()=>p(`p_${y.id}`),children:t.filter(b=>b.projectId===y.id&&!b.isDeleted&&b.status!==me.DONE).map(b=>x(b,1))},y.id))})]}),l.jsx("footer",{className:"p-3 bg-[var(--bg-main)]/20 border-t border-[var(--border-color)]",children:l.jsxs("div",{className:"flex items-center justify-between text-[8px] font-black text-[var(--text-muted)] uppercase tracking-widest px-1",children:[l.jsx("span",{children:" "}),l.jsx("span",{className:"text-[var(--primary)] bg-[var(--primary)]/10 px-1.5 py-0.5 rounded-md",children:t.filter(y=>!y.isDeleted&&y.status!==me.DONE).length})]})})]})},d_=({currentDate:s,dragOverDay:t,onDrop:n,onDragOver:i,onDragLeave:o,onSelectTask:u,onAddQuickEvent:p})=>{const{tasks:g,people:v}=Le(),x=zs.useMemo(()=>Array.from({length:42},(y,b)=>{const w=new Date(s.getFullYear(),s.getMonth(),1);return w.setDate(w.getDate()-(w.getDay()===0?6:w.getDay()-1)+b),w}),[s]);return l.jsxs("div",{className:"grid grid-cols-7 gap-px bg-[var(--border-color)] rounded-xl md:rounded-[2rem] overflow-hidden shadow-xl border border-[var(--border-color)] h-full min-h-[500px]",children:[["","","","","","",""].map(y=>l.jsx("div",{className:"bg-[var(--bg-card)] p-1.5 md:p-3 text-center text-[8px] md:text-[9px] font-black uppercase text-[var(--text-muted)] tracking-widest opacity-60",children:y},y)),x.map((y,b)=>{const w=new Date(y).setHours(0,0,0,0),S=w===new Date().setHours(0,0,0,0),_=y.getMonth()===s.getMonth(),T=y.getMonth(),A=y.getDate();y.getFullYear();const M=g.filter(R=>{if(R.isDeleted)return!1;const Y=R.scheduledDate?new Date(R.scheduledDate).setHours(0,0,0,0):null,q=R.endDate?new Date(R.endDate).setHours(0,0,0,0):Y;return Y?w>=Y&&w<=(q||Y):!1}),U=[];return v.forEach(R=>{if(R.birthDate&&R.birthDateShowInCalendar!==!1){const Y=new Date(R.birthDate);Y.getMonth()===T&&Y.getDate()===A&&U.push({id:`bd-${R.id}`,title:` ${R.name}`,type:"birthday"})}}),l.jsxs("div",{onDragOver:R=>i(R,w),onDragLeave:o,onDrop:R=>n(R,w),onClick:()=>window.innerWidth<768&&p(w),className:`min-h-[75px] md:min-h-[120px] p-1 md:p-2 flex flex-col transition-all relative group ${_?"bg-[var(--bg-card)]":"bg-[var(--bg-main)] opacity-40"} ${t===w?"ring-2 ring-inset ring-[var(--primary)]":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-1 md:mb-2 px-1",children:[l.jsx("span",{className:`text-[10px] md:text-xs font-black w-5 h-5 md:w-7 md:h-7 flex items-center justify-center rounded-lg md:rounded-xl transition-all ${S?"bg-[var(--primary)] text-white shadow-lg scale-110":_?"text-[var(--text-main)] group-hover:text-[var(--primary)]":"text-[var(--text-muted)] opacity-30"}`,children:y.getDate()}),l.jsx("button",{onClick:R=>{R.stopPropagation(),p(w)},className:"hidden md:flex w-6 h-6 rounded-lg bg-[var(--primary)] text-white shadow-lg items-center justify-center transition-all hover:scale-110 opacity-0 group-hover:opacity-100",children:l.jsx("i",{className:"fa-solid fa-plus text-[8px]"})})]}),l.jsxs("div",{className:"flex-1 space-y-0.5 md:space-y-1 mt-0.5 overflow-hidden",children:[U.map(R=>l.jsx("div",{className:"text-[7px] md:text-[8px] font-black truncate px-1 md:px-2 py-0.5 md:py-1 rounded-md md:rounded-lg bg-amber-500/10 text-amber-500 border border-amber-500/20",children:R.title},R.id)),M.slice(0,window.innerWidth<768?2:4).map(R=>l.jsx("div",{onClick:Y=>{Y.stopPropagation(),u(R.id)},className:`text-[7px] md:text-[8px] font-black truncate px-1 md:px-2 py-0.5 md:py-1 rounded-md md:rounded-lg border transition-all cursor-pointer ${R.isEvent?"bg-[var(--primary)] text-white border-transparent":"bg-[var(--bg-main)] border-[var(--border-color)] text-[var(--text-main)] hover:border-[var(--primary)]/50"}`,children:l.jsx("span",{className:"truncate",children:R.title})},R.id)),M.length>(window.innerWidth<768?2:4)&&l.jsxs("div",{className:"text-[6px] md:text-[7px] font-black text-[var(--text-muted)] uppercase text-center opacity-60",children:["+ ",M.length-(window.innerWidth<768?2:4)]})]})]},b)})]})},f_=60,m_=({currentDate:s,dragOverDay:t,onDrop:n,onDragOver:i,onDragLeave:o,onSelectTask:u,onAddQuickEvent:p})=>{const{tasks:g,people:v}=Le(),x=zs.useMemo(()=>{const y=new Date(s),b=y.getDay(),w=y.getDate()-b+(b===0?-6:1);return y.setDate(w),y.setHours(0,0,0,0),Array.from({length:7},(S,_)=>{const T=new Date(y);return T.setDate(y.getDate()+_),T})},[s]);return l.jsxs("div",{className:"flex flex-col h-full bg-[var(--bg-card)] rounded-xl md:rounded-3xl overflow-hidden shadow-xl border border-[var(--border-color)]",children:[l.jsxs("div",{className:"flex border-b border-[var(--border-color)] bg-[var(--bg-main)]/30 overflow-x-auto no-scrollbar",children:[l.jsx("div",{className:"w-10 md:w-16 border-r border-[var(--border-color)] shrink-0 bg-[var(--bg-card)] sticky left-0 z-30"}),x.map((y,b)=>{const w=y.toDateString()===new Date().toDateString();return l.jsxs("div",{className:"flex-1 min-w-[70px] md:min-w-[120px] p-1.5 md:p-3 text-center border-r border-[var(--border-color)] last:border-r-0",children:[l.jsx("div",{className:"text-[7px] md:text-[9px] font-black uppercase text-[var(--text-muted)] mb-0.5 md:mb-1",children:y.toLocaleString("uk-UA",{weekday:"short"})}),l.jsx("div",{className:`mx-auto w-6 h-6 md:w-8 md:h-8 rounded-lg flex items-center justify-center text-[9px] md:text-[12px] font-black ${w?"bg-[var(--primary)] text-white shadow-lg":"text-[var(--text-main)]"}`,children:y.getDate()})]},b)})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar relative",children:l.jsxs("div",{className:"flex min-w-max",style:{height:24*f_},children:[l.jsx("div",{className:"w-10 md:w-16 border-r border-[var(--border-color)] bg-[var(--bg-card)] sticky left-0 z-20",children:Array.from({length:24},(y,b)=>l.jsxs("div",{className:"h-[60px] text-[7px] md:text-[9px] font-black text-[var(--text-muted)] text-right pr-2 md:pr-4 pt-1 border-b border-[var(--border-color)]/20 opacity-50 tabular-nums",children:[b,":00"]},b))}),x.map((y,b)=>{const w=y.getTime(),S=y.getMonth(),_=y.getDate(),T=y.getFullYear(),A=g.filter(U=>{if(U.isDeleted)return!1;const R=U.scheduledDate?new Date(U.scheduledDate).setHours(0,0,0,0):null,Y=U.endDate?new Date(U.endDate).setHours(0,0,0,0):R;return R?w>=R&&w<=(Y||R):!1}),M=[];return v.forEach(U=>{if(U.birthDate&&U.birthDateShowInCalendar!==!1){const R=new Date(U.birthDate);R.getMonth()===S&&R.getDate()===_&&(U.birthDateRepeatYearly!==!1||R.getFullYear()===T)&&M.push({id:`bd-${U.id}`,title:` ${U.name}`,type:"birthday"})}}),l.jsxs("div",{onDragOver:U=>i(U,w),onDragLeave:o,onDrop:U=>n(U,w),onClick:()=>p(w),className:`flex-1 min-w-[70px] md:min-w-[120px] border-r border-[var(--border-color)] last:border-r-0 relative group cursor-pointer transition-colors ${t===w?"bg-[var(--primary)]/5 ring-inset ring-2 ring-[var(--primary)]/20":"hover:bg-[var(--bg-main)]/10"}`,children:[Array.from({length:24},(U,R)=>l.jsx("div",{className:"h-[60px] border-b border-[var(--border-color)]/20"},R)),l.jsxs("div",{className:"absolute inset-0 p-0.5 md:p-2 space-y-1",children:[M.map(U=>l.jsx("div",{className:"p-1 rounded-md border text-[7px] md:text-[10px] font-black shadow-sm bg-amber-500/10 border-amber-500/20 text-amber-600",children:l.jsx("div",{className:"truncate",children:U.title})},U.id)),A.map(U=>l.jsxs("div",{draggable:!0,onDragStart:R=>R.dataTransfer.setData("taskId",U.id),onClick:R=>{R.stopPropagation(),u(U.id)},className:`p-1.5 md:p-2.5 rounded-lg md:rounded-2xl border text-[8px] md:text-[11px] font-bold shadow-sm transition-all hover:scale-[1.02] cursor-grab active:cursor-grabbing ${U.isEvent?"bg-[var(--primary)] text-white border-transparent":"bg-[var(--bg-card)] border-[var(--border-color)] text-[var(--text-main)] hover:border-[var(--primary)]/50"}`,children:[l.jsx("div",{className:"truncate mb-0.5",children:U.title}),l.jsxs("div",{className:"flex justify-between items-center opacity-60",children:[l.jsx("span",{className:"text-[6px] md:text-[8px] uppercase font-black",children:U.isEvent?"E":"Q"}),U.status===me.DONE&&l.jsx("i",{className:"fa-solid fa-check text-[6px] md:text-[9px]"})]})]},U.id))]})]},b)})]})})]})},Ds=60,p_=({block:s,onClose:t,onSave:n})=>{const[i,o]=j.useState((s==null?void 0:s.title)||""),[u,p]=j.useState((s==null?void 0:s.startHour)||9),[g,v]=j.useState((s==null?void 0:s.endHour)||10),[x,y]=j.useState((s==null?void 0:s.type)||"work"),[b,w]=j.useState((s==null?void 0:s.color)||"var(--primary)");return l.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 tiktok-blur",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),l.jsxs("div",{className:"bg-[var(--bg-card)] w-full max-w-sm rounded-[2rem] p-6 md:p-8 shadow-2xl relative animate-in zoom-in-95 duration-200 border border-[var(--border-color)]",children:[l.jsx(ee,{variant:"h2",className:"mb-6 text-xl",children:" "}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black uppercase text-[var(--text-muted)] mb-2 block tracking-widest",children:"  "}),l.jsx("input",{autoFocus:!0,value:i,onChange:S=>o(S.target.value),placeholder:":  ",className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl py-3 px-4 text-sm font-bold focus:ring-2 focus:ring-[var(--primary)]/20 outline-none text-[var(--text-main)]"})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-[10px] font-black uppercase text-[var(--text-muted)] mb-2 block tracking-widest",children:""}),l.jsx("input",{type:"number",min:"0",max:"23",value:u,onChange:S=>p(parseInt(S.target.value)),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl py-3 px-4 text-sm font-bold text-[var(--text-main)]"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-[10px] font-black uppercase text-[var(--text-muted)] mb-2 block tracking-widest",children:""}),l.jsx("input",{type:"number",min:"1",max:"24",value:g,onChange:S=>v(parseInt(S.target.value)),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl py-3 px-4 text-sm font-bold text-[var(--text-main)]"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black uppercase text-[var(--text-muted)] mb-2 block tracking-widest",children:"  "}),l.jsx("div",{className:"flex flex-wrap gap-2",children:[{c:"var(--primary)",l:""},{c:"#10b981",l:""},{c:"#6366f1",l:""},{c:"#ec4899",l:""},{c:"#facc15",l:""}].map(S=>l.jsxs("button",{onClick:()=>w(S.c),className:`px-3 py-1.5 rounded-xl border-2 transition-all flex items-center gap-2 ${b===S.c?"border-[var(--primary)] bg-[var(--primary)]/10 text-[var(--text-main)]":"border-[var(--border-color)] bg-[var(--bg-main)] text-[var(--text-muted)] hover:border-[var(--primary)]/20"}`,children:[l.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:S.c}}),l.jsx("span",{className:"text-[9px] font-black uppercase tracking-tight",children:S.l})]},S.c))})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(qe,{variant:"white",className:"flex-1 py-3",onClick:t,children:""}),l.jsx(qe,{variant:"primary",className:"flex-[2] py-3",onClick:()=>n({title:i,startHour:u,endHour:g,type:x,color:b}),children:""})]})]})]})]})},h_=({currentDate:s,onSelectTask:t,onAddQuickEvent:n})=>{const{tasks:i,toggleTaskStatus:o,timeBlocks:u,addTimeBlock:p,updateTimeBlock:g,deleteTimeBlock:v,saveRoutineAsPreset:x,applyRoutinePreset:y,routinePresets:b,people:w}=Le(),S=j.useRef(null),[_,T]=j.useState(null),[A,M]=j.useState(!1),[U,R]=j.useState(new Date);j.useEffect(()=>{const V=setInterval(()=>R(new Date),6e4);return()=>clearInterval(V)},[]),j.useEffect(()=>{if(S.current){const V=S.current,fe=(s.toDateString()===new Date().toDateString()?U.getHours()+U.getMinutes()/60:9)*Ds-V.clientHeight/2;setTimeout(()=>{V.scrollTo({top:Math.max(0,fe),behavior:"smooth"})},100)}},[s]);const Y=i.filter(V=>{if(V.isDeleted)return!1;const K=V.scheduledDate?new Date(V.scheduledDate).setHours(0,0,0,0):null,G=new Date(s).setHours(0,0,0,0);return K===G}),q=s.getMonth(),te=s.getDate();s.getFullYear();const D=j.useMemo(()=>{const V=[];return w.forEach(K=>{if(K.birthDate&&K.birthDateShowInCalendar!==!1){const G=new Date(K.birthDate);G.getMonth()===q&&G.getDate()===te&&V.push({id:`bd-${K.id}`,title:` : ${K.name}`,type:"birthday"})}}),V},[w,q,te]),I=s.getDay(),E=j.useMemo(()=>u.filter(V=>V.dayOfWeek===I),[u,I]),O=(U.getHours()+U.getMinutes()/60)*Ds,L=s.toDateString()===new Date().toDateString();return l.jsxs("div",{className:"flex flex-col lg:flex-row h-full gap-4 md:gap-6",children:[l.jsx("div",{className:"flex-1 space-y-4 overflow-y-auto no-scrollbar",children:l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-2xl md:rounded-[2.5rem] p-5 md:p-10 shadow-sm border border-[var(--border-color)]",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6 md:mb-8",children:[l.jsxs("div",{children:[l.jsx(ee,{variant:"h3",className:"text-xl md:text-2xl mb-1",children:s.toLocaleDateString("uk-UA",{day:"numeric",month:"long"})}),l.jsx(ee,{variant:"caption",className:"text-[var(--primary)]",children:s.toLocaleDateString("uk-UA",{weekday:"long"})})]}),l.jsxs(ft,{variant:"orange",className:"px-4 py-1.5 rounded-xl uppercase font-black text-[8px] md:text-[10px] tracking-widest",children:[Y.length,"  "]})]}),D.length>0&&l.jsxs("div",{className:"mb-6 md:mb-8 space-y-3",children:[l.jsx(ee,{variant:"tiny",className:"text-[var(--text-muted)] mb-2 uppercase tracking-widest font-black text-[8px]",children:" "}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:D.map(V=>l.jsxs("div",{className:"p-4 md:p-5 rounded-2xl md:rounded-[2rem] border-2 bg-amber-500/5 border-amber-500/20 flex items-center gap-3 md:gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500 flex items-center justify-center text-white shadow-lg shrink-0",children:l.jsx("i",{className:"fa-solid fa-cake-candles"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"text-[10px] md:text-[11px] font-black uppercase tracking-tight text-amber-700 truncate",children:V.title}),l.jsx("div",{className:"text-[8px] md:text-[9px] font-bold text-amber-600/60",children:"  !"})]})]},V.id))})]}),l.jsxs("div",{className:"space-y-2 md:space-y-3",children:[Y.map(V=>l.jsxs("div",{onClick:()=>t(V.id),className:`flex items-center gap-3 md:gap-4 p-4 md:p-5 rounded-xl md:rounded-[2rem] transition-all cursor-pointer group border ${V.isEvent?"bg-[var(--primary)]/5 border-[var(--primary)]/20":"bg-[var(--bg-main)]/30 border-[var(--border-color)] hover:border-[var(--primary)]/40 shadow-sm"}`,children:[l.jsx("button",{onClick:K=>{K.stopPropagation(),o(V)},className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all shrink-0 ${V.status===me.DONE?"bg-emerald-500 border-emerald-500 text-white":"border-[var(--border-color)] bg-[var(--bg-card)] text-transparent group-hover:border-[var(--primary)]"}`,children:l.jsx("i",{className:"fa-solid fa-check text-xs"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:`text-[13px] md:text-sm font-bold truncate block ${V.status===me.DONE?"line-through text-[var(--text-muted)]":"text-[var(--text-main)]"}`,children:V.title}),l.jsx("div",{className:"flex items-center gap-2 mt-1",children:l.jsx(ft,{variant:V.isEvent?"rose":"slate",className:"text-[7px] md:text-[8px] py-0 px-1.5",children:V.isEvent?"":""})})]}),l.jsx("i",{className:"fa-solid fa-chevron-right text-[10px] text-[var(--text-muted)] opacity-30 group-hover:translate-x-1 group-hover:opacity-100 transition-all"})]},V.id)),Y.length===0&&D.length===0&&l.jsxs("div",{className:"py-12 md:py-20 text-center opacity-10 flex flex-col items-center",children:[l.jsx("i",{className:"fa-solid fa-mountain-sun text-5xl md:text-6xl mb-4"}),l.jsx(ee,{variant:"h3",className:"text-base uppercase tracking-[0.2em]",children:" "})]})]})]})}),l.jsxs("div",{className:"w-full lg:w-96 bg-[var(--bg-card)] border border-[var(--border-color)] flex flex-col shadow-sm rounded-2xl md:rounded-[2.5rem] overflow-hidden relative min-h-[400px]",children:[l.jsxs("header",{className:"p-4 md:p-6 border-b border-[var(--border-color)] flex items-center justify-between shrink-0 bg-[var(--bg-card)]/80 backdrop-blur z-20",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx(ee,{variant:"tiny",className:"text-[var(--text-main)] font-black mb-1 text-[8px] md:text-[10px]",children:""}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:()=>M(!A),className:"text-[7px] font-black text-[var(--primary)] uppercase tracking-widest hover:underline",children:[" (",b.length,")"]}),l.jsx("button",{onClick:()=>{const V=prompt(" :");V&&x(V,I)},className:"text-[7px] font-black text-[var(--text-muted)] uppercase tracking-widest hover:text-[var(--primary)]",children:""})]})]}),l.jsx("button",{onClick:()=>T({dayOfWeek:I}),className:"w-10 h-10 rounded-xl bg-[var(--text-main)] text-[var(--bg-main)] hover:opacity-90 shadow-xl transition-all flex items-center justify-center",children:l.jsx("i",{className:"fa-solid fa-plus text-xs"})})]}),l.jsx("div",{ref:S,className:"flex-1 overflow-y-auto custom-scrollbar relative bg-[var(--bg-main)]/20",children:l.jsxs("div",{className:"absolute left-0 top-0 w-full",style:{height:24*Ds},children:[Array.from({length:24},(V,K)=>l.jsxs("div",{className:"flex items-start border-t border-[var(--border-color)]/30",style:{height:Ds},children:[l.jsxs("span",{className:"text-[9px] font-black text-[var(--text-muted)] opacity-30 p-2 w-10 md:w-12 text-right tabular-nums",children:[K,":00"]}),l.jsx("div",{className:"flex-1 h-px mt-[1px]"})]},K)),E.map(V=>l.jsxs("div",{onClick:()=>T(V),className:"absolute left-10 md:left-12 right-2 md:right-3 rounded-xl md:rounded-2xl p-2 md:p-3 text-white text-[10px] md:text-[11px] font-bold shadow-lg shadow-black/5 cursor-pointer hover:brightness-105 transition-all group overflow-hidden border-2 border-white/10",style:{top:V.startHour*Ds,height:(V.endHour-V.startHour)*Ds-4,backgroundColor:V.color||"var(--primary)"},children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("span",{className:"truncate pr-4 uppercase tracking-tight leading-tight",children:V.title}),l.jsx("i",{onClick:K=>{K.stopPropagation(),v(V.id)},className:"fa-solid fa-trash-can text-[9px] opacity-0 group-hover:opacity-100 hover:scale-110 transition-all"})]}),l.jsxs("div",{className:"text-[8px] md:text-[9px] opacity-70 font-black tabular-nums mt-1",children:[V.startHour,":00 - ",V.endHour,":00"]})]},V.id)),L&&l.jsxs("div",{className:"absolute left-0 right-0 z-30 pointer-events-none flex items-center",style:{top:O},children:[l.jsx("div",{className:"w-10 md:w-12 text-[7px] md:text-[8px] font-black text-rose-500 bg-[var(--bg-card)]/90 backdrop-blur rounded-r-lg py-0.5 px-1 shadow-sm border border-rose-100 border-l-0 text-right tabular-nums",children:U.toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"})}),l.jsx("div",{className:"flex-1 h-0.5 bg-rose-500/30 relative",children:l.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-2 h-2 rounded-full bg-rose-500 shadow-lg ring-4 ring-rose-100"})})]})]})})]}),_&&l.jsx(p_,{block:_,onClose:()=>T(null),onSave:V=>{_.id?g({...V,id:_.id}):p({...V,dayOfWeek:I}),T(null)}}),A&&l.jsxs("div",{className:"fixed inset-0 z-[310] flex items-center justify-center p-4 tiktok-blur",children:[l.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm",onClick:()=>M(!1)}),l.jsxs("div",{className:"bg-[var(--bg-card)] w-full max-w-xs rounded-[2rem] p-6 md:p-8 shadow-2xl relative animate-in slide-in-from-bottom-4 duration-300 border border-[var(--border-color)]",children:[l.jsx(ee,{variant:"h2",className:"mb-6 text-lg",children:" "}),l.jsxs("div",{className:"space-y-2",children:[b.map(V=>l.jsxs("button",{onClick:()=>{y(V.id,I),M(!1)},className:"w-full p-4 rounded-2xl border border-[var(--border-color)] hover:border-[var(--primary)]/40 hover:bg-[var(--primary)]/5 text-left transition-all group",children:[l.jsx("div",{className:"text-xs font-black text-[var(--text-main)] group-hover:text-[var(--primary)] mb-1 uppercase tracking-tight",children:V.name}),l.jsxs("div",{className:"text-[8px] font-bold text-[var(--text-muted)] uppercase tracking-widest opacity-60",children:[V.blocks.length," "]})]},V.id)),b.length===0&&l.jsxs("div",{className:"text-center py-8 opacity-20",children:[l.jsx("i",{className:"fa-solid fa-box-open text-3xl mb-2"}),l.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest",children:" "})]})]}),l.jsx(qe,{variant:"white",className:"w-full mt-6 py-3 rounded-xl text-[9px] font-black uppercase tracking-widest",onClick:()=>M(!1),children:""})]})]})]})},x_=({currentDate:s})=>{const{tasks:t,people:n,setCalendarDate:i,setCalendarViewMode:o}=Le(),u=s.getFullYear(),p=g=>{const v=new Date(u,g,1).toLocaleString("uk-UA",{month:"long"}),x=(new Date(u,g,1).getDay()+6)%7,y=new Date(u,g+1,0).getDate(),b=[];for(let w=0;w<x;w++)b.push(null);for(let w=1;w<=y;w++)b.push(w);return l.jsxs("div",{className:"bg-[var(--bg-card)] px-4 py-5 rounded-[2rem] border border-[var(--border-color)] shadow-sm hover:border-[var(--primary)]/30 transition-all cursor-pointer group hover:shadow-lg",onClick:()=>{i(new Date(u,g,1).getTime()),o("month")},children:[l.jsx(ee,{variant:"tiny",className:"text-[var(--text-muted)] font-black mb-4 text-center uppercase tracking-[0.2em] group-hover:text-[var(--primary)] transition-colors",children:v}),l.jsx("div",{className:"grid grid-cols-7 gap-1 text-[7px] font-black text-[var(--text-muted)] mb-2 text-center opacity-40",children:["","","","","","",""].map(w=>l.jsx("div",{children:w},w))}),l.jsx("div",{className:"grid grid-cols-7 gap-x-0.5 gap-y-1",children:b.map((w,S)=>{if(w===null)return l.jsx("div",{},`empty-${S}`);const _=new Date().getFullYear()===u&&new Date().getMonth()===g&&new Date().getDate()===w,T=new Date(u,g,w).setHours(0,0,0,0),A=t.some(U=>!U.isDeleted&&U.isEvent&&(U.scheduledDate&&new Date(U.scheduledDate).setHours(0,0,0,0)===T||U.endDate&&T>=new Date(U.scheduledDate).setHours(0,0,0,0)&&T<=new Date(U.endDate).setHours(0,0,0,0))),M=n.some(U=>{var R;if(U.birthDate){const Y=new Date(U.birthDate);if(Y.getMonth()===g&&Y.getDate()===w)return!0}return(R=U.importantDates)==null?void 0:R.some(Y=>{const q=new Date(Y.date);return q.getMonth()===g&&q.getDate()===w})});return l.jsxs("div",{className:"flex flex-col items-center gap-0.5 relative",children:[l.jsx("div",{className:`h-4 w-4 rounded-md flex items-center justify-center text-[8px] font-black transition-all ${_?"bg-[var(--primary)] text-white shadow-sm":"text-[var(--text-main)]"}`,children:w}),l.jsxs("div",{className:"h-1 w-full flex justify-center items-center gap-0.5",children:[A&&l.jsx("div",{className:`w-0.5 h-0.5 rounded-full ${_?"bg-white":"bg-pink-500"}`}),M&&l.jsx("div",{className:`w-0.5 h-0.5 rounded-full ${_?"bg-white":"bg-amber-500"}`})]})]},S)})})]},g)};return l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 pb-20",children:Array.from({length:12},(g,v)=>p(v))})},g_=()=>{const{tasks:s,addTask:t,scheduleTask:n,calendarDate:i,setCalendarDate:o,calendarViewMode:u,setCalendarViewMode:p}=Le(),{isResizing:g,startResizing:v,detailsWidth:x}=Gn(400,800),[y,b]=j.useState(null),[w,S]=j.useState(null),[_,T]=j.useState(!1),[A,M]=j.useState(window.innerWidth<1024);j.useEffect(()=>{const E=()=>M(window.innerWidth<1024);return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const U=j.useMemo(()=>new Date(i),[i]),R=E=>{const O=new Date(U);u==="year"?O.setFullYear(U.getFullYear()+E):u==="month"?O.setMonth(U.getMonth()+E):u==="week"?O.setDate(U.getDate()+E*7):O.setDate(U.getDate()+E),o(O.getTime())},Y=()=>{o(Date.now()),u==="year"&&p("month")},q=(E,O)=>{E.preventDefault(),S(null);const L=E.dataTransfer.getData("taskId");L&&n(L,O)},te=E=>{const O=t("","unsorted",void 0,"actions",!1,E);b(O)},D=E=>{b(E)},I=()=>{switch(u){case"day":return l.jsx(h_,{currentDate:U,onSelectTask:D,onAddQuickEvent:te});case"week":return l.jsx(m_,{currentDate:U,dragOverDay:w,onDragOver:(E,O)=>{E.preventDefault(),S(O)},onDragLeave:()=>S(null),onDrop:q,onSelectTask:D,onAddQuickEvent:te});case"month":return l.jsx(d_,{currentDate:U,dragOverDay:w,onDragOver:(E,O)=>{E.preventDefault(),S(O)},onDragLeave:()=>S(null),onDrop:q,onSelectTask:D,onAddQuickEvent:te});case"year":return l.jsx(x_,{currentDate:U});default:return null}};return l.jsxs("div",{className:"flex h-screen bg-[var(--bg-main)] overflow-hidden relative text-[var(--text-main)]",children:[l.jsxs("div",{className:`${A?_?"fixed inset-0 z-[150] w-full translate-x-0":"fixed inset-0 z-[150] w-full -translate-x-full":"relative"} transition-transform duration-300 h-full`,children:[l.jsx(u_,{onSelectTask:D}),A&&_&&l.jsx("button",{onClick:()=>T(!1),className:"fixed bottom-6 right-6 w-14 h-14 rounded-full bg-[var(--primary)] text-white shadow-2xl flex items-center justify-center z-[160]",children:l.jsx("i",{className:"fa-solid fa-calendar-days text-xl"})})]}),l.jsxs("main",{className:"flex-1 flex flex-col min-w-0 h-full relative z-10",children:[l.jsx(c_,{currentDate:U,viewMode:u,onNavigate:R,onToday:Y,onSetViewMode:p}),l.jsx("div",{className:"flex-1 overflow-auto p-2 md:p-6 custom-scrollbar bg-[var(--bg-main)]",children:I()}),A&&!_&&l.jsxs("button",{onClick:()=>T(!0),className:"fixed bottom-20 right-6 w-14 h-14 rounded-full bg-[var(--bg-card)] border border-[var(--border-color)] text-[var(--primary)] shadow-xl flex items-center justify-center z-40",children:[l.jsx("i",{className:"fa-solid fa-inbox text-xl"}),s.filter(E=>!E.isDeleted&&!E.scheduledDate).length>0&&l.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-rose-500 text-white text-[10px] font-black rounded-full flex items-center justify-center border-2 border-[var(--bg-card)]",children:s.filter(E=>!E.isDeleted&&!E.scheduledDate).length})]})]}),l.jsx("div",{className:`h-full border-l border-[var(--border-color)] bg-[var(--bg-card)] transition-all duration-300 ease-in-out shrink-0 relative z-[200] ${y?"translate-x-0":"translate-x-full absolute"}`,style:{width:y?A?"100vw":x:0},children:y&&l.jsxs(l.Fragment,{children:[!A&&l.jsx("div",{onMouseDown:v,className:`absolute left-0 top-0 bottom-0 w-[2px] cursor-col-resize hover:bg-[var(--primary)] z-[50] transition-colors ${g?"bg-[var(--primary)]":"bg-transparent"}`}),l.jsx("div",{className:"h-full w-full overflow-hidden",children:l.jsx(qs,{task:s.find(E=>E.id===y),onClose:()=>b(null)})})]})})]})},v_=({tasks:s})=>{const{tags:t,addTag:n,renameTag:i,deleteTag:o}=Le(),[u,p]=j.useState(""),[g,v]=j.useState(null),[x,y]=j.useState(""),b=j.useMemo(()=>s.flatMap(T=>T.tags).reduce((T,A)=>(T[A]=(T[A]||0)+1,T),{}),[s]),w=j.useMemo(()=>[...t].sort((T,A)=>(b[A.name]||0)-(b[T.name]||0)),[t,b]),S=T=>{T.preventDefault(),u.trim()&&(n(u.trim()),p(""))},_=T=>{x.trim()&&x!==T&&i(T,x.trim()),v(null)};return l.jsx("div",{className:"p-4 md:p-8 h-full bg-main overflow-y-auto custom-scrollbar",children:l.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[l.jsxs("div",{children:[l.jsx(ee,{variant:"h1",className:"text-2xl md:text-3xl",children:""}),l.jsx(ee,{variant:"tiny",className:"text-muted mt-1",children:"  "})]}),l.jsxs("form",{onSubmit:S,className:"flex gap-2",children:[l.jsxs("div",{className:"relative flex-1 md:w-48",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-primary font-bold",children:"#"}),l.jsx("input",{type:"text",value:u,onChange:T=>p(T.target.value),placeholder:" ...",className:"w-full pl-7 pr-4 py-2 bg-card border border-theme rounded-xl text-sm font-bold focus:ring-2 focus:ring-primary outline-none transition-all text-main"})]}),l.jsx(qe,{type:"submit",size:"sm",children:""})]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-12",children:w.map(T=>l.jsxs(De,{padding:"none",className:"bg-card border-theme p-5 relative overflow-hidden group",children:[l.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary",style:{backgroundColor:T.color||"var(--primary)"}}),l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("div",{className:"flex-1 min-w-0",children:g===T.id?l.jsx("input",{autoFocus:!0,value:x,onChange:A=>y(A.target.value),onBlur:()=>_(T.name),onKeyDown:A=>A.key==="Enter"&&_(T.name),className:"w-full bg-main border-b-2 border-primary font-bold text-main outline-none p-0 uppercase"}):l.jsxs(ee,{variant:"h3",className:"uppercase tracking-wider truncate flex items-center gap-2",children:[l.jsx("span",{className:"text-muted opacity-40",children:"#"}),T.name]})}),l.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx("button",{onClick:()=>{v(T.id),y(T.name)},className:"w-7 h-7 rounded-lg bg-main text-muted hover:text-primary flex items-center justify-center transition-all",children:l.jsx("i",{className:"fa-solid fa-pencil text-[10px]"})}),l.jsx("button",{onClick:()=>confirm(`  #${T.name}?`)&&o(T.name),className:"w-7 h-7 rounded-lg bg-main text-muted hover:text-rose-500 flex items-center justify-center transition-all",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]})]}),l.jsxs("div",{className:"flex items-end justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-[8px] font-black text-muted uppercase tracking-widest",children:""}),l.jsx("div",{className:"text-xl font-black text-main",children:b[T.name]||0})]}),l.jsx("div",{className:"w-8 h-8 rounded-full bg-main flex items-center justify-center text-primary shadow-inner border border-theme",children:l.jsx("i",{className:"fa-solid fa-tag text-[10px]"})})]}),l.jsx("div",{className:"mt-4 pt-4 border-t border-theme space-y-1.5 max-h-24 overflow-y-auto no-scrollbar",children:s.filter(A=>A.tags.includes(T.name)).slice(0,3).map(A=>l.jsxs("div",{className:"text-[10px] text-muted flex items-center gap-2 truncate font-medium",children:[l.jsx("div",{className:"w-1 h-1 rounded-full bg-primary/30"}),A.title]},A.id))})]},T.id))})]})})},y_=()=>{const{hobbies:s,people:t,addHobby:n,renameHobby:i,deleteHobby:o}=Le(),[u,p]=j.useState(""),[g,v]=j.useState(null),[x,y]=j.useState(""),b=j.useMemo(()=>{const T={};return t.forEach(A=>{A.hobbies.forEach(M=>{T[M]=(T[M]||0)+1})}),T},[t]),w=T=>{T.preventDefault(),u.trim()&&(n(u.trim()),p(""))},S=T=>{x.trim()&&x!==T&&i(T,x.trim()),v(null)},_=j.useMemo(()=>[...s].sort((T,A)=>(b[A.name]||0)-(b[T.name]||0)),[s,b]);return l.jsx("div",{className:"p-4 md:p-8 h-full bg-main overflow-y-auto custom-scrollbar",children:l.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[l.jsxs("div",{children:[l.jsx(ee,{variant:"h1",className:"text-2xl md:text-3xl",children:""}),l.jsx(ee,{variant:"tiny",className:"text-muted mt-1",children:"   "})]}),l.jsxs("form",{onSubmit:w,className:"flex gap-2",children:[l.jsx("input",{type:"text",value:u,onChange:T=>p(T.target.value),placeholder:" ...",className:"px-4 py-2 bg-card border border-theme rounded-xl text-sm font-bold focus:ring-2 focus:ring-primary outline-none transition-all w-48 text-main"}),l.jsx(qe,{type:"submit",size:"sm",children:""})]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(T=>l.jsxs(De,{padding:"none",className:"bg-card border-theme p-5 relative overflow-hidden group",children:[l.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary",style:{backgroundColor:T.color||"var(--primary)"}}),l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("div",{className:"flex-1 min-w-0",children:g===T.id?l.jsx("input",{autoFocus:!0,value:x,onChange:A=>y(A.target.value),onBlur:()=>S(T.name),onKeyDown:A=>A.key==="Enter"&&S(T.name),className:"w-full bg-main border-b-2 border-primary font-bold text-main outline-none p-0"}):l.jsx(ee,{variant:"h3",className:"uppercase tracking-wider truncate",children:T.name})}),l.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx("button",{onClick:()=>{v(T.id),y(T.name)},className:"w-7 h-7 rounded-lg bg-main text-muted hover:text-primary flex items-center justify-center transition-all",children:l.jsx("i",{className:"fa-solid fa-pencil text-[10px]"})}),l.jsx("button",{onClick:()=>confirm(`  "${T.name}"?`)&&o(T.name),className:"w-7 h-7 rounded-lg bg-main text-muted hover:text-rose-500 flex items-center justify-center transition-all",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]})]}),l.jsxs("div",{className:"flex items-end justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-[8px] font-black text-muted uppercase tracking-widest",children:""}),l.jsx("div",{className:"text-xl font-black text-main",children:b[T.name]||0})]}),l.jsx("div",{className:"w-8 h-8 rounded-full bg-main flex items-center justify-center text-primary border border-theme shadow-inner",children:l.jsx("i",{className:"fa-solid fa-star text-[10px]"})})]}),l.jsx("div",{className:"mt-4 pt-4 border-t border-theme space-y-1.5 max-h-24 overflow-y-auto no-scrollbar",children:t.filter(A=>A.hobbies.includes(T.name)).slice(0,3).map(A=>l.jsxs("div",{className:"text-[10px] text-muted flex items-center gap-2 truncate font-medium",children:[l.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${A.name}`,className:"w-4 h-4 rounded-full bg-main border border-theme"}),A.name]},A.id))})]},T.id))})]})})},b_=({taskTitle:s,onExit:t})=>{const[n,i]=j.useState(1500),[o,u]=j.useState(!0);j.useEffect(()=>{let g=null;return o&&n>0?g=setInterval(()=>{i(v=>v-1)},1e3):n===0&&clearInterval(g),()=>clearInterval(g)},[o,n]);const p=g=>{const v=Math.floor(g/60),x=g%60;return`${v}:${x.toString().padStart(2,"0")}`};return l.jsxs("div",{className:"fixed inset-0 z-[100] bg-slate-950 flex flex-col items-center justify-center p-8 transition-none",children:[l.jsx("div",{className:"absolute top-8 right-8",children:l.jsx("button",{onClick:t,className:"w-12 h-12 rounded-full bg-white/5 hover:bg-white/10 text-white flex items-center justify-center transition-all",children:l.jsx("i",{className:"fa-solid fa-xmark"})})}),l.jsxs("div",{className:"text-center space-y-12 max-w-2xl w-full",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"text-orange-500 font-black tracking-widest text-xs uppercase",children:" "}),l.jsx("h2",{className:"text-4xl md:text-6xl font-heading font-black text-white leading-tight",children:s})]}),l.jsx("div",{className:"text-[10rem] md:text-[15rem] font-heading font-black text-white/5 leading-none select-none absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 -z-10",children:p(n)}),l.jsx("div",{className:"text-8xl md:text-9xl font-heading font-black text-white tracking-tighter tabular-nums",children:p(n)}),l.jsx("div",{className:"flex justify-center gap-6",children:l.jsx("button",{onClick:()=>u(!o),className:"px-12 py-5 bg-white text-slate-950 rounded-3xl font-black text-lg shadow-2xl hover:scale-105 active:scale-95 transition-all",children:o?"":""})})]}),l.jsxs("div",{className:"absolute bottom-12 text-slate-500 text-sm font-medium tracking-widest uppercase",children:[l.jsx("i",{className:"fa-solid fa-mountain-sun mr-3"}),"  "]})]})},Ar=({habit:s,onClose:t,onUpdate:n,onToggleStatus:i})=>{const[o,u]=j.useState("month"),[p,g]=j.useState(s.title),[v,x]=j.useState(s.color||"#f97316"),y=["#f97316","#10b981","#6366f1","#ec4899","#06b6d4","#facc15","#a855f7","#475569"],b=["","","","","","",""],w=j.useMemo(()=>{var te;const M=s.habitHistory||{},U=new Date;U.setHours(0,0,0,0);let R=30;o==="week"&&(R=7),o==="year"&&(R=365);let Y=0;for(let D=0;D<R;D++){const I=new Date(U);I.setDate(U.getDate()-D);const E=I.toISOString().split("T")[0];((te=M[E])==null?void 0:te.status)==="completed"&&Y++}const q=Object.entries(M);return{percent:Math.round(Y/R*100),totalCompleted:Y,totalDays:R,notes:q.filter(([D,I])=>I.note).sort((D,I)=>I[0].localeCompare(D[0]))}},[s.habitHistory,o]),S=M=>{const U=s.daysOfWeek||[0,1,2,3,4,5,6];let R;U.includes(M)?R=U.filter(q=>q!==M):R=[...U,M].sort();let Y="custom";R.length===7?Y="daily":R.length===5&&!R.includes(5)&&!R.includes(6)&&(Y="weekdays"),n({daysOfWeek:R,recurrence:Y})},_=M=>{let U=[0,1,2,3,4,5,6];M==="weekdays"&&(U=[0,1,2,3,4]),n({recurrence:M,daysOfWeek:U})},T=()=>{var R;const M=new Date;M.setHours(0,0,0,0);const U=[];for(let Y=13;Y>=0;Y--){const q=new Date(M);q.setDate(M.getDate()-Y);const te=q.toISOString().split("T")[0],D=(R=s.habitHistory)==null?void 0:R[te],I=(D==null?void 0:D.status)||"none",E=q.toLocaleString("uk-UA",{weekday:"short"}).toUpperCase();U.push({ds:te,status:I,weekday:E,dayNum:q.getDate()})}return l.jsx("div",{className:"grid grid-cols-7 gap-1.5",children:U.map((Y,q)=>l.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[l.jsxs("div",{className:`w-full aspect-square rounded-md transition-all duration-300 flex items-center justify-center border ${Y.status==="completed"?"shadow-sm":""}`,style:{backgroundColor:Y.status==="completed"?v:Y.status==="skipped"?"#0f172a":"#e2e8f0",borderColor:Y.status==="completed"?v:"transparent"},children:[Y.status==="completed"&&l.jsx("i",{className:"fa-solid fa-check text-[7px] text-white"}),Y.status==="skipped"&&l.jsx("i",{className:"fa-solid fa-xmark text-[7px] text-slate-400"})]}),l.jsx("span",{className:`text-[5.5px] font-black uppercase tracking-tighter ${Y.ds===M.toISOString().split("T")[0]?"text-orange-500":"text-slate-400"}`,children:Y.weekday})]},q))})},A=()=>{var te,D;const M=new Date,Y=7*35,q=[];for(let I=Y-1;I>=0;I--){const E=new Date(M);E.setDate(M.getDate()-I);const O=E.toISOString().split("T")[0],L=(D=(te=s.habitHistory)==null?void 0:te[O])==null?void 0:D.status;q.push({ds:O,status:L})}return l.jsx("div",{className:"flex flex-col gap-1 overflow-x-auto no-scrollbar pb-1",children:l.jsx("div",{className:"grid grid-flow-col grid-rows-7 gap-0.5 min-w-max",children:q.map((I,E)=>l.jsx("div",{className:"w-1 h-1 rounded-[1px] transition-colors",style:{backgroundColor:I.status==="completed"?v:I.status==="skipped"?"#0f172a":"#f1f5f9"},title:I.ds},E))})})};return l.jsxs("div",{className:"h-full flex flex-col bg-white",children:[l.jsxs("header",{className:"p-5 border-b border-slate-50",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-white text-lg shadow-md shrink-0",style:{backgroundColor:v},children:l.jsx("i",{className:"fa-solid fa-repeat"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("input",{value:p,onChange:M=>g(M.target.value),onBlur:()=>n({title:p}),className:"text-sm font-black text-slate-900 bg-transparent border-none p-0 focus:ring-0 w-full"}),l.jsx(ee,{variant:"tiny",className:"text-slate-400 text-[8px]",children:"  "})]})]}),l.jsx("button",{onClick:t,className:"w-6 h-6 rounded-lg hover:bg-slate-100 text-slate-300 flex items-center justify-center transition-all shrink-0",children:l.jsx("i",{className:"fa-solid fa-xmark text-xs"})})]}),l.jsx("div",{className:"flex gap-0.5 bg-slate-100 p-0.5 rounded-lg",children:["week","month","year"].map(M=>l.jsx("button",{onClick:()=>u(M),className:`flex-1 py-1 rounded-md text-[8px] font-black uppercase tracking-widest transition-all ${o===M?"bg-white shadow-sm text-orange-600":"text-slate-400"}`,children:M==="week"?"":M==="month"?"":""},M))})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 space-y-6",children:[l.jsxs("section",{className:"space-y-3",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-900 font-black uppercase text-[8px] px-1",children:" "}),l.jsxs("div",{className:"bg-slate-50 p-3 rounded-2xl border border-slate-100",children:[l.jsx("div",{className:"flex justify-between gap-1 mb-3",children:b.map((M,U)=>{const R=(s.daysOfWeek||[0,1,2,3,4,5,6]).includes(U);return l.jsx("button",{onClick:()=>S(U),className:`w-8 h-8 rounded-lg text-[9px] font-black transition-all border ${R?"bg-orange-500 text-white border-orange-500 shadow-md":"bg-white text-slate-400 border-slate-100 hover:border-orange-200"}`,children:M},U)})}),l.jsxs("div",{className:"flex gap-1.5",children:[l.jsx("button",{onClick:()=>_("daily"),className:`flex-1 py-1.5 rounded-lg text-[7px] font-black uppercase border transition-all ${s.recurrence==="daily"?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-400 border-slate-100"}`,children:""}),l.jsx("button",{onClick:()=>_("weekdays"),className:`flex-1 py-1.5 rounded-lg text-[7px] font-black uppercase border transition-all ${s.recurrence==="weekdays"?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-400 border-slate-100"}`,children:""})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs(De,{padding:"sm",className:"bg-orange-50/50 border-orange-100 flex flex-col items-center justify-center text-center py-3",children:[l.jsxs("div",{className:"text-xl font-black text-orange-600 leading-none mb-1",children:[w.percent,"%"]}),l.jsx(ee,{variant:"tiny",className:"text-orange-400 text-[7px]",children:""})]}),l.jsxs(De,{padding:"sm",className:"bg-slate-50 border-slate-100 flex flex-col items-center justify-center text-center py-3",children:[l.jsxs("div",{className:"text-xl font-black text-slate-800 leading-none mb-1",children:[w.totalCompleted,l.jsxs("span",{className:"text-xs text-slate-300",children:["/",w.totalDays]})]}),l.jsx(ee,{variant:"tiny",className:"text-slate-400 text-[7px]",children:" "})]})]}),l.jsxs("section",{children:[l.jsx("div",{className:"flex items-center justify-between mb-2 px-1",children:l.jsxs(ee,{variant:"tiny",className:"text-slate-900 font-black flex items-center gap-1.5 uppercase text-[8px]",children:[l.jsx("i",{className:"fa-solid fa-chart-simple text-orange-500 text-[7px]"})," ",o==="year"?" ":"  14 "]})}),l.jsx("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:o==="year"?A():T()})]}),l.jsxs("section",{children:[l.jsx(ee,{variant:"tiny",className:"text-slate-900 font-black mb-2 uppercase text-[8px] px-1",children:" "}),l.jsx("div",{className:"flex flex-wrap gap-1.5 px-1",children:y.map(M=>l.jsx("button",{onClick:()=>{x(M),n({color:M})},className:`w-6 h-6 rounded-lg transition-all ${v===M?"ring-2 ring-offset-1 ring-slate-200 scale-105 shadow-sm":"hover:scale-105"}`,style:{backgroundColor:M}},M))})]})]}),l.jsx("footer",{className:"p-5 border-t border-slate-50 bg-slate-50/30",children:l.jsx(qe,{variant:"white",onClick:t,className:"w-full rounded-xl py-3 font-black uppercase text-[8px] tracking-widest",children:""})})]})},Bi=({label:s,icon:t,type:n,level:i,isOpen:o,count:u,color:p,onToggle:g,onAddAction:v,onAddSub:x,onAddHabit:y,onClick:b,onRename:w,onDelete:S,isDraggable:_,onDragStart:T,isActive:A,children:M})=>{const[U,R]=j.useState(!1),[Y,q]=j.useState(s),te=D=>{D.preventDefault(),Y.trim()&&Y!==s&&(w==null||w(Y.trim())),R(!1)};return l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{draggable:_,onDragStart:T,onClick:()=>{var D;U||(D=b||g)==null||D()},className:`group flex items-center gap-2 py-1.5 px-3 cursor-pointer hover:bg-slate-100 rounded-lg transition-all relative ${A?"bg-orange-50 text-orange-700 ring-1 ring-orange-100":"text-slate-600"}`,style:{marginLeft:`${i*12}px`},children:[l.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[M||n==="folder"||n==="system"?l.jsx("i",{className:`fa-solid fa-chevron-right text-[7px] w-3 text-center transition-transform ${o?"rotate-90 text-orange-500":"text-slate-300"}`}):l.jsx("div",{className:"w-3"}),l.jsx("i",{className:`fa-solid ${t} text-[11px] w-4 text-center ${n==="event"?"text-pink-500":n==="note"?"text-indigo-400":n==="habit"?"text-emerald-500":n==="folder"?p?"":"text-orange-400":"text-slate-400"}`,style:p?{color:p}:{}})]}),l.jsx("div",{className:"flex-1 min-w-0",children:U?l.jsx("form",{onSubmit:te,onClick:D=>D.stopPropagation(),children:l.jsx("input",{autoFocus:!0,value:Y,onChange:D=>q(D.target.value),onBlur:te,className:"w-full bg-white border border-orange-200 rounded px-1 text-[12px] font-bold outline-none h-5"})}):l.jsx("span",{className:`text-[12px] truncate block tracking-tight ${n==="folder"||n==="system"?"font-black uppercase":"font-bold"}`,children:s})}),u!==void 0&&u>0&&!o&&!U&&l.jsx("span",{className:"text-[8px] font-black text-slate-400 bg-slate-50 px-1.5 py-0.5 rounded-full border border-slate-100 group-hover:bg-white",children:u}),l.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all ml-auto shrink-0",children:[x&&l.jsx("button",{onClick:D=>{D.stopPropagation(),x(D)},title:" ",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-400 hover:text-orange-500",children:l.jsx("i",{className:"fa-solid fa-folder-plus text-[9px]"})}),v&&l.jsx("button",{onClick:D=>{D.stopPropagation(),v(D)},title:" ",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-400 hover:text-emerald-500",children:l.jsx("i",{className:"fa-solid fa-file-circle-plus text-[9px]"})}),y&&l.jsx("button",{onClick:D=>{D.stopPropagation(),y(D)},title:" ",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-400 hover:text-indigo-500",children:l.jsx("i",{className:"fa-solid fa-repeat text-[9px]"})}),w&&!U&&l.jsx("button",{onClick:D=>{D.stopPropagation(),R(!0)},title:"",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-300 hover:text-slate-600",children:l.jsx("i",{className:"fa-solid fa-pencil text-[8px]"})}),S&&l.jsx("button",{onClick:D=>{D.stopPropagation(),confirm(` ${s}?`)&&S()},title:"",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-300 hover:text-rose-500",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[8px]"})})]})]}),o&&M&&l.jsx("div",{className:"mt-0.5",children:M})]})},N_=()=>{const{tasks:s,projects:t,inboxCategories:n,addProject:i,addTask:o,updateTask:u,updateProject:p,deleteProject:g,deleteTask:v,toggleHabitStatus:x}=Le(),{isResizing:y,startResizing:b,detailsWidth:w}=Gn(400,800),[S,_]=j.useState({root_projects:!0}),[T,A]=j.useState(null),[M,U]=j.useState(null),R=(I,E)=>{_(O=>({...O,[I]:E??!O[I]}))},Y=j.useMemo(()=>s.filter(I=>!I.isDeleted&&I.status!==me.DONE),[s]),q=(I,E)=>{const O=I.projectSection==="habits"||I.tags.includes("habit");return l.jsx(Bi,{id:I.id,label:I.title,icon:O?"fa-repeat":I.isEvent?"fa-calendar-star":I.category==="note"?"fa-note-sticky":"fa-circle-dot",type:O?"habit":I.isEvent?"event":I.category==="note"?"note":"task",level:E,onClick:()=>{O?(U(I.id),A(null)):(A(I.id),U(null))},isActive:T===I.id||M===I.id,onRename:L=>u({...I,title:L}),onDelete:()=>v(I.id,!0),isDraggable:!0,onDragStart:L=>L.dataTransfer.setData("taskId",I.id)},I.id)},te=(I,E=0)=>t.filter(O=>O.parentFolderId===I&&O.status==="active").map(O=>{const L=`proj_${O.id}`,V=Y.filter(K=>K.projectId===O.id);return l.jsxs(Bi,{id:O.id,label:O.name,icon:O.isStrategic?"fa-flag-checkered":"fa-layer-group",color:O.color,type:"folder",level:E,isOpen:S[L],onToggle:()=>R(L),onAddAction:K=>{K.stopPropagation();const G=prompt(" :");G&&(o(G,"tasks",O.id,"actions"),R(L,!0))},onAddSub:K=>{K.stopPropagation();const G=prompt(" :");G&&(i({name:G,color:O.color,parentFolderId:O.id,isStrategic:!1,type:"subproject"}),R(L,!0))},onAddHabit:K=>{K.stopPropagation();const G=prompt(" :");G&&(o(G,"tasks",O.id,"habits"),R(L,!0))},onRename:K=>p({...O,name:K}),onDelete:()=>g(O.id),count:V.length,children:[te(O.id,E+1),V.map(K=>q(K,E+1))]},O.id)}),D=j.useMemo(()=>s.find(I=>I.id===M),[s,M]);return l.jsxs("div",{className:"flex h-full bg-white overflow-hidden",children:[l.jsxs("div",{className:"flex-1 flex flex-col min-w-0 border-r border-slate-100",children:[l.jsxs("header",{className:"px-6 py-4 border-b border-slate-50 bg-slate-50/30 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-xl bg-orange-600 flex items-center justify-center text-white shadow-lg",children:l.jsx("i",{className:"fa-solid fa-sitemap text-xs"})}),l.jsx(ee,{variant:"h3",className:"text-sm font-black uppercase tracking-tight",children:" "})]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs("button",{onClick:()=>{const I=prompt("  :");I&&i({name:I,color:"#f97316",isStrategic:!0,type:"goal"})},className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white border border-slate-100 text-[9px] font-black uppercase text-slate-500 hover:text-orange-600 hover:border-orange-200 transition-all shadow-sm",children:[l.jsx("i",{className:"fa-solid fa-plus"})," "]})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-4",children:[l.jsx("section",{children:l.jsx(Bi,{id:"root_projects",label:"  ",icon:"fa-folder-tree",type:"system",level:0,isOpen:S.root_projects,onToggle:()=>R("root_projects"),onAddSub:I=>{I.stopPropagation();const E=prompt("  :");E&&i({name:E,color:"#f97316",isStrategic:!0,type:"goal"})},children:te(void 0,1)})}),l.jsx("section",{children:l.jsx(Bi,{id:"root_inbox",label:"  ",icon:"fa-inbox",type:"system",level:0,isOpen:S.root_inbox,onToggle:()=>R("root_inbox"),children:n.map(I=>{const E=`cat_${I.id}`,O=Y.filter(L=>L.category===I.id&&!L.projectId);return l.jsx(Bi,{id:I.id,label:I.title,icon:I.icon,type:"folder",level:1,count:O.length,isOpen:S[E],onToggle:()=>R(E),onAddAction:L=>{L.stopPropagation();const V=prompt(`  ${I.title}:`);V&&o(V,I.id)},children:O.map(L=>q(L,2))},I.id)})})})]})]}),l.jsxs("div",{className:"bg-slate-50/10 shrink-0 relative flex flex-col",style:{width:w},children:[l.jsx("div",{onMouseDown:b,className:`absolute left-0 top-0 bottom-0 w-[1px] cursor-col-resize hover:bg-orange-500 transition-colors z-[100] ${y?"bg-orange-500":"bg-slate-100"}`}),T?l.jsx(qs,{task:s.find(I=>I.id===T),onClose:()=>A(null)}):D?l.jsx("div",{className:"h-full animate-in slide-in-from-right duration-300",children:l.jsx(Ar,{habit:D,onClose:()=>U(null),onUpdate:I=>u({...D,...I}),onToggleStatus:x})}):l.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-20 grayscale p-10 text-center select-none pointer-events-none",children:[l.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-dashed border-slate-300 flex items-center justify-center mb-8",children:l.jsx("i",{className:"fa-solid fa-mouse-pointer text-4xl"})}),l.jsx(ee,{variant:"h2",className:"text-xl font-black uppercase tracking-widest",children:" "}),l.jsx(ee,{variant:"body",className:"mt-4 text-xs font-bold leading-relaxed max-w-[200px]",children:"  +      ."})]})]})]})},w_=({monthlyProject:s,onUpdateProject:t,weekNum:n,weekEfficiency:i})=>{if(!s)return null;const o=s.monthlyKpi?Math.round((s.monthlyKpiCurrent||0)/s.monthlyKpi*100):0,u=s.id==="planner_strategic_config";return l.jsx("header",{className:"p-3 md:p-4 bg-[var(--bg-card)] border-b border-[var(--border-color)] shrink-0",children:l.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-5 w-full",children:[l.jsx("div",{className:"shrink-0 hidden md:block",children:l.jsx(ft,{variant:u?"orange":"indigo",className:"font-black text-[8px]",style:u?{}:{backgroundColor:`${s.color}15`,color:s.color,borderColor:`${s.color}30`},children:u?" ":""})}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx("input",{value:s.name==="Planner Config"?s.monthlyGoal||"":s.name,onChange:p=>{t(u?{monthlyGoal:p.target.value}:{name:p.target.value})},placeholder:u?"  ...":" ...",className:"text-base md:text-lg font-black bg-transparent border-none p-0 focus:ring-0 w-full outline-none placeholder:opacity-20 uppercase tracking-tight",style:u?{}:{color:s.color}}),l.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[l.jsx("div",{className:"h-1 flex-1 max-w-[200px] bg-slate-100 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full shadow-[0_0_8px_rgba(249,115,22,0.5)] transition-all duration-1000",style:{width:`${o}%`,backgroundColor:u?"var(--primary)":s.color}})}),l.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-50 px-2 py-0.5 rounded-lg border border-slate-100",children:[l.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase",children:"KPI"}),l.jsx("input",{type:"number",value:s.monthlyKpiCurrent||0,onChange:p=>t({monthlyKpiCurrent:parseInt(p.target.value)||0}),className:"w-8 bg-transparent border-none text-[10px] font-black p-0 text-center"}),l.jsx("span",{className:"text-[8px] opacity-20",children:"/"}),l.jsx("input",{type:"number",value:s.monthlyKpi||0,onChange:p=>t({monthlyKpi:parseInt(p.target.value)||0}),className:"w-8 bg-transparent border-none text-[10px] font-black p-0 text-center"})]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 p-1.5 rounded-xl border border-slate-100 shrink-0 self-end md:self-auto",children:[l.jsxs("div",{className:"text-center px-3",children:[l.jsxs("div",{className:"text-lg font-black text-primary leading-none",style:u?{}:{color:s.color},children:[i,"%"]}),l.jsx("div",{className:"text-[6px] font-black uppercase text-slate-400 mt-0.5",children:"Efficiency"})]}),l.jsx("div",{className:"w-px h-5 bg-slate-200"}),l.jsxs("div",{className:"text-center px-3",children:[l.jsx("div",{className:"text-lg font-black text-main leading-none",children:n}),l.jsx("div",{className:"text-[6px] font-black uppercase text-slate-400 mt-0.5",children:"Week"})]})]})]})})},T_=({weekNum:s,tasks:t,dailies:n,projectId:i,onToggleTask:o,onUpdateTask:u,onAddTask:p})=>{var L;const{toggleHabitStatus:g,deleteTask:v,cycle:x,projects:y,updateTask:b}=Le(),[w,S]=j.useState(null),[_,T]=j.useState(""),[A,M]=j.useState(null),U=["","","","","","",""],R=V=>{const K=new Date(x.startDate),G=(s-1)*7+V,fe=new Date(K);return fe.setDate(K.getDate()+G),fe.toISOString().split("T")[0]},Y=V=>t.find(K=>K.plannerDay===V&&K.tags.includes("daily-focus")&&K.plannerWeek===s),q=V=>t.filter(K=>K.plannerDay===V&&K.plannerWeek===s&&!K.tags.includes("daily-focus")&&!K.tags.includes("weekly-goal")&&(!K.recurrence||K.recurrence==="none")),te=V=>t.filter(K=>!K.recurrence||K.recurrence==="none"||K.isDeleted||i&&K.projectId!==i?!1:K.daysOfWeek&&K.daysOfWeek.length>0?K.daysOfWeek.includes(V):!(K.recurrence==="weekdays"&&V>4)),D=V=>{const K=Y(V),G=q(V),fe=te(V),F=R(V),H=[...G];K&&H.push(K);let pe=H.length+fe.length;if(pe===0)return 0;let $=H.filter(ue=>ue.status===me.DONE).length;return $+=fe.filter(ue=>{var k,P;return((P=(k=ue.habitHistory)==null?void 0:k[F])==null?void 0:P.status)==="completed"}).length,Math.round($/pe*100)},I=(V,K)=>{if(!_.trim()){S(null);return}p(V,_.trim(),K==="focus",K==="recurrent"?"daily":"none"),T(""),S(null)},E=i?(L=y.find(V=>V.id===i))==null?void 0:L.color:"var(--primary)",O=t.find(V=>V.id===A);return l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-2 transition-none relative",children:[U.map((V,K)=>{const G=Y(K),fe=q(K),F=te(K),H=R(K),pe=D(K);return l.jsxs("div",{className:"flex flex-col gap-2 transition-none",children:[l.jsxs("div",{className:"bg-slate-900 rounded-xl py-2 px-1 text-center shadow-md border border-white/5 transition-none flex flex-col items-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 w-full px-2",children:[l.jsx("span",{className:"text-[10px] font-black text-white uppercase tracking-[0.2em]",children:V}),pe>0&&l.jsxs("span",{className:"text-[7px] font-black text-emerald-400 bg-emerald-400/10 px-1.5 py-0.5 rounded border border-emerald-400/20",children:[pe,"%"]})]}),l.jsx("div",{className:"text-[7px] font-bold text-slate-500 uppercase mt-0.5 opacity-60",children:H.split("-").slice(1).reverse().join(".")})]}),l.jsxs(De,{padding:"none",className:"flex-1 bg-white border-slate-100 rounded-2xl min-h-[620px] flex flex-col overflow-hidden shadow-sm transition-none",children:[l.jsxs("div",{className:"p-2 border-b border-slate-50 flex justify-center gap-1 bg-slate-50/50 transition-none",children:[l.jsx("button",{onClick:()=>{S({day:K,type:"focus"}),T("")},className:"w-7 h-7 rounded-lg bg-orange-500 text-white flex items-center justify-center shadow-sm active:scale-95 transition-none",title:" ",style:i?{backgroundColor:E}:{},children:l.jsx("i",{className:"fa-solid fa-bullseye text-[10px]"})}),l.jsx("button",{onClick:()=>{S({day:K,type:"quest"}),T("")},className:"w-7 h-7 rounded-lg bg-white border border-slate-200 text-slate-400 flex items-center justify-center hover:text-primary hover:border-primary transition-none shadow-sm",title:" ",children:l.jsx("i",{className:"fa-solid fa-plus text-[10px]"})}),l.jsx("button",{onClick:()=>{S({day:K,type:"recurrent"}),T("")},className:"w-7 h-7 rounded-lg bg-indigo-50 text-indigo-500 border border-indigo-100 flex items-center justify-center hover:bg-indigo-500 hover:text-white transition-all shadow-sm",title:" ",children:l.jsx("i",{className:"fa-solid fa-repeat text-[10px]"})})]}),l.jsxs("div",{className:"p-3 space-y-4 flex-1 overflow-y-auto no-scrollbar transition-none",children:[l.jsx("div",{className:"min-h-[70px] transition-none",children:(w==null?void 0:w.day)===K&&w.type==="focus"?l.jsx("div",{className:"bg-orange-50 border border-orange-200 p-2 rounded-xl transition-none",style:{borderColor:E+"40",backgroundColor:E+"08"},children:l.jsx("textarea",{autoFocus:!0,value:_,onChange:$=>T($.target.value),onKeyDown:$=>$.key==="Enter"&&($.preventDefault(),I(K,"focus")),onBlur:()=>I(K,"focus"),placeholder:" ...",className:"w-full bg-transparent border-none p-0 text-[11px] font-black uppercase focus:ring-0 resize-none outline-none text-slate-800 transition-none",rows:2})}):G?l.jsx("div",{className:"bg-orange-50 border border-orange-100 p-3 rounded-2xl group/f relative transition-none",style:{borderColor:E+"20",backgroundColor:E+"08"},children:l.jsxs("div",{className:"flex items-center gap-2.5 transition-none",children:[l.jsx("button",{onClick:()=>o(G),className:`w-5 h-5 rounded-lg border-2 shrink-0 flex items-center justify-center transition-none ${G.status===me.DONE?"bg-orange-500 border-orange-500 text-white":"bg-white border-slate-200 hover:border-orange-500"}`,style:G.status===me.DONE?{backgroundColor:E,borderColor:E}:{},children:G.status===me.DONE&&l.jsx("i",{className:"fa-solid fa-check text-[9px]"})}),l.jsx("div",{className:"flex-1 min-w-0 transition-none",children:l.jsx("input",{value:G.title,onChange:$=>u({...G,title:$.target.value}),className:`w-full bg-transparent border-none p-0 text-[11px] font-black uppercase leading-tight focus:ring-0 outline-none transition-none ${G.status===me.DONE?"line-through text-slate-300":"text-slate-800"}`})}),l.jsx("button",{onClick:()=>v(G.id,!0),className:"opacity-0 group-hover/f:opacity-100 text-slate-300 hover:text-rose-500 transition-none shrink-0",children:l.jsx("i",{className:"fa-solid fa-xmark text-[10px]"})})]})}):l.jsxs("button",{onClick:()=>{S({day:K,type:"focus"}),T("")},className:"w-full h-[70px] flex flex-col items-center justify-center border-2 border-dashed border-slate-50 rounded-2xl text-slate-200 hover:text-orange-300 hover:border-orange-100 hover:bg-orange-50/10 transition-none group",children:[l.jsx("i",{className:"fa-solid fa-bullseye text-base mb-1 opacity-20"}),l.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-slate-300",children:"Set Focus"})]})}),l.jsxs("div",{className:"space-y-1.5 transition-none",children:[l.jsxs("div",{className:"flex items-center justify-between px-1 transition-none",children:[l.jsx("span",{className:"text-[7px] font-black uppercase text-indigo-400 tracking-widest",children:"Recurrent"}),l.jsx("div",{className:"h-px flex-1 bg-indigo-50 ml-2"})]}),F.map($=>{var k,P;const ue=((P=(k=$.habitHistory)==null?void 0:k[H])==null?void 0:P.status)==="completed";return l.jsxs("div",{className:"flex items-center gap-2 group/t p-1.5 hover:bg-indigo-50/30 rounded-xl transition-none cursor-pointer",onClick:()=>M($.id),children:[l.jsx("button",{onClick:se=>{se.stopPropagation(),g($.id,H,ue?"none":"completed")},className:`w-4 h-4 rounded border-2 shrink-0 flex items-center justify-center transition-none ${ue?"bg-indigo-500 border-indigo-500 text-white":"bg-white border-slate-200"}`,children:ue&&l.jsx("i",{className:"fa-solid fa-check text-[8px]"})}),l.jsxs("div",{className:"flex-1 min-w-0 transition-none",children:[l.jsx("span",{className:`block w-full text-[10px] font-bold truncate transition-none ${ue?"line-through text-slate-300":"text-slate-600"}`,children:$.title}),l.jsx("div",{className:"flex gap-1 mt-0.5 opacity-60",children:l.jsx("span",{className:"text-[5px] font-black px-1 rounded bg-indigo-100 text-indigo-600 uppercase",children:$.recurrence==="custom"&&$.daysOfWeek?$.daysOfWeek.map(se=>U[se]).join(","):$.recurrence})})]}),l.jsx("button",{onClick:se=>{se.stopPropagation(),v($.id,!0)},className:"opacity-0 group-hover/t:opacity-100 text-slate-200 hover:text-rose-500 shrink-0",children:l.jsx("i",{className:"fa-solid fa-xmark text-[10px]"})})]},$.id)}),(w==null?void 0:w.day)===K&&w.type==="recurrent"&&l.jsx("input",{autoFocus:!0,value:_,onChange:$=>T($.target.value),onKeyDown:$=>$.key==="Enter"&&($.preventDefault(),I(K,"recurrent")),onBlur:()=>I(K,"recurrent"),placeholder:"Daily quest...",className:"w-full bg-indigo-50/50 border border-indigo-100 rounded-xl p-2 text-[10px] font-bold outline-none text-indigo-600 transition-none"})]}),l.jsxs("div",{className:"space-y-1.5 transition-none",children:[l.jsxs("div",{className:"flex items-center justify-between px-1 transition-none",children:[l.jsx("span",{className:"text-[7px] font-black uppercase text-slate-300 tracking-widest",children:"Quests"}),l.jsx("div",{className:"h-px flex-1 bg-slate-50 ml-2"})]}),fe.map($=>l.jsxs("div",{className:"flex items-center gap-2 group/t p-1.5 hover:bg-slate-50 rounded-xl transition-none",children:[l.jsx("button",{onClick:()=>o($),className:`w-4 h-4 rounded border-2 shrink-0 flex items-center justify-center transition-none ${$.status===me.DONE?"bg-emerald-500 border-emerald-500 text-white":"bg-white border-slate-200"}`,children:$.status===me.DONE&&l.jsx("i",{className:"fa-solid fa-check text-[8px]"})}),l.jsx("input",{value:$.title,onChange:ue=>u({...$,title:ue.target.value}),className:`flex-1 bg-transparent border-none p-0 text-[10px] font-bold focus:ring-0 outline-none transition-none ${$.status===me.DONE?"line-through text-slate-300":"text-slate-600"}`}),l.jsx("button",{onClick:()=>v($.id,!0),className:"opacity-0 group-hover/t:opacity-100 text-slate-200 hover:text-rose-500 shrink-0",children:l.jsx("i",{className:"fa-solid fa-xmark text-[10px]"})})]},$.id)),(w==null?void 0:w.day)===K&&w.type==="quest"&&l.jsx("input",{autoFocus:!0,value:_,onChange:$=>T($.target.value),onKeyDown:$=>$.key==="Enter"&&($.preventDefault(),I(K,"quest")),onBlur:()=>I(K,"quest"),placeholder:"Quest title...",className:"w-full bg-slate-50 rounded-xl p-2 text-[10px] font-bold outline-none text-slate-600 transition-none"})]}),n.length>0&&l.jsxs("div",{className:"pt-4 mt-auto border-t border-slate-50 space-y-2 transition-none",children:[l.jsx("span",{className:"text-[7px] font-black uppercase text-slate-300 tracking-[0.2em] px-1",children:"Global Routine"}),l.jsx("div",{className:"space-y-1 transition-none",children:n.map($=>{var P,se;const ue=((se=(P=$.habitHistory)==null?void 0:P[H])==null?void 0:se.status)==="completed";return!$.daysOfWeek||$.daysOfWeek.length===0||$.daysOfWeek.includes(K)?l.jsxs("div",{className:"flex items-center gap-2 px-1 transition-none",children:[l.jsx("button",{onClick:()=>g($.id,H),className:`w-3.5 h-3.5 rounded border flex items-center justify-center shrink-0 transition-none ${ue?"bg-indigo-500 border-indigo-500 text-white":"bg-slate-50 border-slate-200"}`,style:ue?{backgroundColor:E||"#6366f1",borderColor:E||"#6366f1"}:{},children:ue&&l.jsx("i",{className:"fa-solid fa-check text-[7px]"})}),l.jsx("span",{className:`text-[9px] font-bold truncate flex-1 uppercase tracking-tight transition-none ${ue?"text-slate-300 line-through":"text-slate-500"}`,children:$.title})]},$.id):null})})]})]})]})]},K)}),O&&l.jsxs("div",{className:"fixed inset-0 z-[200] flex justify-end",children:[l.jsx("div",{className:"absolute inset-0 bg-black/20",onClick:()=>M(null)}),l.jsx("div",{className:"w-[340px] h-full bg-white shadow-2xl relative animate-in slide-in-from-right duration-300",children:l.jsx(Ar,{habit:O,onClose:()=>M(null),onUpdate:V=>b({...O,...V}),onToggleStatus:g})})]})]})},Bx=({projectId:s,onExitProjectMode:t})=>{const{tasks:n,projects:i,cycle:o,updateCycle:u,updateTask:p,updateProject:g,addProject:v,toggleTaskStatus:x,deleteTask:y}=Le(),[b,w]=j.useState(o.currentWeek),S=j.useMemo(()=>s?i.find(E=>E.id===s):null,[i,s]),_=j.useMemo(()=>s?S:i.find(E=>E.id==="planner_strategic_config"),[i,s,S]);j.useEffect(()=>{!_&&!s&&v({id:"planner_strategic_config",name:"Planner Config",color:"#f97316",isStrategic:!0,type:"folder",description:"SYSTEM_PLANNER_CONFIG"})},[_,v,s]);const T=j.useMemo(()=>n.filter(E=>!E.isDeleted&&E.projectSection==="planner"&&(!s||E.projectId===s)),[n,s]),A=j.useMemo(()=>T.filter(E=>E.tags.includes("weekly-goal")&&E.plannerWeek===b).slice(0,3),[T,b]),M=j.useMemo(()=>n.filter(E=>!E.isDeleted&&(E.projectSection==="habits"||E.tags.includes("habit"))&&(!s||E.projectId===s)),[n,s]),U=j.useMemo(()=>{const E=T.filter(G=>G.plannerWeek===b);if(E.length===0)return{percent:0,score:0};let O=E.length,L=E.filter(G=>G.status===me.DONE).length;const V=Math.round(L/O*100),K=parseFloat((V/10).toFixed(1));return{percent:V,score:K}},[T,b]),R=j.useMemo(()=>{var E;return((E=o.weeklyScores)==null?void 0:E[b])||{score:0,comment:""}},[o.weeklyScores,b]),Y=E=>{const O={...o.weeklyScores||{}};O[b]={...R,comment:E},u({weeklyScores:O})},q=(E,O)=>{const L=A[E];if(L)O.trim()?p({...L,title:O}):y(L.id,!0);else if(O.trim()){const V=`wg-${b}-${E}-${Math.random().toString(36).substr(2,5)}`;p({id:V,title:O,status:me.NEXT_ACTION,priority:$e.UI,difficulty:1,xp:100,tags:["weekly-goal"],createdAt:Date.now(),projectSection:"planner",plannerWeek:b,projectId:s})}},te=E=>{x(E)},D=(E,O,L,V)=>{const G={id:`pt-${Math.random().toString(36).substr(2,9)}`,title:O,status:me.NEXT_ACTION,priority:L?$e.UI:$e.NUI,difficulty:1,xp:50,tags:L?["daily-focus"]:[],recurrence:V,createdAt:Date.now(),projectSection:"planner",plannerWeek:V==="none"?b:void 0,plannerDay:E,projectId:s};p(G)},I=(_==null?void 0:_.color)||"#f97316";return l.jsxs("div",{className:"h-screen flex flex-col bg-[var(--bg-main)] overflow-hidden transition-none",children:[l.jsxs("div",{className:"flex items-center bg-card border-b border-theme pr-4 shrink-0 transition-none",children:[s&&l.jsx("button",{onClick:t,className:"p-4 hover:bg-slate-50 text-slate-400 hover:text-orange-600 border-r border-theme mr-2 transition-none",children:l.jsx("i",{className:"fa-solid fa-arrow-left"})}),l.jsx("div",{className:"flex-1 transition-none",children:l.jsx(w_,{monthlyProject:_,onUpdateProject:E=>_&&g({..._,...E}),weekNum:b,weekEfficiency:U.percent})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 md:p-4 transition-none",children:l.jsxs("div",{className:"max-w-[1400px] mx-auto space-y-4 pb-32 transition-none",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 items-stretch transition-none",children:[l.jsxs("div",{className:"bg-slate-900 px-6 py-3 rounded-2xl text-white shadow-xl flex items-center gap-6 shrink-0 border border-white/5 transition-none",children:[l.jsx("div",{className:"text-4xl font-black text-orange-500",style:{color:I},children:U.score}),l.jsxs("div",{className:"space-y-1 transition-none",children:[l.jsx("div",{className:"text-[8px] font-black uppercase tracking-widest text-slate-400",children:s?"Project KPI":"Global KPI"}),l.jsxs("div",{className:"flex items-center gap-2 transition-none",children:[l.jsx("div",{className:"h-1.5 w-24 bg-white/10 rounded-full overflow-hidden transition-none",children:l.jsx("div",{className:"h-full transition-none",style:{width:`${U.percent}%`,backgroundColor:I,boxShadow:`0 0 8px ${I}`}})}),l.jsxs("span",{className:"text-[10px] font-black text-emerald-400",style:{color:I},children:[U.percent,"%"]})]})]})]}),l.jsx("div",{className:"flex-1 bg-white border border-slate-100 rounded-2xl p-1.5 flex items-center shadow-sm transition-none",children:l.jsx("div",{className:"grid grid-cols-6 md:grid-cols-12 gap-1 w-full transition-none",children:Array.from({length:12},(E,O)=>O+1).map(E=>l.jsxs("button",{onClick:()=>w(E),className:`h-9 rounded-xl text-[10px] font-black transition-none ${b===E?"bg-orange-600 text-white shadow-lg":E===o.currentWeek?"bg-orange-50 text-orange-600 border border-orange-200":"text-slate-400 hover:bg-slate-50"}`,style:b===E?{backgroundColor:I}:{},children:["W",E]},E))})})]}),l.jsxs("section",{className:"bg-orange-50/40 p-4 rounded-2xl border border-orange-100 transition-none",style:{backgroundColor:I+"08",borderColor:I+"20"},children:[l.jsx("div",{className:"flex justify-between items-center mb-3 px-1 transition-none",children:l.jsxs(ee,{variant:"tiny",className:"font-black text-[9px] tracking-[0.2em] uppercase flex items-center gap-2",children:[l.jsx("i",{className:"fa-solid fa-crown text-[10px]",style:{color:I}}),l.jsxs("span",{style:{color:I},children:["Weekly Big 3 ( ",b,")"]})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 transition-none",children:[0,1,2].map(E=>{const O=A[E];return l.jsxs(De,{padding:"none",className:"p-4 bg-white flex items-center gap-3 border-orange-100 shadow-sm transition-none",children:[O&&l.jsx("button",{onClick:()=>te(O),className:`w-5 h-5 rounded-lg border-2 flex items-center justify-center shrink-0 transition-none ${O.status===me.DONE?"bg-emerald-500 border-emerald-500 text-white":"border-slate-200 bg-white hover:border-orange-500"}`,style:O.status===me.DONE?{backgroundColor:I,borderColor:I}:{},children:O.status===me.DONE&&l.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),l.jsx("input",{value:(O==null?void 0:O.title)||"",onChange:L=>q(E,L.target.value),className:`text-[12px] font-black uppercase bg-transparent border-none p-0 focus:ring-0 w-full outline-none transition-none ${(O==null?void 0:O.status)===me.DONE?"line-through text-slate-300":"text-slate-800"}`,placeholder:` #${E+1}...`})]},E)})})]}),l.jsx(T_,{weekNum:b,tasks:T,dailies:M,projectId:s,onToggleTask:te,onUpdateTask:p,onAddTask:D}),l.jsxs(De,{padding:"md",className:"border-slate-100 rounded-3xl bg-white/50 transition-none",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3 transition-none",children:[l.jsx("i",{className:"fa-solid fa-feather-pointed text-slate-400 text-xs"}),l.jsxs(ee,{variant:"tiny",className:"text-slate-500 font-black uppercase text-[8px] tracking-widest",children:["  ",b]})]}),l.jsx("textarea",{value:R.comment,onChange:E=>Y(E.target.value),placeholder:"       ?",className:"w-full bg-white border border-slate-100 rounded-2xl p-5 text-sm font-medium outline-none focus:ring-4 focus:ring-orange-100 min-h-[100px] resize-none shadow-inner text-slate-700 transition-none"})]})]})})]})},ox=({goal:s,isExpanded:t,onToggle:n,onTaskClick:i,onHabitClick:o,onSubProjectClick:u,onPlannerClick:p,onEdit:g,selectedTaskId:v,selectedHabitId:x})=>{const{tasks:y,projects:b,addProject:w,addTask:S,deleteProject:_,toggleTaskStatus:T,updateProject:A}=Le(),[M,U]=j.useState("actions"),[R,Y]=j.useState(""),q=b.filter(L=>L.parentFolderId===s.id&&L.status==="active"),te=j.useMemo(()=>{const L=y.filter(K=>!K.isDeleted&&K.projectId===s.id&&K.projectSection!=="habits"&&(!K.recurrence||K.recurrence==="none")),V=q.map(K=>{const G=y.filter(fe=>!fe.isDeleted&&fe.status!==me.DONE&&fe.projectId===K.id&&fe.projectSection!=="habits").sort((fe,F)=>fe.createdAt-F.createdAt);return G.length>0?[G[0]]:[]}).flat();return[...L,...V]},[y,s.id,q]),D=j.useMemo(()=>y.filter(L=>!L.isDeleted&&L.projectId===s.id&&(L.projectSection==="habits"||L.recurrence&&L.recurrence!=="none")),[y,s.id]),I=j.useMemo(()=>{const L=y.filter(K=>!K.isDeleted&&K.projectId===s.id&&K.projectSection==="planner");if(L.length===0)return s.progress||0;const V=L.filter(K=>K.status===me.DONE).length;return Math.round(V/L.length*100)},[y,s.id,s.progress]),E=L=>{L.preventDefault(),R.trim()&&(M==="actions"?S(R.trim(),"tasks",s.id,"actions"):M==="subprojects"?w({name:R.trim(),color:s.color,parentFolderId:s.id,isStrategic:!1,type:"subproject"}):M==="habits"&&S(R.trim(),"tasks",s.id,"habits"),Y(""))},O={health:"fa-heart-pulse",career:"fa-briefcase",finance:"fa-coins",education:"fa-book-open-reader",relationships:"fa-people-group",rest:"fa-couch"};return l.jsxs(De,{padding:"none",className:`bg-card border-theme shadow-sm overflow-hidden transition-all ${t?"shadow-lg ring-2 ring-primary/10":"hover:border-primary/30"}`,children:[l.jsxs("div",{className:"flex items-stretch",children:[l.jsx("div",{className:"w-1.5 shrink-0 transition-all",style:{backgroundColor:s.color||"var(--primary)"}}),l.jsxs("div",{onClick:n,className:"flex-1 p-3 md:p-4 cursor-pointer flex items-center gap-3 md:gap-4 group",children:[l.jsxs("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-white shadow-lg shrink-0 transition-transform group-hover:scale-105 relative",style:{backgroundColor:s.color||"var(--primary)"},children:[l.jsx("i",{className:"fa-solid fa-flag-checkered text-xs md:text-sm"}),s.sphere&&l.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-lg bg-white shadow-md flex items-center justify-center text-[7px] text-slate-900 border border-slate-50",children:l.jsx("i",{className:`fa-solid ${O[s.sphere]||"fa-mountain"}`})})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[l.jsx(ee,{variant:"h3",className:"text-xs md:text-[14px] font-black uppercase tracking-tight truncate leading-none",children:s.name}),l.jsxs("div",{className:"text-[7px] font-black py-0 px-1.5 rounded-full bg-primary/10 text-primary",title:"Tactic KPI",children:[I,"%"]})]}),l.jsx("div",{className:"text-[7px] font-black text-muted uppercase tracking-widest",children:s.sphere||"General"})]}),l.jsxs("div",{className:"flex gap-2",children:[s.status==="active"?l.jsx("button",{onClick:L=>{L.stopPropagation(),A({...s,status:"archived"})},className:"w-8 h-8 rounded-lg bg-slate-50 text-slate-400 flex items-center justify-center hover:bg-slate-200 transition-all",title:" ",children:l.jsx("i",{className:"fa-solid fa-box-archive text-[11px]"})}):l.jsx("button",{onClick:L=>{L.stopPropagation(),A({...s,status:"active"})},className:"w-8 h-8 rounded-lg bg-emerald-50 text-emerald-600 flex items-center justify-center hover:bg-emerald-600 hover:text-white transition-all",title:"",children:l.jsx("i",{className:"fa-solid fa-play text-[11px]"})}),l.jsx("button",{onClick:L=>{L.stopPropagation(),p(s.id)},className:"w-8 h-8 rounded-lg bg-orange-50 text-orange-600 flex items-center justify-center hover:bg-orange-600 hover:text-white transition-all shadow-sm",title:" ",children:l.jsx("i",{className:"fa-solid fa-calendar-check text-[11px]"})}),l.jsx("i",{className:`fa-solid fa-chevron-right text-[8px] text-muted transition-transform self-center ${t?"rotate-90 text-primary":""}`})]})]})]}),t&&l.jsxs("div",{className:"px-3 md:px-4 pb-4 pt-1 bg-black/5 border-t border-theme animate-in slide-in-from-top-2 duration-300",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3 overflow-x-auto no-scrollbar pb-1 pt-2",children:[l.jsx("div",{className:"flex gap-1 bg-main p-1 rounded-xl border border-theme shrink-0",children:[{id:"actions",label:"",icon:"fa-bolt"},{id:"subprojects",label:"",icon:"fa-layer-group"},{id:"habits",label:"",icon:"fa-repeat"}].map(L=>l.jsxs("button",{onClick:()=>U(L.id),className:`px-2.5 md:px-3 py-1.5 text-[7px] md:text-[8px] font-black uppercase tracking-widest transition-all rounded-lg flex items-center gap-1 md:gap-1.5 ${M===L.id?"bg-card shadow-sm text-primary":"text-muted hover:text-main"}`,children:[l.jsx("i",{className:`fa-solid ${L.icon} text-[8px] md:text-[9px]`})," ",L.label]},L.id))}),l.jsxs("div",{className:"flex gap-1.5 shrink-0 ml-4",children:[l.jsx("button",{onClick:()=>g(s),className:"w-7 h-7 rounded-xl bg-card border border-theme text-muted hover:text-primary transition-all flex items-center justify-center shadow-sm",children:l.jsx("i",{className:"fa-solid fa-pencil text-[9px]"})}),l.jsx("button",{onClick:()=>{confirm(" ?")&&_(s.id)},className:"w-7 h-7 rounded-xl bg-card border border-theme text-muted hover:text-rose-500 transition-all flex items-center justify-center shadow-sm",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[9px]"})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("form",{onSubmit:E,className:"flex gap-2",children:[l.jsx("input",{value:R,onChange:L=>Y(L.target.value),placeholder:M==="actions"?" ...":M==="subprojects"?" ...":"  ...",className:"flex-1 bg-card border border-theme rounded-xl py-2 px-3 text-[11px] font-bold focus:ring-4 focus:ring-primary/10 outline-none transition-all shadow-inner text-main"}),l.jsx("button",{type:"submit",disabled:!R.trim(),className:"w-8 h-8 bg-primary text-white rounded-xl flex items-center justify-center disabled:opacity-30 shadow-lg active:scale-95 transition-all shrink-0",children:l.jsx("i",{className:"fa-solid fa-plus text-xs"})})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[M==="actions"&&te.map(L=>{const V=b.find(G=>G.id===L.projectId),K=L.status===me.DOING;return l.jsxs("div",{draggable:!0,onDragStart:G=>G.dataTransfer.setData("taskId",L.id),onClick:()=>i(L.id),className:`flex items-center gap-2.5 p-2.5 rounded-xl bg-card border border-theme group transition-all cursor-pointer ${K?"opacity-50 grayscale":"hover:border-primary/30"}`,children:[l.jsx("button",{onClick:G=>{G.stopPropagation(),T(L)},className:`w-4 h-4 rounded-md border-2 flex items-center justify-center shrink-0 transition-all ${L.status===me.DONE?"bg-emerald-500 border-emerald-500 text-white":"bg-card border-theme group-hover:border-primary"}`,children:L.status===me.DONE&&l.jsx("i",{className:"fa-solid fa-check text-[7px]"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:`text-[12px] font-bold truncate ${L.status===me.DONE?"text-muted line-through opacity-50":"text-main"}`,children:L.title}),V&&V.type==="subproject"&&l.jsxs("span",{className:"text-[7px] font-black uppercase text-primary opacity-60",children:["# ",V.name]})]}),l.jsx("i",{className:"fa-solid fa-chevron-right text-[8px] text-muted opacity-0 group-hover:opacity-100 transition-all"})]},L.id)}),M==="subprojects"&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:q.map(L=>l.jsxs("div",{onClick:()=>u(L.id),className:"bg-card p-3 rounded-2xl border border-theme shadow-sm hover:shadow-md hover:border-primary/30 transition-all cursor-pointer group flex flex-col justify-between h-16",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"w-6 h-6 rounded-lg text-white flex items-center justify-center shadow-lg",style:{backgroundColor:L.color||s.color||"var(--primary)"},children:l.jsx("i",{className:"fa-solid fa-layer-group text-[8px]"})}),l.jsx("span",{className:"text-[9px] font-black text-main uppercase truncate max-w-[70%]",children:L.name}),l.jsxs("span",{className:"text-[7px] font-black text-primary",children:[L.progress,"%"]})]}),l.jsx("div",{className:"h-1 bg-muted/10 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-primary transition-all duration-1000",style:{width:`${L.progress}%`}})})]},L.id))}),M==="habits"&&D.map(L=>l.jsxs("div",{onClick:()=>o(L.id),className:"p-2.5 bg-card border border-theme rounded-xl flex items-center justify-between shadow-sm group cursor-pointer hover:border-primary/30 transition-all",children:[l.jsxs("div",{className:"flex items-center gap-2.5",children:[l.jsx("div",{className:"w-6 h-6 rounded-lg bg-primary/10 text-primary flex items-center justify-center text-[9px]",children:l.jsx("i",{className:`fa-solid ${L.recurrence&&L.recurrence!=="none"?"fa-calendar-day":"fa-repeat"}`})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[12px] font-bold text-main leading-none mb-1",children:L.title}),L.recurrence&&L.recurrence!=="none"&&l.jsxs("span",{className:"text-[6px] font-black text-indigo-500 uppercase",children:[": ",L.recurrence]})]})]}),l.jsx(ft,{variant:L.recurrence&&L.recurrence!=="none"?"indigo":"emerald",className:"text-[7px] py-0 px-1",children:L.recurrence&&L.recurrence!=="none"?"PLANNER":"DAILY"})]},L.id))]})]})]})]})},C_=({onClose:s,onSave:t,initialData:n,aiEnabled:i})=>{const[o,u]=j.useState((n==null?void 0:n.name)||""),[p,g]=j.useState((n==null?void 0:n.description)||""),[v,x]=j.useState((n==null?void 0:n.color)||"var(--primary)"),[y,b]=j.useState((n==null?void 0:n.sphere)||"career"),[w,S]=j.useState(!1),_=[{key:"health",label:"'",icon:"fa-heart-pulse"},{key:"career",label:"'",icon:"fa-briefcase"},{key:"finance",label:"",icon:"fa-coins"},{key:"education",label:"",icon:"fa-book-open-reader"},{key:"relationships",label:"",icon:"fa-people-group"},{key:"rest",label:"",icon:"fa-couch"}];return l.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:s}),l.jsxs(De,{className:"w-full max-w-lg relative z-10 shadow-2xl p-5 md:p-6 rounded-[2rem] bg-card animate-in zoom-in-95 duration-200 border-theme overflow-y-auto max-h-[90vh]",children:[l.jsx(ee,{variant:"h2",className:"mb-4 text-lg",children:n?" ":"  "}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-muted mb-1 block tracking-widest",children:" "}),l.jsx("input",{autoFocus:!0,value:o,onChange:T=>u(T.target.value),placeholder:":   ",className:"w-full bg-main border border-theme rounded-xl py-2.5 px-4 text-sm font-bold focus:ring-4 focus:ring-primary/10 outline-none transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-muted mb-1 block tracking-widest",children:" "}),l.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:_.map(T=>l.jsxs("button",{onClick:()=>b(T.key),className:`p-2 rounded-lg border-2 transition-all flex flex-col items-center gap-1 ${y===T.key?"border-primary bg-primary/10 text-primary":"border-theme bg-main text-muted hover:border-primary/30"}`,children:[l.jsx("i",{className:`fa-solid ${T.icon} text-[10px]`}),l.jsx("span",{className:"text-[7px] font-black uppercase",children:T.label})]},T.key))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-muted mb-1 block tracking-widest",children:""}),l.jsx("textarea",{value:p,onChange:T=>g(T.target.value),placeholder:"  ...",className:"w-full bg-main border border-theme rounded-xl p-3 text-xs font-bold focus:ring-4 focus:ring-primary/10 outline-none transition-all h-20 resize-none"})]}),i&&!n&&l.jsxs("div",{className:"p-3 bg-primary/5 rounded-xl border border-primary/20 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary text-white flex items-center justify-center shadow-lg",children:l.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-xs"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[9px] font-black uppercase text-primary leading-none",children:"AI "}),l.jsx("div",{className:"text-[7px] font-bold text-muted mt-0.5",children:""})]})]}),l.jsx("button",{onClick:()=>S(!w),className:`w-9 h-5 rounded-full transition-all relative ${w?"bg-primary":"bg-muted/20"}`,children:l.jsx("div",{className:`absolute top-1 w-3 h-3 bg-white rounded-full transition-all ${w?"right-1":"left-1"}`})})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx(qe,{variant:"white",className:"flex-1 py-3 rounded-xl font-black text-[10px]",onClick:s,children:""}),l.jsx(qe,{disabled:!o.trim(),className:"flex-[2] py-3 rounded-xl shadow-xl font-black text-[10px]",onClick:()=>t({name:o,description:p,color:v,sphere:y},w),children:n?"":" "})]})]})]})]})},S_=({subProject:s,onClose:t})=>{const{tasks:n,toggleTaskStatus:i,updateProject:o,addTask:u,updateTask:p,deleteTask:g}=Le(),[v,x]=j.useState(""),[y,b]=j.useState(!1),w=n.filter(_=>_.projectId===s.id&&!_.isDeleted),S=j.useMemo(()=>{if(w.length===0)return 0;const _=w.filter(T=>T.status===me.DONE).length;return Math.round(_/w.length*100)},[w]);return j.useEffect(()=>{S!==s.progress&&o({...s,progress:S})},[S,s.progress]),l.jsxs("div",{onDragOver:_=>{_.preventDefault(),b(!0)},onDragLeave:()=>b(!1),onDrop:_=>{_.preventDefault(),b(!1);const T=_.dataTransfer.getData("taskId"),A=n.find(M=>M.id===T);A&&p({...A,projectId:s.id,projectSection:"actions",status:me.DOING})},className:`h-full flex flex-col bg-card animate-in slide-in-from-right duration-300 ${y?"ring-4 ring-inset ring-primary/20":""}`,children:[l.jsxs("header",{className:"p-4 border-b border-theme flex justify-between items-start",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl text-white flex items-center justify-center text-lg shadow-lg",style:{backgroundColor:s.color||"var(--primary)"},children:l.jsx("i",{className:"fa-solid fa-layer-group"})}),l.jsxs("div",{children:[l.jsx(ee,{variant:"tiny",className:"text-primary font-black mb-0.5 uppercase tracking-widest text-[8px]",children:" "}),l.jsx(ee,{variant:"h2",className:"text-sm leading-tight uppercase font-black",children:s.name})]})]}),l.jsx("button",{onClick:t,className:"w-8 h-8 rounded-lg bg-main flex items-center justify-center text-muted hover:text-primary transition-colors",children:l.jsx("i",{className:"fa-solid fa-xmark text-xs"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar",children:l.jsxs("section",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx(ee,{variant:"tiny",className:"text-main font-black uppercase tracking-widest text-[8px]",children:" "}),l.jsxs("div",{className:"text-[7px] font-black py-0.5 px-2 bg-primary/10 text-primary rounded-full",children:[S,"%"]})]}),l.jsxs("div",{className:"space-y-1.5",children:[w.map(_=>l.jsxs("div",{draggable:!0,onDragStart:T=>T.dataTransfer.setData("taskId",_.id),className:`flex items-center gap-2.5 p-2.5 bg-main border border-theme rounded-xl group hover:border-primary/30 transition-all ${_.status===me.DOING?"opacity-50 grayscale":""}`,children:[l.jsx("button",{onClick:()=>i(_),className:`w-4 h-4 rounded-md border-2 flex items-center justify-center transition-all ${_.status===me.DONE?"bg-emerald-500 border-emerald-500 text-white":"bg-card border-theme group-hover:border-primary"}`,children:_.status===me.DONE&&l.jsx("i",{className:"fa-solid fa-check text-[7px]"})}),l.jsx("span",{className:`text-[12px] font-bold flex-1 truncate ${_.status===me.DONE?"text-muted line-through opacity-50":"text-main"}`,children:_.title}),l.jsx("button",{onClick:()=>g(_.id),className:"text-muted hover:text-rose-500 transition-all p-1 opacity-0 group-hover:opacity-100",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[9px]"})})]},_.id)),l.jsx("form",{onSubmit:_=>{_.preventDefault(),v.trim()&&(u(v.trim(),"tasks",s.id,"actions"),x(""))},className:"pt-1",children:l.jsx("input",{value:v,onChange:_=>x(_.target.value),placeholder:"+  ...",className:"w-full bg-main border border-theme rounded-xl px-4 py-2 text-[11px] font-bold outline-none focus:border-primary/50 transition-colors text-main"})})]})]})})]})},__=()=>{const{projects:s,tasks:t,cycle:n,addProject:i,updateProject:o,toggleHabitStatus:u,toggleTaskStatus:p,updateTask:g,character:v,addTask:x,aiEnabled:y}=Le(),{isResizing:b,startResizing:w,detailsWidth:S}=Gn(400,700),[_,T]=j.useState("strategy"),[A,M]=j.useState("focus"),[U,R]=j.useState(null),[Y,q]=j.useState(null),[te,D]=j.useState(null),[I,E]=j.useState(null),[O,L]=j.useState(null),[V,K]=j.useState({open:!1}),[G,fe]=j.useState(!1),[F,H]=j.useState(window.innerWidth<1024),[pe,$]=j.useState(new Set);j.useEffect(()=>{const le=()=>H(window.innerWidth<1024);return window.addEventListener("resize",le),()=>window.removeEventListener("resize",le)},[]);const ue=j.useMemo(()=>{let le=s.filter(ve=>ve.type==="goal");return A==="focus"?le.filter(ve=>ve.status==="active"):A==="archived"?le.filter(ve=>ve.status==="archived"):le},[s,A]),k=j.useMemo(()=>{const le={health:[],career:[],finance:[],education:[],relationships:[],rest:[],general:[]};return ue.forEach(ve=>{const _e=ve.sphere||"general";le[_e]?le[_e].push(ve):le.general.push(ve)}),le},[ue]),P=le=>{const ve=new Set(pe);ve.has(le)?ve.delete(le):ve.add(le),$(ve)},se=async(le,ve)=>{let _e="";if(V.editing?(o({...V.editing,...le}),_e=V.editing.id):_e=i({...le,isStrategic:!0,type:"goal"}),K({open:!1}),ve&&y){fe(!0);try{const xe=await l_(le.name,le.description||"",v);xe.nextActions.forEach(be=>x(be,"tasks",_e,"actions")),xe.habits.forEach(be=>x(be,"tasks",_e,"habits"));for(const be of xe.subprojects){const it=i({name:be.title,color:le.color,parentFolderId:_e,isStrategic:!1,type:"subproject"});be.tasks.forEach(ut=>x(ut,"tasks",it,"actions"))}}catch{alert(" .")}finally{fe(!1)}}},Q=j.useMemo(()=>t.find(le=>le.id===te),[t,te]);if(_==="project_planner"&&O)return l.jsx(Bx,{projectId:O,onExitProjectMode:()=>{T("strategy"),L(null)}});const ye=[{key:"career",label:"'",icon:"fa-briefcase"},{key:"finance",label:"",icon:"fa-coins"},{key:"health",label:"'",icon:"fa-heart-pulse"},{key:"education",label:"",icon:"fa-book-open-reader"},{key:"relationships",label:"",icon:"fa-people-group"},{key:"rest",label:"",icon:"fa-couch"},{key:"general",label:"",icon:"fa-mountain"}];return l.jsxs("div",{className:"h-screen flex bg-main overflow-hidden relative",children:[l.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full",children:[l.jsxs("header",{className:"px-4 md:px-6 py-2 border-b border-theme bg-card flex flex-col gap-2 sticky top-0 z-20 shrink-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[l.jsxs("div",{className:"flex flex-col shrink-0",children:[l.jsx(ee,{variant:"h2",className:"text-xs md:text-sm font-black uppercase tracking-widest text-main",children:"Projects"}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("div",{className:"px-1 py-0.5 bg-primary text-white text-[6px] font-black rounded uppercase",children:"Live"}),l.jsxs(ee,{variant:"tiny",className:"text-muted font-bold text-[7px] uppercase tracking-tighter",children:["Week ",n.currentWeek]})]})]}),l.jsx("div",{className:"h-5 w-px bg-theme shrink-0 mx-1"}),l.jsx("div",{className:"flex bg-main p-0.5 rounded-lg border border-theme shrink-0",children:[{id:"strategy",label:"",icon:"fa-chess-king"},{id:"execution",label:"",icon:"fa-bolt-lightning"},{id:"structure",label:"",icon:"fa-sitemap"}].map(le=>l.jsxs("button",{onClick:()=>T(le.id),className:`px-2 py-1 rounded-md text-[7px] font-black uppercase tracking-widest transition-all flex items-center gap-1 ${_===le.id?"bg-primary text-white shadow-sm":"text-muted hover:text-main"}`,children:[l.jsx("i",{className:`fa-solid ${le.icon} text-[7px]`})," ",!F&&le.label]},le.id))})]}),l.jsx(qe,{icon:G?"fa-circle-notch animate-spin":"fa-plus",disabled:G,className:"rounded-lg h-7 px-3 py-0 font-black text-[7px] uppercase tracking-widest shadow-md",onClick:()=>K({open:!0}),children:G?"...":" "})]}),_==="strategy"&&l.jsx("div",{className:"flex gap-4 border-t border-theme pt-2 mt-1",children:["focus","all","archived"].map(le=>l.jsx("button",{onClick:()=>M(le),className:`pb-1 text-[8px] font-black uppercase tracking-[0.2em] border-b-2 transition-all ${A===le?"border-primary text-primary":"border-transparent text-muted"}`,children:le==="focus"?"":le==="all"?" ":""},le))})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 md:p-5 pb-24 md:pb-32",children:_==="structure"?l.jsx(N_,{}):_==="execution"?l.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs(De,{className:"bg-slate-900 text-white p-3 border-none shadow-xl flex flex-col justify-center",children:[l.jsx(ee,{variant:"tiny",className:"text-orange-500 mb-0.5 uppercase text-[6px] font-black",children:"Week Focus"}),l.jsxs(ee,{variant:"h2",className:"text-sm font-black text-white",children:["Week ",n.currentWeek]})]}),l.jsxs(De,{className:"p-3 bg-card border-theme flex flex-col items-center justify-center",children:[l.jsxs("div",{className:"text-sm font-black text-main",children:[n.globalExecutionScore,"%"]}),l.jsx(ee,{variant:"tiny",className:"text-muted text-[6px] font-black uppercase",children:"Overall KPI"})]}),l.jsxs(De,{className:"p-3 bg-card border-theme flex flex-col justify-center",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(ee,{variant:"tiny",className:"text-muted text-[6px] font-black",children:"STREAK"}),l.jsx("span",{className:"text-primary font-black text-[10px]",children:"12"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(ee,{variant:"tiny",className:"text-muted text-[6px] font-black",children:"TASKS"}),l.jsx("span",{className:"text-indigo-600 font-black text-[10px]",children:"84"})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(ee,{variant:"h2",className:"text-[8px] uppercase font-black tracking-widest text-muted px-1",children:"   "}),s.filter(le=>le.type==="goal"&&le.status==="active").map(le=>{const ve=t.filter(be=>!be.isDeleted&&be.status!==me.DONE&&be.projectId===le.id&&be.projectSection!=="habits"),_e=s.filter(be=>be.parentFolderId===le.id).map(be=>{const it=t.filter(ut=>!ut.isDeleted&&ut.status!==me.DONE&&ut.projectId===be.id).sort((ut,Ut)=>ut.createdAt-Ut.createdAt);return it.length>0?[it[0]]:[]}).flat(),xe=[...ve,..._e];return xe.length===0?null:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-1.5 px-1 mt-3",children:[l.jsx("div",{className:"w-1 h-3 rounded-full",style:{backgroundColor:le.color||"var(--primary)"}}),l.jsx("span",{className:"text-[9px] font-black uppercase text-muted truncate",children:le.name})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1.5",children:xe.map(be=>l.jsxs(De,{padding:"none",onClick:()=>q(be.id),className:`bg-card border-theme hover:border-primary/30 transition-all flex items-center gap-3 p-3 group cursor-pointer ${be.status===me.DOING?"opacity-50 grayscale":"shadow-sm"}`,children:[l.jsx("button",{onClick:it=>{it.stopPropagation(),p(be)},className:`w-4 h-4 rounded-md border-2 flex items-center justify-center shrink-0 transition-all ${be.status===me.DONE?"bg-emerald-500 border-emerald-500 text-white":"bg-card border-theme group-hover:border-primary"}`,children:be.status===me.DONE&&l.jsx("i",{className:"fa-solid fa-check text-[7px]"})}),l.jsx("span",{className:`text-[11px] font-bold truncate block ${be.status===me.DONE?"line-through opacity-30":"text-main"}`,children:be.title})]},be.id))})]},le.id)})]})]}):l.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[A==="all"?ye.map(le=>{const ve=k[le.key];if(ve.length===0)return null;const _e=pe.has(le.key);return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>P(le.key),className:"flex items-center gap-3 w-full px-1 group",children:[l.jsx("div",{className:"w-6 h-6 rounded-lg bg-main border border-theme flex items-center justify-center text-muted group-hover:text-primary transition-colors",children:l.jsx("i",{className:`fa-solid ${le.icon} text-[10px]`})}),l.jsx(ee,{variant:"tiny",className:"font-black uppercase tracking-[0.2em] text-main flex-1 text-left",children:le.label}),l.jsx("i",{className:`fa-solid fa-chevron-right text-[8px] text-muted transition-transform ${_e?"":"rotate-90"}`})]}),!_e&&l.jsx("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-1 duration-200",children:ve.map(xe=>l.jsx(ox,{goal:xe,isExpanded:U===xe.id,onToggle:()=>R(U===xe.id?null:xe.id),onTaskClick:be=>{q(be),D(null),E(null)},onHabitClick:be=>{D(be),q(null),E(null)},onSubProjectClick:be=>{E(be),q(null),D(null)},onPlannerClick:be=>{L(be),T("project_planner")},onEdit:be=>K({open:!0,editing:be}),selectedTaskId:Y,selectedHabitId:te},xe.id))})]},le.key)}):ue.map(le=>l.jsx(ox,{goal:le,isExpanded:U===le.id,onToggle:()=>R(U===le.id?null:le.id),onTaskClick:ve=>{q(ve),D(null),E(null)},onHabitClick:ve=>{D(ve),q(null),E(null)},onSubProjectClick:ve=>{E(ve),q(null),D(null)},onPlannerClick:ve=>{L(ve),T("project_planner")},onEdit:ve=>K({open:!0,editing:ve}),selectedTaskId:Y,selectedHabitId:te},le.id)),ue.length===0&&l.jsxs("div",{className:"py-20 text-center opacity-10 flex flex-col items-center select-none pointer-events-none grayscale",children:[l.jsx("i",{className:"fa-solid fa-flag-checkered text-7xl mb-6"}),l.jsx(ee,{variant:"h2",className:"text-xl",children:" "}),l.jsx(ee,{variant:"body",className:"mt-2 text-xs",children:"     "})]})]})})]}),l.jsxs("div",{className:`flex h-full border-l border-theme z-[110] bg-card shrink-0 transition-all duration-300 ${F?Y||I||Q?"fixed inset-0 w-full translate-x-0":"fixed inset-0 w-full translate-x-full":""}`,children:[!F&&l.jsx("div",{onMouseDown:w,className:`w-[1px] h-full cursor-col-resize hover:bg-primary z-[100] transition-colors ${b?"bg-primary":"bg-theme"}`}),l.jsx("div",{style:{width:F?"100vw":S},className:"h-full bg-card relative flex flex-col overflow-hidden",children:Y?l.jsx(qs,{task:t.find(le=>le.id===Y),onClose:()=>q(null)}):I?l.jsx(S_,{subProject:s.find(le=>le.id===I),onClose:()=>E(null)}):Q?l.jsx(Ar,{habit:Q,onClose:()=>D(null),onUpdate:le=>g({...Q,...le}),onToggleStatus:u}):!F&&l.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-12 text-center opacity-10 pointer-events-none select-none",children:[l.jsx("i",{className:"fa-solid fa-chess-king text-8xl mb-6"}),l.jsx(ee,{variant:"h2",className:"text-xl font-black uppercase tracking-widest",children:"Goal Engine"})]})})]}),V.open&&l.jsx(C_,{onClose:()=>K({open:!1}),onSave:se,initialData:V.editing,aiEnabled:y})]})},k_=()=>{const{tasks:s,addTask:t,updateTask:n,toggleHabitStatus:i}=Le(),[o,u]=j.useState(null),[p,g]=j.useState(!1),[v,x]=j.useState(""),[y,b]=j.useState(null),[w,S]=j.useState(""),_=j.useRef(null),T=j.useMemo(()=>s.filter(D=>!D.isDeleted&&(D.projectSection==="habits"||D.tags.includes("habit"))),[s]),A=j.useMemo(()=>Array.from({length:14},(D,I)=>{const E=new Date;return E.setDate(E.getDate()-I),E.setHours(0,0,0,0),{label:E.toLocaleString("uk-UA",{weekday:"short"}).toUpperCase(),date:E.getDate(),dateStr:E.toISOString().split("T")[0],timestamp:E.getTime()}}),[]),M=D=>{D.preventDefault(),v.trim()&&(t(v.trim(),"tasks",void 0,"habits"),x(""),g(!1))},U=D=>{var V;const I=D.habitHistory||{};let E=0;const O=new Date;O.setHours(0,0,0,0);let L=new Date(O);for(;;){const K=L.toISOString().split("T")[0];if(((V=I[K])==null?void 0:V.status)==="completed")E++,L.setDate(L.getDate()-1);else{if(E===0&&K===O.toISOString().split("T")[0]){L.setDate(L.getDate()-1);continue}break}}return E},R=D=>D.color||"var(--primary)";j.useEffect(()=>{const D=I=>{_.current&&!_.current.contains(I.target)&&b(null)};return y&&document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[y]);const Y=(D,I)=>{var L,V;const E=s.find(K=>K.id===D),O=((V=(L=E==null?void 0:E.habitHistory)==null?void 0:L[I])==null?void 0:V.note)||"";S(O),b({habitId:D,dateStr:I})},q=D=>{y&&(i(y.habitId,y.dateStr,D,w),b(null))},te=j.useMemo(()=>T.find(D=>D.id===o),[T,o]);return l.jsxs("div",{className:"h-screen flex flex-col bg-main text-[var(--text-main)] overflow-hidden relative",children:[l.jsxs("header",{className:"z-20 bg-sidebar/80 backdrop-blur-xl border-b border-theme px-5 py-3 flex items-center justify-between shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ee,{variant:"h2",className:"text-lg font-black",children:""}),l.jsx("div",{className:"h-3 w-px bg-theme opacity-50"}),l.jsx(ee,{variant:"tiny",className:"text-muted tracking-widest lowercase text-[8px]",children:" "})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(qe,{variant:"primary",size:"sm",icon:"fa-plus",onClick:()=>g(!0),className:"rounded-lg px-3 py-1.5 text-[10px]",children:""})})]}),l.jsx("div",{className:"flex-1 overflow-x-auto custom-scrollbar z-10",children:l.jsx("div",{className:"min-w-full inline-block align-middle p-4",children:l.jsxs("table",{className:"w-full border-separate border-spacing-x-0.5 table-fixed",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-main/30",children:[l.jsx("th",{className:"sticky left-0 z-30 bg-sidebar p-2 text-left w-56 border-b border-theme",children:l.jsx("span",{className:"text-[8px] font-black uppercase text-muted tracking-[0.2em]",children:""})}),A.map(D=>{const I=D.dateStr===new Date().toISOString().split("T")[0];return l.jsxs("th",{className:`p-1.5 w-10 text-center border-b border-theme rounded-t-lg ${I?"bg-primary/10":""}`,children:[l.jsx("div",{className:`text-[7px] font-black uppercase leading-none mb-0.5 ${I?"text-primary":"text-muted"}`,children:I?"":D.label}),l.jsx("div",{className:`text-[10px] font-black leading-none ${I?"text-primary":"text-main"}`,children:D.date})]},D.dateStr)})]})}),l.jsx("tbody",{className:"divide-y divide-theme/30",children:T.map(D=>{const I=U(D),E=R(D);return l.jsxs("tr",{className:"group hover:bg-main/20 transition-colors",children:[l.jsxs("td",{className:"sticky left-0 z-30 bg-sidebar p-2 flex items-center gap-3 border-r border-theme cursor-pointer",onClick:()=>u(D.id),children:[l.jsxs("div",{className:"relative w-8 h-8 flex items-center justify-center shrink-0",children:[l.jsxs("svg",{className:"w-full h-full transform -rotate-90 overflow-visible",viewBox:"0 0 32 32",children:[l.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"transparent",stroke:"var(--border-color)",strokeWidth:"3"}),l.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"transparent",stroke:E,strokeWidth:"3",strokeDasharray:2*Math.PI*14,strokeDashoffset:2*Math.PI*14*(1-Math.min(I,30)/30),strokeLinecap:"round",className:"transition-all duration-700 ease-in-out"})]}),l.jsxs("span",{className:"absolute text-[7px] font-black flex flex-col items-center leading-none",style:{color:E},children:[l.jsx("span",{children:I}),l.jsx("span",{className:"text-[4px] uppercase",children:""})]})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"text-[10px] font-black text-main truncate group-hover:text-primary transition-colors uppercase tracking-tight flex items-center gap-1.5",children:[D.title,I>=3&&l.jsx("span",{className:"text-primary text-[8px]",children:""})]}),l.jsx("div",{className:"h-0.5 w-12 bg-theme/50 rounded-full overflow-hidden mt-1",children:l.jsx("div",{className:"h-full transition-all",style:{width:`${Math.min(I*10,100)}%`,backgroundColor:E}})})]})]}),A.map(O=>{var F;const L=((F=D.habitHistory)==null?void 0:F[O.dateStr])||{status:"none"},V=L.status,K=!!L.note,G=O.dateStr===new Date().toISOString().split("T")[0],fe=(y==null?void 0:y.habitId)===D.id&&(y==null?void 0:y.dateStr)===O.dateStr;return l.jsxs("td",{className:`p-0 text-center relative border-b border-theme/50 ${G?"bg-primary/5":""}`,children:[l.jsx("button",{onClick:()=>Y(D.id,O.dateStr),className:`w-full h-10 flex flex-col items-center justify-center transition-all group/btn ${fe?"bg-sidebar shadow-inner ring-1 ring-primary/20":""}`,children:l.jsxs("div",{className:"relative",children:[V==="completed"?l.jsx("div",{className:"w-5 h-5 rounded-md flex items-center justify-center shadow-md transform group-hover/btn:scale-105 transition-transform",style:{backgroundColor:E},children:l.jsx("i",{className:"fa-solid fa-check text-white text-[8px]"})}):V==="skipped"?l.jsx("div",{className:"w-5 h-5 rounded-md flex items-center justify-center bg-black/10",children:l.jsx("i",{className:"fa-solid fa-xmark text-muted text-[8px]"})}):l.jsx("div",{className:"w-5 h-5 rounded-md border border-dashed border-theme flex items-center justify-center group-hover/btn:border-primary/50 transition-colors",children:l.jsx("div",{className:"w-0.5 h-0.5 rounded-full bg-theme group-hover/btn:bg-primary/50"})}),K&&l.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-1.5 h-1.5 bg-primary rounded-full border border-sidebar shadow-sm"})]})}),fe&&l.jsxs("div",{ref:_,className:"absolute top-full left-1/2 -translate-x-1/2 mt-1.5 w-64 bg-card shadow-2xl rounded-2xl border border-theme p-4 z-[100] tiktok-blur text-left",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("span",{className:"text-[9px] font-black uppercase text-muted tracking-widest",children:[O.label,", ",O.date]}),l.jsx("button",{onClick:()=>b(null),className:"text-muted hover:text-main transition-colors",children:l.jsx("i",{className:"fa-solid fa-xmark text-[10px]"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[l.jsxs("button",{onClick:()=>q("completed"),className:`h-9 rounded-xl flex items-center justify-center gap-1.5 transition-all ${V==="completed"?"bg-primary text-white shadow-lg":"bg-main text-muted hover:bg-primary/10 hover:text-primary"}`,children:[l.jsx("i",{className:"fa-solid fa-check text-[10px]"}),l.jsx("span",{className:"text-[9px] font-black uppercase",children:""})]}),l.jsxs("button",{onClick:()=>q("skipped"),className:`h-9 rounded-xl flex items-center justify-center gap-1.5 transition-all ${V==="skipped"?"bg-main text-main":"bg-main text-muted hover:bg-black/10 hover:text-main"}`,children:[l.jsx("i",{className:"fa-solid fa-xmark text-[10px]"}),l.jsx("span",{className:"text-[9px] font-black uppercase",children:""})]})]}),l.jsx(ee,{variant:"tiny",className:"text-muted mb-1.5 uppercase text-[7px]",children:""}),l.jsx("textarea",{value:w,onChange:H=>S(H.target.value),placeholder:" ?",className:"w-full bg-main border border-theme rounded-xl p-2.5 text-[10px] font-medium outline-none h-16 resize-none focus:ring-1 focus:ring-primary/50 transition-all text-main"}),l.jsx("button",{onClick:()=>{i(y.habitId,y.dateStr,void 0,w),b(null)},className:"w-full mt-3 py-2 bg-primary text-white rounded-xl text-[9px] font-black uppercase tracking-widest shadow-md",children:""})]})]},O.dateStr)})]},D.id)})})]})})}),p&&l.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>g(!1)}),l.jsxs("div",{className:"bg-card w-full max-w-xs rounded-[2rem] border border-theme p-8 shadow-2xl relative z-10 animate-in zoom-in-95 duration-200",children:[l.jsx(ee,{variant:"h2",className:"mb-6 text-xl",children:" "}),l.jsxs("form",{onSubmit:M,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-[9px] font-black uppercase text-muted tracking-widest",children:" "}),l.jsx("input",{autoFocus:!0,value:v,onChange:D=>x(D.target.value),placeholder:": ",className:"w-full bg-main border border-theme rounded-xl py-3 px-4 text-xs font-bold focus:ring-2 focus:ring-primary/20 outline-none transition-all text-main"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(qe,{variant:"white",type:"button",className:"flex-1 rounded-xl text-[10px]",onClick:()=>g(!1),children:""}),l.jsx(qe,{type:"submit",variant:"primary",className:"flex-[2] rounded-xl shadow-lg text-[10px]",children:""})]})]})]})]}),te&&l.jsx("div",{className:"fixed top-0 right-0 h-full w-[340px] bg-sidebar border-l border-theme z-[110] shadow-[-10px_0_40px_rgba(0,0,0,0.05)]",children:l.jsx(Ar,{habit:te,onClose:()=>u(null),onUpdate:D=>n({...te,...D}),onToggleStatus:i})})]})},j_=()=>{var se;const{tasks:s,addTask:t,updateTask:n,deleteTask:i,detailsWidth:o,setDetailsWidth:u,addProject:p,updateProject:g,deleteProject:v,projects:x}=Le(),[y,b]=j.useState(null),[w,S]=j.useState("all"),[_,T]=j.useState(""),[A,M]=j.useState(!1),[U,R]=j.useState(""),[Y,q]=j.useState(null),[te,D]=j.useState(""),[I,E]=j.useState(!1),[O,L]=j.useState(null),[V,K]=j.useState(window.innerWidth<1024);j.useEffect(()=>{const Q=()=>K(window.innerWidth<1024);return window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]);const G=j.useMemo(()=>x.filter(Q=>{var ye;return!Q.isStrategic||((ye=Q.description)==null?void 0:ye.includes("FOLDER_NOTE"))}),[x]),fe=[{id:"all",label:"",icon:"fa-layer-group",tag:null},{id:"insights",label:"",icon:"fa-brain",tag:"insight"},{id:"dreams",label:"",icon:"fa-cloud-moon",tag:"dream"},{id:"ideas",label:"",icon:"fa-lightbulb",tag:"idea"},{id:"achievements",label:"",icon:"fa-trophy",tag:"achievement"},{id:"someday",label:"",icon:"fa-hourglass-start",tag:"someday"}],F=j.useMemo(()=>[...fe.map(Q=>({id:Q.id,label:Q.label,icon:Q.icon,isSystem:!0,tag:Q.tag})),...G.map(Q=>({id:Q.id,label:Q.name,icon:"fa-folder",isSystem:!1,tag:null}))],[G]),H=j.useMemo(()=>s.filter(Q=>{if(Q.category!=="note"||Q.isDeleted)return!1;const ye=F.find(le=>le.id===w);return ye?w==="all"?!0:ye.isSystem&&ye.tag?Q.tags.includes(ye.tag):Q.projectId===w:!1}).sort((Q,ye)=>ye.createdAt-Q.createdAt),[s,w,F]),pe=j.useCallback(Q=>{Q.preventDefault(),E(!0)},[]),$=j.useCallback(()=>E(!1),[]),ue=j.useCallback(Q=>{if(!I)return;const ye=window.innerWidth-Q.clientX;ye>300&&ye<900&&u(ye)},[I,u]);j.useEffect(()=>(I?(window.addEventListener("mousemove",ue),window.addEventListener("mouseup",$)):(window.removeEventListener("mousemove",ue),window.removeEventListener("mouseup",$)),()=>{window.removeEventListener("mousemove",ue),window.removeEventListener("mouseup",$)}),[I,ue,$]);const k=Q=>{Q&&Q.preventDefault();const ye=_.trim()||" ",le=F.find(be=>be.id===w);let ve,_e=[];le&&(le.isSystem&&le.tag?_e=[le.tag]:le.isSystem||(ve=le.id));const xe=t(ye,"note",ve,"actions");if(_e.length>0){const be=s.find(it=>it.id===xe)||{id:xe,tags:[]};n({...be,id:xe,title:ye,category:"note",projectId:ve,tags:_e,status:me.INBOX,priority:$e.NUI,createdAt:Date.now()})}b(xe),T("")},P=Q=>{Q.preventDefault(),U.trim()&&(p({name:U.trim(),color:"var(--primary)",isStrategic:!1,description:"FOLDER_NOTE"}),R(""),M(!1))};return l.jsxs("div",{className:"h-screen flex bg-[var(--bg-main)] overflow-hidden relative",children:[l.jsxs("div",{className:`flex flex-1 overflow-hidden transition-all duration-300 ${V&&y?"-translate-x-full absolute":"translate-x-0 relative"}`,children:[l.jsxs("aside",{className:"hidden lg:flex w-56 bg-[var(--bg-card)] border-r border-[var(--border-color)] flex-col p-4 shrink-0",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx(ee,{variant:"h3",className:"text-base mb-1 uppercase font-black",children:" "}),l.jsx(ee,{variant:"tiny",className:"text-[var(--text-muted)] lowercase text-[8px]",children:" "})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(ee,{variant:"tiny",className:"text-[var(--text-muted)] mb-2 ml-1 text-[7px] uppercase font-black opacity-50",children:""}),fe.map(Q=>l.jsxs("button",{onClick:()=>S(Q.id),className:`w-full flex items-center gap-2 px-2 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-wider transition-all ${w===Q.id?"bg-[var(--primary)] text-white shadow-md":"text-[var(--text-muted)] hover:bg-[var(--bg-main)]"}`,children:[l.jsx("i",{className:`fa-solid ${Q.icon} w-3 text-center`}),Q.label]},Q.id))]}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[l.jsx(ee,{variant:"tiny",className:"text-[var(--text-muted)] text-[7px] uppercase font-black opacity-50",children:""}),l.jsx("i",{onClick:()=>M(!0),className:"fa-solid fa-plus-circle text-[10px] text-[var(--text-muted)] hover:text-[var(--primary)] cursor-pointer"})]}),G.map(Q=>l.jsx("button",{onClick:()=>S(Q.id),className:`w-full flex items-center justify-between px-2 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-wider transition-all ${w===Q.id?"bg-[var(--primary)] text-white shadow-md":"text-[var(--text-muted)] hover:bg-[var(--bg-main)]"}`,children:l.jsxs("div",{className:"flex items-center gap-2 truncate",children:[l.jsx("i",{className:"fa-solid fa-folder w-3 text-center"}),l.jsx("span",{className:"truncate",children:Q.name})]})},Q.id))]})]})]}),l.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-[var(--bg-main)]",children:[l.jsxs("header",{className:"bg-[var(--bg-card)] border-b border-[var(--border-color)] flex flex-col z-10 shrink-0",children:[l.jsxs("div",{className:"px-4 md:px-6 py-4 flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx(ee,{variant:"h3",className:"text-[var(--text-main)] text-sm md:text-base leading-none mb-1 font-black uppercase",children:((se=F.find(Q=>Q.id===w))==null?void 0:se.label)||""}),l.jsxs(ee,{variant:"tiny",className:"text-[var(--text-muted)] text-[7px] uppercase tracking-widest",children:[H.length," "]})]})}),!V&&l.jsx("form",{onSubmit:k,className:"flex gap-2",children:l.jsx("input",{value:_,onChange:Q=>T(Q.target.value),placeholder:" ...",className:"bg-[var(--bg-main)] border border-[var(--border-color)] rounded-xl py-1.5 px-4 text-[11px] font-bold outline-none focus:ring-2 focus:ring-[var(--primary)]/10 w-48 text-[var(--text-main)]"})})]}),l.jsx("div",{className:"lg:hidden px-4 pb-3 overflow-x-auto no-scrollbar flex items-center gap-2",children:F.map(Q=>l.jsxs("button",{onClick:()=>S(Q.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-full whitespace-nowrap text-[9px] font-black uppercase tracking-wider transition-all border ${w===Q.id?"bg-[var(--primary)] border-[var(--primary)] text-white shadow-md":"bg-[var(--bg-main)] border-[var(--border-color)] text-[var(--text-muted)]"}`,children:[l.jsx("i",{className:`fa-solid ${Q.icon} text-[8px]`}),Q.label]},Q.id))})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 md:p-6",children:l.jsxs("div",{className:`grid gap-2 md:gap-4 pb-32 ${y?"grid-cols-1":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"}`,children:[H.map(Q=>{var ve,_e;const ye=y===Q.id;let le="";try{le=((_e=(ve=JSON.parse(Q.content||"[]").find(be=>be.content.trim()!==""&&be.content!=="<br>"))==null?void 0:ve.content)==null?void 0:_e.replace(/<[^>]*>?/gm,""))||""}catch{le=Q.content||""}return l.jsx(De,{padding:"none",onClick:()=>b(Q.id),className:`group bg-[var(--bg-card)] transition-all cursor-pointer flex flex-col justify-between relative p-3 rounded-xl border ${ye?"border-[var(--primary)] ring-2 ring-[var(--primary)]/5":"border-[var(--border-color)] hover:border-[var(--primary)]/30"} ${V?"min-h-[80px]":"min-h-[120px]"}`,children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsx(ee,{variant:"h3",className:`text-[var(--text-main)] leading-tight truncate pr-4 font-black uppercase ${V?"text-[10px]":"text-[12px]"}`,children:Q.title}),l.jsx("button",{onClick:xe=>{xe.stopPropagation(),confirm("?")&&i(Q.id)},className:"text-[var(--text-muted)] hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[9px]"})})]}),l.jsx("p",{className:`font-medium text-[var(--text-muted)] line-clamp-2 leading-relaxed ${V?"text-[9px]":"text-[10px]"}`,children:le||" ..."}),l.jsxs("div",{className:"mt-auto pt-2 flex justify-between items-center opacity-40",children:[l.jsx("span",{className:"text-[6px] font-black uppercase",children:new Date(Q.createdAt).toLocaleDateString("uk-UA")}),l.jsx("div",{className:"flex gap-1",children:Q.tags.map(xe=>l.jsxs("span",{className:"text-[6px] font-black text-[var(--primary)] uppercase",children:["#",xe]},xe))})]})]})},Q.id)}),H.length===0&&l.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center opacity-10 grayscale pointer-events-none",children:[l.jsx("i",{className:"fa-solid fa-note-sticky text-6xl mb-4"}),l.jsx(ee,{variant:"h2",className:"text-sm uppercase font-black tracking-widest",children:" "})]})]})}),V&&!y&&l.jsx("button",{onClick:()=>k(),className:"fixed right-6 bottom-24 w-14 h-14 rounded-full bg-[var(--primary)] text-white shadow-2xl flex items-center justify-center z-[140] active:scale-90 transition-all",children:l.jsx("i",{className:"fa-solid fa-plus text-xl"})})]})]}),l.jsxs("div",{className:`flex h-full border-l border-[var(--border-color)] z-[110] bg-[var(--bg-card)] shrink-0 transition-all duration-300 ${V?y?"fixed inset-0 w-full translate-x-0":"fixed inset-0 w-full translate-x-full":""}`,children:[!V&&l.jsx("div",{onMouseDown:pe,className:`w-[1px] h-full cursor-col-resize hover:bg-[var(--primary)] z-[120] transition-colors ${I?"bg-[var(--primary)]":"bg-[var(--border-color)]"}`}),l.jsx("div",{style:{width:V?"100vw":o},className:"h-full bg-[var(--bg-card)] relative flex flex-col",children:y?l.jsx(qs,{task:s.find(Q=>Q.id===y),onClose:()=>b(null)}):null})]}),A&&V&&l.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 tiktok-blur animate-in fade-in",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>M(!1)}),l.jsxs(De,{className:"w-full max-w-sm relative z-10 p-6 rounded-3xl bg-card border-theme shadow-2xl",children:[l.jsx(ee,{variant:"h2",className:"mb-6 text-xl uppercase font-black",children:" "}),l.jsxs("form",{onSubmit:P,className:"space-y-4",children:[l.jsx("input",{autoFocus:!0,value:U,onChange:Q=>R(Q.target.value),placeholder:"...",className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl py-3 px-4 text-sm font-bold focus:ring-2 focus:ring-[var(--primary)]/20 outline-none"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(qe,{variant:"white",className:"flex-1",onClick:()=>M(!1),children:""}),l.jsx(qe,{type:"submit",className:"flex-1",children:""})]})]})]})]})]})},E_=({onClose:s})=>{const{reportTemplate:t,updateReportTemplate:n,saveDiaryEntry:i}=Le(),[o,u]=j.useState(1),[p,g]=j.useState({}),[v,x]=j.useState(!1),[y,b]=j.useState(t),w=j.useMemo(()=>{const q=t.map(te=>te.page);return q.length>0?Math.max(...q):1},[t]),S=j.useMemo(()=>t.filter(q=>q.page===o),[t,o]),_=()=>{o<w?u(o+1):A()},T=()=>{o>1&&u(o-1)},A=()=>{const q=new Date().toISOString().split("T")[0];let te=`#  : ${new Date().toLocaleDateString("uk-UA",{day:"numeric",month:"long",year:"numeric"})}

`;t.sort((D,I)=>D.page-I.page).forEach(D=>{const I=p[D.id];I&&(te+=`#### ${D.text}
> ${I.replace(/\n/g,`
> `)}

`)}),i(q,te),s()},M=()=>{const q=`q_${Date.now()}`;b([...y,{id:q,text:"",page:o}])},U=(q,te,D)=>{b(y.map(I=>I.id===q?{...I,text:te,page:D}:I))},R=q=>{b(y.filter(te=>te.id!==q))},Y=()=>{n(y),x(!1)};return l.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 tiktok-blur",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:s}),l.jsxs(De,{className:"w-full max-w-2xl max-h-[90vh] bg-[var(--bg-card)] border-[var(--border-color)] shadow-2xl overflow-hidden flex flex-col relative animate-in zoom-in-95 duration-300 rounded-[2.5rem]",children:[!v&&l.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-[var(--bg-main)] z-20",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-orange-400 to-pink-500 transition-all duration-500",style:{width:`${o/w*100}%`}})}),l.jsxs("header",{className:"p-6 md:p-8 pb-4 flex justify-between items-start shrink-0 border-b border-slate-50 bg-[var(--bg-card)] z-10",children:[l.jsxs("div",{children:[l.jsx(ee,{variant:"tiny",className:"text-[var(--primary)] mb-1 font-black",children:v?" ":` ${o}  ${w}`}),l.jsx(ee,{variant:"h2",className:"text-xl md:text-2xl",children:v?" ":"   ?"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>{v&&b(t),x(!v)},className:`w-10 h-10 rounded-2xl flex items-center justify-center transition-all ${v?"bg-[var(--primary)] text-white shadow-lg":"bg-[var(--bg-main)] text-[var(--text-muted)] hover:bg-orange-50"}`,title:" ",children:l.jsx("i",{className:"fa-solid fa-gear text-sm"})}),l.jsx("button",{onClick:s,className:"w-10 h-10 rounded-2xl bg-[var(--bg-main)] flex items-center justify-center text-[var(--text-muted)] hover:bg-rose-50 hover:text-rose-500 transition-all",children:l.jsx("i",{className:"fa-solid fa-xmark"})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 md:p-8 pt-4",children:v?l.jsxs("div",{className:"space-y-4 pb-4",children:[l.jsx(ee,{variant:"body",className:"text-[var(--text-muted)] mb-4 italic text-xs",children:"    ."}),y.map(q=>l.jsxs("div",{className:"flex gap-3 items-start bg-[var(--bg-main)] p-4 rounded-2xl border border-[var(--border-color)] group/q transition-all hover:border-[var(--primary)]/30",children:[l.jsxs("div",{className:"flex flex-col items-center gap-1 shrink-0",children:[l.jsx("input",{type:"number",min:"1",value:q.page,onChange:te=>U(q.id,q.text,parseInt(te.target.value)||1),className:"w-10 bg-white border border-[var(--border-color)] rounded-lg p-1 text-center text-[10px] font-black"}),l.jsx("span",{className:"text-[7px] font-black text-slate-300 uppercase",children:"."})]}),l.jsx("textarea",{value:q.text,onChange:te=>U(q.id,te.target.value,q.page),placeholder:" ...",className:"flex-1 bg-transparent border-none p-0 text-sm font-bold focus:ring-0 outline-none resize-none min-h-[40px] leading-tight"}),l.jsx("button",{onClick:()=>R(q.id),className:"text-slate-200 hover:text-rose-500 transition-colors pt-1",children:l.jsx("i",{className:"fa-solid fa-trash-can text-xs"})})]},q.id)),l.jsx("button",{onClick:M,className:"w-full py-4 border-2 border-dashed border-[var(--border-color)] rounded-2xl text-[var(--text-muted)] text-[10px] font-black uppercase tracking-widest hover:border-[var(--primary)] hover:text-[var(--primary)] transition-all bg-slate-50/50 hover:bg-white",children:"+  "})]}):l.jsx("div",{className:"space-y-6 md:space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:S.map(q=>l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-[11px] font-black text-[var(--text-main)] uppercase tracking-widest leading-relaxed block",children:q.text}),l.jsx("textarea",{value:p[q.id]||"",onChange:te=>g({...p,[q.id]:te.target.value}),placeholder:" ...",className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-[1.5rem] p-5 text-sm font-medium focus:ring-4 focus:ring-orange-100 transition-all outline-none min-h-[100px] md:min-h-[140px]"})]},q.id))})}),l.jsx("footer",{className:"p-6 md:p-8 border-t border-[var(--border-color)] bg-[var(--bg-main)]/30 flex justify-between items-center gap-4 shrink-0",children:v?l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx(qe,{variant:"ghost",className:"flex-1 py-3.5 rounded-2xl",onClick:()=>x(!1),children:""}),l.jsx(qe,{variant:"primary",className:"flex-[2] py-3.5 rounded-2xl shadow-lg",onClick:Y,children:" "})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(qe,{variant:"ghost",className:"px-4 md:px-6 rounded-2xl text-[10px] font-black tracking-widest",onClick:T,disabled:o===1,children:""}),Object.keys(p).length>0&&l.jsx("button",{onClick:A,className:"px-4 md:px-6 py-2 rounded-2xl text-[9px] font-black uppercase text-emerald-600 hover:bg-emerald-50 transition-colors",children:"  "})]}),l.jsx(qe,{variant:"primary",className:"flex-1 py-4 rounded-2xl shadow-xl shadow-orange-200 text-[10px] font-black tracking-widest uppercase",onClick:_,children:o>=w?"":""})]})})]})]})},A_=()=>{const{diary:s,tasks:t,people:n,deleteDiaryEntry:i}=Le(),[o,u]=j.useState(new Date().toLocaleDateString("en-CA")),[p,g]=j.useState(new Date),[v,x]=j.useState(null),[y,b]=j.useState(!1),[w,S]=j.useState(!1),[_,T]=j.useState("list"),{isResizing:A,startResizing:M,detailsWidth:U}=Gn(400,800),[R,Y]=j.useState(window.innerWidth<1024);j.useEffect(()=>{const O=()=>Y(window.innerWidth<1024);return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]);const q=j.useMemo(()=>[...s].sort((O,L)=>L.date!==O.date?L.date.localeCompare(O.date):L.createdAt-O.createdAt),[s]),te=j.useMemo(()=>{const O={};return q.forEach(L=>{const V=L.date.split("-").map(Number),K=new Date(V[0],V[1]-1,V[2]);if(isNaN(K.getTime()))return;const G=K.toLocaleDateString("uk-UA",{month:"long",year:"numeric"});O[G]||(O[G]=[]),O[G].push(L)}),O},[q]),D=j.useMemo(()=>{const O=new Date(o),L=O.getDate(),V=O.getMonth();return s.filter(K=>{const G=new Date(K.date);return G.getDate()===L&&G.getMonth()===V&&G.getFullYear()<O.getFullYear()}).sort((K,G)=>new Date(G.date).getTime()-new Date(K.date).getTime())},[s,o]),I=(O=!1)=>{const L=p.getFullYear(),V=p.getMonth(),F=O&&!w?(()=>{const H=new Date(p),pe=H.getDay(),$=H.getDate()-pe+(pe===0?-6:1),ue=new Date(H.setDate($));return Array.from({length:7},(k,P)=>{const se=new Date(ue);return se.setDate(ue.getDate()+P),se})})():(()=>{const H=(new Date(L,V,1).getDay()+6)%7,pe=new Date(L,V+1,0).getDate(),$=[];for(let ue=0;ue<H;ue++)$.push(null);for(let ue=1;ue<=pe;ue++)$.push(new Date(L,V,ue));for(;$.length%7!==0;)$.push(null);return $})();return l.jsxs("div",{className:`bg-card p-4 md:p-5 rounded-[2rem] border border-theme shadow-sm transition-all duration-300 ${O?"mb-6 mx-2":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("button",{onClick:()=>O&&S(!w),className:"flex items-center gap-2 text-left group",children:[l.jsx(ee,{variant:"tiny",className:"text-main font-black capitalize text-[10px] tracking-wider group-hover:text-primary transition-colors",children:p.toLocaleString("uk-UA",{month:"long",year:"numeric"})}),O&&l.jsx("i",{className:`fa-solid fa-chevron-down text-[8px] text-muted transition-transform ${w?"rotate-180":""}`})]}),l.jsxs("div",{className:"flex gap-2 shrink-0",children:[l.jsx("button",{onClick:()=>g(new Date(L,V-1,1)),className:"w-7 h-7 rounded-xl hover:bg-black/5 flex items-center justify-center text-muted hover:text-primary transition-colors",children:l.jsx("i",{className:"fa-solid fa-chevron-left text-[9px]"})}),l.jsx("button",{onClick:()=>g(new Date(L,V+1,1)),className:"w-7 h-7 rounded-xl hover:bg-black/5 flex items-center justify-center text-muted hover:text-primary transition-colors",children:l.jsx("i",{className:"fa-solid fa-chevron-right text-[9px]"})})]})]}),l.jsxs("div",{className:"grid grid-cols-7 gap-1 md:gap-2",children:[["","","","","","",""].map(H=>l.jsx("div",{className:"text-[7px] font-black text-muted/30 text-center uppercase tracking-tighter",children:H},H)),F.map((H,pe)=>{if(H===null)return l.jsx("div",{className:"h-8"},`empty-${pe}`);const $=H.getFullYear(),ue=String(H.getMonth()+1).padStart(2,"0"),k=String(H.getDate()).padStart(2,"0"),P=`${$}-${ue}-${k}`,se=o===P,Q=new Date().toLocaleDateString("en-CA")===P,ye=s.some(le=>le.date===P);return l.jsxs("button",{onClick:()=>{u(P),O&&S(!1)},className:`h-8 md:h-9 rounded-xl flex items-center justify-center text-[10px] font-bold transition-all relative ${se?"bg-primary text-white shadow-lg":Q?"text-primary bg-primary/10":"text-main hover:bg-black/5"}`,children:[H.getDate(),ye&&!se&&l.jsx("div",{className:"absolute bottom-1.5 w-1 h-1 bg-primary/60 rounded-full"})]},P)})]})]})},E=()=>l.jsxs("div",{className:"h-full flex flex-col bg-sidebar overflow-y-auto custom-scrollbar",children:[l.jsxs("header",{className:"p-6 border-b border-theme shrink-0",children:[l.jsx(ee,{variant:"tiny",className:"text-primary mb-1 block font-black uppercase text-[9px]",children:""}),l.jsx(ee,{variant:"h2",className:"text-base",children:"   "})]}),l.jsxs("div",{className:"p-6 space-y-8 pb-32",children:[l.jsxs("section",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(ee,{variant:"tiny",className:"text-muted font-black uppercase tracking-widest text-[8px]",children:" "}),l.jsx("i",{className:"fa-solid fa-clock-rotate-left text-primary/30"})]}),D.length>0?D.map(O=>l.jsxs(De,{padding:"sm",className:"bg-main/20 border-theme shadow-sm hover:shadow-md transition-all cursor-pointer group",onClick:()=>{x(O.id),u(O.date)},children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("span",{className:"text-[10px] font-black text-primary",children:[new Date(O.date).getFullYear()," "]}),l.jsx("i",{className:"fa-solid fa-arrow-right text-[8px] text-muted group-hover:translate-x-1 transition-transform"})]}),l.jsxs("p",{className:"text-[11px] text-main/80 leading-relaxed italic line-clamp-4",children:[O.content.replace(/<[^>]*>?/gm,"").slice(0,200),"..."]})]},O.id)):l.jsxs("div",{className:"p-10 border-2 border-dashed border-theme rounded-[2.5rem] text-center opacity-30 bg-black/5",children:[l.jsx("i",{className:"fa-solid fa-ghost text-2xl mb-2 text-muted"}),l.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest",children:"    "})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx(ee,{variant:"tiny",className:"text-muted font-black uppercase tracking-widest text-[8px]",children:" "}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"p-5 bg-emerald-500/10 rounded-[1.8rem] border border-emerald-500/20 flex flex-col justify-center",children:[l.jsx("div",{className:"text-2xl font-black text-emerald-500 leading-none mb-1",children:t.filter(O=>!O.isDeleted&&O.status===me.DONE&&O.completedAt&&new Date(O.completedAt).toLocaleDateString("en-CA")===o).length}),l.jsx("div",{className:"text-[7px] font-black text-emerald-500/60 uppercase tracking-widest",children:""})]}),l.jsxs("div",{className:"p-5 bg-main/50 rounded-[1.8rem] border border-theme flex flex-col justify-center",children:[l.jsx("div",{className:"text-2xl font-black text-main leading-none mb-1",children:t.filter(O=>!O.isDeleted&&O.scheduledDate&&new Date(O.scheduledDate).toLocaleDateString("en-CA")===o).length}),l.jsx("div",{className:"text-[7px] font-black text-muted uppercase tracking-widest",children:""})]})]})]})]})]});return l.jsxs("div",{className:"h-screen flex bg-main overflow-hidden relative",children:[l.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full relative",children:[l.jsx("header",{className:"px-4 md:px-8 py-3 md:py-6 bg-card border-b border-theme z-10 flex flex-col gap-3 shrink-0",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 md:w-11 md:h-11 rounded-xl bg-primary/10 text-primary flex items-center justify-center shadow-sm",children:l.jsx("i",{className:"fa-solid fa-book-open text-xs md:text-sm"})}),l.jsxs("div",{children:[l.jsx(ee,{variant:"h1",className:"text-lg md:text-2xl font-black text-main",children:""}),l.jsx(ee,{variant:"tiny",className:"text-muted uppercase tracking-widest text-[7px] hidden md:block",children:"   "})]})]}),l.jsxs("div",{className:"lg:hidden flex bg-black/5 p-0.5 rounded-xl border border-theme shadow-inner",children:[l.jsxs("button",{onClick:()=>T("list"),className:`px-4 py-2 rounded-[0.6rem] text-[8px] font-black uppercase transition-all flex items-center gap-1.5 ${_==="list"?"bg-primary text-white shadow-md":"text-muted"}`,children:[l.jsx("i",{className:"fa-solid fa-list-ul"}),""]}),l.jsxs("button",{onClick:()=>T("stats"),className:`px-4 py-2 rounded-[0.6rem] text-[8px] font-black uppercase transition-all flex items-center gap-1.5 ${_==="stats"?"bg-primary text-white shadow-md":"text-muted"}`,children:[l.jsx("i",{className:"fa-solid fa-chart-pie"}),""]})]})]})}),l.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[l.jsxs("aside",{className:"w-72 p-6 hidden lg:flex flex-col gap-6 border-r border-theme bg-sidebar shrink-0 overflow-y-auto custom-scrollbar",children:[I(),l.jsxs("div",{className:"space-y-3 pt-2",children:[l.jsxs(qe,{variant:"primary",className:"w-full py-4 rounded-2xl shadow-xl font-black tracking-widest uppercase text-[10px] gap-3",onClick:()=>{x("new"),u(new Date().toLocaleDateString("en-CA"))},children:[l.jsx("i",{className:"fa-solid fa-plus text-xs"}),"  "]}),l.jsxs(qe,{variant:"white",className:"w-full py-4 rounded-2xl font-black uppercase tracking-widest text-[10px] gap-3",onClick:()=>b(!0),children:[l.jsx("i",{className:"fa-solid fa-chart-line text-xs text-primary"}),"  "]})]})]}),l.jsx("main",{className:`flex-1 overflow-y-auto custom-scrollbar p-3 md:p-8 bg-main/30 ${R&&_==="stats"?"hidden":"block"}`,children:l.jsxs("div",{className:"max-w-3xl mx-auto space-y-4 md:space-y-6 pb-40",children:[l.jsx("div",{className:"block lg:hidden",children:I(!0)}),l.jsxs("div",{className:"lg:hidden grid grid-cols-2 gap-3 mx-2 mb-6",children:[l.jsxs("button",{onClick:()=>{x("new"),u(new Date().toLocaleDateString("en-CA"))},className:"bg-primary text-white p-5 rounded-[1.8rem] shadow-xl flex flex-col items-center justify-center gap-2 active:scale-95 transition-all",children:[l.jsx("i",{className:"fa-solid fa-pen-fancy text-lg"}),l.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:""})]}),l.jsxs("button",{onClick:()=>b(!0),className:"bg-card border border-theme p-5 rounded-[1.8rem] shadow-sm flex flex-col items-center justify-center gap-2 active:scale-95 transition-all text-main",children:[l.jsx("i",{className:"fa-solid fa-chart-line text-lg text-primary"}),l.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest opacity-60",children:" "})]})]}),Object.entries(te).map(([O,L])=>l.jsxs("div",{className:"space-y-3 px-2 md:px-0",children:[l.jsx("div",{className:"sticky top-0 z-10 bg-main/90 backdrop-blur-sm py-2",children:l.jsx("span",{className:"text-[8px] md:text-[10px] font-black uppercase tracking-[0.2em] text-muted border-b border-theme pb-1",children:O})}),L.map(V=>{var F,H;const K=V.date.split("-").map(Number),G=new Date(K[0],K[1]-1,K[2]);let fe=" ";try{fe=((H=(F=JSON.parse(V.content).find($=>$.content.trim()!==""&&$.content!=="<br>"))==null?void 0:F.content)==null?void 0:H.replace(/<[^>]*>?/gm,""))||" "}catch{fe=V.content.split(`
`)[0].replace("#","").trim()||" "}return l.jsx(De,{padding:"none",hover:!0,onClick:()=>{x(V.id),u(V.date)},className:`bg-card border-theme rounded-[1.8rem] md:rounded-[2.5rem] cursor-pointer overflow-hidden group/card transition-all ${v===V.id?"ring-2 ring-primary/40 border-primary shadow-lg":"shadow-sm hover:shadow-md"}`,children:l.jsxs("div",{className:"flex items-center gap-4 md:gap-8 p-4 md:p-6",children:[l.jsxs("div",{className:"w-10 md:w-14 flex flex-col items-center shrink-0 border-r border-theme pr-4 md:pr-8",children:[l.jsx("span",{className:"text-[7px] md:text-[9px] font-black text-muted uppercase leading-none mb-1.5",children:G.toLocaleString("uk-UA",{weekday:"short"})}),l.jsx("span",{className:"text-base md:text-2xl font-black text-main leading-none",children:G.getDate()})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"text-[13px] md:text-base font-black text-main truncate block uppercase tracking-tight",children:fe}),l.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[l.jsx("p",{className:"text-[8px] text-muted truncate font-bold uppercase tracking-wider",children:V.date}),l.jsx("div",{className:"w-1 h-1 rounded-full bg-theme"}),l.jsx("span",{className:"text-[8px] font-black text-primary uppercase",children:new Date(V.createdAt).toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"})})]})]}),l.jsx("button",{onClick:pe=>{pe.stopPropagation(),confirm("  ?")&&i(V.id)},className:"w-9 h-9 md:w-11 md:h-11 rounded-xl md:rounded-2xl text-muted hover:text-rose-500 hover:bg-rose-500/10 flex items-center justify-center transition-all",children:l.jsx("i",{className:"fa-solid fa-trash-can text-sm md:text-base"})})]})},V.id)})]},O))]})}),R&&_==="stats"&&l.jsx("main",{className:"flex-1 bg-sidebar overflow-hidden animate-in fade-in duration-300",children:E()})]})]}),l.jsxs("div",{className:`fixed inset-0 lg:relative lg:inset-auto h-full border-l border-theme bg-sidebar z-[60] transition-all duration-300 ease-in-out ${v?"translate-x-0":"translate-x-full lg:translate-x-0"} flex ${R&&!v?"pointer-events-none":""}`,children:[!R&&l.jsx("div",{onMouseDown:M,className:`w-[1px] h-full cursor-col-resize hover:bg-primary z-[100] transition-colors ${A?"bg-primary":"bg-theme"}`}),l.jsx("div",{style:{width:R?"100vw":U},className:"h-full flex flex-col bg-card shadow-2xl lg:shadow-none overflow-hidden",children:v?l.jsx(fx,{id:v==="new"?void 0:v,date:o,onClose:()=>x(null)}):!R&&E()})]}),y&&l.jsx(E_,{onClose:()=>b(!1)})]})},D_=()=>{const{tasks:s,restoreTask:t,deleteTask:n}=Le(),i=j.useMemo(()=>s.filter(u=>u.isDeleted===!0),[s]),o=()=>{confirm("     ?")&&i.forEach(u=>n(u.id,!0))};return l.jsxs("div",{className:"h-screen flex flex-col bg-main overflow-hidden",children:[l.jsxs("header",{className:"p-6 md:p-10 bg-card border-b border-theme flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shrink-0",children:[l.jsxs("div",{children:[l.jsx(ee,{variant:"h1",className:"text-2xl md:text-3xl",children:""}),l.jsx(ee,{variant:"tiny",className:"text-muted mt-1",children:"   "})]}),i.length>0&&l.jsx(qe,{variant:"danger",icon:"fa-trash-arrow-up",size:"sm",onClick:o,children:" "})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-8",children:l.jsx("div",{className:"max-w-4xl mx-auto space-y-3 pb-32",children:i.length>0?i.map(u=>l.jsxs(De,{className:"bg-card border-theme p-4 flex items-center justify-between group hover:shadow-md transition-all rounded-2xl",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 bg-main rounded-xl flex items-center justify-center text-muted",children:l.jsx("i",{className:"fa-solid fa-trash-can text-sm"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-black text-main",children:u.title}),l.jsxs("div",{className:"text-[9px] font-black text-muted uppercase tracking-widest mt-0.5 opacity-60",children:[" ",new Date(u.createdAt).toLocaleDateString("uk-UA")]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>t(u.id),className:"w-9 h-9 rounded-xl bg-primary/10 text-primary hover:bg-primary hover:text-white flex items-center justify-center transition-all shadow-sm",title:"",children:l.jsx("i",{className:"fa-solid fa-rotate-left"})}),l.jsx("button",{onClick:()=>confirm(" ?")&&n(u.id,!0),className:"w-9 h-9 rounded-xl bg-main text-muted hover:text-rose-500 flex items-center justify-center transition-all",title:" ",children:l.jsx("i",{className:"fa-solid fa-xmark"})})]})]},u.id)):l.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-center opacity-10",children:[l.jsx("i",{className:"fa-solid fa-trash-can text-9xl mb-8"}),l.jsx(ee,{variant:"h2",className:"uppercase tracking-[0.2em]",children:""}),l.jsx(ee,{variant:"body",className:"mt-2 text-xs font-bold",children:"   "})]})})})]})},M_=({person:s,onUpdate:t})=>{const n=j.useMemo(()=>{if(!s.birthDate)return null;const i=new Date(s.birthDate),o=new Date;let u=o.getFullYear()-i.getFullYear();const p=o.getMonth()-i.getMonth();return(p<0||p===0&&o.getDate()<i.getDate())&&u--,u},[s.birthDate]);return l.jsxs("div",{className:"space-y-6",children:[l.jsx("section",{className:"bg-white border border-slate-100 rounded-[2.5rem] p-6 md:p-8 shadow-sm relative overflow-hidden",children:l.jsxs("div",{className:"relative z-10 space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(ee,{variant:"tiny",className:"text-orange-500 mb-2 block font-black uppercase tracking-[0.2em]",children:" "}),l.jsx("p",{className:"text-sm md:text-base font-bold text-slate-700 leading-relaxed italic",children:s.description||"   ."})]}),l.jsxs("div",{className:"text-right shrink-0",children:[l.jsx("div",{className:"text-[28px] font-black leading-none text-orange-600",children:s.rating||0}),l.jsx("div",{className:"text-[8px] font-black uppercase text-slate-400 tracking-widest",children:""})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[l.jsx("span",{className:"text-[7px] font-black uppercase text-slate-400 block mb-1",children:""}),l.jsx("span",{className:"text-xs font-black text-slate-700",children:n?`${n} `:" "})]}),l.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[l.jsx("span",{className:"text-[7px] font-black uppercase text-slate-400 block mb-1",children:" '"}),l.jsx("span",{className:"text-xs font-black text-orange-600 uppercase tracking-widest",children:s.status})]})]})]})}),l.jsx(De,{padding:"md",className:"bg-slate-50/50 border-dashed border-slate-200",children:l.jsxs("div",{className:"text-center py-4",children:[l.jsx("i",{className:"fa-solid fa-circle-info text-slate-300 text-xl mb-2"}),l.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest leading-relaxed",children:'        ""   .'})]})})]})},R_=[{id:"q1",text:"    ?",icon:"fa-mug-hot"},{id:"q2",text:"    ?",icon:"fa-plane-departure"},{id:"q3",text:"     ?",icon:"fa-book-open"},{id:"q4",text:"   ?  ?",icon:"fa-dog"},{id:"q5",text:'    ""?',icon:"fa-bolt"},{id:"q6",text:"/   ?",icon:"fa-moon"},{id:"q7",text:"    ?",icon:"fa-music"},{id:"q8",text:" /   ?",icon:"fa-rocket"},{id:"q9",text:"    ?",icon:"fa-heart"},{id:"q10",text:"    ?",icon:"fa-ghost"},{id:"q11",text:"  ?",icon:"fa-user-group"},{id:"q12",text:"   ?",icon:"fa-utensils"},{id:"q13",text:"   ?",icon:"fa-star"}],I_={friend:"",colleague:"",family:"'",mentor:"",acquaintance:""},U_=({person:s,onUpdate:t,relationshipTypes:n})=>{const[i,o]=j.useState(null),[u,p]=j.useState(""),[g,v]=j.useState(null),[x,y]=j.useState(""),b=j.useMemo(()=>R_.filter(T=>{var M;return!((M=s.notes)==null?void 0:M.some(U=>U.text.includes(T.text)))}),[s.notes]),w=j.useMemo(()=>b.slice(0,3),[b]),S=T=>{if(!u.trim())return;const A={id:Math.random().toString(36).substr(2,9),text:`${T.text} : ${u.trim()}`,date:new Date().toISOString()};t({...s,notes:[A,...s.notes||[]]}),p(""),o(null)},_=[{val:"week",label:"."},{val:"month",label:"."},{val:"quarter",label:"."},{val:"year",label:""},{val:"none",label:"Off"}];return l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[l.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("div",{className:"bg-slate-50 p-4 rounded-[1.8rem] border border-slate-100 flex items-center justify-between gap-3 group/select relative transition-all hover:bg-white hover:shadow-sm",children:l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 font-black uppercase text-[7px] mb-1.5 tracking-[0.2em]",children:"  "}),l.jsxs("div",{className:"relative flex items-center",children:[l.jsx("select",{value:s.status,onChange:T=>t({...s,status:T.target.value}),className:"w-full bg-white border-2 border-slate-100 rounded-xl text-[10px] font-black uppercase focus:ring-4 focus:ring-orange-100 py-2.5 px-3 outline-none cursor-pointer text-slate-900 appearance-none pr-10 transition-all shadow-sm",children:n.map(T=>l.jsx("option",{value:T,children:I_[T]||T},T))}),l.jsx("i",{className:"fa-solid fa-chevron-down absolute right-3.5 text-[8px] text-slate-300 pointer-events-none transition-transform group-hover/select:translate-y-0.5"})]})]})}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-[1.8rem] border border-slate-100 flex flex-col justify-center transition-all hover:bg-white hover:shadow-sm",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 font-black uppercase text-[7px] mb-2.5 tracking-[0.2em] text-center",children:" '"}),l.jsx("div",{className:"flex justify-between gap-1",children:_.map(T=>l.jsx("button",{onClick:()=>t({...s,loop:T.val}),className:`flex-1 py-2 rounded-lg text-[8px] font-black uppercase transition-all border ${s.loop===T.val?"bg-slate-900 text-white border-slate-900 shadow-lg":"bg-white text-slate-400 border-slate-100 hover:border-orange-200"}`,children:T.label},T.val))})]})]}),w.length>0&&l.jsxs("section",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between px-2",children:[l.jsxs(ee,{variant:"tiny",className:"text-orange-500 font-black uppercase tracking-widest flex items-center gap-2 text-[8px]",children:[l.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-[9px]"})," "]}),l.jsxs("span",{className:"text-[7px] font-black text-slate-300 uppercase",children:[" ",b.length]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:w.map(T=>l.jsxs("div",{className:`px-5 py-4 bg-orange-50/30 border rounded-[1.5rem] transition-all ${i===T.id?"border-orange-300 bg-white ring-4 ring-orange-50":"border-orange-100/30 hover:bg-white hover:border-orange-200 shadow-sm"}`,children:[l.jsxs("div",{onClick:()=>{o(T.id),p("")},className:"flex items-center gap-4 cursor-pointer",children:[l.jsx("div",{className:"w-8 h-8 rounded-xl bg-white text-orange-500 flex items-center justify-center text-xs shadow-sm shrink-0",children:l.jsx("i",{className:`fa-solid ${T.icon}`})}),l.jsx("span",{className:"text-[12px] font-bold text-slate-700 flex-1 leading-tight",children:T.text})]}),i===T.id&&l.jsxs("div",{className:"mt-3 flex gap-2 animate-in slide-in-from-top-1",children:[l.jsx("input",{autoFocus:!0,value:u,onChange:A=>p(A.target.value),onKeyDown:A=>A.key==="Enter"&&S(T),placeholder:" ...",className:"flex-1 bg-slate-50 border border-slate-100 rounded-xl px-4 py-2 text-xs font-bold outline-none focus:ring-2 focus:ring-orange-200"}),l.jsx("button",{onClick:()=>S(T),className:"px-4 py-2 bg-orange-600 text-white rounded-xl text-[9px] font-black uppercase shadow-lg shadow-orange-100",children:""})]})]},T.id))})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest ml-2 text-[8px]",children:" "}),l.jsxs("div",{className:"space-y-2",children:[(s.notes||[]).map(T=>l.jsx("div",{className:"group bg-white p-4 rounded-[1.5rem] border border-slate-100 shadow-sm transition-all hover:border-orange-200",children:g===T.id?l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{autoFocus:!0,value:x,onChange:A=>y(A.target.value),onKeyDown:A=>A.key==="Enter"&&(t({...s,notes:s.notes.map(M=>M.id===T.id?{...M,text:x}:M)}),v(null)),className:"flex-1 bg-slate-50 border border-slate-100 rounded-lg px-3 py-1.5 text-xs font-bold outline-none"}),l.jsx("button",{onClick:()=>{t({...s,notes:s.notes.map(A=>A.id===T.id?{...A,text:x}:A)}),v(null)},className:"text-emerald-500 font-black text-[9px] uppercase",children:"OK"})]}):l.jsxs("div",{className:"flex justify-between items-start gap-4",children:[l.jsx("p",{className:"text-[12px] font-bold text-slate-700 leading-relaxed flex-1",children:T.text}),l.jsxs("div",{className:"flex gap-2 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>{v(T.id),y(T.text)},className:"text-slate-300 hover:text-orange-500",children:l.jsx("i",{className:"fa-solid fa-pen text-[9px]"})}),l.jsx("button",{onClick:()=>t({...s,notes:s.notes.filter(A=>A.id!==T.id)}),className:"text-slate-300 hover:text-rose-500",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[9px]"})})]})]})},T.id)),(!s.notes||s.notes.length===0)&&l.jsx("div",{className:"text-center py-8 bg-slate-50/50 rounded-[2rem] border border-dashed border-slate-200",children:l.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"  "})})]})]})]})},z_=({person:s,onUpdate:t})=>{const[n,i]=j.useState(""),[o,u]=j.useState(""),p=x=>{if(x.preventDefault(),!n.trim()||!o)return;const y={id:Math.random().toString(36).substr(2,9),label:n.trim(),date:o,showInCalendar:!0,repeatYearly:!0};t({...s,importantDates:[...s.importantDates||[],y]}),i(""),u("")},g=(x,y)=>{t({...s,importantDates:(s.importantDates||[]).map(b=>b.id===x?{...b,...y}:b)})},v=x=>{t({...s,importantDates:(s.importantDates||[]).filter(y=>y.id!==x)})};return l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[l.jsxs("section",{className:"bg-white border border-slate-100 rounded-2xl p-4 shadow-sm flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-50 text-orange-500 flex items-center justify-center text-xs",children:l.jsx("i",{className:"fa-solid fa-cake-candles"})}),l.jsx(ee,{variant:"tiny",className:"text-slate-900 font-black uppercase tracking-tight",children:" "})]}),l.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-end",children:[l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>t({...s,birthDateShowInCalendar:!s.birthDateShowInCalendar}),className:`w-7 h-7 rounded-lg transition-all flex items-center justify-center ${s.birthDateShowInCalendar!==!1?"bg-orange-100 text-orange-600":"bg-slate-50 text-slate-300"}`,title:"  ",children:l.jsx("i",{className:"fa-solid fa-calendar-check text-[10px]"})}),l.jsx("button",{onClick:()=>t({...s,birthDateRepeatYearly:!s.birthDateRepeatYearly}),className:`w-7 h-7 rounded-lg transition-all flex items-center justify-center ${s.birthDateRepeatYearly!==!1?"bg-indigo-100 text-indigo-600":"bg-slate-50 text-slate-300"}`,title:" ",children:l.jsx("i",{className:"fa-solid fa-arrows-rotate text-[10px]"})})]}),l.jsx("input",{type:"date",value:s.birthDate||"",onChange:x=>t({...s,birthDate:x.target.value}),className:"bg-slate-50 border border-slate-100 rounded-xl py-2 px-3 text-xs font-bold focus:ring-2 focus:ring-orange-100 outline-none transition-all cursor-pointer w-32"})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest ml-1",children:"   "}),l.jsxs("form",{onSubmit:p,className:"flex items-center gap-2 bg-slate-50 p-2 rounded-2xl border border-slate-100 shadow-inner",children:[l.jsx("input",{value:n,onChange:x=>i(x.target.value),placeholder:" ...",className:"flex-1 bg-white border border-slate-200 rounded-xl py-2 px-3 text-[11px] font-bold outline-none focus:ring-2 focus:ring-orange-200 shadow-sm"}),l.jsx("input",{type:"date",value:o,onChange:x=>u(x.target.value),className:"w-32 bg-white border border-slate-200 rounded-xl py-2 px-3 text-[11px] font-bold outline-none focus:ring-2 focus:ring-orange-200 shadow-sm cursor-pointer"}),l.jsx("button",{type:"submit",className:"w-10 h-9 bg-slate-900 text-white rounded-xl flex items-center justify-center hover:bg-orange-600 transition-all active:scale-95 shadow-md shrink-0",children:l.jsx("i",{className:"fa-solid fa-plus text-xs"})})]}),l.jsx("div",{className:"space-y-1.5",children:(s.importantDates||[]).sort((x,y)=>x.date.localeCompare(y.date)).map(x=>l.jsxs("div",{className:"group flex items-center justify-between bg-white px-4 py-2 rounded-xl border border-slate-50 shadow-sm hover:border-orange-200 transition-all",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-400"}),l.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[l.jsx("span",{className:"text-xs font-black text-slate-700 uppercase tracking-tight truncate",children:x.label}),l.jsx("span",{className:"text-[10px] font-bold text-slate-300 shrink-0",children:new Date(x.date).toLocaleDateString("uk-UA",{day:"numeric",month:"short"})})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>g(x.id,{showInCalendar:!x.showInCalendar}),className:`w-6 h-6 rounded-md transition-all flex items-center justify-center ${x.showInCalendar?"text-orange-500":"text-slate-200"}`,title:" ",children:l.jsx("i",{className:"fa-solid fa-calendar-day text-[9px]"})}),l.jsx("button",{onClick:()=>g(x.id,{repeatYearly:!x.repeatYearly}),className:`w-6 h-6 rounded-md transition-all flex items-center justify-center ${x.repeatYearly?"text-indigo-500":"text-slate-200"}`,title:"",children:l.jsx("i",{className:"fa-solid fa-arrows-rotate text-[9px]"})}),l.jsx("button",{onClick:()=>v(x.id),className:"opacity-0 group-hover:opacity-100 w-6 h-6 text-slate-200 hover:text-rose-500 transition-all flex items-center justify-center",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]})]},x.id))})]})]})},O_=({person:s,onUpdate:t,onFetchAvatar:n})=>{const{aiEnabled:i}=Le(),[o,u]=j.useState(null),[p,g]=j.useState(null),v=(S,_)=>{t({...s,socials:{...s.socials,[S]:_}})},x=S=>{if(!S)return"";let _=S.trim().replace(/^@/,"");return _.includes("/")&&(_=_.split("/").filter(Boolean).pop()||""),_},y=(S,_)=>{if(!_)return null;if(_.startsWith("http"))return _;const T=x(_);if(!T)return null;switch(S){case"telegram":return`https://t.me/${T}`;case"instagram":return`https://www.instagram.com/${T}/`;case"linkedin":return`https://www.linkedin.com/in/${T}/`;case"tiktok":return`https://www.tiktok.com/@${T}`;case"threads":return`https://www.threads.net/@${T}`;case"website":return _.match(/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+/)?`https://${_}`:_;default:return _}},b=async(S,_)=>{if(!(!i||o)){u(S);try{const T=await i_(S,_),A=(T.notes||[]).map(Y=>({id:Math.random().toString(36).substr(2,9),text:`[AI ${S.toUpperCase()}] ${Y}`,date:new Date().toISOString()})),M=(T.hobbies||[]).filter(Y=>!s.hobbies.includes(Y)),U=[...new Set([...s.hobbies,...M])],R={notes:[...A,...s.notes||[]],hobbies:U};!s.description&&T.summary&&(R.description=T.summary),!s.birthDate&&T.birthDate&&(R.birthDate=T.birthDate),t({...s,...R}),g({platform:S,addedNotes:A.map(Y=>Y.text),addedHobbies:M,summary:T.summary,birthDate:T.birthDate&&!s.birthDate?T.birthDate:null,newFieldCount:(R.birthDate?1:0)+(R.description?1:0)+M.length+A.length})}catch{alert("  .    .")}finally{u(null)}}},w=[{key:"telegram",icon:"fa-telegram",placeholder:"@username"},{key:"instagram",icon:"fa-instagram",placeholder:"username"},{key:"linkedin",icon:"fa-linkedin",placeholder:"id-name"},{key:"tiktok",icon:"fa-tiktok",placeholder:"username"},{key:"threads",icon:"fa-at",placeholder:"username"},{key:"website",icon:"fa-chrome",placeholder:"domain.com"}];return l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"bg-orange-50/50 p-6 rounded-[2rem] border border-orange-100 mb-6",children:[l.jsxs(ee,{variant:"tiny",className:"text-orange-600 font-black mb-2 uppercase flex items-center gap-2",children:[l.jsx("i",{className:"fa-solid fa-id-card-clip"}),"  "]}),l.jsx("p",{className:"text-[10px] text-orange-800/60 leading-relaxed font-bold",children:'  .  ""    , ""      .'})]}),l.jsx("div",{className:"space-y-3",children:w.map(({key:S,icon:_,placeholder:T})=>{var Y;const A=((Y=s.socials)==null?void 0:Y[S])||"",M=x(A),U=o===S,R=y(S,A);return l.jsxs("div",{className:"flex items-center gap-4 bg-white p-3 rounded-2xl border border-slate-100 focus-within:ring-2 focus-within:ring-orange-100 transition-all shadow-sm group",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400 group-focus-within:text-orange-500 transition-colors shrink-0 shadow-inner",children:l.jsx("i",{className:`fa-brands ${_}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"text-[7px] font-black uppercase text-slate-400 block mb-0.5 tracking-widest",children:S}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{value:A,onChange:q=>v(S,q.target.value),placeholder:T,className:"flex-1 bg-transparent border-none p-0 text-xs font-bold outline-none text-slate-700 placeholder:text-slate-200"}),M&&l.jsxs("div",{className:"flex gap-1",children:[R&&l.jsx("a",{href:R,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-lg bg-slate-50 text-slate-400 flex items-center justify-center hover:bg-slate-900 hover:text-white transition-all shadow-sm border border-slate-100",title:" ",children:l.jsx("i",{className:"fa-solid fa-arrow-up-right-from-square text-[9px]"})}),S!=="website"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>b(S,M),disabled:!i||U,className:`w-8 h-8 rounded-lg flex items-center justify-center transition-all shadow-sm border ${i?"bg-indigo-50 text-indigo-600 border-indigo-100/50 hover:bg-indigo-600 hover:text-white":"bg-slate-100 text-slate-300 border-slate-200 cursor-help"}`,title:i?` ${S}  `:"   ",children:l.jsx("i",{className:`fa-solid ${U?"fa-circle-notch animate-spin":"fa-wand-magic-sparkles"} text-[9px]`})}),l.jsx("button",{onClick:()=>n(M,S),className:"w-8 h-8 rounded-lg bg-orange-50 text-orange-600 flex items-center justify-center hover:bg-orange-600 hover:text-white transition-all shadow-sm border border-orange-100/50",title:`   ${S}`,children:l.jsx("i",{className:"fa-solid fa-arrows-rotate text-[9px]"})})]})]})]})]})]},S)})}),p&&l.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 tiktok-blur animate-in fade-in",children:[l.jsx("div",{className:"absolute inset-0 bg-slate-950/40",onClick:()=>g(null)}),l.jsxs(De,{className:"w-full max-w-md bg-white border-none shadow-2xl p-8 rounded-[2.5rem] relative z-10 animate-in zoom-in-95 duration-300",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-14 h-14 rounded-2xl bg-indigo-600 text-white flex items-center justify-center text-xl shadow-lg shadow-indigo-100",children:l.jsx("i",{className:"fa-solid fa-wand-magic-sparkles"})}),l.jsxs("div",{children:[l.jsx(ee,{variant:"h2",className:"text-xl",children:" "}),l.jsx(ee,{variant:"tiny",className:"text-slate-400 uppercase tracking-widest",children:p.platform})]})]}),l.jsxs(ft,{variant:"emerald",className:"h-6 font-black",children:["+",p.newFieldCount," INFO"]})]}),l.jsxs("div",{className:"space-y-5 mb-8 max-h-[50vh] overflow-y-auto custom-scrollbar pr-2",children:[p.birthDate&&l.jsxs("div",{className:"p-3 bg-orange-50 rounded-2xl border border-orange-100 flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-xl bg-white flex items-center justify-center text-orange-500 shadow-sm",children:l.jsx("i",{className:"fa-solid fa-cake-candles text-[10px]"})}),l.jsxs("div",{children:[l.jsx("span",{className:"text-[7px] font-black text-orange-400 uppercase block tracking-widest",children:" "}),l.jsx("span",{className:"text-xs font-black text-orange-700",children:p.birthDate})]})]}),p.addedHobbies.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase mb-2 block tracking-[0.2em]",children:" "}),l.jsx("div",{className:"flex flex-wrap gap-2",children:p.addedHobbies.map((S,_)=>l.jsxs(ft,{variant:"indigo",className:"text-[8px] lowercase font-bold",children:["#",S]},_))})]}),p.addedNotes.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase mb-2 block tracking-[0.2em]",children:" "}),l.jsx("div",{className:"space-y-2",children:p.addedNotes.map((S,_)=>l.jsxs("div",{className:"flex gap-3 p-3 bg-slate-50 rounded-xl text-[11px] font-bold text-slate-700 border border-slate-100 leading-tight",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500 shrink-0 mt-1"}),S.replace(`[AI ${p.platform.toUpperCase()}] `,"")]},_))})]}),p.summary&&l.jsxs("div",{className:"p-4 bg-indigo-50/30 rounded-2xl border border-indigo-100/50",children:[l.jsx("span",{className:"text-[7px] font-black text-indigo-400 uppercase block mb-1 tracking-widest",children:" "}),l.jsxs("p",{className:"text-[11px] font-medium text-indigo-900 leading-relaxed italic",children:['"',p.summary,'"']})]})]}),l.jsx(qe,{variant:"primary",className:"w-full py-4 rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl shadow-orange-100",onClick:()=>g(null),children:" "})]})]})]})},L_=({person:s,onAddInteraction:t,onDeleteInteraction:n})=>{const[i,o]=j.useState(""),[u,p]=j.useState("chat"),[g,v]=j.useState(30),x=j.useRef(null),y={chat:"fa-message",call:"fa-phone",meeting:"fa-users",coffee:"fa-coffee",walk:"fa-person-walking",event:"fa-calendar-star",other:"fa-circle-dot"},b=j.useMemo(()=>[...s.interactions||[]].sort((A,M)=>(M.date||0)-(A.date||0)),[s.interactions]),w=j.useMemo(()=>b.slice(0,g),[b,g]),S=T=>{i.trim()&&(t(i.trim(),T,u),o(""),setTimeout(()=>{x.current&&(x.current.scrollTop=0)},100))},_=T=>{T.key==="Enter"&&(T.preventDefault(),S(5))};return l.jsxs("div",{className:"flex flex-col h-full max-h-full overflow-hidden animate-in fade-in duration-300",children:[l.jsxs("div",{className:"bg-slate-50 p-3 md:p-4 rounded-2xl border border-slate-100 mb-4 shrink-0 shadow-inner",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 mb-2 block font-black uppercase text-[7px] tracking-widest",children:"   "}),l.jsx("div",{className:"flex gap-1 mb-3 overflow-x-auto no-scrollbar pb-1",children:Object.entries(y).map(([T,A])=>l.jsx("button",{onClick:()=>p(T),className:`w-7 h-7 md:w-8 md:h-8 rounded-lg flex items-center justify-center transition-all shrink-0 ${u===T?"bg-orange-600 text-white shadow-md":"bg-white text-slate-300 border border-slate-100 hover:border-orange-200 hover:text-orange-500"}`,title:T,children:l.jsx("i",{className:`fa-solid ${A} text-[9px] md:text-[10px]`})},T))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{value:i,onChange:T=>o(T.target.value),onKeyDown:_,placeholder:" ...",className:"flex-1 bg-white text-slate-800 rounded-xl px-4 py-2 text-[11px] md:text-xs font-bold outline-none border border-slate-100 focus:border-orange-500 shadow-sm"}),l.jsxs("div",{className:"flex gap-1 shrink-0",children:[l.jsx("button",{onClick:()=>S(5),disabled:!i.trim(),className:"w-8 h-8 md:w-10 md:h-10 bg-emerald-500 text-white rounded-lg flex items-center justify-center shadow-md disabled:opacity-30 transition-all hover:bg-emerald-600 active:scale-95",title:"  (+5 HP)",children:l.jsx("i",{className:"fa-solid fa-plus text-xs"})}),l.jsx("button",{onClick:()=>S(-5),disabled:!i.trim(),className:"w-8 h-8 md:w-10 md:h-10 bg-rose-500 text-white rounded-lg flex items-center justify-center shadow-md disabled:opacity-30 transition-all hover:bg-rose-600 active:scale-95",title:"  (-5 HP)",children:l.jsx("i",{className:"fa-solid fa-minus text-xs"})})]})]})]}),l.jsx("div",{className:"flex-1 min-h-0 bg-white rounded-2xl border border-slate-50 overflow-hidden flex flex-col",children:l.jsxs("div",{ref:x,className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:[w.length>0?w.map(T=>{const A=T.summary.includes("[ +"),M=T.summary.includes("[ -"),U=T.summary.split(" [")[0],R=new Date(T.date);return l.jsxs("div",{className:"group relative flex items-start gap-3 p-3 hover:bg-slate-50 rounded-xl transition-all border border-transparent hover:border-slate-100 animate-in slide-in-from-top-1",children:[l.jsx("div",{className:"shrink-0 pt-0.5",children:l.jsx("div",{className:`w-7 h-7 md:w-8 md:h-8 rounded-lg flex items-center justify-center shadow-sm border border-white ${A?"bg-emerald-500":M?"bg-rose-500":"bg-slate-400"} text-white`,children:l.jsx("i",{className:`fa-solid ${y[T.type]||"fa-circle-dot"} text-[9px] md:text-xs`})})}),l.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[l.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-slate-800 uppercase tracking-tight",children:R.toLocaleDateString("uk-UA",{day:"numeric",month:"short"})}),l.jsx("span",{className:"text-[8px] md:text-[9px] font-black text-slate-300 uppercase",children:R.toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"})})]}),l.jsx("button",{onClick:Y=>{Y.stopPropagation(),n(T.id)},className:"text-slate-200 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100 p-1",children:l.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]}),l.jsx("p",{className:"text-[11px] md:text-xs font-bold text-slate-600 leading-snug",children:U}),l.jsxs("div",{className:"mt-1.5 flex gap-1",children:[A&&l.jsx("span",{className:"text-[6px] md:text-[7px] font-black text-emerald-500 bg-emerald-50 px-1.5 py-0.5 rounded border border-emerald-100 uppercase tracking-tighter",children:"+ HP"}),M&&l.jsx("span",{className:"text-[6px] md:text-[7px] font-black text-rose-500 bg-rose-50 px-1.5 py-0.5 rounded border border-rose-100 uppercase tracking-tighter",children:"- HP"})]})]})]},T.id)}):l.jsxs("div",{className:"py-20 text-center opacity-10 flex flex-col items-center",children:[l.jsx("i",{className:"fa-solid fa-clock-rotate-left text-5xl mb-4"}),l.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"  "})]}),g<b.length&&l.jsx("button",{onClick:()=>v(T=>T+30),className:"w-full py-4 text-[8px] font-black text-slate-300 uppercase tracking-widest hover:text-orange-500 transition-colors",children:" ..."})]})})]})},V_=({person:s,tasks:t,onAddTask:n,onToggleTask:i})=>{const[o,u]=j.useState(new Date().toISOString().split("T")[0]),p=[{title:"",icon:"fa-coffee"},{title:"",icon:"fa-phone"},{title:"",icon:"fa-handshake"},{title:"",icon:"fa-cake-candles"}],g=t.filter(v=>v.personId===s.id&&!v.isDeleted);return l.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[l.jsxs("section",{className:"space-y-4",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest",children:" "}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:p.map(v=>l.jsxs("button",{onClick:()=>n(`${v.title}  ${s.name}`,new Date(o).getTime()),className:"p-3 bg-slate-50 rounded-2xl border border-slate-100 hover:border-orange-200 transition-all flex flex-col items-center gap-1",children:[l.jsx("i",{className:`fa-solid ${v.icon} text-orange-500 text-xs`}),l.jsx("span",{className:"text-[8px] font-black uppercase",children:v.title})]},v.title))}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[l.jsx("input",{type:"date",value:o,onChange:v=>u(v.target.value),className:"bg-slate-50 border border-slate-100 rounded-xl px-3 py-2 text-[10px] font-bold outline-none focus:ring-2 focus:ring-orange-100"}),l.jsx("input",{onKeyDown:v=>{v.key==="Enter"&&v.target.value&&(n(v.target.value,new Date(o).getTime()),v.target.value="")},placeholder:" ...",className:"flex-1 bg-slate-50 border border-slate-100 rounded-xl px-4 py-2 text-xs font-bold focus:ring-2 focus:ring-orange-100 outline-none"})]})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 font-black uppercase",children:" "}),g.map(v=>l.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-3 shadow-sm hover:border-orange-200 transition-all",children:[l.jsx("button",{onClick:()=>i(v),className:`w-5 h-5 rounded-lg border flex items-center justify-center shrink-0 transition-all ${v.status===me.DONE?"bg-emerald-500 border-emerald-500 text-white":"bg-white border-slate-200 hover:border-orange-400"}`,children:v.status===me.DONE&&l.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:`text-xs font-bold block truncate ${v.status===me.DONE?"line-through text-slate-300":"text-slate-700"}`,children:v.title}),v.scheduledDate&&l.jsx("span",{className:"text-[7px] font-black text-orange-500 uppercase tracking-widest",children:new Date(v.scheduledDate).toLocaleDateString("uk-UA")})]})]},v.id))]})]})},H_=({person:s,aiEnabled:t,isAnalyzing:n,onAnalyze:i})=>{var o;return l.jsx("div",{className:"animate-in fade-in duration-500 space-y-6",children:t?l.jsxs("section",{className:"bg-slate-950 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/10 blur-[50px]"}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs(ee,{variant:"h2",className:"text-xl flex items-center gap-3 font-black uppercase text-white tracking-tight",children:[l.jsx("i",{className:"fa-solid fa-sparkles text-orange-500"})," AI "]}),l.jsx("button",{onClick:i,disabled:n,className:`w-10 h-10 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center transition-all hover:bg-white/10 ${n?"animate-spin":""}`,children:l.jsx("i",{className:"fa-solid fa-rotate text-xs"})})]}),s.aiPortrait?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"p-5 bg-white/5 rounded-3xl border border-white/5 shadow-inner",children:[l.jsx(ee,{variant:"tiny",className:"text-orange-500 mb-3 block font-black uppercase tracking-widest text-[8px]",children:" "}),l.jsxs("p",{className:"text-sm font-medium leading-relaxed text-slate-300 italic",children:['"',s.aiPortrait.summary,'"']})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest text-[8px]",children:" :"}),l.jsx("div",{className:"space-y-2",children:(o=s.aiPortrait.topics)==null?void 0:o.map((u,p)=>l.jsxs("div",{className:"p-4 bg-white/5 border border-white/5 rounded-2xl text-[11px] font-bold text-slate-300 flex items-center gap-4 group/item hover:bg-white/10 transition-colors",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-500 group-hover/item:scale-150 transition-transform"})," ",u]},p))})]})]}):l.jsxs("div",{className:"py-20 text-center space-y-6 flex flex-col items-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-[2rem] bg-white/5 border border-white/10 flex items-center justify-center text-4xl opacity-20",children:l.jsx("i",{className:"fa-solid fa-robot"})}),l.jsx("p",{className:"text-sm font-bold text-slate-400 max-w-xs",children:"      ,    ."}),l.jsx(qe,{variant:"primary",className:"w-full py-4 rounded-2xl font-black uppercase tracking-widest text-[10px] shadow-lg shadow-orange-500/20",onClick:i,disabled:n,children:" "})]})]})]}):l.jsxs(De,{className:"bg-orange-50 border-orange-200 p-8 text-center flex flex-col items-center",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-orange-100 text-orange-500 flex items-center justify-center text-2xl mb-4 shadow-inner",children:l.jsx("i",{className:"fa-solid fa-lock"})}),l.jsx(ee,{variant:"h3",className:"mb-2 text-orange-900",children:"- "}),l.jsx("p",{className:"text-xs text-orange-600/70 leading-relaxed max-w-xs",children:"    ,  Gemini    ."})]})})},B_=({personId:s,onClose:t,initialTab:n="dossier"})=>{const{people:i,updatePerson:o,character:u,aiEnabled:p,tasks:g,addTask:v,toggleTaskStatus:x,addInteraction:y,deleteInteraction:b,relationshipTypes:w,addRelationshipType:S}=Le(),_=i.find(D=>D.id===s),[T,A]=j.useState(n),[M,U]=j.useState(!1);if(j.useEffect(()=>{A(n)},[n]),!_)return null;const R=D=>o({..._,...D}),Y=(D,I,E)=>{y(_.id,{summary:`${D} [ ${I>0?"+":""}${I}]`,type:E,date:Date.now(),emotion:I>0?"joy":"neutral"});const O=_.rating||0;R({rating:Math.max(0,Math.min(100,O+I))})},q=(D,I)=>{let E=D||prompt("   email:");if(E){const O=E.replace("@","").trim(),L=`https://unavatar.io/${O}?fallback=https://api.dicebear.com/7.x/avataaars/svg?seed=${O}`;R({avatar:L})}},te=async()=>{if(p){U(!0);try{const D=await s_(_,u);R({aiPortrait:{...D,updatedAt:Date.now()}}),A("ai")}catch{alert("  .")}finally{U(!1)}}};return l.jsxs("div",{className:"fixed top-0 right-0 h-full w-full md:w-[580px] bg-white border-l border-slate-100 z-[110] shadow-[-20px_0_60px_rgba(0,0,0,0.05)] flex flex-col overflow-hidden animate-in slide-in-from-right duration-300",children:[l.jsxs("header",{className:"p-3 md:p-8 border-b border-slate-50 flex justify-between items-start shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3 md:gap-5 min-w-0",children:[l.jsxs("div",{className:"w-12 h-12 md:w-20 md:h-20 rounded-xl md:rounded-[2rem] bg-slate-50 ring-2 md:ring-4 ring-orange-50 overflow-hidden shadow-lg shrink-0 group relative",children:[l.jsx("img",{src:_.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${_.name}`,className:"w-full h-full object-cover transition-transform group-hover:scale-110"}),l.jsx("button",{onClick:()=>q(),className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx("i",{className:"fa-solid fa-sync text-white text-xs"})})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("input",{className:"text-base md:text-xl font-black text-slate-900 bg-transparent border-none p-0 focus:ring-0 w-full mb-0.5 md:mb-1 truncate",value:_.name,onChange:D=>R({name:D.target.value})}),l.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[l.jsx(ft,{variant:"orange",className:"text-[6px] md:text-[8px] uppercase",children:_.status}),l.jsxs(ft,{variant:"yellow",className:"text-[6px] md:text-[8px] uppercase",children:["Karma ",_.rating||0]})]})]})]}),l.jsx("button",{onClick:t,className:"w-8 h-8 md:w-10 md:h-10 rounded-lg md:rounded-2xl bg-slate-50 flex items-center justify-center text-slate-300 hover:text-slate-900 transition-all shrink-0",children:l.jsx("i",{className:"fa-solid fa-xmark text-xs md:text-sm"})})]}),l.jsx("div",{className:"flex border-b border-slate-50 px-1 md:px-4 shrink-0 overflow-x-auto no-scrollbar bg-white sticky top-0 z-30",children:["dossier","dates","skills","vcard","timeline","tasks","ai"].map(D=>l.jsxs("button",{onClick:()=>A(D),className:`flex-none md:flex-1 min-w-[65px] md:min-w-[80px] px-3 py-3 md:py-4 text-[7px] md:text-[9px] font-black uppercase tracking-widest transition-all relative ${T===D?"text-orange-600":"text-slate-400"}`,children:[D==="dossier"?"":D==="dates"?"":D==="skills"?"":D==="vcard"?"":D==="timeline"?"":D==="tasks"?"":"",T===D&&l.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-600"})]},D))}),l.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-8 bg-white",children:[T==="dossier"&&l.jsx(M_,{person:_,onUpdate:R,onAddInteraction:Y}),T==="dates"&&l.jsx(z_,{person:_,onUpdate:R}),T==="skills"&&l.jsx(U_,{person:_,onUpdate:R,onAddHobby:D=>R({hobbies:[..._.hobbies,D]}),onAddSkill:D=>R({tags:[..._.tags,D]}),relationshipTypes:w,onAddRelType:S}),T==="vcard"&&l.jsx(O_,{person:_,onUpdate:R,onFetchAvatar:q}),T==="timeline"&&l.jsx(L_,{person:_,onAddInteraction:Y,onDeleteInteraction:D=>b(_.id,D)}),T==="tasks"&&l.jsx(V_,{person:_,tasks:g,onAddTask:(D,I)=>v(D,"tasks",void 0,"actions",!0,I,_.id,me.NEXT_ACTION),onToggleTask:x}),T==="ai"&&l.jsx(H_,{person:_,aiEnabled:p,isAnalyzing:M,onAnalyze:te})]}),l.jsx("footer",{className:"p-4 md:p-6 border-t border-slate-50 bg-slate-50/30 flex gap-3 md:gap-4 shrink-0 mb-safe",children:l.jsx(qe,{variant:"white",onClick:t,className:"flex-1 rounded-xl md:rounded-2xl py-2.5 md:py-4 font-black uppercase text-[7px] md:text-[10px] tracking-widest shadow-sm",children:""})})]})},G_=()=>{const{people:s,addPerson:t,relationshipTypes:n,addRelationshipType:i,tasks:o,toggleTaskStatus:u}=Le(),[p,g]=j.useState(""),[v,x]=j.useState("all"),[y,b]=j.useState("grid"),[w,S]=j.useState(null),[_,T]=j.useState("dossier"),[A,M]=j.useState({active:!1,status:"acquaintance"}),[U,R]=j.useState(""),[Y,q]=j.useState(!1),[te,D]=j.useState("");j.useRef(null);const{detailsWidth:I,startResizing:E,isResizing:O}=Gn(280,450),L=$=>({friend:"",colleague:"",family:"'",mentor:"",acquaintance:""})[$]||$.charAt(0).toUpperCase()+$.slice(1),V=$=>{if($.loop==="none"||!$.lastInteractionAt)return{label:"",color:"slate",icon:"fa-seedling",urgent:!1};const ue=(Date.now()-$.lastInteractionAt)/(1e3*60*60*24),P={week:7,month:30,quarter:90,year:365,none:9999}[$.loop]||30;return ue>P*1.5?{label:"",color:"rose",icon:"fa-skull-crossbones",urgent:!0,level:0}:ue>P?{label:"",color:"amber",icon:"fa-wind",urgent:!0,level:1}:{label:"",color:"emerald",icon:"fa-fire",urgent:!1,level:2}},K=j.useMemo(()=>{const $={all:s.length};return n.forEach(ue=>{$[ue]=s.filter(k=>k.status===ue).length}),$},[s,n]),G=j.useMemo(()=>s.filter($=>{const ue=$.name.toLowerCase().includes(p.toLowerCase())||$.tags.some(P=>P.toLowerCase().includes(p.toLowerCase())),k=v==="all"||$.status===v;return ue&&k}).sort(($,ue)=>(ue.rating||0)-($.rating||0)),[s,p,v]),fe=j.useMemo(()=>{const $=s.reduce((P,se)=>P+(se.rating||0),0),ue=s.filter(P=>V(P).urgent).length;return{avgKarma:s.length?Math.round($/s.length):0,urgentCount:ue}},[s]),F=j.useMemo(()=>o.filter($=>!$.isDeleted&&$.status!==me.DONE&&$.personId).slice(0,5),[o]),H=($,ue)=>{T(ue),S($)},pe=$=>{if($==null||$.preventDefault(),U.trim()){const ue=A.status==="all"?"acquaintance":A.status,k=t(U.trim(),ue);R(""),M({active:!1,status:"acquaintance"}),S(k),T("dossier")}};return l.jsxs("div",{className:"h-screen flex flex-col md:flex-row bg-main overflow-hidden relative text-main",children:[l.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full",children:[l.jsxs("header",{className:"p-4 md:p-8 bg-card border-b border-theme z-20 flex flex-col md:flex-row justify-between items-start md:items-center gap-3 md:gap-4 shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[l.jsx("div",{className:"w-8 h-8 md:w-12 md:h-12 rounded-lg md:rounded-2xl bg-primary flex items-center justify-center text-white shadow-lg",children:l.jsx("i",{className:"fa-solid fa-users-between-lines text-xs md:text-base"})}),l.jsxs("div",{children:[l.jsx(ee,{variant:"h1",className:"text-lg md:text-2xl leading-none mb-0.5",children:""}),l.jsx(ee,{variant:"tiny",className:"text-muted uppercase tracking-widest text-[7px] md:text-[10px]",children:" "})]})]}),l.jsxs("div",{className:"flex items-center gap-1.5 md:gap-3 w-full md:w-auto",children:[l.jsxs("div",{className:"relative flex-1 md:w-64",children:[l.jsx("i",{className:"fa-solid fa-magnifying-glass absolute left-3 md:left-4 top-1/2 -translate-y-1/2 text-muted/50 text-[9px] md:text-[10px]"}),l.jsx("input",{value:p,onChange:$=>g($.target.value),placeholder:"...",className:"w-full bg-main border border-theme rounded-xl py-2 md:py-3 pl-8 md:pl-10 pr-3 text-[11px] md:text-sm font-bold focus:ring-2 focus:ring-primary/20 outline-none text-main"})]}),l.jsxs("div",{className:"flex bg-main p-0.5 md:p-1 rounded-lg md:rounded-xl shrink-0 border border-theme",children:[l.jsx("button",{onClick:()=>b("grid"),className:`w-7 h-7 md:w-10 md:h-10 rounded-md md:rounded-lg flex items-center justify-center transition-all ${y==="grid"?"bg-card shadow-sm text-primary":"text-muted"}`,children:l.jsx("i",{className:"fa-solid fa-grip text-[10px] md:text-xs"})}),l.jsx("button",{onClick:()=>b("list"),className:`w-7 h-7 md:w-10 md:h-10 rounded-md md:rounded-lg flex items-center justify-center transition-all ${y==="list"?"bg-card shadow-sm text-primary":"text-muted"}`,children:l.jsx("i",{className:"fa-solid fa-list text-[10px] md:text-xs"})})]})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 md:p-6",children:l.jsxs("div",{className:"max-w-6xl mx-auto pb-32",children:[l.jsxs("div",{className:"flex items-center gap-1.5 overflow-x-auto no-scrollbar mb-4 md:mb-8 pb-1 -mx-3 px-3 md:mx-0 md:px-0",children:[l.jsxs("button",{onClick:()=>x("all"),className:`px-4 py-2 md:px-5 md:py-2.5 rounded-xl text-[8px] md:text-[10px] font-black uppercase tracking-widest transition-all shrink-0 border flex items-center gap-1.5 ${v==="all"?"bg-primary text-white border-primary shadow-md":"bg-card text-muted border-theme"}`,children:[" ",l.jsxs("span",{className:`text-[7px] md:text-[8px] opacity-40 ${v==="all"?"text-white":"text-muted"}`,children:["(",K.all,")"]})]}),n.map($=>l.jsxs("button",{onClick:()=>x($),className:`px-4 py-2 md:px-5 md:py-2.5 rounded-xl text-[8px] md:text-[10px] font-black uppercase tracking-widest transition-all shrink-0 border flex items-center gap-1.5 ${v===$?"bg-primary text-white border-primary shadow-md":"bg-card text-muted border-theme"}`,children:[L($)," ",l.jsxs("span",{className:`text-[7px] md:text-[8px] opacity-40 ${v===$?"text-white":"text-muted"}`,children:["(",K[$]||0,")"]})]},$))]}),y==="grid"?l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-3 md:gap-5",children:[G.map($=>{const ue=V($),k=o.filter(se=>!se.isDeleted&&se.status!==me.DONE&&se.personId===$.id).length,P=Math.min(100,Math.max(0,$.rating||0));return l.jsxs(De,{padding:"none",className:"bg-card border-theme shadow-sm hover:shadow-xl transition-all group overflow-hidden flex flex-col w-full",children:[l.jsxs("div",{onClick:()=>H($.id,"dossier"),className:"p-4 md:p-5 flex gap-3 md:gap-4 items-start cursor-pointer",children:[l.jsxs("div",{className:"relative shrink-0",children:[l.jsx("img",{src:$.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${$.name}`,className:"w-12 h-12 md:w-16 md:h-16 rounded-xl md:rounded-[1.5rem] bg-main border border-theme shadow-sm object-cover"}),ue.urgent&&l.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 md:w-4 md:h-4 bg-rose-500 border-2 border-sidebar rounded-full animate-pulse"})]}),l.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[l.jsxs("div",{className:"flex justify-between items-start mb-0.5 md:mb-1",children:[l.jsx(ee,{variant:"h3",className:"text-[12px] md:text-sm font-black uppercase truncate text-main leading-tight",children:$.name}),k>0&&l.jsxs(ft,{variant:"indigo",className:"text-[6px] md:text-[7px] py-0 px-1 shrink-0",children:["Q x",k]})]}),l.jsxs("div",{className:"mb-1 md:mb-2",children:[l.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[l.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase text-muted tracking-tighter",children:"Karma"}),l.jsx("span",{className:"text-[7px] md:text-[8px] font-black text-muted",children:$.rating||0})]}),l.jsx("div",{className:"h-0.5 md:h-1.5 bg-main rounded-full overflow-hidden flex shadow-inner",children:l.jsx("div",{className:`h-full transition-all duration-1000 ${P>70?"bg-emerald-500":P>30?"bg-primary":"bg-rose-500"}`,style:{width:`${P}%`}})})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(ft,{variant:"slate",className:"text-[6px] md:text-[7px] px-1 py-0",children:L($.status)}),l.jsx("span",{className:"text-[7px] md:text-[8px] font-black text-muted uppercase tracking-tighter",children:ue.label})]})]})]}),l.jsx("div",{className:"px-4 md:px-5 pb-2 md:pb-4 flex flex-wrap gap-1 md:gap-1.5 overflow-hidden h-4 md:h-6",children:$.hobbies.slice(0,3).map(se=>l.jsxs("span",{className:"text-[7px] md:text-[8px] font-bold text-muted bg-main px-1.5 md:px-2 py-0.5 rounded-full border border-theme truncate max-w-[70px] md:max-w-[80px]",children:["#",se]},se))}),l.jsxs("div",{className:"mt-auto border-t border-theme bg-main/30 p-1 md:p-2 grid grid-cols-4 gap-px text-center",children:[l.jsxs("button",{onClick:()=>H($.id,"dossier"),className:"flex flex-col items-center justify-center py-1 md:py-2 rounded-lg hover:bg-card hover:text-primary text-muted transition-all",children:[l.jsx("i",{className:"fa-solid fa-id-card text-[10px] md:text-[11px] mb-0.5"}),l.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase",children:""})]}),l.jsxs("button",{onClick:()=>H($.id,"dates"),className:"flex flex-col items-center justify-center py-1 md:py-2 rounded-lg hover:bg-card hover:text-primary text-muted transition-all",children:[l.jsx("i",{className:"fa-solid fa-calendar-day text-[10px] md:text-[11px] mb-0.5"}),l.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase",children:""})]}),l.jsxs("button",{onClick:()=>H($.id,"timeline"),className:"flex flex-col items-center justify-center py-1 md:py-2 rounded-lg hover:bg-card hover:text-primary text-muted transition-all",children:[l.jsx("i",{className:"fa-solid fa-clock-rotate-left text-[10px] md:text-[11px] mb-0.5"}),l.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase",children:""})]}),l.jsxs("button",{onClick:()=>H($.id,"tasks"),className:"flex flex-col items-center justify-center py-1 md:py-2 rounded-lg hover:bg-card hover:text-primary text-muted transition-all",children:[l.jsx("i",{className:"fa-solid fa-bolt text-[10px] md:text-[11px] mb-0.5"}),l.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase",children:""})]})]})]},$.id)}),l.jsxs("button",{onClick:()=>M({active:!0,status:v==="all"?"acquaintance":v}),className:"group border-2 border-dashed border-theme rounded-2xl md:rounded-[2rem] p-6 md:p-8 flex flex-col items-center justify-center text-muted hover:border-primary/50 hover:text-primary hover:bg-card transition-all min-h-[120px] md:min-h-[160px] w-full",children:[l.jsx("i",{className:"fa-solid fa-user-plus text-xl md:text-2xl mb-2 md:mb-3 group-hover:scale-110 transition-transform"}),l.jsx("span",{className:"text-[8px] md:text-[10px] font-black uppercase tracking-widest",children:" "})]})]}):l.jsx("div",{className:"bg-card rounded-xl md:rounded-3xl border border-theme overflow-hidden shadow-sm",children:l.jsx("div",{className:"overflow-x-auto no-scrollbar",children:l.jsxs("table",{className:"w-full text-left min-w-[320px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-main/50 border-b border-theme",children:[l.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-[8px] md:text-[9px] font-black uppercase text-muted tracking-widest",children:""}),l.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-[8px] md:text-[9px] font-black uppercase text-muted tracking-widest hidden sm:table-cell",children:"HP"}),l.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-[8px] md:text-[9px] font-black uppercase text-muted tracking-widest",children:""}),l.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4"})]})}),l.jsx("tbody",{className:"divide-y divide-theme/30",children:G.map($=>{const ue=Math.min(100,Math.max(0,$.rating||0));return l.jsxs("tr",{onClick:()=>H($.id,"dossier"),className:"group hover:bg-main/30 transition-colors cursor-pointer",children:[l.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4",children:l.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.jsx("img",{src:$.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${$.name}`,className:"w-8 h-8 md:w-8 md:h-8 rounded-full bg-main border border-theme"}),l.jsx("span",{className:"text-[11px] md:text-[13px] font-black text-main truncate max-w-[100px] md:max-w-none",children:$.name})]})}),l.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4 w-24 md:w-48 hidden sm:table-cell",children:l.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.jsx("div",{className:"flex-1 h-1 md:h-1.5 bg-main rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${ue>70?"bg-emerald-500":ue>30?"bg-primary":"bg-rose-500"}`,style:{width:`${ue}%`}})}),l.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-muted",children:$.rating||0})]})}),l.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4",children:l.jsx(ft,{variant:"slate",className:"text-[6px] md:text-[8px] py-0",children:L($.status)})}),l.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4 text-right",children:l.jsxs("div",{className:"flex justify-end gap-1.5 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:k=>{k.stopPropagation(),H($.id,"timeline")},className:"w-7 h-7 md:w-8 md:h-8 rounded-md bg-card border border-theme text-muted hover:text-primary flex items-center justify-center",children:l.jsx("i",{className:"fa-solid fa-clock-rotate-left text-[10px]"})}),l.jsx("button",{onClick:k=>{k.stopPropagation(),H($.id,"tasks")},className:"w-7 h-7 md:w-8 md:h-8 rounded-md bg-card border border-theme text-muted hover:text-primary flex items-center justify-center",children:l.jsx("i",{className:"fa-solid fa-bolt text-[10px]"})})]})})]},$.id)})})]})})})]})})]}),l.jsxs("aside",{style:{width:window.innerWidth<1024?"100%":I},className:`${window.innerWidth<1024?"border-t md:border-t-0":"border-l"} bg-sidebar border-theme shrink-0 relative z-30 flex flex-col`,children:[window.innerWidth>=1024&&l.jsx("div",{onMouseDown:E,className:`absolute left-0 top-0 bottom-0 w-[1.5px] cursor-col-resize hover:bg-primary transition-colors z-50 ${O?"bg-primary":"bg-theme"}`}),l.jsxs("header",{className:"p-5 md:p-6 border-b border-theme shrink-0",children:[l.jsx(ee,{variant:"tiny",className:"text-muted font-black uppercase tracking-widest mb-1",children:" "}),l.jsx(ee,{variant:"h2",className:"text-base md:text-lg",children:"Social Capital"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 md:p-6 space-y-6 md:space-y-8",children:[l.jsxs("section",{className:"grid grid-cols-2 lg:grid-cols-1 gap-3",children:[l.jsxs("div",{className:"bg-primary p-4 md:p-5 text-white rounded-[1.5rem] md:rounded-[2rem] shadow-xl relative overflow-hidden group",children:[l.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-white/10 blur-2xl group-hover:bg-white/20 transition-all"}),l.jsx(ee,{variant:"tiny",className:"text-white opacity-60 font-black mb-1 uppercase text-[7px]",children:" Karma"}),l.jsx("div",{className:"text-2xl md:text-3xl font-black",children:fe.avgKarma}),l.jsx("div",{className:"mt-2 md:mt-3 h-1 bg-white/20 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-white shadow-[0_0_8px_white]",style:{width:`${fe.avgKarma}%`}})})]}),l.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-[1.5rem] md:rounded-[2rem] p-4 md:p-5 text-rose-500",children:[l.jsx(ee,{variant:"tiny",className:"text-rose-500 opacity-60 font-black mb-1 uppercase text-[7px]",children:" "}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-2xl md:text-3xl font-black",children:fe.urgentCount}),l.jsx("i",{className:"fa-solid fa-heart-pulse text-rose-500 text-lg md:text-xl animate-pulse"})]})]})]}),l.jsxs("section",{className:"space-y-3 md:space-y-4",children:[l.jsxs(ee,{variant:"tiny",className:"text-main font-black uppercase tracking-widest flex items-center gap-2 text-[9px]",children:[l.jsx("i",{className:"fa-solid fa-bolt-lightning text-primary"}),"  '"]}),l.jsx("div",{className:"space-y-2",children:F.map($=>{const ue=s.find(k=>k.id===$.personId);return l.jsx("div",{className:"p-3 bg-main border border-theme rounded-2xl hover:bg-card hover:border-primary transition-all group cursor-pointer shadow-sm",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("button",{onClick:()=>u($),className:"w-5 h-5 rounded-lg border-2 border-theme mt-0.5 flex items-center justify-center bg-sidebar group-hover:border-primary",children:l.jsx("i",{className:"fa-solid fa-check text-[9px] text-transparent group-hover:text-primary"})}),l.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>ue&&H(ue.id,"tasks"),children:[l.jsx("div",{className:"text-[10px] md:text-[11px] font-black text-main truncate mb-1",children:$.title}),ue&&l.jsxs("span",{className:"text-[7px] md:text-[8px] font-black text-primary uppercase",children:[" ",ue.name]})]})]})},$.id)})})]})]})]}),A.active&&l.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 tiktok-blur",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>M({active:!1,status:"acquaintance"})}),l.jsxs(De,{className:"w-full max-w-sm relative z-10 shadow-2xl p-6 md:p-8 rounded-[2rem] md:rounded-[2.5rem] bg-card border-theme",children:[l.jsx(ee,{variant:"h2",className:"mb-4 md:mb-6 text-lg md:text-xl",children:" "}),l.jsxs("form",{onSubmit:pe,className:"space-y-4 md:space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[9px] md:text-[10px] font-black uppercase text-muted tracking-widest mb-1.5 md:mb-2 block",children:" / '"}),l.jsx("input",{autoFocus:!0,value:U,onChange:$=>R($.target.value),placeholder:"...",className:"w-full bg-main border border-theme rounded-xl py-3 md:py-4 px-4 md:px-5 text-sm font-bold focus:ring-4 focus:ring-primary/10 outline-none transition-all text-main"})]}),l.jsxs("div",{className:"flex gap-3 md:gap-4",children:[l.jsx(qe,{variant:"white",className:"flex-1 rounded-xl md:rounded-2xl py-3",onClick:()=>M({active:!1,status:"acquaintance"}),children:""}),l.jsx(qe,{type:"submit",className:"flex-[2] rounded-xl md:rounded-2xl shadow-lg py-3",children:""})]})]})]})]}),w&&l.jsx(B_,{personId:w,onClose:()=>S(null),initialTab:_})]})},q_=()=>{const{character:s,updateCharacter:t,tasks:n,cycle:i,diary:o,hobbies:u}=Le(),[p,g]=j.useState("status"),v=j.useMemo(()=>({done:n.filter(b=>b.status===me.DONE&&!b.isDeleted).length}),[n]),x=[{key:"health",label:"'",icon:"fa-heart-pulse",color:"#f43f5e"},{key:"career",label:"'",icon:"fa-briefcase",color:"#6366f1"},{key:"finance",label:"",icon:"fa-coins",color:"#10b981"},{key:"education",label:"",icon:"fa-book-open-reader",color:"#f59e0b"},{key:"relationships",label:"",icon:"fa-people-group",color:"#ec4899"},{key:"rest",label:"",icon:"fa-couch",color:"#06b6d4"}],y=(b,w,S)=>l.jsxs("button",{onClick:()=>g(b),className:`flex items-center gap-2 px-6 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${p===b?"bg-slate-900 text-white shadow-xl":"text-slate-400 hover:bg-slate-100"}`,children:[l.jsx("i",{className:`fa-solid ${S}`}),w]});return l.jsxs("div",{className:"min-h-screen bg-[var(--bg-main)] pb-32",children:[l.jsx("div",{className:"bg-white border-b border-slate-100 px-6 py-8 relative overflow-hidden",children:l.jsxs("div",{className:"max-w-5xl mx-auto flex flex-col md:flex-row items-center gap-8 relative z-10",children:[l.jsx("div",{className:"w-28 h-28 md:w-32 md:h-32 rounded-[2.5rem] bg-white p-1 shadow-2xl ring-4 ring-orange-50 relative overflow-hidden",children:l.jsx("img",{src:s.avatarUrl,alt:"Hero",className:"w-full h-full object-cover rounded-[2rem] bg-slate-50"})}),l.jsxs("div",{className:"flex-1 text-center md:text-left",children:[l.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-3 mb-2",children:[l.jsx(ee,{variant:"h1",className:"text-3xl",children:s.name}),l.jsxs(ft,{variant:"orange",children:["LVL ",s.level]})]}),l.jsx(ee,{variant:"tiny",className:"text-slate-400 font-black tracking-widest uppercase",children:s.role||s.archetype}),l.jsxs("div",{className:"flex gap-4 mt-4 overflow-x-auto no-scrollbar pb-2",children:[y("status","","fa-bolt-lightning"),y("identity","","fa-user-gear"),y("evolution","","fa-chart-line")]})]})]})}),l.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-10",children:[p==="status"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 animate-in fade-in duration-300",children:[l.jsxs("section",{className:"space-y-6",children:[l.jsx(ee,{variant:"h2",className:"text-xl font-black",children:" "}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs(De,{padding:"md",className:"bg-rose-50/50 border-rose-100",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-[10px] font-black uppercase text-rose-600",children:""}),l.jsxs("span",{className:"text-lg font-black text-rose-600",children:[s.energy,"%"]})]}),l.jsx("div",{className:"h-1.5 bg-rose-100 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-rose-500",style:{width:`${s.energy}%`}})})]}),l.jsxs(De,{padding:"md",className:"bg-indigo-50/50 border-indigo-100",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-[10px] font-black uppercase text-indigo-600",children:""}),l.jsxs("span",{className:"text-lg font-black text-indigo-600",children:[s.focus,"%"]})]}),l.jsx("div",{className:"h-1.5 bg-indigo-100 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-indigo-500",style:{width:`${s.focus}%`}})})]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:x.map(b=>{const w=s.stats[b.key]||0;return l.jsxs(De,{padding:"sm",className:"border-slate-100 flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white",style:{backgroundColor:b.color},children:l.jsx("i",{className:`fa-solid ${b.icon} text-[10px]`})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"text-[9px] font-black text-slate-800 uppercase",children:b.label}),l.jsxs("span",{className:"text-[8px] font-bold text-slate-400",children:["LVL ",Math.floor(w/10)]})]}),l.jsx("div",{className:"h-1 bg-slate-100 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full transition-all duration-1000",style:{width:`${w}%`,backgroundColor:b.color}})})]})]},b.key)})})]}),l.jsxs("section",{className:"space-y-6",children:[l.jsx(ee,{variant:"h2",className:"text-xl font-black",children:" "}),l.jsx("div",{className:"space-y-3",children:s.skills.map(b=>l.jsxs(De,{padding:"md",className:"border-slate-100 flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center text-lg",children:l.jsx("i",{className:`fa-solid ${b.icon}`})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"text-xs font-black uppercase text-slate-800",children:b.name}),l.jsxs("span",{className:"text-[9px] font-bold text-slate-400",children:["LVL ",b.level]})]}),l.jsx("div",{className:"h-1 bg-slate-100 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-orange-500",style:{width:`${b.xp%100}%`}})})]})]},b.name))})]})]}),p==="identity"&&l.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[l.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs(ee,{variant:"tiny",className:"text-slate-900 font-black uppercase flex items-center gap-2",children:[l.jsx("i",{className:"fa-solid fa-scroll text-orange-500"})," Bio & "]}),l.jsxs(De,{padding:"md",className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-1",children:" "}),l.jsx("input",{value:s.role,onChange:b=>t({role:b.target.value}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-bold focus:ring-2 focus:ring-orange-100 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-1",children:""}),l.jsx("textarea",{value:s.bio,onChange:b=>t({bio:b.target.value}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-medium focus:ring-2 focus:ring-orange-100 outline-none min-h-[80px] resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-1",children:" "}),l.jsx("textarea",{value:s.vision,onChange:b=>t({vision:b.target.value}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-medium italic focus:ring-2 focus:ring-orange-100 outline-none min-h-[60px] resize-none border-l-2 border-orange-200"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs(ee,{variant:"tiny",className:"text-slate-900 font-black uppercase flex items-center gap-2",children:[l.jsx("i",{className:"fa-solid fa-shield-heart text-indigo-500"}),"  & "]}),l.jsxs(De,{padding:"md",className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:""}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:s.views.map((b,w)=>l.jsx(ft,{variant:"indigo",className:"text-[8px] lowercase",children:b},w))}),l.jsx("button",{onClick:()=>{const b=prompt(" :");b&&t({views:[...s.views,b]})},className:"text-[8px] font-black text-indigo-600 uppercase tracking-widest",children:"+  "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:" (Beliefs)"}),l.jsx("div",{className:"space-y-1.5",children:s.beliefs.map((b,w)=>l.jsxs("div",{className:"text-xs font-medium text-slate-600 flex items-center gap-2 bg-slate-50 p-2 rounded-lg",children:[l.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-300"}),b]},w))}),l.jsx("button",{onClick:()=>{const b=prompt(" :");b&&t({beliefs:[...s.beliefs,b]})},className:"mt-2 text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"+  "})]})]})]})]}),l.jsxs("section",{children:[l.jsxs(ee,{variant:"tiny",className:"text-slate-900 font-black uppercase flex items-center gap-2 mb-4",children:[l.jsx("i",{className:"fa-solid fa-sliders text-emerald-500"}),"  "]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs(De,{padding:"md",children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:" "}),l.jsx("input",{value:s.preferences.workStyle,onChange:b=>t({preferences:{...s.preferences,workStyle:b.target.value}}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-bold outline-none"})]}),l.jsxs(De,{padding:"md",children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:" "}),l.jsx("input",{value:s.preferences.planningStyle,onChange:b=>t({preferences:{...s.preferences,planningStyle:b.target.value}}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-bold outline-none"})]}),l.jsxs(De,{padding:"md",children:[l.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:"-"}),l.jsx("div",{className:"flex flex-wrap gap-1.5",children:s.preferences.focusBlockers.map((b,w)=>l.jsx(ft,{variant:"rose",className:"text-[7px]",children:b},w))}),l.jsx("button",{onClick:()=>{const b=prompt(" :");b&&t({preferences:{...s.preferences,focusBlockers:[...s.preferences.focusBlockers,b]}})},className:"mt-2 text-[8px] font-black text-rose-600 uppercase tracking-widest",children:"+ "})]})]})]})]}),p==="evolution"&&l.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[l.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs(De,{className:"bg-slate-900 text-white p-8 border-none flex flex-col items-center justify-center text-center",children:[l.jsx("div",{className:"text-[10px] font-black text-orange-500 uppercase mb-2",children:" "}),l.jsx("div",{className:"text-4xl font-black",children:s.xp}),l.jsx(ee,{variant:"tiny",className:"text-slate-500 mt-2",children:"XP POINTS"})]}),l.jsxs(De,{className:"p-8 border-slate-100 flex flex-col items-center justify-center text-center shadow-sm",children:[l.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase mb-2",children:"  "}),l.jsx("div",{className:"text-4xl font-black text-slate-900",children:i.currentWeek}),l.jsx(ee,{variant:"tiny",className:"text-slate-300 mt-2",children:"12TR WEEK"})]}),l.jsxs(De,{className:"p-8 border-slate-100 flex flex-col items-center justify-center text-center shadow-sm",children:[l.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase mb-2",children:" "}),l.jsx("div",{className:"text-4xl font-black text-emerald-600",children:v.done}),l.jsx(ee,{variant:"tiny",className:"text-slate-300 mt-2",children:"COMPLETED QUESTS"})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx(ee,{variant:"h2",className:"text-xl font-black",children:" "}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.achievements.map(b=>l.jsxs(De,{padding:"md",className:"border-slate-100 text-center hover:border-orange-200 transition-all group",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-50 text-orange-600 flex items-center justify-center text-xl mx-auto mb-3 shadow-inner group-hover:scale-110 transition-transform",children:l.jsx("i",{className:`fa-solid ${b.icon}`})}),l.jsx("div",{className:"text-[10px] font-black uppercase text-slate-800 mb-1",children:b.title}),l.jsx("p",{className:"text-[9px] text-slate-400 leading-tight",children:b.description})]},b.id)),l.jsxs("div",{className:"border-2 border-dashed border-slate-100 rounded-[2rem] flex flex-col items-center justify-center p-6 grayscale opacity-30",children:[l.jsx("i",{className:"fa-solid fa-lock mb-2 text-slate-300"}),l.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Locked Achievement"})]})]})]})]})]})]})},P_=()=>{var V,K;const{theme:s,setTheme:t,aiEnabled:n,setAiEnabled:i,sidebarSettings:o,updateSidebarSetting:u,character:p,updateCharacter:g}=Le(),[v,x]=j.useState((window.innerWidth<1024,"profile")),[y,b]=j.useState(""),[w,S]=j.useState(!1),[_,T]=j.useState(""),[A,M]=j.useState(!1),{detailsWidth:U,startResizing:R,isResizing:Y}=Gn(400,700),[q,te]=j.useState(window.innerWidth<1024);j.useEffect(()=>{const G=()=>te(window.innerWidth<1024);window.addEventListener("resize",G);const fe=localStorage.getItem("GEMINI_API_KEY")||"";return b(fe),()=>window.removeEventListener("resize",G)},[]);const D=()=>{localStorage.setItem("GEMINI_API_KEY",y.trim()),alert("API  .")},I=G=>{G.preventDefault(),_.trim()&&(M(!0),T(""),setTimeout(()=>M(!1),3e3))},E=[{id:"profile",icon:"fa-user-astronaut",label:" ",color:"text-orange-500",desc:"  "},{id:"appearance",icon:"fa-palette",label:" & ",color:"text-indigo-500",desc:" "},{id:"ai",icon:"fa-wand-magic-sparkles",label:"Gemini AI",color:"text-emerald-500",desc:" "},{id:"sidebar",icon:"fa-bars-staggered",label:"",color:"text-amber-500",desc:" "},{id:"data",icon:"fa-database",label:"",color:"text-rose-500",desc:" "},{id:"feedback",icon:"fa-comment-dots",label:"",color:"text-violet-500",desc:"  "}],O=[{id:"classic",label:"Classic",main:"#ffffff",accent:"#f97316"},{id:"midnight",label:"Midnight",main:"#020617",accent:"#10b981"},{id:"obsidian",label:"Obsidian",main:"#000000",accent:"#8b5cf6"},{id:"cyberpunk",label:"Cyberpunk",main:"#09090b",accent:"#fef08a"},{id:"dracula",label:"Dracula",main:"#282a36",accent:"#ff79c6"},{id:"nordic-dark",label:"Nordic",main:"#2e3440",accent:"#88c0d0"},{id:"sakura",label:"Sakura",main:"#fff1f2",accent:"#ec4899"},{id:"ocean",label:"Ocean",main:"#f0f9ff",accent:"#0ea5e9"},{id:"forest",label:"Forest",main:"#f0fdf4",accent:"#166534"},{id:"lavender",label:"Lavender",main:"#faf5ff",accent:"#8b5cf6"},{id:"desert",label:"Desert",main:"#fffbeb",accent:"#d97706"},{id:"mars",label:"Mars",main:"#450a0a",accent:"#ef4444"},{id:"slate",label:"Slate",main:"#f8fafc",accent:"#475569"},{id:"coffee",label:"Coffee",main:"#fffaf0",accent:"#92400e"},{id:"gold",label:"Luxury",main:"#1e1b4b",accent:"#fbbf24"},{id:"matrix",label:"Matrix",main:"#000000",accent:"#00ff41"},{id:"glass",label:"Glass",main:"#6366f1",accent:"#ffffff"},{id:"toxic",label:"Toxic",main:"#1a1a1a",accent:"#ccff00"},{id:"sepia",label:"Sepia",main:"#f4ecd8",accent:"#704214"},{id:"paper",label:"Paper",main:"#f5f5f5",accent:"#3b82f6"},{id:"blueprint",label:"Blueprint",main:"#1e3a8a",accent:"#ffffff"},{id:"gameboy",label:"Gameboy",main:"#9bbc0f",accent:"#306230"},{id:"spotify",label:"Spotify",main:"#121212",accent:"#1db954"},{id:"slack",label:"Slack",main:"#ffffff",accent:"#4a154b"},{id:"uber",label:"Uber",main:"#000000",accent:"#ffffff"},{id:"apple",label:"Apple",main:"#f5f5f7",accent:"#007aff"},{id:"stripe",label:"Stripe",main:"#f6f9fc",accent:"#635bff"},{id:"github",label:"Github",main:"#0d1117",accent:"#2ea44f"},{id:"clay",label:"Clay",main:"#fdf2e9",accent:"#e67e22"},{id:"olive",label:"Olive",main:"#f5f5dc",accent:"#808000"}],L=()=>{switch(v){case"profile":return l.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"flex flex-col items-center gap-4 mb-4",children:[l.jsxs("div",{className:"w-24 h-24 rounded-[2.5rem] bg-[var(--bg-card)] p-1 ring-4 ring-[var(--primary)]/10 relative group shadow-2xl",children:[l.jsx("img",{src:p.avatarUrl,className:"w-full h-full object-cover rounded-[2.2rem]"}),l.jsx("button",{onClick:()=>{const fe=prompt("Avatar URL:",p.avatarUrl);fe&&g({avatarUrl:fe})},className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-[2.2rem] text-white text-[10px] font-black uppercase",children:""})]}),l.jsxs(ee,{variant:"tiny",className:"text-[var(--text-muted)]",children:["ID: ",p.name.toUpperCase().replace(/\s+/g,"_")]})]}),l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-[10px] font-black uppercase text-[var(--text-muted)] ml-1",children:""}),l.jsx("input",{value:p.name,onChange:fe=>g({name:fe.target.value}),className:"w-full bg-[var(--bg-card)] border border-[var(--border-color)] rounded-2xl py-4 px-5 text-sm font-bold focus:ring-4 focus:ring-[var(--primary)]/10 outline-none transition-all shadow-sm"})]}),l.jsxs("div",{className:"p-4 bg-slate-900 rounded-3xl text-white",children:[l.jsx(ee,{variant:"tiny",className:"text-orange-500 mb-2 font-black",children:" "}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest",children:[" ",p.level]}),l.jsxs("span",{className:"text-[10px] opacity-50",children:[p.xp," XP"]})]})]})]})]});case"appearance":return l.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300 pb-20",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest ml-1",children:"  "}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:O.map(fe=>l.jsxs("button",{onClick:()=>t(fe.id),className:`p-3 rounded-[1.2rem] border-2 text-left transition-all ${s===fe.id?"border-[var(--primary)] bg-[var(--bg-main)] shadow-lg scale-[1.05]":"border-[var(--border-color)] bg-[var(--bg-card)] hover:border-[var(--primary)]/30"}`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest truncate",children:fe.label}),l.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:fe.accent}})]}),l.jsx("div",{className:"h-6 w-full rounded-md border border-[var(--border-color)]",style:{backgroundColor:fe.main}})]},fe.id))})]});case"ai":return l.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:l.jsxs(De,{className:"border-[var(--border-color)] p-8 relative overflow-hidden shadow-2xl",children:[l.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-[var(--primary)]/10 blur-[80px]"}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[var(--primary)] flex items-center justify-center shadow-lg",children:l.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-xl text-white"})}),l.jsx("button",{onClick:()=>i(!n),className:`w-14 h-7 rounded-full relative transition-all ${n?"bg-emerald-500":"bg-[var(--text-muted)]/20"}`,children:l.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full transition-all ${n?"right-1.5":"left-1.5"}`})})]}),l.jsx(ee,{variant:"h2",className:"mb-2 text-2xl",children:" "}),l.jsx("p",{className:"text-xs text-slate-500 leading-relaxed mb-6 italic",children:"   ,     ."}),l.jsxs("div",{className:"space-y-3 bg-[var(--bg-main)] p-6 rounded-[1.8rem] border border-[var(--border-color)]",children:[l.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-[var(--text-muted)] block",children:"Gemini Cloud API Key"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx("input",{type:w?"text":"password",value:y,onChange:fe=>b(fe.target.value),placeholder:" ...",className:"w-full bg-[var(--bg-card)] border border-[var(--border-color)] rounded-xl py-3 px-4 text-[11px] font-mono outline-none focus:border-[var(--primary)] text-[var(--text-main)]"}),l.jsx("button",{onClick:()=>S(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-muted)] hover:text-[var(--primary)] transition-colors",children:l.jsx("i",{className:`fa-solid ${w?"fa-eye-slash":"fa-eye"}`})})]}),l.jsx("button",{onClick:D,className:"bg-[var(--primary)] text-white px-6 rounded-xl text-[10px] font-black uppercase transition-colors hover:brightness-110",children:"OK"})]})]})]})});case"sidebar":const G=[{id:"today",icon:"fa-star",label:""},{id:"inbox",icon:"fa-inbox",label:""},{id:"next_actions",icon:"fa-bolt",label:""},{id:"projects",icon:"fa-folder-tree",label:""},{id:"calendar",icon:"fa-calendar-days",label:""},{id:"notes",icon:"fa-note-sticky",label:""}];return l.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsx(ee,{variant:"tiny",className:"text-[var(--text-muted)] font-black uppercase tracking-widest ml-2 mb-2",children:"  "}),l.jsx("div",{className:"bg-[var(--bg-card)] border border-[var(--border-color)] rounded-[2rem] overflow-hidden shadow-sm divide-y divide-[var(--border-color)]",children:G.map(fe=>l.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-[var(--bg-main)] transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-9 h-9 rounded-xl bg-[var(--bg-main)] flex items-center justify-center text-[var(--text-muted)] shadow-inner",children:l.jsx("i",{className:`fa-solid ${fe.icon}`})}),l.jsx("span",{className:"text-[11px] font-black uppercase tracking-tight text-[var(--text-main)]",children:fe.label})]}),l.jsx("button",{onClick:()=>u(fe.id,o[fe.id]===!1),className:`w-11 h-6 rounded-full transition-all relative ${o[fe.id]!==!1?"bg-[var(--primary)]":"bg-[var(--text-muted)]/20"}`,children:l.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${o[fe.id]!==!1?"right-1":"left-1"}`})})]},fe.id))})]});case"data":return l.jsx("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:l.jsxs(De,{padding:"lg",className:"border-rose-100 bg-rose-50/20",children:[l.jsx(ee,{variant:"h2",className:"text-rose-600 mb-2",children:" "}),l.jsx("p",{className:"text-[11px] text-slate-500 mb-6 leading-relaxed",children:"      .       ."}),l.jsx("button",{onClick:()=>{confirm("     ?")&&(localStorage.clear(),window.location.reload())},className:"w-full py-5 rounded-[1.8rem] bg-white text-rose-500 border-2 border-rose-100 text-[10px] font-black uppercase tracking-widest hover:bg-rose-500 hover:text-white hover:border-rose-500 transition-all shadow-sm",children:"   '"})]})});case"feedback":return l.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsx(ee,{variant:"tiny",className:"text-violet-500 font-black mb-2 uppercase",children:"   "}),l.jsxs("form",{onSubmit:I,className:"space-y-4",children:[l.jsx("textarea",{value:_,onChange:fe=>T(fe.target.value),placeholder:"    ...",className:"w-full bg-[var(--bg-card)] border border-[var(--border-color)] rounded-[1.5rem] p-5 text-sm font-medium focus:ring-4 focus:ring-indigo-100 outline-none transition-all shadow-sm min-h-[160px] resize-none leading-relaxed text-[var(--text-main)]"}),l.jsx("button",{type:"submit",disabled:!_.trim()||A,className:`w-full py-5 rounded-[1.8rem] font-black uppercase tracking-widest text-[10px] transition-all shadow-lg flex items-center justify-center gap-3 ${A?"bg-emerald-500 text-white shadow-emerald-100":"bg-indigo-600 text-white shadow-indigo-100 hover:scale-[1.02] active:scale-95"}`,children:A?"!":"  "})]})]});default:return null}};return l.jsxs("div",{className:"h-screen flex flex-col lg:flex-row overflow-hidden relative bg-[var(--bg-main)]",children:[l.jsxs("div",{className:`flex-1 flex flex-col min-w-0 h-full relative transition-all duration-300 ${q&&v?"-translate-x-full absolute":"translate-x-0 relative"}`,children:[l.jsxs("header",{className:"px-6 py-8 md:px-10 md:py-10 bg-[var(--bg-card)] border-b border-[var(--border-color)] sticky top-0 z-20 shrink-0",children:[l.jsx(ee,{variant:"h1",className:"text-2xl md:text-3xl font-black tracking-tight",children:""}),l.jsx(ee,{variant:"tiny",className:"text-[var(--text-muted)] mt-1 uppercase tracking-[0.2em] text-[8px] md:text-[9px]",children:"  12TR"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-8 space-y-2",children:E.map(G=>l.jsxs(De,{padding:"none",onClick:()=>x(G.id),className:`p-4 md:p-5 flex items-center justify-between group transition-all cursor-pointer border ${v===G.id?"bg-[var(--bg-card)] border-[var(--primary)] shadow-xl":"bg-[var(--bg-card)] border-[var(--border-color)] hover:border-[var(--primary)]/30 shadow-sm"}`,children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[l.jsx("div",{className:`w-10 md:w-12 h-10 md:h-12 rounded-2xl flex items-center justify-center shrink-0 shadow-inner bg-[var(--bg-main)] transition-all ${G.color}`,children:l.jsx("i",{className:`fa-solid ${G.icon} text-lg`})}),l.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[l.jsx(ee,{variant:"h3",className:"text-[12px] md:text-[13px] font-black uppercase tracking-tight truncate group-hover:text-[var(--primary)] transition-colors",children:G.label}),l.jsx("p",{className:"text-[9px] font-bold text-[var(--text-muted)] uppercase truncate mt-0.5",children:G.desc})]})]}),l.jsx("i",{className:"fa-solid fa-chevron-right text-[10px] text-[var(--text-muted)] group-hover:text-[var(--primary)] group-hover:translate-x-1 transition-all"})]},G.id))})]}),l.jsxs("div",{className:`flex h-full border-l border-[var(--border-color)] z-[110] bg-[var(--bg-card)] shrink-0 transition-all duration-300 ${q?v?"fixed inset-0 w-full translate-x-0":"fixed inset-0 w-full translate-x-full":""}`,children:[!q&&l.jsx("div",{onMouseDown:R,className:`w-[1px] h-full cursor-col-resize hover:bg-[var(--primary)] z-[120] transition-colors ${Y?"bg-[var(--primary)]":"bg-[var(--border-color)]"}`}),l.jsx("div",{style:{width:q?"100vw":U},className:"h-full bg-[var(--bg-card)] relative overflow-hidden flex flex-col shadow-2xl",children:v?l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("header",{className:"p-6 md:p-8 border-b border-[var(--border-color)] flex justify-between items-center bg-[var(--bg-card)] shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[q&&l.jsx("button",{onClick:()=>x(null),className:"w-10 h-10 rounded-2xl bg-[var(--bg-main)] flex items-center justify-center text-[var(--text-muted)]",children:l.jsx("i",{className:"fa-solid fa-chevron-left text-xs"})}),l.jsx("div",{className:"w-10 md:w-11 h-10 md:h-11 rounded-2xl flex items-center justify-center text-white shadow-lg bg-[var(--primary)]",children:l.jsx("i",{className:`fa-solid ${(V=E.find(G=>G.id===v))==null?void 0:V.icon}`})}),l.jsx(ee,{variant:"h2",className:"text-base md:text-lg font-black uppercase tracking-tight",children:(K=E.find(G=>G.id===v))==null?void 0:K.label})]}),!q&&l.jsx("button",{onClick:()=>x(null),className:"w-10 h-10 rounded-2xl bg-[var(--bg-main)] flex items-center justify-center text-[var(--text-muted)] hover:text-[var(--text-main)] transition-all",children:l.jsx("i",{className:"fa-solid fa-xmark text-sm"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 md:p-12 bg-[var(--bg-main)]/30",children:l.jsx("div",{className:"max-w-xl mx-auto",children:L()})}),l.jsx("footer",{className:"p-6 md:p-8 border-t border-[var(--border-color)] bg-[var(--bg-card)] shrink-0 pb-safe",children:l.jsx(qe,{onClick:()=>x(null),className:"w-full rounded-2xl py-4 font-black uppercase tracking-widest text-[10px] shadow-sm",children:""})})]}):!q&&l.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-12 text-center opacity-5 grayscale pointer-events-none select-none",children:[l.jsx("i",{className:"fa-solid fa-gear text-9xl mb-8"}),l.jsx(ee,{variant:"h2",className:"text-2xl font-black uppercase tracking-widest",children:" "})]})})]})]})},$_=({item:s,onClose:t})=>{const{shoppingItems:n,shoppingStores:i,updateShoppingItem:o,deleteShoppingItem:u}=Le(),[p,g]=j.useState(s),[v,x]=j.useState(""),[y,b]=j.useState(""),w=A=>{const M={...p,...A};g(M),o(M)},S=A=>{A.preventDefault();const M=parseFloat(v);if(isNaN(M)||!y.trim())return;const U={id:Math.random().toString(36).substr(2,9),price:M,storeName:y.trim(),date:Date.now()},R=p.priceHistory||[];w({priceHistory:[U,...R]}),x(""),b("")},_=A=>{const M=(p.priceHistory||[]).filter(U=>U.id!==A);w({priceHistory:M})},T=j.useMemo(()=>{const M=n.filter(U=>U.name.toLowerCase()===s.name.toLowerCase()).flatMap(U=>U.priceHistory||[]).map(U=>U.price);return M.length>0?Math.min(...M):null},[n,s.name]);return l.jsxs("div",{className:"h-full flex flex-col bg-card animate-in slide-in-from-right duration-300 text-main",children:[l.jsxs("header",{className:"p-4 md:p-6 border-b border-theme flex justify-between items-center bg-card sticky top-0 z-10",children:[l.jsx(ee,{variant:"h2",className:"text-lg md:text-xl",children:" "}),l.jsx("button",{onClick:t,className:"w-9 h-9 rounded-xl bg-main flex items-center justify-center text-muted hover:text-primary transition-colors",children:l.jsx("i",{className:"fa-solid fa-xmark text-lg"})})]}),l.jsxs("div",{className:"flex-1 p-5 md:p-8 space-y-6 overflow-y-auto custom-scrollbar",children:[l.jsxs("section",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(ee,{variant:"tiny",className:"text-muted font-black uppercase ml-1 opacity-60",children:""}),l.jsx("input",{value:p.name,onChange:A=>w({name:A.target.value}),className:"w-full bg-main border border-theme rounded-2xl py-3 px-5 text-lg font-black focus:ring-4 focus:ring-primary/10 outline-none transition-all text-main"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(ee,{variant:"tiny",className:"text-muted font-black uppercase ml-1 opacity-60",children:" / "}),l.jsx("textarea",{value:p.note||"",onChange:A=>w({note:A.target.value}),className:"w-full bg-main border border-theme rounded-2xl p-4 text-sm font-medium focus:ring-4 focus:ring-primary/10 outline-none min-h-[80px] resize-none leading-relaxed text-main",placeholder:" ?  ..."})]})]}),T!==null&&l.jsxs("section",{className:"bg-primary/5 p-5 md:p-6 rounded-[2rem] border border-primary/20",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("i",{className:"fa-solid fa-trophy text-primary text-xs"}),l.jsx(ee,{variant:"tiny",className:"text-primary font-black uppercase tracking-widest text-[9px]",children:" "})]}),l.jsxs("p",{className:"text-sm font-bold text-main leading-tight",children:['   "',s.name,'": ',l.jsx("br",{}),l.jsxs("span",{className:"text-xl md:text-2xl font-black text-primary underline decoration-primary/20 underline-offset-4",children:[T," "]})]})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsxs(ee,{variant:"tiny",className:"text-main font-black uppercase flex items-center gap-2 text-[9px]",children:[l.jsx("i",{className:"fa-solid fa-pen-nib text-primary"}),"  "]}),l.jsxs("form",{onSubmit:S,className:"grid grid-cols-2 gap-2 bg-main/50 p-3 rounded-2xl border border-theme",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("span",{className:"text-[7px] font-black uppercase text-muted ml-1",children:""}),l.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",value:v,onChange:A=>x(A.target.value),placeholder:"0.00 ",className:"w-full bg-card border border-theme rounded-xl py-3 px-3 text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-main"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("span",{className:"text-[7px] font-black uppercase text-muted ml-1",children:""}),l.jsx("input",{list:"stores-list",value:y,onChange:A=>b(A.target.value),placeholder:"...",className:"w-full bg-card border border-theme rounded-xl py-3 px-3 text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-main"})]}),l.jsx("datalist",{id:"stores-list",children:i.map(A=>l.jsx("option",{value:A.name},A.id))}),l.jsx("button",{type:"submit",className:"col-span-2 mt-1 py-3 bg-primary text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:brightness-110 transition-all active:scale-95 shadow-md",children:"  "})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx(ee,{variant:"tiny",className:"text-muted font-black uppercase ml-1 opacity-60",children:" "}),l.jsxs("div",{className:"space-y-2",children:[(p.priceHistory||[]).map(A=>l.jsxs("div",{className:"flex items-center justify-between p-3.5 bg-card rounded-2xl border border-theme group/log shadow-sm",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm font-black text-main",children:[A.price," "]}),l.jsx(ft,{variant:"slate",className:"text-[8px] py-0 px-1.5 opacity-60",children:A.storeName})]}),l.jsx("div",{className:"text-[8px] font-black text-muted uppercase mt-1 tracking-wider opacity-50",children:new Date(A.date).toLocaleDateString("uk-UA",{day:"numeric",month:"short"})})]}),l.jsx("button",{onClick:()=>_(A.id),className:"w-8 h-8 rounded-lg text-muted hover:text-rose-500 hover:bg-rose-500/10 transition-all flex items-center justify-center",children:l.jsx("i",{className:"fa-solid fa-trash-can text-xs"})})]},A.id)),(!p.priceHistory||p.priceHistory.length===0)&&l.jsx("div",{className:"text-center py-8 bg-main/50 rounded-2xl border border-dashed border-theme",children:l.jsx("p",{className:"text-[10px] font-bold text-muted uppercase tracking-widest",children:" "})})]})]})]}),l.jsxs("footer",{className:"p-4 md:p-6 border-t border-theme bg-main/30 flex gap-3 shrink-0 mb-safe",children:[l.jsx("button",{onClick:()=>{confirm("  ?")&&(u(s.id),t())},className:"w-12 h-12 rounded-2xl bg-rose-500/10 text-rose-500 flex items-center justify-center hover:bg-rose-500 hover:text-white transition-all shadow-sm",children:l.jsx("i",{className:"fa-solid fa-trash-can"})}),l.jsx(qe,{onClick:t,variant:"white",className:"flex-1 rounded-2xl py-3 font-black tracking-widest text-[10px]",children:""})]})]})},F_=()=>{var F;const{shoppingStores:s,shoppingItems:t,addStore:n,updateStore:i,deleteStore:o,addShoppingItem:u,toggleShoppingItem:p,deleteShoppingItem:g,detailsWidth:v,theme:x}=Le(),{startResizing:y,isResizing:b}=Gn(400,700),[w,S]=j.useState("all"),[_,T]=j.useState(null),[A,M]=j.useState(!1),[U,R]=j.useState(""),[Y,q]=j.useState(""),[te,D]=j.useState(window.innerWidth<768),[I,E]=j.useState(!1);j.useEffect(()=>{const H=()=>D(window.innerWidth<768);return window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]);const O=j.useMemo(()=>w==="all"?t:t.filter(H=>H.storeId===w),[t,w]),L=j.useMemo(()=>[...O].sort((H,pe)=>H.isBought===pe.isBought?0:H.isBought?1:-1),[O]),V=H=>{const $=t.filter(ue=>ue.name.toLowerCase()===H.toLowerCase()).flatMap(ue=>ue.priceHistory||[]).map(ue=>ue.price);return $.length>0?Math.min(...$):null},K=H=>{H.preventDefault(),U.trim()&&(n(U.trim()),R(""),M(!1))},G=H=>{H.preventDefault(),Y.trim()&&w!=="all"&&(u(Y.trim(),w),q(""))},fe=H=>{S(H),te&&E(!0)};return l.jsxs("div",{className:"h-screen flex bg-main overflow-hidden relative text-main transition-none",children:[l.jsxs("aside",{className:`w-full md:w-64 border-r border-theme bg-sidebar flex flex-col shrink-0 transition-all duration-300 ${te&&I?"-translate-x-full absolute":"translate-x-0 relative"}`,children:[l.jsxs("header",{className:"p-6 md:p-8 border-b border-theme flex justify-between items-center bg-card sticky top-0 z-10 shrink-0",children:[l.jsxs("div",{children:[l.jsx(ee,{variant:"h2",className:"text-lg md:text-xl",children:""}),l.jsx(ee,{variant:"tiny",className:"text-muted tracking-tighter opacity-60",children:"Price Strategy"})]}),l.jsx("button",{onClick:()=>M(!0),className:"w-10 h-10 rounded-2xl bg-primary/10 text-primary flex items-center justify-center hover:bg-primary hover:text-white transition-all shadow-sm",children:l.jsx("i",{className:"fa-solid fa-plus text-xs"})})]}),l.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto custom-scrollbar",children:[l.jsxs("button",{onClick:()=>fe("all"),className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl transition-all ${w==="all"?"bg-primary text-white shadow-lg font-black":"text-muted hover:bg-main/50"}`,children:[l.jsx("i",{className:"fa-solid fa-layer-group text-xs w-4 text-center"}),l.jsx("span",{className:"text-[11px] uppercase tracking-widest",children:" "}),l.jsx("span",{className:`ml-auto text-[8px] font-black ${w==="all"?"text-white/60":"opacity-40"}`,children:t.length})]}),l.jsx("div",{className:"my-4 border-t border-theme opacity-30"}),A&&l.jsx("form",{onSubmit:K,className:"px-2 mb-2 animate-in slide-in-from-top-2",children:l.jsx("input",{autoFocus:!0,value:U,onChange:H=>R(H.target.value),onBlur:()=>!U&&M(!1),placeholder:" ...",className:"w-full bg-main border border-primary/30 rounded-xl py-3 px-4 text-[10px] font-black uppercase outline-none text-main"})}),s.map(H=>l.jsxs("div",{className:"group relative",children:[l.jsxs("button",{onClick:()=>fe(H.id),className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl transition-all ${w===H.id?"bg-primary text-white shadow-lg font-black":"text-muted hover:bg-main/50"}`,children:[l.jsx("i",{className:`fa-solid ${H.icon} text-xs w-4 text-center`,style:w===H.id?{color:"white"}:{color:H.color}}),l.jsx("span",{className:"text-[11px] uppercase tracking-widest truncate pr-6",children:H.name}),l.jsx("span",{className:`ml-auto text-[8px] font-black ${w===H.id?"text-white/60":"opacity-40"}`,children:t.filter(pe=>pe.storeId===H.id).length})]}),l.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx("button",{onClick:()=>{confirm(" ?")&&o(H.id)},className:`text-[10px] p-2 hover:text-rose-500 transition-colors ${w===H.id?"text-white/40 hover:text-white":"text-muted"}`,children:l.jsx("i",{className:"fa-solid fa-trash"})})})]},H.id))]})]}),l.jsxs("main",{className:`flex-1 flex flex-col bg-main relative min-w-0 transition-all duration-300 ${te&&!I?"translate-x-full":"translate-x-0"}`,children:[l.jsxs("header",{className:"px-6 md:px-10 py-5 md:py-8 border-b border-theme flex flex-col md:flex-row justify-between items-start md:items-center bg-card sticky top-0 z-10 gap-4 shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3 w-full",children:[te&&l.jsx("button",{onClick:()=>E(!1),className:"w-9 h-9 rounded-xl bg-main flex items-center justify-center text-muted mr-1",children:l.jsx("i",{className:"fa-solid fa-chevron-left"})}),l.jsxs(ee,{variant:"h2",className:"text-xl md:text-2xl font-black uppercase tracking-tight text-main flex items-center gap-3 truncate",children:[l.jsx("i",{className:`fa-solid ${w==="all"?"fa-layer-group":"fa-shop"} opacity-20 text-base md:text-lg`}),w==="all"?" ":((F=s.find(H=>H.id===w))==null?void 0:F.name)||""]})]}),w!=="all"&&l.jsxs("form",{onSubmit:G,className:"flex gap-2 w-full md:w-auto",children:[l.jsx("input",{value:Y,onChange:H=>q(H.target.value),placeholder:" ?",className:"flex-1 bg-main border border-theme rounded-xl px-4 py-3 md:py-2 text-[12px] font-bold outline-none md:w-64 focus:ring-2 focus:ring-primary/20 transition-all text-main"}),l.jsx(qe,{type:"submit",size:"sm",className:"rounded-xl font-black shadow-lg shrink-0 px-5",children:""})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 md:p-10",children:l.jsx("div",{className:"flex flex-col gap-2 max-w-xl mx-auto md:mx-0 pb-32",children:L.length>0?L.map(H=>{const pe=s.find(k=>k.id===H.storeId),$=V(H.name),ue=H.priceHistory&&H.priceHistory.length>0?H.priceHistory[0]:null;return l.jsxs(De,{padding:"none",onClick:()=>T(H.id),className:`p-4 flex items-center justify-between group transition-all cursor-pointer border ${H.isBought?"opacity-40 grayscale bg-main/50":"bg-card border-theme hover:border-primary/30 shadow-sm hover:shadow-md"}`,children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[l.jsx("button",{onClick:k=>{k.stopPropagation(),p(H.id)},className:`w-7 h-7 rounded-lg border-2 flex items-center justify-center transition-all shrink-0 ${H.isBought?"bg-emerald-500 border-emerald-500 text-white shadow-inner":"border-theme bg-main hover:border-primary/50"}`,children:H.isBought&&l.jsx("i",{className:"fa-solid fa-check text-xs"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-wrap",children:[l.jsx("span",{className:`text-[13px] md:text-sm font-bold truncate max-w-[150px] md:max-w-none ${H.isBought?"line-through text-muted":"text-main"}`,children:H.name}),ue&&l.jsxs(ft,{variant:"orange",className:"text-[8px] font-black",children:[ue.price," "]})]}),l.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mt-1.5 flex-wrap",children:[w==="all"&&pe&&l.jsx(ft,{variant:"slate",className:"text-[7px] py-0 px-1 uppercase opacity-60 tracking-tighter",children:pe.name}),$&&!H.isBought&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-1 h-1 rounded-full bg-emerald-500 animate-pulse"}),l.jsxs("span",{className:"text-[8px] font-black text-emerald-600 uppercase tracking-widest",children:["Best: ",$," "]})]}),ue&&l.jsxs("span",{className:"text-[7px] font-bold text-muted uppercase truncate opacity-50",children:[" : ",ue.storeName]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-3 shrink-0 ml-2",children:[H.note&&l.jsx("i",{className:"fa-solid fa-comment-dots text-primary/30 text-[10px] animate-bounce"}),l.jsx("i",{className:"fa-solid fa-chevron-right text-[10px] text-muted group-hover:text-primary group-hover:translate-x-0.5 transition-all"})]})]},H.id)}):l.jsxs("div",{className:"py-20 text-center opacity-10 flex flex-col items-center select-none pointer-events-none grayscale",children:[l.jsx("i",{className:"fa-solid fa-basket-shopping text-7xl mb-6"}),l.jsx(ee,{variant:"h2",className:"text-xl",children:" "}),l.jsx(ee,{variant:"body",className:"mt-2 text-xs",children:"    "})]})})})]}),_&&l.jsxs("div",{className:"fixed md:relative inset-0 md:inset-auto flex h-full border-l border-theme z-[100] md:z-40 bg-card shrink-0 transition-all duration-300",children:[!te&&l.jsx("div",{onMouseDown:y,className:`w-[1px] h-full cursor-col-resize hover:bg-primary z-[110] transition-colors ${b?"bg-primary":"bg-theme"}`}),l.jsx("div",{style:{width:te?"100vw":v},className:"h-full bg-card relative overflow-hidden flex flex-col shadow-2xl",children:l.jsx($_,{item:t.find(H=>H.id===_),onClose:()=>T(null)})})]})]})};var Y_={};const Z_=({isOpen:s,onClose:t})=>{const{tasks:n,projects:i,people:o,character:u,cycle:p,diary:g}=Le(),[v,x]=j.useState([]),[y,b]=j.useState(""),[w,S]=j.useState(!1),_=j.useRef(null),T=[{label:"  ",icon:"fa-inbox"},{label:"  ",icon:"fa-calendar-week"},{label:"  ",icon:"fa-user-ninja"},{label:"  XP?",icon:"fa-bolt"}];j.useEffect(()=>{_.current&&(_.current.scrollTop=_.current.scrollHeight)},[v,w]);const A=async M=>{if(!M.trim())return;const U={role:"user",text:M};x(R=>[...R,U]),b(""),S(!0);try{const R=new Hx({apiKey:Y_.API_KEY}),Y=`
             12TR.         GTD  .
        
          :
        - : ${u.name} (LVL ${u.level} ${u.role}), : ${u.energy}%
        - : ${i.filter(D=>D.type==="goal").map(D=>D.name).join(", ")}
        -  : ${n.filter(D=>!D.isDeleted&&D.status!=="DONE").map(D=>D.title).join(", ")}
        - : ${o.map(D=>`${D.name} (${D.status})`).join(", ")}
        -  : ${p.currentWeek}/12
        -  : ${n.filter(D=>D.category==="note").slice(0,5).map(D=>D.title).join(", ")}

          .  ,   RPG (, , , XP).
      `,te=(await R.models.generateContent({model:"gemini-3-flash-preview",contents:[{role:"user",parts:[{text:Y+`

 : `+M}]}]})).text||" ' .   .";x(D=>[...D,{role:"model",text:te}])}catch{x(Y=>[...Y,{role:"model",text:" '  .  API-."}])}finally{S(!1)}};return s?l.jsxs("div",{className:"fixed top-0 right-0 h-screen bg-[var(--bg-card)]/95 border-l border-[var(--border-color)] flex flex-col backdrop-blur-2xl transition-all duration-500 z-[200] shadow-2xl w-full md:w-96",children:[l.jsxs("header",{className:"p-6 border-b border-[var(--border-color)] flex items-center justify-between bg-white/50 sticky top-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gradient-to-tr from-[var(--primary)] to-pink-500 flex items-center justify-center text-white shadow-lg",children:l.jsx("i",{className:"fa-solid fa-sparkles"})}),l.jsxs("div",{children:[l.jsx(ee,{variant:"h3",className:"text-sm",children:"-"}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),l.jsx("span",{className:"text-[7px] font-black uppercase text-slate-400 tracking-widest",children:"Active Link"})]})]})]}),l.jsx("button",{onClick:t,className:"w-10 h-10 rounded-2xl bg-black/5 flex items-center justify-center text-slate-400 hover:text-slate-900 transition-all",children:l.jsx("i",{className:"fa-solid fa-chevron-right text-xs"})})]}),l.jsxs("div",{ref:_,className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-6",children:[v.length===0&&l.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[l.jsxs("div",{className:"bg-[var(--primary)]/5 p-5 rounded-3xl border border-[var(--primary)]/10 text-xs font-medium leading-relaxed italic text-slate-600",children:['", ',u.name,'.    .     ,          .  ?"']}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ee,{variant:"tiny",className:"text-slate-400 px-1",children:" "}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:T.map(M=>l.jsxs("button",{onClick:()=>A(M.label),className:"flex items-center gap-3 p-3 bg-white border border-slate-100 rounded-2xl text-[11px] font-bold text-slate-700 hover:border-[var(--primary)]/40 hover:shadow-sm transition-all text-left",children:[l.jsx("i",{className:`fa-solid ${M.icon} text-[var(--primary)] opacity-60`}),M.label]},M.label))})]})]}),v.map((M,U)=>l.jsx("div",{className:`flex ${M.role==="user"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2`,children:l.jsx("div",{className:`max-w-[85%] p-4 rounded-2xl text-[12px] leading-relaxed ${M.role==="user"?"bg-[var(--primary)] text-white shadow-lg rounded-tr-none":"bg-white border border-slate-100 shadow-sm text-slate-800 rounded-tl-none font-medium"}`,children:M.text})},U)),w&&l.jsx("div",{className:"flex justify-start",children:l.jsxs("div",{className:"bg-white border border-slate-100 p-4 rounded-2xl rounded-tl-none shadow-sm flex gap-1",children:[l.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full animate-bounce"}),l.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full animate-bounce [animation-delay:0.2s]"}),l.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full animate-bounce [animation-delay:0.4s]"})]})})]}),l.jsx("footer",{className:"p-6 border-t border-[var(--border-color)] bg-white/50",children:l.jsxs("form",{onSubmit:M=>{M.preventDefault(),A(y)},className:"flex gap-2 relative",children:[l.jsx("input",{value:y,onChange:M=>b(M.target.value),placeholder:" ...",className:"flex-1 bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl py-3 px-4 pr-12 text-sm font-bold focus:ring-2 focus:ring-[var(--primary)]/20 outline-none transition-all"}),l.jsx("button",{type:"submit",disabled:!y.trim()||w,className:"absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-xl bg-[var(--primary)] text-white flex items-center justify-center shadow-lg disabled:opacity-30 active:scale-90 transition-all",children:l.jsx("i",{className:"fa-solid fa-arrow-up text-xs"})})]})})]}):null},K_=()=>{var _;const{activeTab:s,setActiveTab:t,tasks:n,character:i,projects:o,aiEnabled:u,theme:p}=Le(),[g,v]=zs.useState(!1),[x,y]=j.useState(!1),b=new Date().setHours(0,0,0,0);j.useEffect(()=>{document.documentElement.setAttribute("data-theme",p)},[p]);const w=zs.useMemo(()=>({today:n.filter(T=>!T.isDeleted&&T.status!==me.DONE&&T.scheduledDate&&new Date(T.scheduledDate).setHours(0,0,0,0)===b).length,inbox:n.filter(T=>!T.isDeleted&&T.status===me.INBOX&&T.category!=="note"&&!T.projectId&&!T.scheduledDate).length,next_actions:n.filter(T=>!T.isDeleted&&T.status===me.NEXT_ACTION).length,notes:n.filter(T=>!T.isDeleted&&T.category==="note"&&T.status!==me.DONE).length,calendar:n.filter(T=>!T.isDeleted&&T.status!==me.DONE&&!!T.scheduledDate).length,planner:n.filter(T=>!T.isDeleted&&T.projectSection==="planner"&&T.status!==me.DONE).length,projects:o.filter(T=>T.type==="goal"&&T.status==="active").length,trash:n.filter(T=>T.isDeleted).length}),[n,o,b]),S=()=>{switch(s){case"dashboard":case"today":return l.jsx(Mp,{});case"planner":return l.jsx(Bx,{});case"map":return l.jsx(_0,{});case"inbox":return l.jsx(Wc,{});case"next_actions":return l.jsx(Wc,{showNextActions:!0});case"diary":return l.jsx(A_,{});case"notes":return l.jsx(j_,{});case"habits":return l.jsx(k_,{});case"people":return l.jsx(G_,{});case"hobbies":return l.jsx(y_,{});case"shopping":return l.jsx(F_,{});case"completed":return l.jsx(Wc,{showCompleted:!0});case"calendar":return l.jsx(g_,{});case"projects":return l.jsx(__,{});case"hashtags":return l.jsx(v_,{tasks:n.filter(T=>!T.isDeleted)});case"trash":return l.jsx(D_,{});case"character":return l.jsx(q_,{});case"settings":return l.jsx(P_,{});case"focus":return l.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-12 text-center bg-[var(--bg-main)]",children:[l.jsx("div",{className:"w-24 h-24 bg-[var(--primary)]/10 text-[var(--primary)] rounded-full flex items-center justify-center text-4xl mb-6",children:l.jsx("i",{className:"fa-solid fa-bullseye"})}),l.jsx("h2",{className:"text-3xl font-black mb-4",children:" "}),l.jsx("button",{onClick:()=>v(!0),className:"px-10 py-4 bg-[var(--primary)] text-white rounded-2xl font-black shadow-xl",children:"  "})]});default:return l.jsx(Mp,{})}};return l.jsxs("div",{className:"flex min-h-screen bg-[var(--bg-main)] text-[var(--text-main)] transition-colors duration-500 overflow-hidden",children:[l.jsx(w0,{activeTab:s,setActiveTab:t,counts:w}),l.jsxs("main",{className:"flex-1 overflow-y-auto relative",children:[S(),g&&l.jsx(b_,{taskTitle:((_=n.find(T=>!T.isDeleted))==null?void 0:_.title)||"  ",onExit:()=>v(!1)}),u&&!x&&l.jsx("button",{onClick:()=>y(!0),className:"fixed bottom-8 right-8 w-14 h-14 rounded-2xl bg-[var(--primary)] text-white shadow-2xl flex items-center justify-center z-[150] hover:scale-110 active:scale-95 transition-all",children:l.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-xl"})})]}),l.jsx(Z_,{isOpen:x,onClose:()=>y(!1)})]})},J_=()=>l.jsx(N0,{children:l.jsx(K_,{})});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(s=>{console.log("SW registered: ",s)}).catch(s=>{console.log("ServiceWorker registration failed: ",s)})});const Gx=document.getElementById("root");if(!Gx)throw new Error("Could not find root element to mount to");const X_=g0.createRoot(Gx);X_.render(l.jsx(zs.StrictMode,{children:l.jsx(J_,{})}));
