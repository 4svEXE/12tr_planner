(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function av(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Fc={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function sv(){if(Tp)return Ol;Tp=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var p=null;if(u!==void 0&&(p=""+u),o.key!==void 0&&(p=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:l,type:s,key:p,ref:o!==void 0?o:null,props:u}}return Ol.Fragment=t,Ol.jsx=n,Ol.jsxs=n,Ol}var Cp;function lv(){return Cp||(Cp=1,Fc.exports=sv()),Fc.exports}var i=lv(),Yc={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function iv(){if(Sp)return De;Sp=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),w=Symbol.iterator;function j(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function M(E,P,se){this.props=E,this.context=P,this.refs=S,this.updater=se||_}M.prototype.isReactComponent={},M.prototype.setState=function(E,P){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,P,"setState")},M.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function I(){}I.prototype=M.prototype;function D(E,P,se){this.props=E,this.context=P,this.refs=S,this.updater=se||_}var O=D.prototype=new I;O.constructor=D,T(O,M.prototype),O.isPureReactComponent=!0;var R=Array.isArray;function $(){}var k={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function G(E,P,se){var fe=se.ref;return{$$typeof:l,type:E,key:P,ref:fe!==void 0?fe:null,props:se}}function V(E,P){return G(E.type,P,E.props)}function te(E){return typeof E=="object"&&E!==null&&E.$$typeof===l}function le(E){var P={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(se){return P[se]})}var X=/\/+/g;function B(E,P){return typeof E=="object"&&E!==null&&E.key!=null?le(""+E.key):P.toString(36)}function de(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then($,$):(E.status="pending",E.then(function(P){E.status==="pending"&&(E.status="fulfilled",E.value=P)},function(P){E.status==="pending"&&(E.status="rejected",E.reason=P)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function U(E,P,se,fe,xe){var _e=typeof E;(_e==="undefined"||_e==="boolean")&&(E=null);var ze=!1;if(E===null)ze=!0;else switch(_e){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(E.$$typeof){case l:case t:ze=!0;break;case y:return ze=E._init,U(ze(E._payload),P,se,fe,xe)}}if(ze)return xe=xe(E),ze=fe===""?"."+B(E,0):fe,R(xe)?(se="",ze!=null&&(se=ze.replace(X,"$&/")+"/"),U(xe,P,se,"",function(Ce){return Ce})):xe!=null&&(te(xe)&&(xe=V(xe,se+(xe.key==null||E&&E.key===xe.key?"":(""+xe.key).replace(X,"$&/")+"/")+ze)),P.push(xe)),1;ze=0;var lt=fe===""?".":fe+":";if(R(E))for(var K=0;K<E.length;K++)fe=E[K],_e=lt+B(fe,K),ze+=U(fe,P,se,_e,xe);else if(K=j(E),typeof K=="function")for(E=K.call(E),K=0;!(fe=E.next()).done;)fe=fe.value,_e=lt+B(fe,K++),ze+=U(fe,P,se,_e,xe);else if(_e==="object"){if(typeof E.then=="function")return U(de(E),P,se,fe,xe);throw P=String(E),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ze}function Q(E,P,se){if(E==null)return E;var fe=[],xe=0;return U(E,fe,"","",function(_e){return P.call(se,_e,xe++)}),fe}function W(E){if(E._status===-1){var P=E._result;P=P(),P.then(function(se){(E._status===0||E._status===-1)&&(E._status=1,E._result=se)},function(se){(E._status===0||E._status===-1)&&(E._status=2,E._result=se)}),E._status===-1&&(E._status=0,E._result=P)}if(E._status===1)return E._result.default;throw E._result}var pe=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},ve={map:Q,forEach:function(E,P,se){Q(E,function(){P.apply(this,arguments)},se)},count:function(E){var P=0;return Q(E,function(){P++}),P},toArray:function(E){return Q(E,function(P){return P})||[]},only:function(E){if(!te(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return De.Activity=N,De.Children=ve,De.Component=M,De.Fragment=n,De.Profiler=o,De.PureComponent=D,De.StrictMode=s,De.Suspense=v,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,De.__COMPILER_RUNTIME={__proto__:null,c:function(E){return k.H.useMemoCache(E)}},De.cache=function(E){return function(){return E.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(E,P,se){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var fe=T({},E.props),xe=E.key;if(P!=null)for(_e in P.key!==void 0&&(xe=""+P.key),P)!z.call(P,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&P.ref===void 0||(fe[_e]=P[_e]);var _e=arguments.length-2;if(_e===1)fe.children=se;else if(1<_e){for(var ze=Array(_e),lt=0;lt<_e;lt++)ze[lt]=arguments[lt+2];fe.children=ze}return G(E.type,xe,fe)},De.createContext=function(E){return E={$$typeof:p,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:u,_context:E},E},De.createElement=function(E,P,se){var fe,xe={},_e=null;if(P!=null)for(fe in P.key!==void 0&&(_e=""+P.key),P)z.call(P,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(xe[fe]=P[fe]);var ze=arguments.length-2;if(ze===1)xe.children=se;else if(1<ze){for(var lt=Array(ze),K=0;K<ze;K++)lt[K]=arguments[K+2];xe.children=lt}if(E&&E.defaultProps)for(fe in ze=E.defaultProps,ze)xe[fe]===void 0&&(xe[fe]=ze[fe]);return G(E,_e,xe)},De.createRef=function(){return{current:null}},De.forwardRef=function(E){return{$$typeof:g,render:E}},De.isValidElement=te,De.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:W}},De.memo=function(E,P){return{$$typeof:x,type:E,compare:P===void 0?null:P}},De.startTransition=function(E){var P=k.T,se={};k.T=se;try{var fe=E(),xe=k.S;xe!==null&&xe(se,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then($,pe)}catch(_e){pe(_e)}finally{P!==null&&se.types!==null&&(P.types=se.types),k.T=P}},De.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},De.use=function(E){return k.H.use(E)},De.useActionState=function(E,P,se){return k.H.useActionState(E,P,se)},De.useCallback=function(E,P){return k.H.useCallback(E,P)},De.useContext=function(E){return k.H.useContext(E)},De.useDebugValue=function(){},De.useDeferredValue=function(E,P){return k.H.useDeferredValue(E,P)},De.useEffect=function(E,P){return k.H.useEffect(E,P)},De.useEffectEvent=function(E){return k.H.useEffectEvent(E)},De.useId=function(){return k.H.useId()},De.useImperativeHandle=function(E,P,se){return k.H.useImperativeHandle(E,P,se)},De.useInsertionEffect=function(E,P){return k.H.useInsertionEffect(E,P)},De.useLayoutEffect=function(E,P){return k.H.useLayoutEffect(E,P)},De.useMemo=function(E,P){return k.H.useMemo(E,P)},De.useOptimistic=function(E,P){return k.H.useOptimistic(E,P)},De.useReducer=function(E,P,se){return k.H.useReducer(E,P,se)},De.useRef=function(E){return k.H.useRef(E)},De.useState=function(E){return k.H.useState(E)},De.useSyncExternalStore=function(E,P,se){return k.H.useSyncExternalStore(E,P,se)},De.useTransition=function(){return k.H.useTransition()},De.version="19.2.3",De}var _p;function vu(){return _p||(_p=1,Yc.exports=iv()),Yc.exports}var A=vu();const zs=av(A);var Zc={exports:{}},Hl={},Jc={exports:{}},Kc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function rv(){return jp||(jp=1,(function(l){function t(U,Q){var W=U.length;U.push(Q);e:for(;0<W;){var pe=W-1>>>1,ve=U[pe];if(0<o(ve,Q))U[pe]=Q,U[W]=ve,W=pe;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var Q=U[0],W=U.pop();if(W!==Q){U[0]=W;e:for(var pe=0,ve=U.length,E=ve>>>1;pe<E;){var P=2*(pe+1)-1,se=U[P],fe=P+1,xe=U[fe];if(0>o(se,W))fe<ve&&0>o(xe,se)?(U[pe]=xe,U[fe]=W,pe=fe):(U[pe]=se,U[P]=W,pe=P);else if(fe<ve&&0>o(xe,W))U[pe]=xe,U[fe]=W,pe=fe;else break e}}return Q}function o(U,Q){var W=U.sortIndex-Q.sortIndex;return W!==0?W:U.id-Q.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;l.unstable_now=function(){return u.now()}}else{var p=Date,g=p.now();l.unstable_now=function(){return p.now()-g}}var v=[],x=[],y=1,N=null,w=3,j=!1,_=!1,T=!1,S=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function O(U){for(var Q=n(x);Q!==null;){if(Q.callback===null)s(x);else if(Q.startTime<=U)s(x),Q.sortIndex=Q.expirationTime,t(v,Q);else break;Q=n(x)}}function R(U){if(T=!1,O(U),!_)if(n(v)!==null)_=!0,$||($=!0,le());else{var Q=n(x);Q!==null&&de(R,Q.startTime-U)}}var $=!1,k=-1,z=5,G=-1;function V(){return S?!0:!(l.unstable_now()-G<z)}function te(){if(S=!1,$){var U=l.unstable_now();G=U;var Q=!0;try{e:{_=!1,T&&(T=!1,I(k),k=-1),j=!0;var W=w;try{t:{for(O(U),N=n(v);N!==null&&!(N.expirationTime>U&&V());){var pe=N.callback;if(typeof pe=="function"){N.callback=null,w=N.priorityLevel;var ve=pe(N.expirationTime<=U);if(U=l.unstable_now(),typeof ve=="function"){N.callback=ve,O(U),Q=!0;break t}N===n(v)&&s(v),O(U)}else s(v);N=n(v)}if(N!==null)Q=!0;else{var E=n(x);E!==null&&de(R,E.startTime-U),Q=!1}}break e}finally{N=null,w=W,j=!1}Q=void 0}}finally{Q?le():$=!1}}}var le;if(typeof D=="function")le=function(){D(te)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,B=X.port2;X.port1.onmessage=te,le=function(){B.postMessage(null)}}else le=function(){M(te,0)};function de(U,Q){k=M(function(){U(l.unstable_now())},Q)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(U){U.callback=null},l.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<U?Math.floor(1e3/U):5},l.unstable_getCurrentPriorityLevel=function(){return w},l.unstable_next=function(U){switch(w){case 1:case 2:case 3:var Q=3;break;default:Q=w}var W=w;w=Q;try{return U()}finally{w=W}},l.unstable_requestPaint=function(){S=!0},l.unstable_runWithPriority=function(U,Q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=w;w=U;try{return Q()}finally{w=W}},l.unstable_scheduleCallback=function(U,Q,W){var pe=l.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?pe+W:pe):W=pe,U){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=W+ve,U={id:y++,callback:Q,priorityLevel:U,startTime:W,expirationTime:ve,sortIndex:-1},W>pe?(U.sortIndex=W,t(x,U),n(v)===null&&U===n(x)&&(T?(I(k),k=-1):T=!0,de(R,W-pe))):(U.sortIndex=ve,t(v,U),_||j||(_=!0,$||($=!0,le()))),U},l.unstable_shouldYield=V,l.unstable_wrapCallback=function(U){var Q=w;return function(){var W=w;w=Q;try{return U.apply(this,arguments)}finally{w=W}}}})(Kc)),Kc}var Ep;function ov(){return Ep||(Ep=1,Jc.exports=rv()),Jc.exports}var Xc={exports:{}},Dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function cv(){if(kp)return Dt;kp=1;var l=vu();function t(v){var x="https://react.dev/errors/"+v;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)x+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+v+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,x,y){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:v,containerInfo:x,implementation:y}}var p=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,x){if(v==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Dt.createPortal=function(v,x){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(t(299));return u(v,x,null,y)},Dt.flushSync=function(v){var x=p.T,y=s.p;try{if(p.T=null,s.p=2,v)return v()}finally{p.T=x,s.p=y,s.d.f()}},Dt.preconnect=function(v,x){typeof v=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,s.d.C(v,x))},Dt.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Dt.preinit=function(v,x){if(typeof v=="string"&&x&&typeof x.as=="string"){var y=x.as,N=g(y,x.crossOrigin),w=typeof x.integrity=="string"?x.integrity:void 0,j=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;y==="style"?s.d.S(v,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:N,integrity:w,fetchPriority:j}):y==="script"&&s.d.X(v,{crossOrigin:N,integrity:w,fetchPriority:j,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Dt.preinitModule=function(v,x){if(typeof v=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var y=g(x.as,x.crossOrigin);s.d.M(v,{crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&s.d.M(v)},Dt.preload=function(v,x){if(typeof v=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var y=x.as,N=g(y,x.crossOrigin);s.d.L(v,y,{crossOrigin:N,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Dt.preloadModule=function(v,x){if(typeof v=="string")if(x){var y=g(x.as,x.crossOrigin);s.d.m(v,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else s.d.m(v)},Dt.requestFormReset=function(v){s.d.r(v)},Dt.unstable_batchedUpdates=function(v,x){return v(x)},Dt.useFormState=function(v,x,y){return p.H.useFormState(v,x,y)},Dt.useFormStatus=function(){return p.H.useHostTransitionStatus()},Dt.version="19.2.3",Dt}var Ap;function uv(){if(Ap)return Xc.exports;Ap=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),Xc.exports=cv(),Xc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function dv(){if(Dp)return Hl;Dp=1;var l=ov(),t=vu(),n=uv();function s(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)a+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,r=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(r=a.return),e=a.return;while(e)}return a.tag===3?r:null}function p(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function g(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function v(e){if(u(e)!==e)throw Error(s(188))}function x(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(s(188));return a!==e?null:e}for(var r=e,c=a;;){var m=r.return;if(m===null)break;var h=m.alternate;if(h===null){if(c=m.return,c!==null){r=c;continue}break}if(m.child===h.child){for(h=m.child;h;){if(h===r)return v(m),e;if(h===c)return v(m),a;h=h.sibling}throw Error(s(188))}if(r.return!==c.return)r=m,c=h;else{for(var b=!1,C=m.child;C;){if(C===r){b=!0,r=m,c=h;break}if(C===c){b=!0,c=m,r=h;break}C=C.sibling}if(!b){for(C=h.child;C;){if(C===r){b=!0,r=h,c=m;break}if(C===c){b=!0,c=h,r=m;break}C=C.sibling}if(!b)throw Error(s(189))}}if(r.alternate!==c)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:a}function y(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=y(e),a!==null)return a;e=e.sibling}return null}var N=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var X=Symbol.for("react.client.reference");function B(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===X?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case M:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case $:return"SuspenseList";case G:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case D:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case O:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return a=e.displayName||null,a!==null?a:B(e.type)||"Memo";case z:a=e._payload,e=e._init;try{return B(e(a))}catch{}}return null}var de=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},pe=[],ve=-1;function E(e){return{current:e}}function P(e){0>ve||(e.current=pe[ve],pe[ve]=null,ve--)}function se(e,a){ve++,pe[ve]=e.current,e.current=a}var fe=E(null),xe=E(null),_e=E(null),ze=E(null);function lt(e,a){switch(se(_e,a),se(xe,e),se(fe,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?Fm(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=Fm(a),e=Ym(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(fe),se(fe,e)}function K(){P(fe),P(xe),P(_e)}function Ce(e){e.memoizedState!==null&&se(ze,e);var a=fe.current,r=Ym(a,e.type);a!==r&&(se(xe,e),se(fe,r))}function Ie(e){xe.current===e&&(P(fe),P(xe)),ze.current===e&&(P(ze),Ul._currentValue=W)}var ct,wt;function Ve(e){if(ct===void 0)try{throw Error()}catch(r){var a=r.stack.trim().match(/\n( *(at )?)/);ct=a&&a[1]||"",wt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ct+e+wt}var Mt=!1;function Pn(e,a){if(!e||Mt)return"";Mt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ee){var J=ee}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(ee){J=ee}e.call(ue.prototype)}}else{try{throw Error()}catch(ee){J=ee}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),b=h[0],C=h[1];if(b&&C){var L=b.split(`
`),Z=C.split(`
`);for(m=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;if(c===L.length||m===Z.length)for(c=L.length-1,m=Z.length-1;1<=c&&0<=m&&L[c]!==Z[m];)m--;for(;1<=c&&0<=m;c--,m--)if(L[c]!==Z[m]){if(c!==1||m!==1)do if(c--,m--,0>m||L[c]!==Z[m]){var ae=`
`+L[c].replace(" at new "," at ");return e.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",e.displayName)),ae}while(1<=c&&0<=m);break}}}finally{Mt=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ve(r):""}function Kl(e,a){switch(e.tag){case 26:case 27:case 5:return Ve(e.type);case 16:return Ve("Lazy");case 13:return e.child!==a&&a!==null?Ve("Suspense Fallback"):Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return Pn(e.type,!1);case 11:return Pn(e.type.render,!1);case 1:return Pn(e.type,!0);case 31:return Ve("Activity");default:return""}}function Xl(e){try{var a="",r=null;do a+=Kl(e,r),r=e,e=e.return;while(e);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Pa=Object.prototype.hasOwnProperty,$a=l.unstable_scheduleCallback,ne=l.unstable_cancelCallback,ie=l.unstable_shouldYield,oe=l.unstable_requestPaint,ce=l.unstable_now,ht=l.unstable_getCurrentPriorityLevel,xt=l.unstable_ImmediatePriority,Na=l.unstable_UserBlockingPriority,Nn=l.unstable_NormalPriority,wn=l.unstable_LowPriority,Ql=l.unstable_IdlePriority,Mr=l.log,Hx=l.unstable_setDisableYieldValue,Ys=null,qt=null;function $n(e){if(typeof Mr=="function"&&Hx(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Ys,e)}catch{}}var Pt=Math.clz32?Math.clz32:qx,Bx=Math.log,Gx=Math.LN2;function qx(e){return e>>>=0,e===0?32:31-(Bx(e)/Gx|0)|0}var Wl=256,ei=262144,ti=4194304;function wa(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,a,r){var c=e.pendingLanes;if(c===0)return 0;var m=0,h=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var C=c&134217727;return C!==0?(c=C&~h,c!==0?m=wa(c):(b&=C,b!==0?m=wa(b):r||(r=C&~e,r!==0&&(m=wa(r))))):(C=c&~h,C!==0?m=wa(C):b!==0?m=wa(b):r||(r=c&~e,r!==0&&(m=wa(r)))),m===0?0:a!==0&&a!==m&&(a&h)===0&&(h=m&-m,r=a&-a,h>=r||h===32&&(r&4194048)!==0)?a:m}function Zs(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function Px(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _u(){var e=ti;return ti<<=1,(ti&62914560)===0&&(ti=4194304),e}function Rr(e){for(var a=[],r=0;31>r;r++)a.push(e);return a}function Js(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $x(e,a,r,c,m,h){var b=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var C=e.entanglements,L=e.expirationTimes,Z=e.hiddenUpdates;for(r=b&~r;0<r;){var ae=31-Pt(r),ue=1<<ae;C[ae]=0,L[ae]=-1;var J=Z[ae];if(J!==null)for(Z[ae]=null,ae=0;ae<J.length;ae++){var ee=J[ae];ee!==null&&(ee.lane&=-536870913)}r&=~ue}c!==0&&ju(e,c,0),h!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=h&~(b&~a))}function ju(e,a,r){e.pendingLanes|=a,e.suspendedLanes&=~a;var c=31-Pt(a);e.entangledLanes|=a,e.entanglements[c]=e.entanglements[c]|1073741824|r&261930}function Eu(e,a){var r=e.entangledLanes|=a;for(e=e.entanglements;r;){var c=31-Pt(r),m=1<<c;m&a|e[c]&a&&(e[c]|=a),r&=~m}}function ku(e,a){var r=a&-a;return r=(r&42)!==0?1:Ir(r),(r&(e.suspendedLanes|a))!==0?0:r}function Ir(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ur(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Au(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:xp(e.type))}function Du(e,a){var r=Q.p;try{return Q.p=e,a()}finally{Q.p=r}}var Fn=Math.random().toString(36).slice(2),_t="__reactFiber$"+Fn,Lt="__reactProps$"+Fn,Fa="__reactContainer$"+Fn,Lr="__reactEvents$"+Fn,Fx="__reactListeners$"+Fn,Yx="__reactHandles$"+Fn,Mu="__reactResources$"+Fn,Ks="__reactMarker$"+Fn;function zr(e){delete e[_t],delete e[Lt],delete e[Lr],delete e[Fx],delete e[Yx]}function Ya(e){var a=e[_t];if(a)return a;for(var r=e.parentNode;r;){if(a=r[Fa]||r[_t]){if(r=a.alternate,a.child!==null||r!==null&&r.child!==null)for(e=ep(e);e!==null;){if(r=e[_t])return r;e=ep(e)}return a}e=r,r=e.parentNode}return null}function Za(e){if(e=e[_t]||e[Fa]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function Xs(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(s(33))}function Ja(e){var a=e[Mu];return a||(a=e[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ct(e){e[Ks]=!0}var Ru=new Set,Iu={};function Ta(e,a){Ka(e,a),Ka(e+"Capture",a)}function Ka(e,a){for(Iu[e]=a,e=0;e<a.length;e++)Ru.add(a[e])}var Zx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uu={},Lu={};function Jx(e){return Pa.call(Lu,e)?!0:Pa.call(Uu,e)?!1:Zx.test(e)?Lu[e]=!0:(Uu[e]=!0,!1)}function ai(e,a,r){if(Jx(a))if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+r)}}function si(e,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+r)}}function Tn(e,a,r,c){if(c===null)e.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(a,r,""+c)}}function Qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zu(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Kx(e,a,r){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,h=c.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return m.call(this)},set:function(b){r=""+b,h.call(this,b)}}),Object.defineProperty(e,a,{enumerable:c.enumerable}),{getValue:function(){return r},setValue:function(b){r=""+b},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function Vr(e){if(!e._valueTracker){var a=zu(e)?"checked":"value";e._valueTracker=Kx(e,a,""+e[a])}}function Vu(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var r=a.getValue(),c="";return e&&(c=zu(e)?e.checked?"true":"false":e.value),e=c,e!==r?(a.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xx=/[\n"\\]/g;function Wt(e){return e.replace(Xx,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Or(e,a,r,c,m,h,b,C){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),a!=null?b==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Qt(a)):e.value!==""+Qt(a)&&(e.value=""+Qt(a)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),a!=null?Hr(e,b,Qt(a)):r!=null?Hr(e,b,Qt(r)):c!=null&&e.removeAttribute("value"),m==null&&h!=null&&(e.defaultChecked=!!h),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Qt(C):e.removeAttribute("name")}function Ou(e,a,r,c,m,h,b,C){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),a!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||a!=null)){Vr(e);return}r=r!=null?""+Qt(r):"",a=a!=null?""+Qt(a):r,C||a===e.value||(e.value=a),e.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=C?e.checked:!!c,e.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),Vr(e)}function Hr(e,a,r){a==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Xa(e,a,r,c){if(e=e.options,a){a={};for(var m=0;m<r.length;m++)a["$"+r[m]]=!0;for(r=0;r<e.length;r++)m=a.hasOwnProperty("$"+e[r].value),e[r].selected!==m&&(e[r].selected=m),m&&c&&(e[r].defaultSelected=!0)}else{for(r=""+Qt(r),a=null,m=0;m<e.length;m++){if(e[m].value===r){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}a!==null||e[m].disabled||(a=e[m])}a!==null&&(a.selected=!0)}}function Hu(e,a,r){if(a!=null&&(a=""+Qt(a),a!==e.value&&(e.value=a),r==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=r!=null?""+Qt(r):""}function Bu(e,a,r,c){if(a==null){if(c!=null){if(r!=null)throw Error(s(92));if(de(c)){if(1<c.length)throw Error(s(93));c=c[0]}r=c}r==null&&(r=""),a=r}r=Qt(a),e.defaultValue=r,c=e.textContent,c===r&&c!==""&&c!==null&&(e.value=c),Vr(e)}function Qa(e,a){if(a){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=a;return}}e.textContent=a}var Qx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gu(e,a,r){var c=a.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":c?e.setProperty(a,r):typeof r!="number"||r===0||Qx.has(a)?a==="float"?e.cssFloat=r:e[a]=(""+r).trim():e[a]=r+"px"}function qu(e,a,r){if(a!=null&&typeof a!="object")throw Error(s(62));if(e=e.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&r[m]!==c&&Gu(e,m,c)}else for(var h in a)a.hasOwnProperty(h)&&Gu(e,h,a[h])}function Br(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ii(e){return eg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Cn(){}var Gr=null;function qr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wa=null,es=null;function Pu(e){var a=Za(e);if(a&&(e=a.stateNode)){var r=e[Lt]||null;e:switch(e=a.stateNode,a.type){case"input":if(Or(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),a=r.name,r.type==="radio"&&a!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Wt(""+a)+'"][type="radio"]'),a=0;a<r.length;a++){var c=r[a];if(c!==e&&c.form===e.form){var m=c[Lt]||null;if(!m)throw Error(s(90));Or(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<r.length;a++)c=r[a],c.form===e.form&&Vu(c)}break e;case"textarea":Hu(e,r.value,r.defaultValue);break e;case"select":a=r.value,a!=null&&Xa(e,!!r.multiple,a,!1)}}}var Pr=!1;function $u(e,a,r){if(Pr)return e(a,r);Pr=!0;try{var c=e(a);return c}finally{if(Pr=!1,(Wa!==null||es!==null)&&(Yi(),Wa&&(a=Wa,e=es,es=Wa=null,Pu(a),e)))for(a=0;a<e.length;a++)Pu(e[a])}}function Qs(e,a){var r=e.stateNode;if(r===null)return null;var c=r[Lt]||null;if(c===null)return null;r=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,a,typeof r));return r}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$r=!1;if(Sn)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){$r=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{$r=!1}var Yn=null,Fr=null,ri=null;function Fu(){if(ri)return ri;var e,a=Fr,r=a.length,c,m="value"in Yn?Yn.value:Yn.textContent,h=m.length;for(e=0;e<r&&a[e]===m[e];e++);var b=r-e;for(c=1;c<=b&&a[r-c]===m[h-c];c++);return ri=m.slice(e,1<c?1-c:void 0)}function oi(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function ci(){return!0}function Yu(){return!1}function zt(e){function a(r,c,m,h,b){this._reactName=r,this._targetInst=m,this.type=c,this.nativeEvent=h,this.target=b,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(r=e[C],this[C]=r?r(h):h[C]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ci:Yu,this.isPropagationStopped=Yu,this}return N(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),a}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=zt(Ca),el=N({},Ca,{view:0,detail:0}),tg=zt(el),Yr,Zr,tl,di=N({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tl&&(tl&&e.type==="mousemove"?(Yr=e.screenX-tl.screenX,Zr=e.screenY-tl.screenY):Zr=Yr=0,tl=e),Yr)},movementY:function(e){return"movementY"in e?e.movementY:Zr}}),Zu=zt(di),ng=N({},di,{dataTransfer:0}),ag=zt(ng),sg=N({},el,{relatedTarget:0}),Jr=zt(sg),lg=N({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),ig=zt(lg),rg=N({},Ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),og=zt(rg),cg=N({},Ca,{data:0}),Ju=zt(cg),ug={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mg(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=fg[e])?!!a[e]:!1}function Kr(){return mg}var pg=N({},el,{key:function(e){if(e.key){var a=ug[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(e){return e.type==="keypress"?oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hg=zt(pg),xg=N({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ku=zt(xg),gg=N({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),vg=zt(gg),yg=N({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),bg=zt(yg),Ng=N({},di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wg=zt(Ng),Tg=N({},Ca,{newState:0,oldState:0}),Cg=zt(Tg),Sg=[9,13,27,32],Xr=Sn&&"CompositionEvent"in window,nl=null;Sn&&"documentMode"in document&&(nl=document.documentMode);var _g=Sn&&"TextEvent"in window&&!nl,Xu=Sn&&(!Xr||nl&&8<nl&&11>=nl),Qu=" ",Wu=!1;function ed(e,a){switch(e){case"keyup":return Sg.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function td(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ts=!1;function jg(e,a){switch(e){case"compositionend":return td(a);case"keypress":return a.which!==32?null:(Wu=!0,Qu);case"textInput":return e=a.data,e===Qu&&Wu?null:e;default:return null}}function Eg(e,a){if(ts)return e==="compositionend"||!Xr&&ed(e,a)?(e=Fu(),ri=Fr=Yn=null,ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Xu&&a.locale!=="ko"?null:a.data;default:return null}}var kg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nd(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!kg[e.type]:a==="textarea"}function ad(e,a,r,c){Wa?es?es.push(c):es=[c]:Wa=c,a=er(a,"onChange"),0<a.length&&(r=new ui("onChange","change",null,r,c),e.push({event:r,listeners:a}))}var al=null,sl=null;function Ag(e){Hm(e,0)}function fi(e){var a=Xs(e);if(Vu(a))return e}function sd(e,a){if(e==="change")return a}var ld=!1;if(Sn){var Qr;if(Sn){var Wr="oninput"in document;if(!Wr){var id=document.createElement("div");id.setAttribute("oninput","return;"),Wr=typeof id.oninput=="function"}Qr=Wr}else Qr=!1;ld=Qr&&(!document.documentMode||9<document.documentMode)}function rd(){al&&(al.detachEvent("onpropertychange",od),sl=al=null)}function od(e){if(e.propertyName==="value"&&fi(sl)){var a=[];ad(a,sl,e,qr(e)),$u(Ag,a)}}function Dg(e,a,r){e==="focusin"?(rd(),al=a,sl=r,al.attachEvent("onpropertychange",od)):e==="focusout"&&rd()}function Mg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fi(sl)}function Rg(e,a){if(e==="click")return fi(a)}function Ig(e,a){if(e==="input"||e==="change")return fi(a)}function Ug(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var $t=typeof Object.is=="function"?Object.is:Ug;function ll(e,a){if($t(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var r=Object.keys(e),c=Object.keys(a);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var m=r[c];if(!Pa.call(a,m)||!$t(e[m],a[m]))return!1}return!0}function cd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ud(e,a){var r=cd(e);e=0;for(var c;r;){if(r.nodeType===3){if(c=e+r.textContent.length,e<=a&&c>=a)return{node:r,offset:a-e};e=c}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cd(r)}}function dd(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?dd(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function fd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=li(e.document);a instanceof e.HTMLIFrameElement;){try{var r=typeof a.contentWindow.location.href=="string"}catch{r=!1}if(r)e=a.contentWindow;else break;a=li(e.document)}return a}function eo(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var Lg=Sn&&"documentMode"in document&&11>=document.documentMode,ns=null,to=null,il=null,no=!1;function md(e,a,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;no||ns==null||ns!==li(c)||(c=ns,"selectionStart"in c&&eo(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),il&&ll(il,c)||(il=c,c=er(to,"onSelect"),0<c.length&&(a=new ui("onSelect","select",null,a,r),e.push({event:a,listeners:c}),a.target=ns)))}function Sa(e,a){var r={};return r[e.toLowerCase()]=a.toLowerCase(),r["Webkit"+e]="webkit"+a,r["Moz"+e]="moz"+a,r}var as={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionrun:Sa("Transition","TransitionRun"),transitionstart:Sa("Transition","TransitionStart"),transitioncancel:Sa("Transition","TransitionCancel"),transitionend:Sa("Transition","TransitionEnd")},ao={},pd={};Sn&&(pd=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function _a(e){if(ao[e])return ao[e];if(!as[e])return e;var a=as[e],r;for(r in a)if(a.hasOwnProperty(r)&&r in pd)return ao[e]=a[r];return e}var hd=_a("animationend"),xd=_a("animationiteration"),gd=_a("animationstart"),zg=_a("transitionrun"),Vg=_a("transitionstart"),Og=_a("transitioncancel"),vd=_a("transitionend"),yd=new Map,so="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");so.push("scrollEnd");function un(e,a){yd.set(e,a),Ta(a,[e])}var mi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},en=[],ss=0,lo=0;function pi(){for(var e=ss,a=lo=ss=0;a<e;){var r=en[a];en[a++]=null;var c=en[a];en[a++]=null;var m=en[a];en[a++]=null;var h=en[a];if(en[a++]=null,c!==null&&m!==null){var b=c.pending;b===null?m.next=m:(m.next=b.next,b.next=m),c.pending=m}h!==0&&bd(r,m,h)}}function hi(e,a,r,c){en[ss++]=e,en[ss++]=a,en[ss++]=r,en[ss++]=c,lo|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function io(e,a,r,c){return hi(e,a,r,c),xi(e)}function ja(e,a){return hi(e,null,null,a),xi(e)}function bd(e,a,r){e.lanes|=r;var c=e.alternate;c!==null&&(c.lanes|=r);for(var m=!1,h=e.return;h!==null;)h.childLanes|=r,c=h.alternate,c!==null&&(c.childLanes|=r),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(m=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,m&&a!==null&&(m=31-Pt(r),e=h.hiddenUpdates,c=e[m],c===null?e[m]=[a]:c.push(a),a.lane=r|536870912),h):null}function xi(e){if(50<El)throw El=0,xc=null,Error(s(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var ls={};function Hg(e,a,r,c){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,a,r,c){return new Hg(e,a,r,c)}function ro(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _n(e,a){var r=e.alternate;return r===null?(r=Ft(e.tag,a,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=a,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,a=e.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Nd(e,a){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,a=r.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function gi(e,a,r,c,m,h){var b=0;if(c=e,typeof e=="function")ro(e)&&(b=1);else if(typeof e=="string")b=$0(e,r,fe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case G:return e=Ft(31,r,a,m),e.elementType=G,e.lanes=h,e;case T:return Ea(r.children,m,h,a);case S:b=8,m|=24;break;case M:return e=Ft(12,r,a,m|2),e.elementType=M,e.lanes=h,e;case R:return e=Ft(13,r,a,m),e.elementType=R,e.lanes=h,e;case $:return e=Ft(19,r,a,m),e.elementType=$,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:b=10;break e;case I:b=9;break e;case O:b=11;break e;case k:b=14;break e;case z:b=16,c=null;break e}b=29,r=Error(s(130,e===null?"null":typeof e,"")),c=null}return a=Ft(b,r,a,m),a.elementType=e,a.type=c,a.lanes=h,a}function Ea(e,a,r,c){return e=Ft(7,e,c,a),e.lanes=r,e}function oo(e,a,r){return e=Ft(6,e,null,a),e.lanes=r,e}function wd(e){var a=Ft(18,null,null,0);return a.stateNode=e,a}function co(e,a,r){return a=Ft(4,e.children!==null?e.children:[],e.key,a),a.lanes=r,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var Td=new WeakMap;function tn(e,a){if(typeof e=="object"&&e!==null){var r=Td.get(e);return r!==void 0?r:(a={value:e,source:a,stack:Xl(a)},Td.set(e,a),a)}return{value:e,source:a,stack:Xl(a)}}var is=[],rs=0,vi=null,rl=0,nn=[],an=0,Zn=null,pn=1,hn="";function jn(e,a){is[rs++]=rl,is[rs++]=vi,vi=e,rl=a}function Cd(e,a,r){nn[an++]=pn,nn[an++]=hn,nn[an++]=Zn,Zn=e;var c=pn;e=hn;var m=32-Pt(c)-1;c&=~(1<<m),r+=1;var h=32-Pt(a)+m;if(30<h){var b=m-m%5;h=(c&(1<<b)-1).toString(32),c>>=b,m-=b,pn=1<<32-Pt(a)+m|r<<m|c,hn=h+e}else pn=1<<h|r<<m|c,hn=e}function uo(e){e.return!==null&&(jn(e,1),Cd(e,1,0))}function fo(e){for(;e===vi;)vi=is[--rs],is[rs]=null,rl=is[--rs],is[rs]=null;for(;e===Zn;)Zn=nn[--an],nn[an]=null,hn=nn[--an],nn[an]=null,pn=nn[--an],nn[an]=null}function Sd(e,a){nn[an++]=pn,nn[an++]=hn,nn[an++]=Zn,pn=a.id,hn=a.overflow,Zn=e}var jt=null,it=null,qe=!1,Jn=null,sn=!1,mo=Error(s(519));function Kn(e){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ol(tn(a,e)),mo}function _d(e){var a=e.stateNode,r=e.type,c=e.memoizedProps;switch(a[_t]=e,a[Lt]=c,r){case"dialog":He("cancel",a),He("close",a);break;case"iframe":case"object":case"embed":He("load",a);break;case"video":case"audio":for(r=0;r<Al.length;r++)He(Al[r],a);break;case"source":He("error",a);break;case"img":case"image":case"link":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"input":He("invalid",a),Ou(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":He("invalid",a);break;case"textarea":He("invalid",a),Bu(a,c.value,c.defaultValue,c.children)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||a.textContent===""+r||c.suppressHydrationWarning===!0||Pm(a.textContent,r)?(c.popover!=null&&(He("beforetoggle",a),He("toggle",a)),c.onScroll!=null&&He("scroll",a),c.onScrollEnd!=null&&He("scrollend",a),c.onClick!=null&&(a.onclick=Cn),a=!0):a=!1,a||Kn(e,!0)}function jd(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:jt=jt.return}}function os(e){if(e!==jt)return!1;if(!qe)return jd(e),qe=!0,!1;var a=e.tag,r;if((r=a!==3&&a!==27)&&((r=a===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Dc(e.type,e.memoizedProps)),r=!r),r&&it&&Kn(e),jd(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));it=Wm(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));it=Wm(e)}else a===27?(a=it,ua(e.type)?(e=Lc,Lc=null,it=e):it=a):it=jt?rn(e.stateNode.nextSibling):null;return!0}function ka(){it=jt=null,qe=!1}function po(){var e=Jn;return e!==null&&(Bt===null?Bt=e:Bt.push.apply(Bt,e),Jn=null),e}function ol(e){Jn===null?Jn=[e]:Jn.push(e)}var ho=E(null),Aa=null,En=null;function Xn(e,a,r){se(ho,a._currentValue),a._currentValue=r}function kn(e){e._currentValue=ho.current,P(ho)}function xo(e,a,r){for(;e!==null;){var c=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),e===r)break;e=e.return}}function go(e,a,r,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var h=m.dependencies;if(h!==null){var b=m.child;h=h.firstContext;e:for(;h!==null;){var C=h;h=m;for(var L=0;L<a.length;L++)if(C.context===a[L]){h.lanes|=r,C=h.alternate,C!==null&&(C.lanes|=r),xo(h.return,r,e),c||(b=null);break e}h=C.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(s(341));b.lanes|=r,h=b.alternate,h!==null&&(h.lanes|=r),xo(b,r,e),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===e){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function cs(e,a,r,c){e=null;for(var m=a,h=!1;m!==null;){if(!h){if((m.flags&524288)!==0)h=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var C=m.type;$t(m.pendingProps.value,b.value)||(e!==null?e.push(C):e=[C])}}else if(m===ze.current){if(b=m.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Ul):e=[Ul])}m=m.return}e!==null&&go(a,e,r,c),a.flags|=262144}function yi(e){for(e=e.firstContext;e!==null;){if(!$t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Da(e){Aa=e,En=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Et(e){return Ed(Aa,e)}function bi(e,a){return Aa===null&&Da(e),Ed(e,a)}function Ed(e,a){var r=a._currentValue;if(a={context:a,memoizedValue:r,next:null},En===null){if(e===null)throw Error(s(308));En=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else En=En.next=a;return r}var Bg=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(r,c){e.push(c)}};this.abort=function(){a.aborted=!0,e.forEach(function(r){return r()})}},Gg=l.unstable_scheduleCallback,qg=l.unstable_NormalPriority,gt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vo(){return{controller:new Bg,data:new Map,refCount:0}}function cl(e){e.refCount--,e.refCount===0&&Gg(qg,function(){e.controller.abort()})}var ul=null,yo=0,us=0,ds=null;function Pg(e,a){if(ul===null){var r=ul=[];yo=0,us=wc(),ds={status:"pending",value:void 0,then:function(c){r.push(c)}}}return yo++,a.then(kd,kd),a}function kd(){if(--yo===0&&ul!==null){ds!==null&&(ds.status="fulfilled");var e=ul;ul=null,us=0,ds=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function $g(e,a){var r=[],c={status:"pending",value:null,reason:null,then:function(m){r.push(m)}};return e.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<r.length;m++)(0,r[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<r.length;m++)(0,r[m])(void 0)}),c}var Ad=U.S;U.S=function(e,a){pm=ce(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Pg(e,a),Ad!==null&&Ad(e,a)};var Ma=E(null);function bo(){var e=Ma.current;return e!==null?e:at.pooledCache}function Ni(e,a){a===null?se(Ma,Ma.current):se(Ma,a.pool)}function Dd(){var e=bo();return e===null?null:{parent:gt._currentValue,pool:e}}var fs=Error(s(460)),No=Error(s(474)),wi=Error(s(542)),Ti={then:function(){}};function Md(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rd(e,a,r){switch(r=e[r],r===void 0?e.push(a):r!==a&&(a.then(Cn,Cn),a=r),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Ud(e),e;default:if(typeof a.status=="string")a.then(Cn,Cn);else{if(e=at,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=a,e.status="pending",e.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Ud(e),e}throw Ia=a,fs}}function Ra(e){try{var a=e._init;return a(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ia=r,fs):r}}var Ia=null;function Id(){if(Ia===null)throw Error(s(459));var e=Ia;return Ia=null,e}function Ud(e){if(e===fs||e===wi)throw Error(s(483))}var ms=null,dl=0;function Ci(e){var a=dl;return dl+=1,ms===null&&(ms=[]),Rd(ms,e,a)}function fl(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Si(e,a){throw a.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(a),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function Ld(e){function a(q,H){if(e){var F=q.deletions;F===null?(q.deletions=[H],q.flags|=16):F.push(H)}}function r(q,H){if(!e)return null;for(;H!==null;)a(q,H),H=H.sibling;return null}function c(q){for(var H=new Map;q!==null;)q.key!==null?H.set(q.key,q):H.set(q.index,q),q=q.sibling;return H}function m(q,H){return q=_n(q,H),q.index=0,q.sibling=null,q}function h(q,H,F){return q.index=F,e?(F=q.alternate,F!==null?(F=F.index,F<H?(q.flags|=67108866,H):F):(q.flags|=67108866,H)):(q.flags|=1048576,H)}function b(q){return e&&q.alternate===null&&(q.flags|=67108866),q}function C(q,H,F,re){return H===null||H.tag!==6?(H=oo(F,q.mode,re),H.return=q,H):(H=m(H,F),H.return=q,H)}function L(q,H,F,re){var Se=F.type;return Se===T?ae(q,H,F.props.children,re,F.key):H!==null&&(H.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===z&&Ra(Se)===H.type)?(H=m(H,F.props),fl(H,F),H.return=q,H):(H=gi(F.type,F.key,F.props,null,q.mode,re),fl(H,F),H.return=q,H)}function Z(q,H,F,re){return H===null||H.tag!==4||H.stateNode.containerInfo!==F.containerInfo||H.stateNode.implementation!==F.implementation?(H=co(F,q.mode,re),H.return=q,H):(H=m(H,F.children||[]),H.return=q,H)}function ae(q,H,F,re,Se){return H===null||H.tag!==7?(H=Ea(F,q.mode,re,Se),H.return=q,H):(H=m(H,F),H.return=q,H)}function ue(q,H,F){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=oo(""+H,q.mode,F),H.return=q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case j:return F=gi(H.type,H.key,H.props,null,q.mode,F),fl(F,H),F.return=q,F;case _:return H=co(H,q.mode,F),H.return=q,H;case z:return H=Ra(H),ue(q,H,F)}if(de(H)||le(H))return H=Ea(H,q.mode,F,null),H.return=q,H;if(typeof H.then=="function")return ue(q,Ci(H),F);if(H.$$typeof===D)return ue(q,bi(q,H),F);Si(q,H)}return null}function J(q,H,F,re){var Se=H!==null?H.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Se!==null?null:C(q,H,""+F,re);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case j:return F.key===Se?L(q,H,F,re):null;case _:return F.key===Se?Z(q,H,F,re):null;case z:return F=Ra(F),J(q,H,F,re)}if(de(F)||le(F))return Se!==null?null:ae(q,H,F,re,null);if(typeof F.then=="function")return J(q,H,Ci(F),re);if(F.$$typeof===D)return J(q,H,bi(q,F),re);Si(q,F)}return null}function ee(q,H,F,re,Se){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return q=q.get(F)||null,C(H,q,""+re,Se);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case j:return q=q.get(re.key===null?F:re.key)||null,L(H,q,re,Se);case _:return q=q.get(re.key===null?F:re.key)||null,Z(H,q,re,Se);case z:return re=Ra(re),ee(q,H,F,re,Se)}if(de(re)||le(re))return q=q.get(F)||null,ae(H,q,re,Se,null);if(typeof re.then=="function")return ee(q,H,F,Ci(re),Se);if(re.$$typeof===D)return ee(q,H,F,bi(H,re),Se);Si(H,re)}return null}function ye(q,H,F,re){for(var Se=null,Ye=null,we=H,Ue=H=0,Ge=null;we!==null&&Ue<F.length;Ue++){we.index>Ue?(Ge=we,we=null):Ge=we.sibling;var Ze=J(q,we,F[Ue],re);if(Ze===null){we===null&&(we=Ge);break}e&&we&&Ze.alternate===null&&a(q,we),H=h(Ze,H,Ue),Ye===null?Se=Ze:Ye.sibling=Ze,Ye=Ze,we=Ge}if(Ue===F.length)return r(q,we),qe&&jn(q,Ue),Se;if(we===null){for(;Ue<F.length;Ue++)we=ue(q,F[Ue],re),we!==null&&(H=h(we,H,Ue),Ye===null?Se=we:Ye.sibling=we,Ye=we);return qe&&jn(q,Ue),Se}for(we=c(we);Ue<F.length;Ue++)Ge=ee(we,q,Ue,F[Ue],re),Ge!==null&&(e&&Ge.alternate!==null&&we.delete(Ge.key===null?Ue:Ge.key),H=h(Ge,H,Ue),Ye===null?Se=Ge:Ye.sibling=Ge,Ye=Ge);return e&&we.forEach(function(ha){return a(q,ha)}),qe&&jn(q,Ue),Se}function je(q,H,F,re){if(F==null)throw Error(s(151));for(var Se=null,Ye=null,we=H,Ue=H=0,Ge=null,Ze=F.next();we!==null&&!Ze.done;Ue++,Ze=F.next()){we.index>Ue?(Ge=we,we=null):Ge=we.sibling;var ha=J(q,we,Ze.value,re);if(ha===null){we===null&&(we=Ge);break}e&&we&&ha.alternate===null&&a(q,we),H=h(ha,H,Ue),Ye===null?Se=ha:Ye.sibling=ha,Ye=ha,we=Ge}if(Ze.done)return r(q,we),qe&&jn(q,Ue),Se;if(we===null){for(;!Ze.done;Ue++,Ze=F.next())Ze=ue(q,Ze.value,re),Ze!==null&&(H=h(Ze,H,Ue),Ye===null?Se=Ze:Ye.sibling=Ze,Ye=Ze);return qe&&jn(q,Ue),Se}for(we=c(we);!Ze.done;Ue++,Ze=F.next())Ze=ee(we,q,Ue,Ze.value,re),Ze!==null&&(e&&Ze.alternate!==null&&we.delete(Ze.key===null?Ue:Ze.key),H=h(Ze,H,Ue),Ye===null?Se=Ze:Ye.sibling=Ze,Ye=Ze);return e&&we.forEach(function(nv){return a(q,nv)}),qe&&jn(q,Ue),Se}function nt(q,H,F,re){if(typeof F=="object"&&F!==null&&F.type===T&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case j:e:{for(var Se=F.key;H!==null;){if(H.key===Se){if(Se=F.type,Se===T){if(H.tag===7){r(q,H.sibling),re=m(H,F.props.children),re.return=q,q=re;break e}}else if(H.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===z&&Ra(Se)===H.type){r(q,H.sibling),re=m(H,F.props),fl(re,F),re.return=q,q=re;break e}r(q,H);break}else a(q,H);H=H.sibling}F.type===T?(re=Ea(F.props.children,q.mode,re,F.key),re.return=q,q=re):(re=gi(F.type,F.key,F.props,null,q.mode,re),fl(re,F),re.return=q,q=re)}return b(q);case _:e:{for(Se=F.key;H!==null;){if(H.key===Se)if(H.tag===4&&H.stateNode.containerInfo===F.containerInfo&&H.stateNode.implementation===F.implementation){r(q,H.sibling),re=m(H,F.children||[]),re.return=q,q=re;break e}else{r(q,H);break}else a(q,H);H=H.sibling}re=co(F,q.mode,re),re.return=q,q=re}return b(q);case z:return F=Ra(F),nt(q,H,F,re)}if(de(F))return ye(q,H,F,re);if(le(F)){if(Se=le(F),typeof Se!="function")throw Error(s(150));return F=Se.call(F),je(q,H,F,re)}if(typeof F.then=="function")return nt(q,H,Ci(F),re);if(F.$$typeof===D)return nt(q,H,bi(q,F),re);Si(q,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,H!==null&&H.tag===6?(r(q,H.sibling),re=m(H,F),re.return=q,q=re):(r(q,H),re=oo(F,q.mode,re),re.return=q,q=re),b(q)):r(q,H)}return function(q,H,F,re){try{dl=0;var Se=nt(q,H,F,re);return ms=null,Se}catch(we){if(we===fs||we===wi)throw we;var Ye=Ft(29,we,null,q.mode);return Ye.lanes=re,Ye.return=q,Ye}finally{}}}var Ua=Ld(!0),zd=Ld(!1),Qn=!1;function wo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function To(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ea(e,a,r){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Ke&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=xi(e),bd(e,null,r),a}return hi(e,c,a,r),xi(e)}function ml(e,a,r){if(a=a.updateQueue,a!==null&&(a=a.shared,(r&4194048)!==0)){var c=a.lanes;c&=e.pendingLanes,r|=c,a.lanes=r,Eu(e,r)}}function Co(e,a){var r=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var m=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var b={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?m=h=b:h=h.next=b,r=r.next}while(r!==null);h===null?m=h=a:h=h.next=a}else m=h=a;r={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=a:e.next=a,r.lastBaseUpdate=a}var So=!1;function pl(){if(So){var e=ds;if(e!==null)throw e}}function hl(e,a,r,c){So=!1;var m=e.updateQueue;Qn=!1;var h=m.firstBaseUpdate,b=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var L=C,Z=L.next;L.next=null,b===null?h=Z:b.next=Z,b=L;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,C=ae.lastBaseUpdate,C!==b&&(C===null?ae.firstBaseUpdate=Z:C.next=Z,ae.lastBaseUpdate=L))}if(h!==null){var ue=m.baseState;b=0,ae=Z=L=null,C=h;do{var J=C.lane&-536870913,ee=J!==C.lane;if(ee?(Be&J)===J:(c&J)===J){J!==0&&J===us&&(So=!0),ae!==null&&(ae=ae.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ye=e,je=C;J=a;var nt=r;switch(je.tag){case 1:if(ye=je.payload,typeof ye=="function"){ue=ye.call(nt,ue,J);break e}ue=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=je.payload,J=typeof ye=="function"?ye.call(nt,ue,J):ye,J==null)break e;ue=N({},ue,J);break e;case 2:Qn=!0}}J=C.callback,J!==null&&(e.flags|=64,ee&&(e.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ae===null?(Z=ae=ee,L=ue):ae=ae.next=ee,b|=J;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);ae===null&&(L=ue),m.baseState=L,m.firstBaseUpdate=Z,m.lastBaseUpdate=ae,h===null&&(m.shared.lanes=0),la|=b,e.lanes=b,e.memoizedState=ue}}function Vd(e,a){if(typeof e!="function")throw Error(s(191,e));e.call(a)}function Od(e,a){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Vd(r[e],a)}var ps=E(null),_i=E(0);function Hd(e,a){e=Vn,se(_i,e),se(ps,a),Vn=e|a.baseLanes}function _o(){se(_i,Vn),se(ps,ps.current)}function jo(){Vn=_i.current,P(ps),P(_i)}var Yt=E(null),ln=null;function ta(e){var a=e.alternate;se(mt,mt.current&1),se(Yt,e),ln===null&&(a===null||ps.current!==null||a.memoizedState!==null)&&(ln=e)}function Eo(e){se(mt,mt.current),se(Yt,e),ln===null&&(ln=e)}function Bd(e){e.tag===22?(se(mt,mt.current),se(Yt,e),ln===null&&(ln=e)):na()}function na(){se(mt,mt.current),se(Yt,Yt.current)}function Zt(e){P(Yt),ln===e&&(ln=null),P(mt)}var mt=E(0);function ji(e){for(var a=e;a!==null;){if(a.tag===13){var r=a.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Ic(r)||Uc(r)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var An=0,Re=null,et=null,vt=null,Ei=!1,hs=!1,La=!1,ki=0,xl=0,xs=null,Fg=0;function dt(){throw Error(s(321))}function ko(e,a){if(a===null)return!1;for(var r=0;r<a.length&&r<e.length;r++)if(!$t(e[r],a[r]))return!1;return!0}function Ao(e,a,r,c,m,h){return An=h,Re=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,U.H=e===null||e.memoizedState===null?Sf:$o,La=!1,h=r(c,m),La=!1,hs&&(h=qd(a,r,c,m)),Gd(e),h}function Gd(e){U.H=yl;var a=et!==null&&et.next!==null;if(An=0,vt=et=Re=null,Ei=!1,xl=0,xs=null,a)throw Error(s(300));e===null||yt||(e=e.dependencies,e!==null&&yi(e)&&(yt=!0))}function qd(e,a,r,c){Re=e;var m=0;do{if(hs&&(xs=null),xl=0,hs=!1,25<=m)throw Error(s(301));if(m+=1,vt=et=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}U.H=_f,h=a(r,c)}while(hs);return h}function Yg(){var e=U.H,a=e.useState()[0];return a=typeof a.then=="function"?gl(a):a,e=e.useState()[0],(et!==null?et.memoizedState:null)!==e&&(Re.flags|=1024),a}function Do(){var e=ki!==0;return ki=0,e}function Mo(e,a,r){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~r}function Ro(e){if(Ei){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}Ei=!1}An=0,vt=et=Re=null,hs=!1,xl=ki=0,xs=null}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Re.memoizedState=vt=e:vt=vt.next=e,vt}function pt(){if(et===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var a=vt===null?Re.memoizedState:vt.next;if(a!==null)vt=a,et=e;else{if(e===null)throw Re.alternate===null?Error(s(467)):Error(s(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},vt===null?Re.memoizedState=vt=e:vt=vt.next=e}return vt}function Ai(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(e){var a=xl;return xl+=1,xs===null&&(xs=[]),e=Rd(xs,e,a),a=Re,(vt===null?a.memoizedState:vt.next)===null&&(a=a.alternate,U.H=a===null||a.memoizedState===null?Sf:$o),e}function Di(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gl(e);if(e.$$typeof===D)return Et(e)}throw Error(s(438,String(e)))}function Io(e){var a=null,r=Re.updateQueue;if(r!==null&&(a=r.memoCache),a==null){var c=Re.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),r===null&&(r=Ai(),Re.updateQueue=r),r.memoCache=a,r=a.data[a.index],r===void 0)for(r=a.data[a.index]=Array(e),c=0;c<e;c++)r[c]=V;return a.index++,r}function Dn(e,a){return typeof a=="function"?a(e):a}function Mi(e){var a=pt();return Uo(a,et,e)}function Uo(e,a,r){var c=e.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=r;var m=e.baseQueue,h=c.pending;if(h!==null){if(m!==null){var b=m.next;m.next=h.next,h.next=b}a.baseQueue=m=h,c.pending=null}if(h=e.baseState,m===null)e.memoizedState=h;else{a=m.next;var C=b=null,L=null,Z=a,ae=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(Be&ue)===ue:(An&ue)===ue){var J=Z.revertLane;if(J===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===us&&(ae=!0);else if((An&J)===J){Z=Z.next,J===us&&(ae=!0);continue}else ue={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},L===null?(C=L=ue,b=h):L=L.next=ue,Re.lanes|=J,la|=J;ue=Z.action,La&&r(h,ue),h=Z.hasEagerState?Z.eagerState:r(h,ue)}else J={lane:ue,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},L===null?(C=L=J,b=h):L=L.next=J,Re.lanes|=ue,la|=ue;Z=Z.next}while(Z!==null&&Z!==a);if(L===null?b=h:L.next=C,!$t(h,e.memoizedState)&&(yt=!0,ae&&(r=ds,r!==null)))throw r;e.memoizedState=h,e.baseState=b,e.baseQueue=L,c.lastRenderedState=h}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Lo(e){var a=pt(),r=a.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var c=r.dispatch,m=r.pending,h=a.memoizedState;if(m!==null){r.pending=null;var b=m=m.next;do h=e(h,b.action),b=b.next;while(b!==m);$t(h,a.memoizedState)||(yt=!0),a.memoizedState=h,a.baseQueue===null&&(a.baseState=h),r.lastRenderedState=h}return[h,c]}function Pd(e,a,r){var c=Re,m=pt(),h=qe;if(h){if(r===void 0)throw Error(s(407));r=r()}else r=a();var b=!$t((et||m).memoizedState,r);if(b&&(m.memoizedState=r,yt=!0),m=m.queue,Oo(Yd.bind(null,c,m,e),[e]),m.getSnapshot!==a||b||vt!==null&&vt.memoizedState.tag&1){if(c.flags|=2048,gs(9,{destroy:void 0},Fd.bind(null,c,m,r,a),null),at===null)throw Error(s(349));h||(An&127)!==0||$d(c,a,r)}return r}function $d(e,a,r){e.flags|=16384,e={getSnapshot:a,value:r},a=Re.updateQueue,a===null?(a=Ai(),Re.updateQueue=a,a.stores=[e]):(r=a.stores,r===null?a.stores=[e]:r.push(e))}function Fd(e,a,r,c){a.value=r,a.getSnapshot=c,Zd(a)&&Jd(e)}function Yd(e,a,r){return r(function(){Zd(a)&&Jd(e)})}function Zd(e){var a=e.getSnapshot;e=e.value;try{var r=a();return!$t(e,r)}catch{return!0}}function Jd(e){var a=ja(e,2);a!==null&&Gt(a,e,2)}function zo(e){var a=Rt();if(typeof e=="function"){var r=e;if(e=r(),La){$n(!0);try{r()}finally{$n(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:e},a}function Kd(e,a,r,c){return e.baseState=r,Uo(e,et,typeof c=="function"?c:Dn)}function Zg(e,a,r,c,m){if(Ui(e))throw Error(s(485));if(e=a.action,e!==null){var h={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){h.listeners.push(b)}};U.T!==null?r(!0):h.isTransition=!1,c(h),r=a.pending,r===null?(h.next=a.pending=h,Xd(a,h)):(h.next=r.next,a.pending=r.next=h)}}function Xd(e,a){var r=a.action,c=a.payload,m=e.state;if(a.isTransition){var h=U.T,b={};U.T=b;try{var C=r(m,c),L=U.S;L!==null&&L(b,C),Qd(e,a,C)}catch(Z){Vo(e,a,Z)}finally{h!==null&&b.types!==null&&(h.types=b.types),U.T=h}}else try{h=r(m,c),Qd(e,a,h)}catch(Z){Vo(e,a,Z)}}function Qd(e,a,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){Wd(e,a,c)},function(c){return Vo(e,a,c)}):Wd(e,a,r)}function Wd(e,a,r){a.status="fulfilled",a.value=r,ef(a),e.state=r,a=e.pending,a!==null&&(r=a.next,r===a?e.pending=null:(r=r.next,a.next=r,Xd(e,r)))}function Vo(e,a,r){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=r,ef(a),a=a.next;while(a!==c)}e.action=null}function ef(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function tf(e,a){return a}function nf(e,a){if(qe){var r=at.formState;if(r!==null){e:{var c=Re;if(qe){if(it){t:{for(var m=it,h=sn;m.nodeType!==8;){if(!h){m=null;break t}if(m=rn(m.nextSibling),m===null){m=null;break t}}h=m.data,m=h==="F!"||h==="F"?m:null}if(m){it=rn(m.nextSibling),c=m.data==="F!";break e}}Kn(c)}c=!1}c&&(a=r[0])}}return r=Rt(),r.memoizedState=r.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tf,lastRenderedState:a},r.queue=c,r=wf.bind(null,Re,c),c.dispatch=r,c=zo(!1),h=Po.bind(null,Re,!1,c.queue),c=Rt(),m={state:a,dispatch:null,action:e,pending:null},c.queue=m,r=Zg.bind(null,Re,m,h,r),m.dispatch=r,c.memoizedState=e,[a,r,!1]}function af(e){var a=pt();return sf(a,et,e)}function sf(e,a,r){if(a=Uo(e,a,tf)[0],e=Mi(Dn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=gl(a)}catch(b){throw b===fs?wi:b}else c=a;a=pt();var m=a.queue,h=m.dispatch;return r!==a.memoizedState&&(Re.flags|=2048,gs(9,{destroy:void 0},Jg.bind(null,m,r),null)),[c,h,e]}function Jg(e,a){e.action=a}function lf(e){var a=pt(),r=et;if(r!==null)return sf(a,r,e);pt(),a=a.memoizedState,r=pt();var c=r.queue.dispatch;return r.memoizedState=e,[a,c,!1]}function gs(e,a,r,c){return e={tag:e,create:r,deps:c,inst:a,next:null},a=Re.updateQueue,a===null&&(a=Ai(),Re.updateQueue=a),r=a.lastEffect,r===null?a.lastEffect=e.next=e:(c=r.next,r.next=e,e.next=c,a.lastEffect=e),e}function rf(){return pt().memoizedState}function Ri(e,a,r,c){var m=Rt();Re.flags|=e,m.memoizedState=gs(1|a,{destroy:void 0},r,c===void 0?null:c)}function Ii(e,a,r,c){var m=pt();c=c===void 0?null:c;var h=m.memoizedState.inst;et!==null&&c!==null&&ko(c,et.memoizedState.deps)?m.memoizedState=gs(a,h,r,c):(Re.flags|=e,m.memoizedState=gs(1|a,h,r,c))}function of(e,a){Ri(8390656,8,e,a)}function Oo(e,a){Ii(2048,8,e,a)}function Kg(e){Re.flags|=4;var a=Re.updateQueue;if(a===null)a=Ai(),Re.updateQueue=a,a.events=[e];else{var r=a.events;r===null?a.events=[e]:r.push(e)}}function cf(e){var a=pt().memoizedState;return Kg({ref:a,nextImpl:e}),function(){if((Ke&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function uf(e,a){return Ii(4,2,e,a)}function df(e,a){return Ii(4,4,e,a)}function ff(e,a){if(typeof a=="function"){e=e();var r=a(e);return function(){typeof r=="function"?r():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function mf(e,a,r){r=r!=null?r.concat([e]):null,Ii(4,4,ff.bind(null,a,e),r)}function Ho(){}function pf(e,a){var r=pt();a=a===void 0?null:a;var c=r.memoizedState;return a!==null&&ko(a,c[1])?c[0]:(r.memoizedState=[e,a],e)}function hf(e,a){var r=pt();a=a===void 0?null:a;var c=r.memoizedState;if(a!==null&&ko(a,c[1]))return c[0];if(c=e(),La){$n(!0);try{e()}finally{$n(!1)}}return r.memoizedState=[c,a],c}function Bo(e,a,r){return r===void 0||(An&1073741824)!==0&&(Be&261930)===0?e.memoizedState=a:(e.memoizedState=r,e=xm(),Re.lanes|=e,la|=e,r)}function xf(e,a,r,c){return $t(r,a)?r:ps.current!==null?(e=Bo(e,r,c),$t(e,a)||(yt=!0),e):(An&42)===0||(An&1073741824)!==0&&(Be&261930)===0?(yt=!0,e.memoizedState=r):(e=xm(),Re.lanes|=e,la|=e,a)}function gf(e,a,r,c,m){var h=Q.p;Q.p=h!==0&&8>h?h:8;var b=U.T,C={};U.T=C,Po(e,!1,a,r);try{var L=m(),Z=U.S;if(Z!==null&&Z(C,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ae=$g(L,c);vl(e,a,ae,Xt(e))}else vl(e,a,c,Xt(e))}catch(ue){vl(e,a,{then:function(){},status:"rejected",reason:ue},Xt())}finally{Q.p=h,b!==null&&C.types!==null&&(b.types=C.types),U.T=b}}function Xg(){}function Go(e,a,r,c){if(e.tag!==5)throw Error(s(476));var m=vf(e).queue;gf(e,m,a,W,r===null?Xg:function(){return yf(e),r(c)})}function vf(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:W},next:null};var r={};return a.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:r},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function yf(e){var a=vf(e);a.next===null&&(a=e.alternate.memoizedState),vl(e,a.next.queue,{},Xt())}function qo(){return Et(Ul)}function bf(){return pt().memoizedState}function Nf(){return pt().memoizedState}function Qg(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var r=Xt();e=Wn(r);var c=ea(a,e,r);c!==null&&(Gt(c,a,r),ml(c,a,r)),a={cache:vo()},e.payload=a;return}a=a.return}}function Wg(e,a,r){var c=Xt();r={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ui(e)?Tf(a,r):(r=io(e,a,r,c),r!==null&&(Gt(r,e,c),Cf(r,a,c)))}function wf(e,a,r){var c=Xt();vl(e,a,r,c)}function vl(e,a,r,c){var m={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ui(e))Tf(a,m);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=a.lastRenderedReducer,h!==null))try{var b=a.lastRenderedState,C=h(b,r);if(m.hasEagerState=!0,m.eagerState=C,$t(C,b))return hi(e,a,m,0),at===null&&pi(),!1}catch{}finally{}if(r=io(e,a,m,c),r!==null)return Gt(r,e,c),Cf(r,a,c),!0}return!1}function Po(e,a,r,c){if(c={lane:2,revertLane:wc(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ui(e)){if(a)throw Error(s(479))}else a=io(e,r,c,2),a!==null&&Gt(a,e,2)}function Ui(e){var a=e.alternate;return e===Re||a!==null&&a===Re}function Tf(e,a){hs=Ei=!0;var r=e.pending;r===null?a.next=a:(a.next=r.next,r.next=a),e.pending=a}function Cf(e,a,r){if((r&4194048)!==0){var c=a.lanes;c&=e.pendingLanes,r|=c,a.lanes=r,Eu(e,r)}}var yl={readContext:Et,use:Di,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};yl.useEffectEvent=dt;var Sf={readContext:Et,use:Di,useCallback:function(e,a){return Rt().memoizedState=[e,a===void 0?null:a],e},useContext:Et,useEffect:of,useImperativeHandle:function(e,a,r){r=r!=null?r.concat([e]):null,Ri(4194308,4,ff.bind(null,a,e),r)},useLayoutEffect:function(e,a){return Ri(4194308,4,e,a)},useInsertionEffect:function(e,a){Ri(4,2,e,a)},useMemo:function(e,a){var r=Rt();a=a===void 0?null:a;var c=e();if(La){$n(!0);try{e()}finally{$n(!1)}}return r.memoizedState=[c,a],c},useReducer:function(e,a,r){var c=Rt();if(r!==void 0){var m=r(a);if(La){$n(!0);try{r(a)}finally{$n(!1)}}}else m=a;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=Wg.bind(null,Re,e),[c.memoizedState,e]},useRef:function(e){var a=Rt();return e={current:e},a.memoizedState=e},useState:function(e){e=zo(e);var a=e.queue,r=wf.bind(null,Re,a);return a.dispatch=r,[e.memoizedState,r]},useDebugValue:Ho,useDeferredValue:function(e,a){var r=Rt();return Bo(r,e,a)},useTransition:function(){var e=zo(!1);return e=gf.bind(null,Re,e.queue,!0,!1),Rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,r){var c=Re,m=Rt();if(qe){if(r===void 0)throw Error(s(407));r=r()}else{if(r=a(),at===null)throw Error(s(349));(Be&127)!==0||$d(c,a,r)}m.memoizedState=r;var h={value:r,getSnapshot:a};return m.queue=h,of(Yd.bind(null,c,h,e),[e]),c.flags|=2048,gs(9,{destroy:void 0},Fd.bind(null,c,h,r,a),null),r},useId:function(){var e=Rt(),a=at.identifierPrefix;if(qe){var r=hn,c=pn;r=(c&~(1<<32-Pt(c)-1)).toString(32)+r,a="_"+a+"R_"+r,r=ki++,0<r&&(a+="H"+r.toString(32)),a+="_"}else r=Fg++,a="_"+a+"r_"+r.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:qo,useFormState:nf,useActionState:nf,useOptimistic:function(e){var a=Rt();a.memoizedState=a.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=r,a=Po.bind(null,Re,!0,r),r.dispatch=a,[e,a]},useMemoCache:Io,useCacheRefresh:function(){return Rt().memoizedState=Qg.bind(null,Re)},useEffectEvent:function(e){var a=Rt(),r={impl:e};return a.memoizedState=r,function(){if((Ke&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},$o={readContext:Et,use:Di,useCallback:pf,useContext:Et,useEffect:Oo,useImperativeHandle:mf,useInsertionEffect:uf,useLayoutEffect:df,useMemo:hf,useReducer:Mi,useRef:rf,useState:function(){return Mi(Dn)},useDebugValue:Ho,useDeferredValue:function(e,a){var r=pt();return xf(r,et.memoizedState,e,a)},useTransition:function(){var e=Mi(Dn)[0],a=pt().memoizedState;return[typeof e=="boolean"?e:gl(e),a]},useSyncExternalStore:Pd,useId:bf,useHostTransitionStatus:qo,useFormState:af,useActionState:af,useOptimistic:function(e,a){var r=pt();return Kd(r,et,e,a)},useMemoCache:Io,useCacheRefresh:Nf};$o.useEffectEvent=cf;var _f={readContext:Et,use:Di,useCallback:pf,useContext:Et,useEffect:Oo,useImperativeHandle:mf,useInsertionEffect:uf,useLayoutEffect:df,useMemo:hf,useReducer:Lo,useRef:rf,useState:function(){return Lo(Dn)},useDebugValue:Ho,useDeferredValue:function(e,a){var r=pt();return et===null?Bo(r,e,a):xf(r,et.memoizedState,e,a)},useTransition:function(){var e=Lo(Dn)[0],a=pt().memoizedState;return[typeof e=="boolean"?e:gl(e),a]},useSyncExternalStore:Pd,useId:bf,useHostTransitionStatus:qo,useFormState:lf,useActionState:lf,useOptimistic:function(e,a){var r=pt();return et!==null?Kd(r,et,e,a):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Io,useCacheRefresh:Nf};_f.useEffectEvent=cf;function Fo(e,a,r,c){a=e.memoizedState,r=r(c,a),r=r==null?a:N({},a,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Yo={enqueueSetState:function(e,a,r){e=e._reactInternals;var c=Xt(),m=Wn(c);m.payload=a,r!=null&&(m.callback=r),a=ea(e,m,c),a!==null&&(Gt(a,e,c),ml(a,e,c))},enqueueReplaceState:function(e,a,r){e=e._reactInternals;var c=Xt(),m=Wn(c);m.tag=1,m.payload=a,r!=null&&(m.callback=r),a=ea(e,m,c),a!==null&&(Gt(a,e,c),ml(a,e,c))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var r=Xt(),c=Wn(r);c.tag=2,a!=null&&(c.callback=a),a=ea(e,c,r),a!==null&&(Gt(a,e,r),ml(a,e,r))}};function jf(e,a,r,c,m,h,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,h,b):a.prototype&&a.prototype.isPureReactComponent?!ll(r,c)||!ll(m,h):!0}function Ef(e,a,r,c){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(r,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(r,c),a.state!==e&&Yo.enqueueReplaceState(a,a.state,null)}function za(e,a){var r=a;if("ref"in a){r={};for(var c in a)c!=="ref"&&(r[c]=a[c])}if(e=e.defaultProps){r===a&&(r=N({},r));for(var m in e)r[m]===void 0&&(r[m]=e[m])}return r}function kf(e){mi(e)}function Af(e){console.error(e)}function Df(e){mi(e)}function Li(e,a){try{var r=e.onUncaughtError;r(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Mf(e,a,r){try{var c=e.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Zo(e,a,r){return r=Wn(r),r.tag=3,r.payload={element:null},r.callback=function(){Li(e,a)},r}function Rf(e){return e=Wn(e),e.tag=3,e}function If(e,a,r,c){var m=r.type.getDerivedStateFromError;if(typeof m=="function"){var h=c.value;e.payload=function(){return m(h)},e.callback=function(){Mf(a,r,c)}}var b=r.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Mf(a,r,c),typeof m!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function e0(e,a,r,c,m){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=r.alternate,a!==null&&cs(a,r,m,!0),r=Yt.current,r!==null){switch(r.tag){case 31:case 13:return ln===null?Zi():r.alternate===null&&ft===0&&(ft=3),r.flags&=-257,r.flags|=65536,r.lanes=m,c===Ti?r.flags|=16384:(a=r.updateQueue,a===null?r.updateQueue=new Set([c]):a.add(c),yc(e,c,m)),!1;case 22:return r.flags|=65536,c===Ti?r.flags|=16384:(a=r.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=a):(r=a.retryQueue,r===null?a.retryQueue=new Set([c]):r.add(c)),yc(e,c,m)),!1}throw Error(s(435,r.tag))}return yc(e,c,m),Zi(),!1}if(qe)return a=Yt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==mo&&(e=Error(s(422),{cause:c}),ol(tn(e,r)))):(c!==mo&&(a=Error(s(423),{cause:c}),ol(tn(a,r))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=tn(c,r),m=Zo(e.stateNode,c,m),Co(e,m),ft!==4&&(ft=2)),!1;var h=Error(s(520),{cause:c});if(h=tn(h,r),jl===null?jl=[h]:jl.push(h),ft!==4&&(ft=2),a===null)return!0;c=tn(c,r),r=a;do{switch(r.tag){case 3:return r.flags|=65536,e=m&-m,r.lanes|=e,e=Zo(r.stateNode,c,e),Co(r,e),!1;case 1:if(a=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ia===null||!ia.has(h))))return r.flags|=65536,m&=-m,r.lanes|=m,m=Rf(m),If(m,e,r,c),Co(r,m),!1}r=r.return}while(r!==null);return!1}var Jo=Error(s(461)),yt=!1;function kt(e,a,r,c){a.child=e===null?zd(a,null,r,c):Ua(a,e.child,r,c)}function Uf(e,a,r,c,m){r=r.render;var h=a.ref;if("ref"in c){var b={};for(var C in c)C!=="ref"&&(b[C]=c[C])}else b=c;return Da(a),c=Ao(e,a,r,b,h,m),C=Do(),e!==null&&!yt?(Mo(e,a,m),Mn(e,a,m)):(qe&&C&&uo(a),a.flags|=1,kt(e,a,c,m),a.child)}function Lf(e,a,r,c,m){if(e===null){var h=r.type;return typeof h=="function"&&!ro(h)&&h.defaultProps===void 0&&r.compare===null?(a.tag=15,a.type=h,zf(e,a,h,c,m)):(e=gi(r.type,null,c,a,a.mode,m),e.ref=a.ref,e.return=a,a.child=e)}if(h=e.child,!ac(e,m)){var b=h.memoizedProps;if(r=r.compare,r=r!==null?r:ll,r(b,c)&&e.ref===a.ref)return Mn(e,a,m)}return a.flags|=1,e=_n(h,c),e.ref=a.ref,e.return=a,a.child=e}function zf(e,a,r,c,m){if(e!==null){var h=e.memoizedProps;if(ll(h,c)&&e.ref===a.ref)if(yt=!1,a.pendingProps=c=h,ac(e,m))(e.flags&131072)!==0&&(yt=!0);else return a.lanes=e.lanes,Mn(e,a,m)}return Ko(e,a,r,c,m)}function Vf(e,a,r,c){var m=c.children,h=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(h=h!==null?h.baseLanes|r:r,e!==null){for(c=a.child=e.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~h}else c=0,a.child=null;return Of(e,a,h,r,c)}if((r&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ni(a,h!==null?h.cachePool:null),h!==null?Hd(a,h):_o(),Bd(a);else return c=a.lanes=536870912,Of(e,a,h!==null?h.baseLanes|r:r,r,c)}else h!==null?(Ni(a,h.cachePool),Hd(a,h),na(),a.memoizedState=null):(e!==null&&Ni(a,null),_o(),na());return kt(e,a,m,r),a.child}function bl(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Of(e,a,r,c,m){var h=bo();return h=h===null?null:{parent:gt._currentValue,pool:h},a.memoizedState={baseLanes:r,cachePool:h},e!==null&&Ni(a,null),_o(),Bd(a),e!==null&&cs(e,a,c,!0),a.childLanes=m,null}function zi(e,a){return a=Oi({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function Hf(e,a,r){return Ua(a,e.child,null,r),e=zi(a,a.pendingProps),e.flags|=2,Zt(a),a.memoizedState=null,e}function t0(e,a,r){var c=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(qe){if(c.mode==="hidden")return e=zi(a,c),a.lanes=536870912,bl(null,e);if(Eo(a),(e=it)?(e=Qm(e,sn),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Zn!==null?{id:pn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},r=wd(e),r.return=a,a.child=r,jt=a,it=null)):e=null,e===null)throw Kn(a);return a.lanes=536870912,null}return zi(a,c)}var h=e.memoizedState;if(h!==null){var b=h.dehydrated;if(Eo(a),m)if(a.flags&256)a.flags&=-257,a=Hf(e,a,r);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(s(558));else if(yt||cs(e,a,r,!1),m=(r&e.childLanes)!==0,yt||m){if(c=at,c!==null&&(b=ku(c,r),b!==0&&b!==h.retryLane))throw h.retryLane=b,ja(e,b),Gt(c,e,b),Jo;Zi(),a=Hf(e,a,r)}else e=h.treeContext,it=rn(b.nextSibling),jt=a,qe=!0,Jn=null,sn=!1,e!==null&&Sd(a,e),a=zi(a,c),a.flags|=4096;return a}return e=_n(e.child,{mode:c.mode,children:c.children}),e.ref=a.ref,a.child=e,e.return=a,e}function Vi(e,a){var r=a.ref;if(r===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(a.flags|=4194816)}}function Ko(e,a,r,c,m){return Da(a),r=Ao(e,a,r,c,void 0,m),c=Do(),e!==null&&!yt?(Mo(e,a,m),Mn(e,a,m)):(qe&&c&&uo(a),a.flags|=1,kt(e,a,r,m),a.child)}function Bf(e,a,r,c,m,h){return Da(a),a.updateQueue=null,r=qd(a,c,r,m),Gd(e),c=Do(),e!==null&&!yt?(Mo(e,a,h),Mn(e,a,h)):(qe&&c&&uo(a),a.flags|=1,kt(e,a,r,h),a.child)}function Gf(e,a,r,c,m){if(Da(a),a.stateNode===null){var h=ls,b=r.contextType;typeof b=="object"&&b!==null&&(h=Et(b)),h=new r(c,h),a.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Yo,a.stateNode=h,h._reactInternals=a,h=a.stateNode,h.props=c,h.state=a.memoizedState,h.refs={},wo(a),b=r.contextType,h.context=typeof b=="object"&&b!==null?Et(b):ls,h.state=a.memoizedState,b=r.getDerivedStateFromProps,typeof b=="function"&&(Fo(a,r,b,c),h.state=a.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(b=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),b!==h.state&&Yo.enqueueReplaceState(h,h.state,null),hl(a,c,h,m),pl(),h.state=a.memoizedState),typeof h.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(e===null){h=a.stateNode;var C=a.memoizedProps,L=za(r,C);h.props=L;var Z=h.context,ae=r.contextType;b=ls,typeof ae=="object"&&ae!==null&&(b=Et(ae));var ue=r.getDerivedStateFromProps;ae=typeof ue=="function"||typeof h.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,ae||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(C||Z!==b)&&Ef(a,h,c,b),Qn=!1;var J=a.memoizedState;h.state=J,hl(a,c,h,m),pl(),Z=a.memoizedState,C||J!==Z||Qn?(typeof ue=="function"&&(Fo(a,r,ue,c),Z=a.memoizedState),(L=Qn||jf(a,r,L,c,J,Z,b))?(ae||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(a.flags|=4194308)):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Z),h.props=c,h.state=Z,h.context=b,c=L):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{h=a.stateNode,To(e,a),b=a.memoizedProps,ae=za(r,b),h.props=ae,ue=a.pendingProps,J=h.context,Z=r.contextType,L=ls,typeof Z=="object"&&Z!==null&&(L=Et(Z)),C=r.getDerivedStateFromProps,(Z=typeof C=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==ue||J!==L)&&Ef(a,h,c,L),Qn=!1,J=a.memoizedState,h.state=J,hl(a,c,h,m),pl();var ee=a.memoizedState;b!==ue||J!==ee||Qn||e!==null&&e.dependencies!==null&&yi(e.dependencies)?(typeof C=="function"&&(Fo(a,r,C,c),ee=a.memoizedState),(ae=Qn||jf(a,r,ae,c,J,ee,L)||e!==null&&e.dependencies!==null&&yi(e.dependencies))?(Z||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,ee,L),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,ee,L)),typeof h.componentDidUpdate=="function"&&(a.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&J===e.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&J===e.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ee),h.props=c,h.state=ee,h.context=L,c=ae):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&J===e.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&J===e.memoizedState||(a.flags|=1024),c=!1)}return h=c,Vi(e,a),c=(a.flags&128)!==0,h||c?(h=a.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:h.render(),a.flags|=1,e!==null&&c?(a.child=Ua(a,e.child,null,m),a.child=Ua(a,null,r,m)):kt(e,a,r,m),a.memoizedState=h.state,e=a.child):e=Mn(e,a,m),e}function qf(e,a,r,c){return ka(),a.flags|=256,kt(e,a,r,c),a.child}var Xo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qo(e){return{baseLanes:e,cachePool:Dd()}}function Wo(e,a,r){return e=e!==null?e.childLanes&~r:0,a&&(e|=Kt),e}function Pf(e,a,r){var c=a.pendingProps,m=!1,h=(a.flags&128)!==0,b;if((b=h)||(b=e!==null&&e.memoizedState===null?!1:(mt.current&2)!==0),b&&(m=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,e===null){if(qe){if(m?ta(a):na(),(e=it)?(e=Qm(e,sn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Zn!==null?{id:pn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},r=wd(e),r.return=a,a.child=r,jt=a,it=null)):e=null,e===null)throw Kn(a);return Uc(e)?a.lanes=32:a.lanes=536870912,null}var C=c.children;return c=c.fallback,m?(na(),m=a.mode,C=Oi({mode:"hidden",children:C},m),c=Ea(c,m,r,null),C.return=a,c.return=a,C.sibling=c,a.child=C,c=a.child,c.memoizedState=Qo(r),c.childLanes=Wo(e,b,r),a.memoizedState=Xo,bl(null,c)):(ta(a),ec(a,C))}var L=e.memoizedState;if(L!==null&&(C=L.dehydrated,C!==null)){if(h)a.flags&256?(ta(a),a.flags&=-257,a=tc(e,a,r)):a.memoizedState!==null?(na(),a.child=e.child,a.flags|=128,a=null):(na(),C=c.fallback,m=a.mode,c=Oi({mode:"visible",children:c.children},m),C=Ea(C,m,r,null),C.flags|=2,c.return=a,C.return=a,c.sibling=C,a.child=c,Ua(a,e.child,null,r),c=a.child,c.memoizedState=Qo(r),c.childLanes=Wo(e,b,r),a.memoizedState=Xo,a=bl(null,c));else if(ta(a),Uc(C)){if(b=C.nextSibling&&C.nextSibling.dataset,b)var Z=b.dgst;b=Z,c=Error(s(419)),c.stack="",c.digest=b,ol({value:c,source:null,stack:null}),a=tc(e,a,r)}else if(yt||cs(e,a,r,!1),b=(r&e.childLanes)!==0,yt||b){if(b=at,b!==null&&(c=ku(b,r),c!==0&&c!==L.retryLane))throw L.retryLane=c,ja(e,c),Gt(b,e,c),Jo;Ic(C)||Zi(),a=tc(e,a,r)}else Ic(C)?(a.flags|=192,a.child=e.child,a=null):(e=L.treeContext,it=rn(C.nextSibling),jt=a,qe=!0,Jn=null,sn=!1,e!==null&&Sd(a,e),a=ec(a,c.children),a.flags|=4096);return a}return m?(na(),C=c.fallback,m=a.mode,L=e.child,Z=L.sibling,c=_n(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,Z!==null?C=_n(Z,C):(C=Ea(C,m,r,null),C.flags|=2),C.return=a,c.return=a,c.sibling=C,a.child=c,bl(null,c),c=a.child,C=e.child.memoizedState,C===null?C=Qo(r):(m=C.cachePool,m!==null?(L=gt._currentValue,m=m.parent!==L?{parent:L,pool:L}:m):m=Dd(),C={baseLanes:C.baseLanes|r,cachePool:m}),c.memoizedState=C,c.childLanes=Wo(e,b,r),a.memoizedState=Xo,bl(e.child,c)):(ta(a),r=e.child,e=r.sibling,r=_n(r,{mode:"visible",children:c.children}),r.return=a,r.sibling=null,e!==null&&(b=a.deletions,b===null?(a.deletions=[e],a.flags|=16):b.push(e)),a.child=r,a.memoizedState=null,r)}function ec(e,a){return a=Oi({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function Oi(e,a){return e=Ft(22,e,null,a),e.lanes=0,e}function tc(e,a,r){return Ua(a,e.child,null,r),e=ec(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function $f(e,a,r){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a),xo(e.return,a,r)}function nc(e,a,r,c,m,h){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:m,treeForkCount:h}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=r,b.tailMode=m,b.treeForkCount=h)}function Ff(e,a,r){var c=a.pendingProps,m=c.revealOrder,h=c.tail;c=c.children;var b=mt.current,C=(b&2)!==0;if(C?(b=b&1|2,a.flags|=128):b&=1,se(mt,b),kt(e,a,c,r),c=qe?rl:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$f(e,r,a);else if(e.tag===19)$f(e,r,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(r=a.child,m=null;r!==null;)e=r.alternate,e!==null&&ji(e)===null&&(m=r),r=r.sibling;r=m,r===null?(m=a.child,a.child=null):(m=r.sibling,r.sibling=null),nc(a,!1,m,r,h,c);break;case"backwards":case"unstable_legacy-backwards":for(r=null,m=a.child,a.child=null;m!==null;){if(e=m.alternate,e!==null&&ji(e)===null){a.child=m;break}e=m.sibling,m.sibling=r,r=m,m=e}nc(a,!0,r,null,h,c);break;case"together":nc(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function Mn(e,a,r){if(e!==null&&(a.dependencies=e.dependencies),la|=a.lanes,(r&a.childLanes)===0)if(e!==null){if(cs(e,a,r,!1),(r&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(s(153));if(a.child!==null){for(e=a.child,r=_n(e,e.pendingProps),a.child=r,r.return=a;e.sibling!==null;)e=e.sibling,r=r.sibling=_n(e,e.pendingProps),r.return=a;r.sibling=null}return a.child}function ac(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&yi(e)))}function n0(e,a,r){switch(a.tag){case 3:lt(a,a.stateNode.containerInfo),Xn(a,gt,e.memoizedState.cache),ka();break;case 27:case 5:Ce(a);break;case 4:lt(a,a.stateNode.containerInfo);break;case 10:Xn(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Eo(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ta(a),a.flags|=128,null):(r&a.child.childLanes)!==0?Pf(e,a,r):(ta(a),e=Mn(e,a,r),e!==null?e.sibling:null);ta(a);break;case 19:var m=(e.flags&128)!==0;if(c=(r&a.childLanes)!==0,c||(cs(e,a,r,!1),c=(r&a.childLanes)!==0),m){if(c)return Ff(e,a,r);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),se(mt,mt.current),c)break;return null;case 22:return a.lanes=0,Vf(e,a,r,a.pendingProps);case 24:Xn(a,gt,e.memoizedState.cache)}return Mn(e,a,r)}function Yf(e,a,r){if(e!==null)if(e.memoizedProps!==a.pendingProps)yt=!0;else{if(!ac(e,r)&&(a.flags&128)===0)return yt=!1,n0(e,a,r);yt=(e.flags&131072)!==0}else yt=!1,qe&&(a.flags&1048576)!==0&&Cd(a,rl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(e=Ra(a.elementType),a.type=e,typeof e=="function")ro(e)?(c=za(e,c),a.tag=1,a=Gf(null,a,e,c,r)):(a.tag=0,a=Ko(null,a,e,c,r));else{if(e!=null){var m=e.$$typeof;if(m===O){a.tag=11,a=Uf(null,a,e,c,r);break e}else if(m===k){a.tag=14,a=Lf(null,a,e,c,r);break e}}throw a=B(e)||e,Error(s(306,a,""))}}return a;case 0:return Ko(e,a,a.type,a.pendingProps,r);case 1:return c=a.type,m=za(c,a.pendingProps),Gf(e,a,c,m,r);case 3:e:{if(lt(a,a.stateNode.containerInfo),e===null)throw Error(s(387));c=a.pendingProps;var h=a.memoizedState;m=h.element,To(e,a),hl(a,c,null,r);var b=a.memoizedState;if(c=b.cache,Xn(a,gt,c),c!==h.cache&&go(a,[gt],r,!0),pl(),c=b.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=h,a.memoizedState=h,a.flags&256){a=qf(e,a,c,r);break e}else if(c!==m){m=tn(Error(s(424)),a),ol(m),a=qf(e,a,c,r);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(it=rn(e.firstChild),jt=a,qe=!0,Jn=null,sn=!0,r=zd(a,null,c,r),a.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ka(),c===m){a=Mn(e,a,r);break e}kt(e,a,c,r)}a=a.child}return a;case 26:return Vi(e,a),e===null?(r=sp(a.type,null,a.pendingProps,null))?a.memoizedState=r:qe||(r=a.type,e=a.pendingProps,c=tr(_e.current).createElement(r),c[_t]=a,c[Lt]=e,At(c,r,e),Ct(c),a.stateNode=c):a.memoizedState=sp(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return Ce(a),e===null&&qe&&(c=a.stateNode=tp(a.type,a.pendingProps,_e.current),jt=a,sn=!0,m=it,ua(a.type)?(Lc=m,it=rn(c.firstChild)):it=m),kt(e,a,a.pendingProps.children,r),Vi(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&qe&&((m=c=it)&&(c=M0(c,a.type,a.pendingProps,sn),c!==null?(a.stateNode=c,jt=a,it=rn(c.firstChild),sn=!1,m=!0):m=!1),m||Kn(a)),Ce(a),m=a.type,h=a.pendingProps,b=e!==null?e.memoizedProps:null,c=h.children,Dc(m,h)?c=null:b!==null&&Dc(m,b)&&(a.flags|=32),a.memoizedState!==null&&(m=Ao(e,a,Yg,null,null,r),Ul._currentValue=m),Vi(e,a),kt(e,a,c,r),a.child;case 6:return e===null&&qe&&((e=r=it)&&(r=R0(r,a.pendingProps,sn),r!==null?(a.stateNode=r,jt=a,it=null,e=!0):e=!1),e||Kn(a)),null;case 13:return Pf(e,a,r);case 4:return lt(a,a.stateNode.containerInfo),c=a.pendingProps,e===null?a.child=Ua(a,null,c,r):kt(e,a,c,r),a.child;case 11:return Uf(e,a,a.type,a.pendingProps,r);case 7:return kt(e,a,a.pendingProps,r),a.child;case 8:return kt(e,a,a.pendingProps.children,r),a.child;case 12:return kt(e,a,a.pendingProps.children,r),a.child;case 10:return c=a.pendingProps,Xn(a,a.type,c.value),kt(e,a,c.children,r),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Da(a),m=Et(m),c=c(m),a.flags|=1,kt(e,a,c,r),a.child;case 14:return Lf(e,a,a.type,a.pendingProps,r);case 15:return zf(e,a,a.type,a.pendingProps,r);case 19:return Ff(e,a,r);case 31:return t0(e,a,r);case 22:return Vf(e,a,r,a.pendingProps);case 24:return Da(a),c=Et(gt),e===null?(m=bo(),m===null&&(m=at,h=vo(),m.pooledCache=h,h.refCount++,h!==null&&(m.pooledCacheLanes|=r),m=h),a.memoizedState={parent:c,cache:m},wo(a),Xn(a,gt,m)):((e.lanes&r)!==0&&(To(e,a),hl(a,null,null,r),pl()),m=e.memoizedState,h=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Xn(a,gt,c)):(c=h.cache,Xn(a,gt,c),c!==m.cache&&go(a,[gt],r,!0))),kt(e,a,a.pendingProps.children,r),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Rn(e){e.flags|=4}function sc(e,a,r,c,m){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(bm())e.flags|=8192;else throw Ia=Ti,No}else e.flags&=-16777217}function Zf(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!cp(a))if(bm())e.flags|=8192;else throw Ia=Ti,No}function Hi(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?_u():536870912,e.lanes|=a,Ns|=a)}function Nl(e,a){if(!qe)switch(e.tailMode){case"hidden":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function rt(e){var a=e.alternate!==null&&e.alternate.child===e.child,r=0,c=0;if(a)for(var m=e.child;m!==null;)r|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)r|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=r,a}function a0(e,a,r){var c=a.pendingProps;switch(fo(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(a),null;case 1:return rt(a),null;case 3:return r=a.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),kn(gt),K(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(os(a)?Rn(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,po())),rt(a),null;case 26:var m=a.type,h=a.memoizedState;return e===null?(Rn(a),h!==null?(rt(a),Zf(a,h)):(rt(a),sc(a,m,null,c,r))):h?h!==e.memoizedState?(Rn(a),rt(a),Zf(a,h)):(rt(a),a.flags&=-16777217):(e=e.memoizedProps,e!==c&&Rn(a),rt(a),sc(a,m,e,c,r)),null;case 27:if(Ie(a),r=_e.current,m=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==c&&Rn(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return rt(a),null}e=fe.current,os(a)?_d(a):(e=tp(m,c,r),a.stateNode=e,Rn(a))}return rt(a),null;case 5:if(Ie(a),m=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==c&&Rn(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return rt(a),null}if(h=fe.current,os(a))_d(a);else{var b=tr(_e.current);switch(h){case 1:h=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:h=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":h=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":h=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":h=b.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?h.multiple=!0:c.size&&(h.size=c.size);break;default:h=typeof c.is=="string"?b.createElement(m,{is:c.is}):b.createElement(m)}}h[_t]=a,h[Lt]=c;e:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)h.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break e;for(;b.sibling===null;){if(b.return===null||b.return===a)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=h;e:switch(At(h,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Rn(a)}}return rt(a),sc(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,r),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==c&&Rn(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(s(166));if(e=_e.current,os(a)){if(e=a.stateNode,r=a.memoizedProps,c=null,m=jt,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[_t]=a,e=!!(e.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||Pm(e.nodeValue,r)),e||Kn(a,!0)}else e=tr(e).createTextNode(c),e[_t]=a,a.stateNode=e}return rt(a),null;case 31:if(r=a.memoizedState,e===null||e.memoizedState!==null){if(c=os(a),r!==null){if(e===null){if(!c)throw Error(s(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[_t]=a}else ka(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;rt(a),e=!1}else r=po(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return a.flags&256?(Zt(a),a):(Zt(a),null);if((a.flags&128)!==0)throw Error(s(558))}return rt(a),null;case 13:if(c=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=os(a),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(s(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[_t]=a}else ka(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;rt(a),m=!1}else m=po(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Zt(a),a):(Zt(a),null)}return Zt(a),(a.flags&128)!==0?(a.lanes=r,a):(r=c!==null,e=e!==null&&e.memoizedState!==null,r&&(c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),h=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==m&&(c.flags|=2048)),r!==e&&r&&(a.child.flags|=8192),Hi(a,a.updateQueue),rt(a),null);case 4:return K(),e===null&&_c(a.stateNode.containerInfo),rt(a),null;case 10:return kn(a.type),rt(a),null;case 19:if(P(mt),c=a.memoizedState,c===null)return rt(a),null;if(m=(a.flags&128)!==0,h=c.rendering,h===null)if(m)Nl(c,!1);else{if(ft!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(h=ji(e),h!==null){for(a.flags|=128,Nl(c,!1),e=h.updateQueue,a.updateQueue=e,Hi(a,e),a.subtreeFlags=0,e=r,r=a.child;r!==null;)Nd(r,e),r=r.sibling;return se(mt,mt.current&1|2),qe&&jn(a,c.treeForkCount),a.child}e=e.sibling}c.tail!==null&&ce()>$i&&(a.flags|=128,m=!0,Nl(c,!1),a.lanes=4194304)}else{if(!m)if(e=ji(h),e!==null){if(a.flags|=128,m=!0,e=e.updateQueue,a.updateQueue=e,Hi(a,e),Nl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!qe)return rt(a),null}else 2*ce()-c.renderingStartTime>$i&&r!==536870912&&(a.flags|=128,m=!0,Nl(c,!1),a.lanes=4194304);c.isBackwards?(h.sibling=a.child,a.child=h):(e=c.last,e!==null?e.sibling=h:a.child=h,c.last=h)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=ce(),e.sibling=null,r=mt.current,se(mt,m?r&1|2:r&1),qe&&jn(a,c.treeForkCount),e):(rt(a),null);case 22:case 23:return Zt(a),jo(),c=a.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(r&536870912)!==0&&(a.flags&128)===0&&(rt(a),a.subtreeFlags&6&&(a.flags|=8192)):rt(a),r=a.updateQueue,r!==null&&Hi(a,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==r&&(a.flags|=2048),e!==null&&P(Ma),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),kn(gt),rt(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function s0(e,a){switch(fo(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return kn(gt),K(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return Ie(a),null;case 31:if(a.memoizedState!==null){if(Zt(a),a.alternate===null)throw Error(s(340));ka()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(Zt(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(s(340));ka()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return P(mt),null;case 4:return K(),null;case 10:return kn(a.type),null;case 22:case 23:return Zt(a),jo(),e!==null&&P(Ma),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return kn(gt),null;case 25:return null;default:return null}}function Jf(e,a){switch(fo(a),a.tag){case 3:kn(gt),K();break;case 26:case 27:case 5:Ie(a);break;case 4:K();break;case 31:a.memoizedState!==null&&Zt(a);break;case 13:Zt(a);break;case 19:P(mt);break;case 10:kn(a.type);break;case 22:case 23:Zt(a),jo(),e!==null&&P(Ma);break;case 24:kn(gt)}}function wl(e,a){try{var r=a.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var m=c.next;r=m;do{if((r.tag&e)===e){c=void 0;var h=r.create,b=r.inst;c=h(),b.destroy=c}r=r.next}while(r!==m)}}catch(C){We(a,a.return,C)}}function aa(e,a,r){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var h=m.next;c=h;do{if((c.tag&e)===e){var b=c.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,m=a;var L=r,Z=C;try{Z()}catch(ae){We(m,L,ae)}}}c=c.next}while(c!==h)}}catch(ae){We(a,a.return,ae)}}function Kf(e){var a=e.updateQueue;if(a!==null){var r=e.stateNode;try{Od(a,r)}catch(c){We(e,e.return,c)}}}function Xf(e,a,r){r.props=za(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(c){We(e,a,c)}}function Tl(e,a){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof r=="function"?e.refCleanup=r(c):r.current=c}}catch(m){We(e,a,m)}}function xn(e,a){var r=e.ref,c=e.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(m){We(e,a,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(m){We(e,a,m)}else r.current=null}function Qf(e){var a=e.type,r=e.memoizedProps,c=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break e;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(m){We(e,e.return,m)}}function lc(e,a,r){try{var c=e.stateNode;_0(c,e.type,r,a),c[Lt]=a}catch(m){We(e,e.return,m)}}function Wf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ua(e.type)||e.tag===4}function ic(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rc(e,a,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,a):(a=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.appendChild(e),r=r._reactRootContainer,r!=null||a.onclick!==null||(a.onclick=Cn));else if(c!==4&&(c===27&&ua(e.type)&&(r=e.stateNode,a=null),e=e.child,e!==null))for(rc(e,a,r),e=e.sibling;e!==null;)rc(e,a,r),e=e.sibling}function Bi(e,a,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?r.insertBefore(e,a):r.appendChild(e);else if(c!==4&&(c===27&&ua(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Bi(e,a,r),e=e.sibling;e!==null;)Bi(e,a,r),e=e.sibling}function em(e){var a=e.stateNode,r=e.memoizedProps;try{for(var c=e.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);At(a,c,r),a[_t]=e,a[Lt]=r}catch(h){We(e,e.return,h)}}var In=!1,bt=!1,oc=!1,tm=typeof WeakSet=="function"?WeakSet:Set,St=null;function l0(e,a){if(e=e.containerInfo,kc=or,e=fd(e),eo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var m=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var b=0,C=-1,L=-1,Z=0,ae=0,ue=e,J=null;t:for(;;){for(var ee;ue!==r||m!==0&&ue.nodeType!==3||(C=b+m),ue!==h||c!==0&&ue.nodeType!==3||(L=b+c),ue.nodeType===3&&(b+=ue.nodeValue.length),(ee=ue.firstChild)!==null;)J=ue,ue=ee;for(;;){if(ue===e)break t;if(J===r&&++Z===m&&(C=b),J===h&&++ae===c&&(L=b),(ee=ue.nextSibling)!==null)break;ue=J,J=ue.parentNode}ue=ee}r=C===-1||L===-1?null:{start:C,end:L}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ac={focusedElem:e,selectionRange:r},or=!1,St=a;St!==null;)if(a=St,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,St=e;else for(;St!==null;){switch(a=St,h=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)m=e[r],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,r=a,m=h.memoizedProps,h=h.memoizedState,c=r.stateNode;try{var ye=za(r.type,m);e=c.getSnapshotBeforeUpdate(ye,h),c.__reactInternalSnapshotBeforeUpdate=e}catch(je){We(r,r.return,je)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,r=e.nodeType,r===9)Rc(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=a.sibling,e!==null){e.return=a.return,St=e;break}St=a.return}}function nm(e,a,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:Ln(e,r),c&4&&wl(5,r);break;case 1:if(Ln(e,r),c&4)if(e=r.stateNode,a===null)try{e.componentDidMount()}catch(b){We(r,r.return,b)}else{var m=za(r.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(m,a,e.__reactInternalSnapshotBeforeUpdate)}catch(b){We(r,r.return,b)}}c&64&&Kf(r),c&512&&Tl(r,r.return);break;case 3:if(Ln(e,r),c&64&&(e=r.updateQueue,e!==null)){if(a=null,r.child!==null)switch(r.child.tag){case 27:case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}try{Od(e,a)}catch(b){We(r,r.return,b)}}break;case 27:a===null&&c&4&&em(r);case 26:case 5:Ln(e,r),a===null&&c&4&&Qf(r),c&512&&Tl(r,r.return);break;case 12:Ln(e,r);break;case 31:Ln(e,r),c&4&&lm(e,r);break;case 13:Ln(e,r),c&4&&im(e,r),c&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=p0.bind(null,r),I0(e,r))));break;case 22:if(c=r.memoizedState!==null||In,!c){a=a!==null&&a.memoizedState!==null||bt,m=In;var h=bt;In=c,(bt=a)&&!h?zn(e,r,(r.subtreeFlags&8772)!==0):Ln(e,r),In=m,bt=h}break;case 30:break;default:Ln(e,r)}}function am(e){var a=e.alternate;a!==null&&(e.alternate=null,am(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&zr(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ut=null,Vt=!1;function Un(e,a,r){for(r=r.child;r!==null;)sm(e,a,r),r=r.sibling}function sm(e,a,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Ys,r)}catch{}switch(r.tag){case 26:bt||xn(r,a),Un(e,a,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:bt||xn(r,a);var c=ut,m=Vt;ua(r.type)&&(ut=r.stateNode,Vt=!1),Un(e,a,r),Ml(r.stateNode),ut=c,Vt=m;break;case 5:bt||xn(r,a);case 6:if(c=ut,m=Vt,ut=null,Un(e,a,r),ut=c,Vt=m,ut!==null)if(Vt)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(r.stateNode)}catch(h){We(r,a,h)}else try{ut.removeChild(r.stateNode)}catch(h){We(r,a,h)}break;case 18:ut!==null&&(Vt?(e=ut,Km(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ks(e)):Km(ut,r.stateNode));break;case 4:c=ut,m=Vt,ut=r.stateNode.containerInfo,Vt=!0,Un(e,a,r),ut=c,Vt=m;break;case 0:case 11:case 14:case 15:aa(2,r,a),bt||aa(4,r,a),Un(e,a,r);break;case 1:bt||(xn(r,a),c=r.stateNode,typeof c.componentWillUnmount=="function"&&Xf(r,a,c)),Un(e,a,r);break;case 21:Un(e,a,r);break;case 22:bt=(c=bt)||r.memoizedState!==null,Un(e,a,r),bt=c;break;default:Un(e,a,r)}}function lm(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ks(e)}catch(r){We(a,a.return,r)}}}function im(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ks(e)}catch(r){We(a,a.return,r)}}function i0(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new tm),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new tm),a;default:throw Error(s(435,e.tag))}}function Gi(e,a){var r=i0(e);a.forEach(function(c){if(!r.has(c)){r.add(c);var m=h0.bind(null,e,c);c.then(m,m)}})}function Ot(e,a){var r=a.deletions;if(r!==null)for(var c=0;c<r.length;c++){var m=r[c],h=e,b=a,C=b;e:for(;C!==null;){switch(C.tag){case 27:if(ua(C.type)){ut=C.stateNode,Vt=!1;break e}break;case 5:ut=C.stateNode,Vt=!1;break e;case 3:case 4:ut=C.stateNode.containerInfo,Vt=!0;break e}C=C.return}if(ut===null)throw Error(s(160));sm(h,b,m),ut=null,Vt=!1,h=m.alternate,h!==null&&(h.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)rm(a,e),a=a.sibling}var dn=null;function rm(e,a){var r=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(a,e),Ht(e),c&4&&(aa(3,e,e.return),wl(3,e),aa(5,e,e.return));break;case 1:Ot(a,e),Ht(e),c&512&&(bt||r===null||xn(r,r.return)),c&64&&In&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var m=dn;if(Ot(a,e),Ht(e),c&512&&(bt||r===null||xn(r,r.return)),c&4){var h=r!==null?r.memoizedState:null;if(c=e.memoizedState,r===null)if(c===null)if(e.stateNode===null){e:{c=e.type,r=e.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":h=m.getElementsByTagName("title")[0],(!h||h[Ks]||h[_t]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=m.createElement(c),m.head.insertBefore(h,m.querySelector("head > title"))),At(h,c,r),h[_t]=e,Ct(h),c=h;break e;case"link":var b=rp("link","href",m).get(c+(r.href||""));if(b){for(var C=0;C<b.length;C++)if(h=b[C],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){b.splice(C,1);break t}}h=m.createElement(c),At(h,c,r),m.head.appendChild(h);break;case"meta":if(b=rp("meta","content",m).get(c+(r.content||""))){for(C=0;C<b.length;C++)if(h=b[C],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){b.splice(C,1);break t}}h=m.createElement(c),At(h,c,r),m.head.appendChild(h);break;default:throw Error(s(468,c))}h[_t]=e,Ct(h),c=h}e.stateNode=c}else op(m,e.type,e.stateNode);else e.stateNode=ip(m,c,e.memoizedProps);else h!==c?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,c===null?op(m,e.type,e.stateNode):ip(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&lc(e,e.memoizedProps,r.memoizedProps)}break;case 27:Ot(a,e),Ht(e),c&512&&(bt||r===null||xn(r,r.return)),r!==null&&c&4&&lc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Ot(a,e),Ht(e),c&512&&(bt||r===null||xn(r,r.return)),e.flags&32){m=e.stateNode;try{Qa(m,"")}catch(ye){We(e,e.return,ye)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,lc(e,m,r!==null?r.memoizedProps:m)),c&1024&&(oc=!0);break;case 6:if(Ot(a,e),Ht(e),c&4){if(e.stateNode===null)throw Error(s(162));c=e.memoizedProps,r=e.stateNode;try{r.nodeValue=c}catch(ye){We(e,e.return,ye)}}break;case 3:if(sr=null,m=dn,dn=nr(a.containerInfo),Ot(a,e),dn=m,Ht(e),c&4&&r!==null&&r.memoizedState.isDehydrated)try{ks(a.containerInfo)}catch(ye){We(e,e.return,ye)}oc&&(oc=!1,om(e));break;case 4:c=dn,dn=nr(e.stateNode.containerInfo),Ot(a,e),Ht(e),dn=c;break;case 12:Ot(a,e),Ht(e);break;case 31:Ot(a,e),Ht(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Gi(e,c)));break;case 13:Ot(a,e),Ht(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Pi=ce()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Gi(e,c)));break;case 22:m=e.memoizedState!==null;var L=r!==null&&r.memoizedState!==null,Z=In,ae=bt;if(In=Z||m,bt=ae||L,Ot(a,e),bt=ae,In=Z,Ht(e),c&8192)e:for(a=e.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(r===null||L||In||bt||Va(e)),r=null,a=e;;){if(a.tag===5||a.tag===26){if(r===null){L=r=a;try{if(h=L.stateNode,m)b=h.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=L.stateNode;var ue=L.memoizedProps.style,J=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;C.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ye){We(L,L.return,ye)}}}else if(a.tag===6){if(r===null){L=a;try{L.stateNode.nodeValue=m?"":L.memoizedProps}catch(ye){We(L,L.return,ye)}}}else if(a.tag===18){if(r===null){L=a;try{var ee=L.stateNode;m?Xm(ee,!0):Xm(L.stateNode,!1)}catch(ye){We(L,L.return,ye)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;r===a&&(r=null),a=a.return}r===a&&(r=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=e.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,Gi(e,r))));break;case 19:Ot(a,e),Ht(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Gi(e,c)));break;case 30:break;case 21:break;default:Ot(a,e),Ht(e)}}function Ht(e){var a=e.flags;if(a&2){try{for(var r,c=e.return;c!==null;){if(Wf(c)){r=c;break}c=c.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var m=r.stateNode,h=ic(e);Bi(e,h,m);break;case 5:var b=r.stateNode;r.flags&32&&(Qa(b,""),r.flags&=-33);var C=ic(e);Bi(e,C,b);break;case 3:case 4:var L=r.stateNode.containerInfo,Z=ic(e);rc(e,Z,L);break;default:throw Error(s(161))}}catch(ae){We(e,e.return,ae)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function om(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;om(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function Ln(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)nm(e,a.alternate,a),a=a.sibling}function Va(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:aa(4,a,a.return),Va(a);break;case 1:xn(a,a.return);var r=a.stateNode;typeof r.componentWillUnmount=="function"&&Xf(a,a.return,r),Va(a);break;case 27:Ml(a.stateNode);case 26:case 5:xn(a,a.return),Va(a);break;case 22:a.memoizedState===null&&Va(a);break;case 30:Va(a);break;default:Va(a)}e=e.sibling}}function zn(e,a,r){for(r=r&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=e,h=a,b=h.flags;switch(h.tag){case 0:case 11:case 15:zn(m,h,r),wl(4,h);break;case 1:if(zn(m,h,r),c=h,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Z){We(c,c.return,Z)}if(c=h,m=c.updateQueue,m!==null){var C=c.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)Vd(L[m],C)}catch(Z){We(c,c.return,Z)}}r&&b&64&&Kf(h),Tl(h,h.return);break;case 27:em(h);case 26:case 5:zn(m,h,r),r&&c===null&&b&4&&Qf(h),Tl(h,h.return);break;case 12:zn(m,h,r);break;case 31:zn(m,h,r),r&&b&4&&lm(m,h);break;case 13:zn(m,h,r),r&&b&4&&im(m,h);break;case 22:h.memoizedState===null&&zn(m,h,r),Tl(h,h.return);break;case 30:break;default:zn(m,h,r)}a=a.sibling}}function cc(e,a){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&cl(r))}function uc(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&cl(e))}function fn(e,a,r,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)cm(e,a,r,c),a=a.sibling}function cm(e,a,r,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:fn(e,a,r,c),m&2048&&wl(9,a);break;case 1:fn(e,a,r,c);break;case 3:fn(e,a,r,c),m&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&cl(e)));break;case 12:if(m&2048){fn(e,a,r,c),e=a.stateNode;try{var h=a.memoizedProps,b=h.id,C=h.onPostCommit;typeof C=="function"&&C(b,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(L){We(a,a.return,L)}}else fn(e,a,r,c);break;case 31:fn(e,a,r,c);break;case 13:fn(e,a,r,c);break;case 23:break;case 22:h=a.stateNode,b=a.alternate,a.memoizedState!==null?h._visibility&2?fn(e,a,r,c):Cl(e,a):h._visibility&2?fn(e,a,r,c):(h._visibility|=2,vs(e,a,r,c,(a.subtreeFlags&10256)!==0||!1)),m&2048&&cc(b,a);break;case 24:fn(e,a,r,c),m&2048&&uc(a.alternate,a);break;default:fn(e,a,r,c)}}function vs(e,a,r,c,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var h=e,b=a,C=r,L=c,Z=b.flags;switch(b.tag){case 0:case 11:case 15:vs(h,b,C,L,m),wl(8,b);break;case 23:break;case 22:var ae=b.stateNode;b.memoizedState!==null?ae._visibility&2?vs(h,b,C,L,m):Cl(h,b):(ae._visibility|=2,vs(h,b,C,L,m)),m&&Z&2048&&cc(b.alternate,b);break;case 24:vs(h,b,C,L,m),m&&Z&2048&&uc(b.alternate,b);break;default:vs(h,b,C,L,m)}a=a.sibling}}function Cl(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var r=e,c=a,m=c.flags;switch(c.tag){case 22:Cl(r,c),m&2048&&cc(c.alternate,c);break;case 24:Cl(r,c),m&2048&&uc(c.alternate,c);break;default:Cl(r,c)}a=a.sibling}}var Sl=8192;function ys(e,a,r){if(e.subtreeFlags&Sl)for(e=e.child;e!==null;)um(e,a,r),e=e.sibling}function um(e,a,r){switch(e.tag){case 26:ys(e,a,r),e.flags&Sl&&e.memoizedState!==null&&F0(r,dn,e.memoizedState,e.memoizedProps);break;case 5:ys(e,a,r);break;case 3:case 4:var c=dn;dn=nr(e.stateNode.containerInfo),ys(e,a,r),dn=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Sl,Sl=16777216,ys(e,a,r),Sl=c):ys(e,a,r));break;default:ys(e,a,r)}}function dm(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function _l(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var c=a[r];St=c,mm(c,e)}dm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fm(e),e=e.sibling}function fm(e){switch(e.tag){case 0:case 11:case 15:_l(e),e.flags&2048&&aa(9,e,e.return);break;case 3:_l(e);break;case 12:_l(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,qi(e)):_l(e);break;default:_l(e)}}function qi(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var c=a[r];St=c,mm(c,e)}dm(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:aa(8,a,a.return),qi(a);break;case 22:r=a.stateNode,r._visibility&2&&(r._visibility&=-3,qi(a));break;default:qi(a)}e=e.sibling}}function mm(e,a){for(;St!==null;){var r=St;switch(r.tag){case 0:case 11:case 15:aa(8,r,a);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:cl(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,St=c;else e:for(r=e;St!==null;){c=St;var m=c.sibling,h=c.return;if(am(c),c===r){St=null;break e}if(m!==null){m.return=h,St=m;break e}St=h}}}var r0={getCacheForType:function(e){var a=Et(gt),r=a.data.get(e);return r===void 0&&(r=e(),a.data.set(e,r)),r},cacheSignal:function(){return Et(gt).controller.signal}},o0=typeof WeakMap=="function"?WeakMap:Map,Ke=0,at=null,Oe=null,Be=0,Qe=0,Jt=null,sa=!1,bs=!1,dc=!1,Vn=0,ft=0,la=0,Oa=0,fc=0,Kt=0,Ns=0,jl=null,Bt=null,mc=!1,Pi=0,pm=0,$i=1/0,Fi=null,ia=null,Tt=0,ra=null,ws=null,On=0,pc=0,hc=null,hm=null,El=0,xc=null;function Xt(){return(Ke&2)!==0&&Be!==0?Be&-Be:U.T!==null?wc():Au()}function xm(){if(Kt===0)if((Be&536870912)===0||qe){var e=ei;ei<<=1,(ei&3932160)===0&&(ei=262144),Kt=e}else Kt=536870912;return e=Yt.current,e!==null&&(e.flags|=32),Kt}function Gt(e,a,r){(e===at&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)&&(Ts(e,0),oa(e,Be,Kt,!1)),Js(e,r),((Ke&2)===0||e!==at)&&(e===at&&((Ke&2)===0&&(Oa|=r),ft===4&&oa(e,Be,Kt,!1)),gn(e))}function gm(e,a,r){if((Ke&6)!==0)throw Error(s(327));var c=!r&&(a&127)===0&&(a&e.expiredLanes)===0||Zs(e,a),m=c?d0(e,a):vc(e,a,!0),h=c;do{if(m===0){bs&&!c&&oa(e,a,0,!1);break}else{if(r=e.current.alternate,h&&!c0(r)){m=vc(e,a,!1),h=!1;continue}if(m===2){if(h=a,e.errorRecoveryDisabledLanes&h)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var C=e;m=jl;var L=C.current.memoizedState.isDehydrated;if(L&&(Ts(C,b).flags|=256),b=vc(C,b,!1),b!==2){if(dc&&!L){C.errorRecoveryDisabledLanes|=h,Oa|=h,m=4;break e}h=Bt,Bt=m,h!==null&&(Bt===null?Bt=h:Bt.push.apply(Bt,h))}m=b}if(h=!1,m!==2)continue}}if(m===1){Ts(e,0),oa(e,a,0,!0);break}e:{switch(c=e,h=m,h){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:oa(c,a,Kt,!sa);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(m=Pi+300-ce(),10<m)){if(oa(c,a,Kt,!sa),ni(c,0,!0)!==0)break e;On=a,c.timeoutHandle=Zm(vm.bind(null,c,r,Bt,Fi,mc,a,Kt,Oa,Ns,sa,h,"Throttled",-0,0),m);break e}vm(c,r,Bt,Fi,mc,a,Kt,Oa,Ns,sa,h,null,-0,0)}}break}while(!0);gn(e)}function vm(e,a,r,c,m,h,b,C,L,Z,ae,ue,J,ee){if(e.timeoutHandle=-1,ue=a.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},um(a,h,ue);var ye=(h&62914560)===h?Pi-ce():(h&4194048)===h?pm-ce():0;if(ye=Y0(ue,ye),ye!==null){On=h,e.cancelPendingCommit=ye(_m.bind(null,e,a,h,r,c,m,b,C,L,ae,ue,null,J,ee)),oa(e,h,b,!Z);return}}_m(e,a,h,r,c,m,b,C,L)}function c0(e){for(var a=e;;){var r=a.tag;if((r===0||r===11||r===15)&&a.flags&16384&&(r=a.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var m=r[c],h=m.getSnapshot;m=m.value;try{if(!$t(h(),m))return!1}catch{return!1}}if(r=a.child,a.subtreeFlags&16384&&r!==null)r.return=a,a=r;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function oa(e,a,r,c){a&=~fc,a&=~Oa,e.suspendedLanes|=a,e.pingedLanes&=~a,c&&(e.warmLanes|=a),c=e.expirationTimes;for(var m=a;0<m;){var h=31-Pt(m),b=1<<h;c[h]=-1,m&=~b}r!==0&&ju(e,r,a)}function Yi(){return(Ke&6)===0?(kl(0),!1):!0}function gc(){if(Oe!==null){if(Qe===0)var e=Oe.return;else e=Oe,En=Aa=null,Ro(e),ms=null,dl=0,e=Oe;for(;e!==null;)Jf(e.alternate,e),e=e.return;Oe=null}}function Ts(e,a){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,k0(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),On=0,gc(),at=e,Oe=r=_n(e.current,null),Be=a,Qe=0,Jt=null,sa=!1,bs=Zs(e,a),dc=!1,Ns=Kt=fc=Oa=la=ft=0,Bt=jl=null,mc=!1,(a&8)!==0&&(a|=a&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=a;0<c;){var m=31-Pt(c),h=1<<m;a|=e[m],c&=~h}return Vn=a,pi(),r}function ym(e,a){Re=null,U.H=yl,a===fs||a===wi?(a=Id(),Qe=3):a===No?(a=Id(),Qe=4):Qe=a===Jo?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Jt=a,Oe===null&&(ft=1,Li(e,tn(a,e.current)))}function bm(){var e=Yt.current;return e===null?!0:(Be&4194048)===Be?ln===null:(Be&62914560)===Be||(Be&536870912)!==0?e===ln:!1}function Nm(){var e=U.H;return U.H=yl,e===null?yl:e}function wm(){var e=U.A;return U.A=r0,e}function Zi(){ft=4,sa||(Be&4194048)!==Be&&Yt.current!==null||(bs=!0),(la&134217727)===0&&(Oa&134217727)===0||at===null||oa(at,Be,Kt,!1)}function vc(e,a,r){var c=Ke;Ke|=2;var m=Nm(),h=wm();(at!==e||Be!==a)&&(Fi=null,Ts(e,a)),a=!1;var b=ft;e:do try{if(Qe!==0&&Oe!==null){var C=Oe,L=Jt;switch(Qe){case 8:gc(),b=6;break e;case 3:case 2:case 9:case 6:Yt.current===null&&(a=!0);var Z=Qe;if(Qe=0,Jt=null,Cs(e,C,L,Z),r&&bs){b=0;break e}break;default:Z=Qe,Qe=0,Jt=null,Cs(e,C,L,Z)}}u0(),b=ft;break}catch(ae){ym(e,ae)}while(!0);return a&&e.shellSuspendCounter++,En=Aa=null,Ke=c,U.H=m,U.A=h,Oe===null&&(at=null,Be=0,pi()),b}function u0(){for(;Oe!==null;)Tm(Oe)}function d0(e,a){var r=Ke;Ke|=2;var c=Nm(),m=wm();at!==e||Be!==a?(Fi=null,$i=ce()+500,Ts(e,a)):bs=Zs(e,a);e:do try{if(Qe!==0&&Oe!==null){a=Oe;var h=Jt;t:switch(Qe){case 1:Qe=0,Jt=null,Cs(e,a,h,1);break;case 2:case 9:if(Md(h)){Qe=0,Jt=null,Cm(a);break}a=function(){Qe!==2&&Qe!==9||at!==e||(Qe=7),gn(e)},h.then(a,a);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Md(h)?(Qe=0,Jt=null,Cm(a)):(Qe=0,Jt=null,Cs(e,a,h,7));break;case 5:var b=null;switch(Oe.tag){case 26:b=Oe.memoizedState;case 5:case 27:var C=Oe;if(b?cp(b):C.stateNode.complete){Qe=0,Jt=null;var L=C.sibling;if(L!==null)Oe=L;else{var Z=C.return;Z!==null?(Oe=Z,Ji(Z)):Oe=null}break t}}Qe=0,Jt=null,Cs(e,a,h,5);break;case 6:Qe=0,Jt=null,Cs(e,a,h,6);break;case 8:gc(),ft=6;break e;default:throw Error(s(462))}}f0();break}catch(ae){ym(e,ae)}while(!0);return En=Aa=null,U.H=c,U.A=m,Ke=r,Oe!==null?0:(at=null,Be=0,pi(),ft)}function f0(){for(;Oe!==null&&!ie();)Tm(Oe)}function Tm(e){var a=Yf(e.alternate,e,Vn);e.memoizedProps=e.pendingProps,a===null?Ji(e):Oe=a}function Cm(e){var a=e,r=a.alternate;switch(a.tag){case 15:case 0:a=Bf(r,a,a.pendingProps,a.type,void 0,Be);break;case 11:a=Bf(r,a,a.pendingProps,a.type.render,a.ref,Be);break;case 5:Ro(a);default:Jf(r,a),a=Oe=Nd(a,Vn),a=Yf(r,a,Vn)}e.memoizedProps=e.pendingProps,a===null?Ji(e):Oe=a}function Cs(e,a,r,c){En=Aa=null,Ro(a),ms=null,dl=0;var m=a.return;try{if(e0(e,m,a,r,Be)){ft=1,Li(e,tn(r,e.current)),Oe=null;return}}catch(h){if(m!==null)throw Oe=m,h;ft=1,Li(e,tn(r,e.current)),Oe=null;return}a.flags&32768?(qe||c===1?e=!0:bs||(Be&536870912)!==0?e=!1:(sa=e=!0,(c===2||c===9||c===3||c===6)&&(c=Yt.current,c!==null&&c.tag===13&&(c.flags|=16384))),Sm(a,e)):Ji(a)}function Ji(e){var a=e;do{if((a.flags&32768)!==0){Sm(a,sa);return}e=a.return;var r=a0(a.alternate,a,Vn);if(r!==null){Oe=r;return}if(a=a.sibling,a!==null){Oe=a;return}Oe=a=e}while(a!==null);ft===0&&(ft=5)}function Sm(e,a){do{var r=s0(e.alternate,e);if(r!==null){r.flags&=32767,Oe=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!a&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=r}while(e!==null);ft=6,Oe=null}function _m(e,a,r,c,m,h,b,C,L){e.cancelPendingCommit=null;do Ki();while(Tt!==0);if((Ke&6)!==0)throw Error(s(327));if(a!==null){if(a===e.current)throw Error(s(177));if(h=a.lanes|a.childLanes,h|=lo,$x(e,r,h,b,C,L),e===at&&(Oe=at=null,Be=0),ws=a,ra=e,On=r,pc=h,hc=m,hm=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,x0(Nn,function(){return Dm(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=U.T,U.T=null,m=Q.p,Q.p=2,b=Ke,Ke|=4;try{l0(e,a,r)}finally{Ke=b,Q.p=m,U.T=c}}Tt=1,jm(),Em(),km()}}function jm(){if(Tt===1){Tt=0;var e=ra,a=ws,r=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||r){r=U.T,U.T=null;var c=Q.p;Q.p=2;var m=Ke;Ke|=4;try{rm(a,e);var h=Ac,b=fd(e.containerInfo),C=h.focusedElem,L=h.selectionRange;if(b!==C&&C&&C.ownerDocument&&dd(C.ownerDocument.documentElement,C)){if(L!==null&&eo(C)){var Z=L.start,ae=L.end;if(ae===void 0&&(ae=Z),"selectionStart"in C)C.selectionStart=Z,C.selectionEnd=Math.min(ae,C.value.length);else{var ue=C.ownerDocument||document,J=ue&&ue.defaultView||window;if(J.getSelection){var ee=J.getSelection(),ye=C.textContent.length,je=Math.min(L.start,ye),nt=L.end===void 0?je:Math.min(L.end,ye);!ee.extend&&je>nt&&(b=nt,nt=je,je=b);var q=ud(C,je),H=ud(C,nt);if(q&&H&&(ee.rangeCount!==1||ee.anchorNode!==q.node||ee.anchorOffset!==q.offset||ee.focusNode!==H.node||ee.focusOffset!==H.offset)){var F=ue.createRange();F.setStart(q.node,q.offset),ee.removeAllRanges(),je>nt?(ee.addRange(F),ee.extend(H.node,H.offset)):(F.setEnd(H.node,H.offset),ee.addRange(F))}}}}for(ue=[],ee=C;ee=ee.parentNode;)ee.nodeType===1&&ue.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ue.length;C++){var re=ue[C];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}or=!!kc,Ac=kc=null}finally{Ke=m,Q.p=c,U.T=r}}e.current=a,Tt=2}}function Em(){if(Tt===2){Tt=0;var e=ra,a=ws,r=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||r){r=U.T,U.T=null;var c=Q.p;Q.p=2;var m=Ke;Ke|=4;try{nm(e,a.alternate,a)}finally{Ke=m,Q.p=c,U.T=r}}Tt=3}}function km(){if(Tt===4||Tt===3){Tt=0,oe();var e=ra,a=ws,r=On,c=hm;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Tt=5:(Tt=0,ws=ra=null,Am(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(ia=null),Ur(r),a=a.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Ys,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=U.T,m=Q.p,Q.p=2,U.T=null;try{for(var h=e.onRecoverableError,b=0;b<c.length;b++){var C=c[b];h(C.value,{componentStack:C.stack})}}finally{U.T=a,Q.p=m}}(On&3)!==0&&Ki(),gn(e),m=e.pendingLanes,(r&261930)!==0&&(m&42)!==0?e===xc?El++:(El=0,xc=e):El=0,kl(0)}}function Am(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,cl(a)))}function Ki(){return jm(),Em(),km(),Dm()}function Dm(){if(Tt!==5)return!1;var e=ra,a=pc;pc=0;var r=Ur(On),c=U.T,m=Q.p;try{Q.p=32>r?32:r,U.T=null,r=hc,hc=null;var h=ra,b=On;if(Tt=0,ws=ra=null,On=0,(Ke&6)!==0)throw Error(s(331));var C=Ke;if(Ke|=4,fm(h.current),cm(h,h.current,b,r),Ke=C,kl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Ys,h)}catch{}return!0}finally{Q.p=m,U.T=c,Am(e,a)}}function Mm(e,a,r){a=tn(r,a),a=Zo(e.stateNode,a,2),e=ea(e,a,2),e!==null&&(Js(e,2),gn(e))}function We(e,a,r){if(e.tag===3)Mm(e,e,r);else for(;a!==null;){if(a.tag===3){Mm(a,e,r);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ia===null||!ia.has(c))){e=tn(r,e),r=Rf(2),c=ea(a,r,2),c!==null&&(If(r,c,a,e),Js(c,2),gn(c));break}}a=a.return}}function yc(e,a,r){var c=e.pingCache;if(c===null){c=e.pingCache=new o0;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(r)||(dc=!0,m.add(r),e=m0.bind(null,e,a,r),a.then(e,e))}function m0(e,a,r){var c=e.pingCache;c!==null&&c.delete(a),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,at===e&&(Be&r)===r&&(ft===4||ft===3&&(Be&62914560)===Be&&300>ce()-Pi?(Ke&2)===0&&Ts(e,0):fc|=r,Ns===Be&&(Ns=0)),gn(e)}function Rm(e,a){a===0&&(a=_u()),e=ja(e,a),e!==null&&(Js(e,a),gn(e))}function p0(e){var a=e.memoizedState,r=0;a!==null&&(r=a.retryLane),Rm(e,r)}function h0(e,a){var r=0;switch(e.tag){case 31:case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(r=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(a),Rm(e,r)}function x0(e,a){return $a(e,a)}var Xi=null,Ss=null,bc=!1,Qi=!1,Nc=!1,ca=0;function gn(e){e!==Ss&&e.next===null&&(Ss===null?Xi=Ss=e:Ss=Ss.next=e),Qi=!0,bc||(bc=!0,v0())}function kl(e,a){if(!Nc&&Qi){Nc=!0;do for(var r=!1,c=Xi;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var h=0;else{var b=c.suspendedLanes,C=c.pingedLanes;h=(1<<31-Pt(42|e)+1)-1,h&=m&~(b&~C),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,zm(c,h))}else h=Be,h=ni(c,c===at?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||Zs(c,h)||(r=!0,zm(c,h));c=c.next}while(r);Nc=!1}}function g0(){Im()}function Im(){Qi=bc=!1;var e=0;ca!==0&&E0()&&(e=ca);for(var a=ce(),r=null,c=Xi;c!==null;){var m=c.next,h=Um(c,a);h===0?(c.next=null,r===null?Xi=m:r.next=m,m===null&&(Ss=r)):(r=c,(e!==0||(h&3)!==0)&&(Qi=!0)),c=m}Tt!==0&&Tt!==5||kl(e),ca!==0&&(ca=0)}function Um(e,a){for(var r=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var b=31-Pt(h),C=1<<b,L=m[b];L===-1?((C&r)===0||(C&c)!==0)&&(m[b]=Px(C,a)):L<=a&&(e.expiredLanes|=C),h&=~C}if(a=at,r=Be,r=ni(e,e===a?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,r===0||e===a&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&ne(c),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Zs(e,r)){if(a=r&-r,a===e.callbackPriority)return a;switch(c!==null&&ne(c),Ur(r)){case 2:case 8:r=Na;break;case 32:r=Nn;break;case 268435456:r=Ql;break;default:r=Nn}return c=Lm.bind(null,e),r=$a(r,c),e.callbackPriority=a,e.callbackNode=r,a}return c!==null&&c!==null&&ne(c),e.callbackPriority=2,e.callbackNode=null,2}function Lm(e,a){if(Tt!==0&&Tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Ki()&&e.callbackNode!==r)return null;var c=Be;return c=ni(e,e===at?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(gm(e,c,a),Um(e,ce()),e.callbackNode!=null&&e.callbackNode===r?Lm.bind(null,e):null)}function zm(e,a){if(Ki())return null;gm(e,a,!0)}function v0(){A0(function(){(Ke&6)!==0?$a(xt,g0):Im()})}function wc(){if(ca===0){var e=us;e===0&&(e=Wl,Wl<<=1,(Wl&261888)===0&&(Wl=256)),ca=e}return ca}function Vm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ii(""+e)}function Om(e,a){var r=a.ownerDocument.createElement("input");return r.name=a.name,r.value=a.value,e.id&&r.setAttribute("form",e.id),a.parentNode.insertBefore(r,a),e=new FormData(e),r.parentNode.removeChild(r),e}function y0(e,a,r,c,m){if(a==="submit"&&r&&r.stateNode===m){var h=Vm((m[Lt]||null).action),b=c.submitter;b&&(a=(a=b[Lt]||null)?Vm(a.formAction):b.getAttribute("formAction"),a!==null&&(h=a,b=null));var C=new ui("action","action",null,c,m);e.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ca!==0){var L=b?Om(m,b):new FormData(m);Go(r,{pending:!0,data:L,method:m.method,action:h},null,L)}}else typeof h=="function"&&(C.preventDefault(),L=b?Om(m,b):new FormData(m),Go(r,{pending:!0,data:L,method:m.method,action:h},h,L))},currentTarget:m}]})}}for(var Tc=0;Tc<so.length;Tc++){var Cc=so[Tc],b0=Cc.toLowerCase(),N0=Cc[0].toUpperCase()+Cc.slice(1);un(b0,"on"+N0)}un(hd,"onAnimationEnd"),un(xd,"onAnimationIteration"),un(gd,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(zg,"onTransitionRun"),un(Vg,"onTransitionStart"),un(Og,"onTransitionCancel"),un(vd,"onTransitionEnd"),Ka("onMouseEnter",["mouseout","mouseover"]),Ka("onMouseLeave",["mouseout","mouseover"]),Ka("onPointerEnter",["pointerout","pointerover"]),Ka("onPointerLeave",["pointerout","pointerover"]),Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function Hm(e,a){a=(a&4)!==0;for(var r=0;r<e.length;r++){var c=e[r],m=c.event;c=c.listeners;e:{var h=void 0;if(a)for(var b=c.length-1;0<=b;b--){var C=c[b],L=C.instance,Z=C.currentTarget;if(C=C.listener,L!==h&&m.isPropagationStopped())break e;h=C,m.currentTarget=Z;try{h(m)}catch(ae){mi(ae)}m.currentTarget=null,h=L}else for(b=0;b<c.length;b++){if(C=c[b],L=C.instance,Z=C.currentTarget,C=C.listener,L!==h&&m.isPropagationStopped())break e;h=C,m.currentTarget=Z;try{h(m)}catch(ae){mi(ae)}m.currentTarget=null,h=L}}}}function He(e,a){var r=a[Lr];r===void 0&&(r=a[Lr]=new Set);var c=e+"__bubble";r.has(c)||(Bm(a,e,2,!1),r.add(c))}function Sc(e,a,r){var c=0;a&&(c|=4),Bm(r,e,c,a)}var Wi="_reactListening"+Math.random().toString(36).slice(2);function _c(e){if(!e[Wi]){e[Wi]=!0,Ru.forEach(function(r){r!=="selectionchange"&&(w0.has(r)||Sc(r,!1,e),Sc(r,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[Wi]||(a[Wi]=!0,Sc("selectionchange",!1,a))}}function Bm(e,a,r,c){switch(xp(a)){case 2:var m=K0;break;case 8:m=X0;break;default:m=Bc}r=m.bind(null,a,r,e),m=void 0,!$r||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(a,r,{capture:!0,passive:m}):e.addEventListener(a,r,!0):m!==void 0?e.addEventListener(a,r,{passive:m}):e.addEventListener(a,r,!1)}function jc(e,a,r,c,m){var h=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var C=c.stateNode.containerInfo;if(C===m)break;if(b===4)for(b=c.return;b!==null;){var L=b.tag;if((L===3||L===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;C!==null;){if(b=Ya(C),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){c=h=b;continue e}C=C.parentNode}}c=c.return}$u(function(){var Z=h,ae=qr(r),ue=[];e:{var J=yd.get(e);if(J!==void 0){var ee=ui,ye=e;switch(e){case"keypress":if(oi(r)===0)break e;case"keydown":case"keyup":ee=hg;break;case"focusin":ye="focus",ee=Jr;break;case"focusout":ye="blur",ee=Jr;break;case"beforeblur":case"afterblur":ee=Jr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=ag;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=vg;break;case hd:case xd:case gd:ee=ig;break;case vd:ee=bg;break;case"scroll":case"scrollend":ee=tg;break;case"wheel":ee=wg;break;case"copy":case"cut":case"paste":ee=og;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Ku;break;case"toggle":case"beforetoggle":ee=Cg}var je=(a&4)!==0,nt=!je&&(e==="scroll"||e==="scrollend"),q=je?J!==null?J+"Capture":null:J;je=[];for(var H=Z,F;H!==null;){var re=H;if(F=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||F===null||q===null||(re=Qs(H,q),re!=null&&je.push(Dl(H,re,F))),nt)break;H=H.return}0<je.length&&(J=new ee(J,ye,null,r,ae),ue.push({event:J,listeners:je}))}}if((a&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",J&&r!==Gr&&(ye=r.relatedTarget||r.fromElement)&&(Ya(ye)||ye[Fa]))break e;if((ee||J)&&(J=ae.window===ae?ae:(J=ae.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(ye=r.relatedTarget||r.toElement,ee=Z,ye=ye?Ya(ye):null,ye!==null&&(nt=u(ye),je=ye.tag,ye!==nt||je!==5&&je!==27&&je!==6)&&(ye=null)):(ee=null,ye=Z),ee!==ye)){if(je=Zu,re="onMouseLeave",q="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(je=Ku,re="onPointerLeave",q="onPointerEnter",H="pointer"),nt=ee==null?J:Xs(ee),F=ye==null?J:Xs(ye),J=new je(re,H+"leave",ee,r,ae),J.target=nt,J.relatedTarget=F,re=null,Ya(ae)===Z&&(je=new je(q,H+"enter",ye,r,ae),je.target=F,je.relatedTarget=nt,re=je),nt=re,ee&&ye)t:{for(je=T0,q=ee,H=ye,F=0,re=q;re;re=je(re))F++;re=0;for(var Se=H;Se;Se=je(Se))re++;for(;0<F-re;)q=je(q),F--;for(;0<re-F;)H=je(H),re--;for(;F--;){if(q===H||H!==null&&q===H.alternate){je=q;break t}q=je(q),H=je(H)}je=null}else je=null;ee!==null&&Gm(ue,J,ee,je,!1),ye!==null&&nt!==null&&Gm(ue,nt,ye,je,!0)}}e:{if(J=Z?Xs(Z):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var Ye=sd;else if(nd(J))if(ld)Ye=Ig;else{Ye=Mg;var we=Dg}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&Br(Z.elementType)&&(Ye=sd):Ye=Rg;if(Ye&&(Ye=Ye(e,Z))){ad(ue,Ye,r,ae);break e}we&&we(e,J,Z),e==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&Hr(J,"number",J.value)}switch(we=Z?Xs(Z):window,e){case"focusin":(nd(we)||we.contentEditable==="true")&&(ns=we,to=Z,il=null);break;case"focusout":il=to=ns=null;break;case"mousedown":no=!0;break;case"contextmenu":case"mouseup":case"dragend":no=!1,md(ue,r,ae);break;case"selectionchange":if(Lg)break;case"keydown":case"keyup":md(ue,r,ae)}var Ue;if(Xr)e:{switch(e){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else ts?ed(e,r)&&(Ge="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ge="onCompositionStart");Ge&&(Xu&&r.locale!=="ko"&&(ts||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&ts&&(Ue=Fu()):(Yn=ae,Fr="value"in Yn?Yn.value:Yn.textContent,ts=!0)),we=er(Z,Ge),0<we.length&&(Ge=new Ju(Ge,e,null,r,ae),ue.push({event:Ge,listeners:we}),Ue?Ge.data=Ue:(Ue=td(r),Ue!==null&&(Ge.data=Ue)))),(Ue=_g?jg(e,r):Eg(e,r))&&(Ge=er(Z,"onBeforeInput"),0<Ge.length&&(we=new Ju("onBeforeInput","beforeinput",null,r,ae),ue.push({event:we,listeners:Ge}),we.data=Ue)),y0(ue,e,Z,r,ae)}Hm(ue,a)})}function Dl(e,a,r){return{instance:e,listener:a,currentTarget:r}}function er(e,a){for(var r=a+"Capture",c=[];e!==null;){var m=e,h=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||h===null||(m=Qs(e,r),m!=null&&c.unshift(Dl(e,m,h)),m=Qs(e,a),m!=null&&c.push(Dl(e,m,h))),e.tag===3)return c;e=e.return}return[]}function T0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gm(e,a,r,c,m){for(var h=a._reactName,b=[];r!==null&&r!==c;){var C=r,L=C.alternate,Z=C.stateNode;if(C=C.tag,L!==null&&L===c)break;C!==5&&C!==26&&C!==27||Z===null||(L=Z,m?(Z=Qs(r,h),Z!=null&&b.unshift(Dl(r,Z,L))):m||(Z=Qs(r,h),Z!=null&&b.push(Dl(r,Z,L)))),r=r.return}b.length!==0&&e.push({event:a,listeners:b})}var C0=/\r\n?/g,S0=/\u0000|\uFFFD/g;function qm(e){return(typeof e=="string"?e:""+e).replace(C0,`
`).replace(S0,"")}function Pm(e,a){return a=qm(a),qm(e)===a}function tt(e,a,r,c,m,h){switch(r){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Qa(e,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Qa(e,""+c);break;case"className":si(e,"class",c);break;case"tabIndex":si(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":si(e,r,c);break;case"style":qu(e,c,h);break;case"data":if(a!=="object"){si(e,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||r!=="href")){e.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=ii(""+c),e.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(a!=="input"&&tt(e,a,"name",m.name,m,null),tt(e,a,"formEncType",m.formEncType,m,null),tt(e,a,"formMethod",m.formMethod,m,null),tt(e,a,"formTarget",m.formTarget,m,null)):(tt(e,a,"encType",m.encType,m,null),tt(e,a,"method",m.method,m,null),tt(e,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=ii(""+c),e.setAttribute(r,c);break;case"onClick":c!=null&&(e.onclick=Cn);break;case"onScroll":c!=null&&He("scroll",e);break;case"onScrollEnd":c!=null&&He("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(r=c.__html,r!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}r=ii(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""+c):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":c===!0?e.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,c):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(r,c):e.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(r):e.setAttribute(r,c);break;case"popover":He("beforetoggle",e),He("toggle",e),ai(e,"popover",c);break;case"xlinkActuate":Tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Tn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Tn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Tn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Tn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ai(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Wx.get(r)||r,ai(e,r,c))}}function Ec(e,a,r,c,m,h){switch(r){case"style":qu(e,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(r=c.__html,r!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof c=="string"?Qa(e,c):(typeof c=="number"||typeof c=="bigint")&&Qa(e,""+c);break;case"onScroll":c!=null&&He("scroll",e);break;case"onScrollEnd":c!=null&&He("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Iu.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(m=r.endsWith("Capture"),a=r.slice(2,m?r.length-7:void 0),h=e[Lt]||null,h=h!=null?h[r]:null,typeof h=="function"&&e.removeEventListener(a,h,m),typeof c=="function")){typeof h!="function"&&h!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(a,c,m);break e}r in e?e[r]=c:c===!0?e.setAttribute(r,""):ai(e,r,c)}}}function At(e,a,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",e),He("load",e);var c=!1,m=!1,h;for(h in r)if(r.hasOwnProperty(h)){var b=r[h];if(b!=null)switch(h){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:tt(e,a,h,b,r,null)}}m&&tt(e,a,"srcSet",r.srcSet,r,null),c&&tt(e,a,"src",r.src,r,null);return;case"input":He("invalid",e);var C=h=b=m=null,L=null,Z=null;for(c in r)if(r.hasOwnProperty(c)){var ae=r[c];if(ae!=null)switch(c){case"name":m=ae;break;case"type":b=ae;break;case"checked":L=ae;break;case"defaultChecked":Z=ae;break;case"value":h=ae;break;case"defaultValue":C=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,a));break;default:tt(e,a,c,ae,r,null)}}Ou(e,h,C,L,Z,b,m,!1);return;case"select":He("invalid",e),c=b=h=null;for(m in r)if(r.hasOwnProperty(m)&&(C=r[m],C!=null))switch(m){case"value":h=C;break;case"defaultValue":b=C;break;case"multiple":c=C;default:tt(e,a,m,C,r,null)}a=h,r=b,e.multiple=!!c,a!=null?Xa(e,!!c,a,!1):r!=null&&Xa(e,!!c,r,!0);return;case"textarea":He("invalid",e),h=m=c=null;for(b in r)if(r.hasOwnProperty(b)&&(C=r[b],C!=null))switch(b){case"value":c=C;break;case"defaultValue":m=C;break;case"children":h=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:tt(e,a,b,C,r,null)}Bu(e,c,m,h);return;case"option":for(L in r)if(r.hasOwnProperty(L)&&(c=r[L],c!=null))switch(L){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:tt(e,a,L,c,r,null)}return;case"dialog":He("beforetoggle",e),He("toggle",e),He("cancel",e),He("close",e);break;case"iframe":case"object":He("load",e);break;case"video":case"audio":for(c=0;c<Al.length;c++)He(Al[c],e);break;case"image":He("error",e),He("load",e);break;case"details":He("toggle",e);break;case"embed":case"source":case"link":He("error",e),He("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in r)if(r.hasOwnProperty(Z)&&(c=r[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:tt(e,a,Z,c,r,null)}return;default:if(Br(a)){for(ae in r)r.hasOwnProperty(ae)&&(c=r[ae],c!==void 0&&Ec(e,a,ae,c,r,void 0));return}}for(C in r)r.hasOwnProperty(C)&&(c=r[C],c!=null&&tt(e,a,C,c,r,null))}function _0(e,a,r,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,h=null,b=null,C=null,L=null,Z=null,ae=null;for(ee in r){var ue=r[ee];if(r.hasOwnProperty(ee)&&ue!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":L=ue;default:c.hasOwnProperty(ee)||tt(e,a,ee,null,c,ue)}}for(var J in c){var ee=c[J];if(ue=r[J],c.hasOwnProperty(J)&&(ee!=null||ue!=null))switch(J){case"type":h=ee;break;case"name":m=ee;break;case"checked":Z=ee;break;case"defaultChecked":ae=ee;break;case"value":b=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,a));break;default:ee!==ue&&tt(e,a,J,ee,c,ue)}}Or(e,b,C,L,Z,ae,h,m);return;case"select":ee=b=C=J=null;for(h in r)if(L=r[h],r.hasOwnProperty(h)&&L!=null)switch(h){case"value":break;case"multiple":ee=L;default:c.hasOwnProperty(h)||tt(e,a,h,null,c,L)}for(m in c)if(h=c[m],L=r[m],c.hasOwnProperty(m)&&(h!=null||L!=null))switch(m){case"value":J=h;break;case"defaultValue":C=h;break;case"multiple":b=h;default:h!==L&&tt(e,a,m,h,c,L)}a=C,r=b,c=ee,J!=null?Xa(e,!!r,J,!1):!!c!=!!r&&(a!=null?Xa(e,!!r,a,!0):Xa(e,!!r,r?[]:"",!1));return;case"textarea":ee=J=null;for(C in r)if(m=r[C],r.hasOwnProperty(C)&&m!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:tt(e,a,C,null,c,m)}for(b in c)if(m=c[b],h=r[b],c.hasOwnProperty(b)&&(m!=null||h!=null))switch(b){case"value":J=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==h&&tt(e,a,b,m,c,h)}Hu(e,J,ee);return;case"option":for(var ye in r)if(J=r[ye],r.hasOwnProperty(ye)&&J!=null&&!c.hasOwnProperty(ye))switch(ye){case"selected":e.selected=!1;break;default:tt(e,a,ye,null,c,J)}for(L in c)if(J=c[L],ee=r[L],c.hasOwnProperty(L)&&J!==ee&&(J!=null||ee!=null))switch(L){case"selected":e.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:tt(e,a,L,J,c,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in r)J=r[je],r.hasOwnProperty(je)&&J!=null&&!c.hasOwnProperty(je)&&tt(e,a,je,null,c,J);for(Z in c)if(J=c[Z],ee=r[Z],c.hasOwnProperty(Z)&&J!==ee&&(J!=null||ee!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,a));break;default:tt(e,a,Z,J,c,ee)}return;default:if(Br(a)){for(var nt in r)J=r[nt],r.hasOwnProperty(nt)&&J!==void 0&&!c.hasOwnProperty(nt)&&Ec(e,a,nt,void 0,c,J);for(ae in c)J=c[ae],ee=r[ae],!c.hasOwnProperty(ae)||J===ee||J===void 0&&ee===void 0||Ec(e,a,ae,J,c,ee);return}}for(var q in r)J=r[q],r.hasOwnProperty(q)&&J!=null&&!c.hasOwnProperty(q)&&tt(e,a,q,null,c,J);for(ue in c)J=c[ue],ee=r[ue],!c.hasOwnProperty(ue)||J===ee||J==null&&ee==null||tt(e,a,ue,J,c,ee)}function $m(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,r=performance.getEntriesByType("resource"),c=0;c<r.length;c++){var m=r[c],h=m.transferSize,b=m.initiatorType,C=m.duration;if(h&&C&&$m(b)){for(b=0,C=m.responseEnd,c+=1;c<r.length;c++){var L=r[c],Z=L.startTime;if(Z>C)break;var ae=L.transferSize,ue=L.initiatorType;ae&&$m(ue)&&(L=L.responseEnd,b+=ae*(L<C?1:(C-Z)/(L-Z)))}if(--c,a+=8*(h+b)/(m.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var kc=null,Ac=null;function tr(e){return e.nodeType===9?e:e.ownerDocument}function Fm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ym(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function Dc(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Mc=null;function E0(){var e=window.event;return e&&e.type==="popstate"?e===Mc?!1:(Mc=e,!0):(Mc=null,!1)}var Zm=typeof setTimeout=="function"?setTimeout:void 0,k0=typeof clearTimeout=="function"?clearTimeout:void 0,Jm=typeof Promise=="function"?Promise:void 0,A0=typeof queueMicrotask=="function"?queueMicrotask:typeof Jm<"u"?function(e){return Jm.resolve(null).then(e).catch(D0)}:Zm;function D0(e){setTimeout(function(){throw e})}function ua(e){return e==="head"}function Km(e,a){var r=a,c=0;do{var m=r.nextSibling;if(e.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"||r==="/&"){if(c===0){e.removeChild(m),ks(a);return}c--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")c++;else if(r==="html")Ml(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Ml(r);for(var h=r.firstChild;h;){var b=h.nextSibling,C=h.nodeName;h[Ks]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&h.rel.toLowerCase()==="stylesheet"||r.removeChild(h),h=b}}else r==="body"&&Ml(e.ownerDocument.body);r=m}while(r);ks(a)}function Xm(e,a){var r=e;e=0;do{var c=r.nextSibling;if(r.nodeType===1?a?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(a?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=c}while(r)}function Rc(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var r=a;switch(a=a.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Rc(r),zr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function M0(e,a,r,c){for(;e.nodeType===1;){var m=r;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Ks])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var h=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=rn(e.nextSibling),e===null)break}return null}function R0(e,a,r){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=rn(e.nextSibling),e===null))return null;return e}function Qm(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=rn(e.nextSibling),e===null))return null;return e}function Ic(e){return e.data==="$?"||e.data==="$~"}function Uc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function I0(e,a){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||r.readyState!=="loading")a();else{var c=function(){a(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function rn(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var Lc=null;function Wm(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(a===0)return rn(e.nextSibling);a--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||a++}e=e.nextSibling}return null}function ep(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(a===0)return e;a--}else r!=="/$"&&r!=="/&"||a++}e=e.previousSibling}return null}function tp(e,a,r){switch(a=tr(r),e){case"html":if(e=a.documentElement,!e)throw Error(s(452));return e;case"head":if(e=a.head,!e)throw Error(s(453));return e;case"body":if(e=a.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ml(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);zr(e)}var on=new Map,np=new Set;function nr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hn=Q.d;Q.d={f:U0,r:L0,D:z0,C:V0,L:O0,m:H0,X:G0,S:B0,M:q0};function U0(){var e=Hn.f(),a=Yi();return e||a}function L0(e){var a=Za(e);a!==null&&a.tag===5&&a.type==="form"?yf(a):Hn.r(e)}var _s=typeof document>"u"?null:document;function ap(e,a,r){var c=_s;if(c&&typeof a=="string"&&a){var m=Wt(a);m='link[rel="'+e+'"][href="'+m+'"]',typeof r=="string"&&(m+='[crossorigin="'+r+'"]'),np.has(m)||(np.add(m),e={rel:e,crossOrigin:r,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),At(a,"link",e),Ct(a),c.head.appendChild(a)))}}function z0(e){Hn.D(e),ap("dns-prefetch",e,null)}function V0(e,a){Hn.C(e,a),ap("preconnect",e,a)}function O0(e,a,r){Hn.L(e,a,r);var c=_s;if(c&&e&&a){var m='link[rel="preload"][as="'+Wt(a)+'"]';a==="image"&&r&&r.imageSrcSet?(m+='[imagesrcset="'+Wt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(m+='[imagesizes="'+Wt(r.imageSizes)+'"]')):m+='[href="'+Wt(e)+'"]';var h=m;switch(a){case"style":h=js(e);break;case"script":h=Es(e)}on.has(h)||(e=N({rel:"preload",href:a==="image"&&r&&r.imageSrcSet?void 0:e,as:a},r),on.set(h,e),c.querySelector(m)!==null||a==="style"&&c.querySelector(Rl(h))||a==="script"&&c.querySelector(Il(h))||(a=c.createElement("link"),At(a,"link",e),Ct(a),c.head.appendChild(a)))}}function H0(e,a){Hn.m(e,a);var r=_s;if(r&&e){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Wt(c)+'"][href="'+Wt(e)+'"]',h=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Es(e)}if(!on.has(h)&&(e=N({rel:"modulepreload",href:e},a),on.set(h,e),r.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Il(h)))return}c=r.createElement("link"),At(c,"link",e),Ct(c),r.head.appendChild(c)}}}function B0(e,a,r){Hn.S(e,a,r);var c=_s;if(c&&e){var m=Ja(c).hoistableStyles,h=js(e);a=a||"default";var b=m.get(h);if(!b){var C={loading:0,preload:null};if(b=c.querySelector(Rl(h)))C.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":a},r),(r=on.get(h))&&zc(e,r);var L=b=c.createElement("link");Ct(L),At(L,"link",e),L._p=new Promise(function(Z,ae){L.onload=Z,L.onerror=ae}),L.addEventListener("load",function(){C.loading|=1}),L.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ar(b,a,c)}b={type:"stylesheet",instance:b,count:1,state:C},m.set(h,b)}}}function G0(e,a){Hn.X(e,a);var r=_s;if(r&&e){var c=Ja(r).hoistableScripts,m=Es(e),h=c.get(m);h||(h=r.querySelector(Il(m)),h||(e=N({src:e,async:!0},a),(a=on.get(m))&&Vc(e,a),h=r.createElement("script"),Ct(h),At(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(m,h))}}function q0(e,a){Hn.M(e,a);var r=_s;if(r&&e){var c=Ja(r).hoistableScripts,m=Es(e),h=c.get(m);h||(h=r.querySelector(Il(m)),h||(e=N({src:e,async:!0,type:"module"},a),(a=on.get(m))&&Vc(e,a),h=r.createElement("script"),Ct(h),At(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(m,h))}}function sp(e,a,r,c){var m=(m=_e.current)?nr(m):null;if(!m)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(a=js(r.href),r=Ja(m).hoistableStyles,c=r.get(a),c||(c={type:"style",instance:null,count:0,state:null},r.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=js(r.href);var h=Ja(m).hoistableStyles,b=h.get(e);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,b),(h=m.querySelector(Rl(e)))&&!h._p&&(b.instance=h,b.state.loading=5),on.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},on.set(e,r),h||P0(m,e,r,b.state))),a&&c===null)throw Error(s(528,""));return b}if(a&&c!==null)throw Error(s(529,""));return null;case"script":return a=r.async,r=r.src,typeof r=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Es(r),r=Ja(m).hoistableScripts,c=r.get(a),c||(c={type:"script",instance:null,count:0,state:null},r.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function js(e){return'href="'+Wt(e)+'"'}function Rl(e){return'link[rel="stylesheet"]['+e+"]"}function lp(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function P0(e,a,r,c){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=e.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),At(a,"link",r),Ct(a),e.head.appendChild(a))}function Es(e){return'[src="'+Wt(e)+'"]'}function Il(e){return"script[async]"+e}function ip(e,a,r){if(a.count++,a.instance===null)switch(a.type){case"style":var c=e.querySelector('style[data-href~="'+Wt(r.href)+'"]');if(c)return a.instance=c,Ct(c),c;var m=N({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Ct(c),At(c,"style",m),ar(c,r.precedence,e),a.instance=c;case"stylesheet":m=js(r.href);var h=e.querySelector(Rl(m));if(h)return a.state.loading|=4,a.instance=h,Ct(h),h;c=lp(r),(m=on.get(m))&&zc(c,m),h=(e.ownerDocument||e).createElement("link"),Ct(h);var b=h;return b._p=new Promise(function(C,L){b.onload=C,b.onerror=L}),At(h,"link",c),a.state.loading|=4,ar(h,r.precedence,e),a.instance=h;case"script":return h=Es(r.src),(m=e.querySelector(Il(h)))?(a.instance=m,Ct(m),m):(c=r,(m=on.get(h))&&(c=N({},r),Vc(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),Ct(m),At(m,"link",c),e.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,ar(c,r.precedence,e));return a.instance}function ar(e,a,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,h=m,b=0;b<c.length;b++){var C=c[b];if(C.dataset.precedence===a)h=C;else if(h!==m)break}h?h.parentNode.insertBefore(e,h.nextSibling):(a=r.nodeType===9?r.head:r,a.insertBefore(e,a.firstChild))}function zc(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function Vc(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var sr=null;function rp(e,a,r){if(sr===null){var c=new Map,m=sr=new Map;m.set(r,c)}else m=sr,c=m.get(r),c||(c=new Map,m.set(r,c));if(c.has(e))return c;for(c.set(e,null),r=r.getElementsByTagName(e),m=0;m<r.length;m++){var h=r[m];if(!(h[Ks]||h[_t]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var b=h.getAttribute(a)||"";b=e+b;var C=c.get(b);C?C.push(h):c.set(b,[h])}}return c}function op(e,a,r){e=e.ownerDocument||e,e.head.insertBefore(r,a==="title"?e.querySelector("head > title"):null)}function $0(e,a,r){if(r===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function cp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function F0(e,a,r,c){if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=js(c.href),h=a.querySelector(Rl(m));if(h){a=h._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=lr.bind(e),a.then(e,e)),r.state.loading|=4,r.instance=h,Ct(h);return}h=a.ownerDocument||a,c=lp(c),(m=on.get(m))&&zc(c,m),h=h.createElement("link"),Ct(h);var b=h;b._p=new Promise(function(C,L){b.onload=C,b.onerror=L}),At(h,"link",c),r.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,a),(a=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=lr.bind(e),a.addEventListener("load",r),a.addEventListener("error",r))}}var Oc=0;function Y0(e,a){return e.stylesheets&&e.count===0&&rr(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var c=setTimeout(function(){if(e.stylesheets&&rr(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+a);0<e.imgBytes&&Oc===0&&(Oc=62500*j0());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&rr(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Oc?50:800)+a);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function lr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ir=null;function rr(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ir=new Map,a.forEach(Z0,e),ir=null,lr.call(e))}function Z0(e,a){if(!(a.state.loading&4)){var r=ir.get(e);if(r)var c=r.get(null);else{r=new Map,ir.set(e,r);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<m.length;h++){var b=m[h];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(r.set(b.dataset.precedence,b),c=b)}c&&r.set(null,c)}m=a.instance,b=m.getAttribute("data-precedence"),h=r.get(b)||c,h===c&&r.set(null,m),r.set(b,m),this.count++,c=lr.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),h?h.parentNode.insertBefore(m,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),a.state.loading|=4}}var Ul={$$typeof:D,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function J0(e,a,r,c,m,h,b,C,L){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=h,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function up(e,a,r,c,m,h,b,C,L,Z,ae,ue){return e=new J0(e,a,r,b,L,Z,ae,ue,C),a=1,h===!0&&(a|=24),h=Ft(3,null,null,a),e.current=h,h.stateNode=e,a=vo(),a.refCount++,e.pooledCache=a,a.refCount++,h.memoizedState={element:c,isDehydrated:r,cache:a},wo(h),e}function dp(e){return e?(e=ls,e):ls}function fp(e,a,r,c,m,h){m=dp(m),c.context===null?c.context=m:c.pendingContext=m,c=Wn(a),c.payload={element:r},h=h===void 0?null:h,h!==null&&(c.callback=h),r=ea(e,c,a),r!==null&&(Gt(r,e,a),ml(r,e,a))}function mp(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<a?r:a}}function Hc(e,a){mp(e,a),(e=e.alternate)&&mp(e,a)}function pp(e){if(e.tag===13||e.tag===31){var a=ja(e,67108864);a!==null&&Gt(a,e,67108864),Hc(e,67108864)}}function hp(e){if(e.tag===13||e.tag===31){var a=Xt();a=Ir(a);var r=ja(e,a);r!==null&&Gt(r,e,a),Hc(e,a)}}var or=!0;function K0(e,a,r,c){var m=U.T;U.T=null;var h=Q.p;try{Q.p=2,Bc(e,a,r,c)}finally{Q.p=h,U.T=m}}function X0(e,a,r,c){var m=U.T;U.T=null;var h=Q.p;try{Q.p=8,Bc(e,a,r,c)}finally{Q.p=h,U.T=m}}function Bc(e,a,r,c){if(or){var m=Gc(c);if(m===null)jc(e,a,c,cr,r),gp(e,c);else if(W0(m,e,a,r,c))c.stopPropagation();else if(gp(e,c),a&4&&-1<Q0.indexOf(e)){for(;m!==null;){var h=Za(m);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var b=wa(h.pendingLanes);if(b!==0){var C=h;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var L=1<<31-Pt(b);C.entanglements[1]|=L,b&=~L}gn(h),(Ke&6)===0&&($i=ce()+500,kl(0))}}break;case 31:case 13:C=ja(h,2),C!==null&&Gt(C,h,2),Yi(),Hc(h,2)}if(h=Gc(c),h===null&&jc(e,a,c,cr,r),h===m)break;m=h}m!==null&&c.stopPropagation()}else jc(e,a,c,null,r)}}function Gc(e){return e=qr(e),qc(e)}var cr=null;function qc(e){if(cr=null,e=Ya(e),e!==null){var a=u(e);if(a===null)e=null;else{var r=a.tag;if(r===13){if(e=p(a),e!==null)return e;e=null}else if(r===31){if(e=g(a),e!==null)return e;e=null}else if(r===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return cr=e,null}function xp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ht()){case xt:return 2;case Na:return 8;case Nn:case wn:return 32;case Ql:return 268435456;default:return 32}default:return 32}}var Pc=!1,da=null,fa=null,ma=null,Ll=new Map,zl=new Map,pa=[],Q0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gp(e,a){switch(e){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":Ll.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(a.pointerId)}}function Vl(e,a,r,c,m,h){return e===null||e.nativeEvent!==h?(e={blockedOn:a,domEventName:r,eventSystemFlags:c,nativeEvent:h,targetContainers:[m]},a!==null&&(a=Za(a),a!==null&&pp(a)),e):(e.eventSystemFlags|=c,a=e.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),e)}function W0(e,a,r,c,m){switch(a){case"focusin":return da=Vl(da,e,a,r,c,m),!0;case"dragenter":return fa=Vl(fa,e,a,r,c,m),!0;case"mouseover":return ma=Vl(ma,e,a,r,c,m),!0;case"pointerover":var h=m.pointerId;return Ll.set(h,Vl(Ll.get(h)||null,e,a,r,c,m)),!0;case"gotpointercapture":return h=m.pointerId,zl.set(h,Vl(zl.get(h)||null,e,a,r,c,m)),!0}return!1}function vp(e){var a=Ya(e.target);if(a!==null){var r=u(a);if(r!==null){if(a=r.tag,a===13){if(a=p(r),a!==null){e.blockedOn=a,Du(e.priority,function(){hp(r)});return}}else if(a===31){if(a=g(r),a!==null){e.blockedOn=a,Du(e.priority,function(){hp(r)});return}}else if(a===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ur(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var r=Gc(e.nativeEvent);if(r===null){r=e.nativeEvent;var c=new r.constructor(r.type,r);Gr=c,r.target.dispatchEvent(c),Gr=null}else return a=Za(r),a!==null&&pp(a),e.blockedOn=r,!1;a.shift()}return!0}function yp(e,a,r){ur(e)&&r.delete(a)}function ev(){Pc=!1,da!==null&&ur(da)&&(da=null),fa!==null&&ur(fa)&&(fa=null),ma!==null&&ur(ma)&&(ma=null),Ll.forEach(yp),zl.forEach(yp)}function dr(e,a){e.blockedOn===a&&(e.blockedOn=null,Pc||(Pc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,ev)))}var fr=null;function bp(e){fr!==e&&(fr=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){fr===e&&(fr=null);for(var a=0;a<e.length;a+=3){var r=e[a],c=e[a+1],m=e[a+2];if(typeof c!="function"){if(qc(c||r)===null)continue;break}var h=Za(r);h!==null&&(e.splice(a,3),a-=3,Go(h,{pending:!0,data:m,method:r.method,action:c},c,m))}}))}function ks(e){function a(L){return dr(L,e)}da!==null&&dr(da,e),fa!==null&&dr(fa,e),ma!==null&&dr(ma,e),Ll.forEach(a),zl.forEach(a);for(var r=0;r<pa.length;r++){var c=pa[r];c.blockedOn===e&&(c.blockedOn=null)}for(;0<pa.length&&(r=pa[0],r.blockedOn===null);)vp(r),r.blockedOn===null&&pa.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var m=r[c],h=r[c+1],b=m[Lt]||null;if(typeof h=="function")b||bp(r);else if(b){var C=null;if(h&&h.hasAttribute("formAction")){if(m=h,b=h[Lt]||null)C=b.formAction;else if(qc(m)!==null)continue}else C=b.action;typeof C=="function"?r[c+1]=C:(r.splice(c,3),c-=3),bp(r)}}}function Np(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),c||setTimeout(r,20)}function r(){if(!c&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(r,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function $c(e){this._internalRoot=e}mr.prototype.render=$c.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(s(409));var r=a.current,c=Xt();fp(r,c,e,a,null,null)},mr.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;fp(e.current,2,null,e,null,null),Yi(),a[Fa]=null}};function mr(e){this._internalRoot=e}mr.prototype.unstable_scheduleHydration=function(e){if(e){var a=Au();e={blockedOn:null,target:e,priority:a};for(var r=0;r<pa.length&&a!==0&&a<pa[r].priority;r++);pa.splice(r,0,e),r===0&&vp(e)}};var wp=t.version;if(wp!=="19.2.3")throw Error(s(527,wp,"19.2.3"));Q.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=x(a),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var tv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pr.isDisabled&&pr.supportsFiber)try{Ys=pr.inject(tv),qt=pr}catch{}}return Hl.createRoot=function(e,a){if(!o(e))throw Error(s(299));var r=!1,c="",m=kf,h=Af,b=Df;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=up(e,1,!1,null,null,r,c,null,m,h,b,Np),e[Fa]=a.current,_c(e),new $c(a)},Hl.hydrateRoot=function(e,a,r){if(!o(e))throw Error(s(299));var c=!1,m="",h=kf,b=Af,C=Df,L=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.formState!==void 0&&(L=r.formState)),a=up(e,1,!0,a,r??null,c,m,L,h,b,C,Np),a.context=dp(null),r=a.current,c=Xt(),c=Ir(c),m=Wn(c),m.callback=null,ea(r,m,c),r=c,a.current.lanes=r,Js(a,r),gn(a),e[Fa]=a.current,_c(e),new mr(a)},Hl.version="19.2.3",Hl}var Mp;function fv(){if(Mp)return Zc.exports;Mp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),Zc.exports=dv(),Zc.exports}var mv=fv(),Ne=(l=>(l.INBOX="INBOX",l.NEXT_ACTION="NEXT_ACTION",l.DOING="DOING",l.DONE="DONE",l.WAITING="WAITING",l.REFERENCE="REFERENCE",l))(Ne||{}),Rs=(l=>(l.UI="UI",l.UNI="UNI",l.NUI="NUI",l.NUNI="NUNI",l))(Rs||{});const ox="12tr_gamified_engine_state",pv=l=>{try{localStorage.setItem(ox,JSON.stringify(l))}catch(t){console.error("Failed to save state to localStorage",t)}},hv=()=>{try{const l=localStorage.getItem(ox);return l?JSON.parse(l):null}catch(l){return console.error("Failed to load state from localStorage",l),null}},cx=A.createContext(void 0),xv=()=>{const l=["friend","colleague","family","mentor","acquaintance"],t={friend:[" "," "," "," "," "],colleague:[" "," HR"," "," "," "],family:["",""," "," "," "],mentor:[" "," "," "," "," "],acquaintance:["  5"," "," "," ","  "]},n=[];return l.forEach(s=>{t[s].forEach((o,u)=>{const p=Date.now()-Math.random()*1e3*60*60*24*40;n.push({id:`seed-${s}-${u}`,name:o,status:s,rating:40+Math.floor(Math.random()*50),loop:s==="friend"?"week":s==="family"?"month":"quarter",hobbies:["","",""].slice(0,1+Math.floor(Math.random()*2)),tags:[s.toUpperCase()],socials:{telegram:o.split(" ")[0].toLowerCase()},notes:[{id:`n-${u}`,text:"    .",date:new Date().toISOString()}],memories:[],interactions:[],importantDates:[{id:`d-${u}`,label:"",date:"2024-06-15",showInCalendar:!0,repeatYearly:!0}],lastInteractionAt:p,createdAt:Date.now()-1e6})})}),n},gv=({children:l})=>{var Pa,$a;const t=hv(),[n,s]=A.useState((t==null?void 0:t.activeTab)||"dashboard"),[o,u]=A.useState((t==null?void 0:t.theme)||"classic"),[p,g]=A.useState((t==null?void 0:t.detailsWidth)||450),[v,x]=A.useState((t==null?void 0:t.isSidebarCollapsed)||!1),[y,N]=A.useState((t==null?void 0:t.sidebarSettings)||{}),[w,j]=A.useState((t==null?void 0:t.aiEnabled)??!1),[_,T]=A.useState(Date.now()),[S,M]=A.useState("month"),[I,D]=A.useState((t==null?void 0:t.cycle)||{id:"c1",startDate:Date.now(),endDate:Date.now()+1e3*60*60*24*84,currentWeek:1,globalExecutionScore:0}),[O,R]=A.useState((t==null?void 0:t.tasks)||[]),[$,k]=A.useState(t!=null&&t.diary&&t.diary.length>0?t.diary:[]),[z,G]=A.useState((t==null?void 0:t.inboxCategories)||[{id:"pinned",title:"",icon:"fa-thumbtack",isPinned:!0,scope:"inbox"},{id:"unsorted",title:"",icon:"fa-inbox",isPinned:!1,scope:"inbox"},{id:"tasks",title:"",icon:"fa-bolt",isPinned:!1,scope:"actions"},{id:"notes",title:"",icon:"fa-note-sticky",isPinned:!1,scope:"inbox"}]),[V,te]=A.useState((t==null?void 0:t.projects)||[]),[le,X]=A.useState((Pa=t==null?void 0:t.people)!=null&&Pa.length?t.people:xv()),[B,de]=A.useState((t==null?void 0:t.relationshipTypes)||["friend","colleague","family","mentor","acquaintance"]),[U,Q]=A.useState(($a=t==null?void 0:t.tags)!=null&&$a.length?t.tags:[]),[W,pe]=A.useState((t==null?void 0:t.hobbies)||[]),[ve,E]=A.useState((t==null?void 0:t.timeBlocks)||[]),[P,se]=A.useState((t==null?void 0:t.blockHistory)||{}),[fe,xe]=A.useState((t==null?void 0:t.routinePresets)||[]),[_e,ze]=A.useState(t!=null&&t.reportTemplate&&t.reportTemplate.length>0?t.reportTemplate:[]),[lt,K]=A.useState((t==null?void 0:t.shoppingStores)||[]),[Ce,Ie]=A.useState((t==null?void 0:t.shoppingItems)||[]),[ct,wt]=A.useState((t==null?void 0:t.character)||{name:"",race:"Human",archetype:"Strategist",role:"",level:1,xp:0,gold:0,bio:"   .",vision:"   .",avatarUrl:"https://api.dicebear.com/7.x/avataaars/svg?seed=Hero",energy:100,maxEnergy:100,focus:100,goals:[],views:[],beliefs:[],preferences:{focusBlockers:[]},skills:[],achievements:[],stats:{health:50,career:50,finance:50,education:50,relationships:50,rest:50}});A.useEffect(()=>{document.documentElement.setAttribute("data-theme",o),pv({tasks:O,projects:V,people:le,relationshipTypes:B,character:ct,tags:U,hobbies:W,cycle:I,diary:$,inboxCategories:z,detailsWidth:p,sidebarSettings:y,isSidebarCollapsed:v,aiEnabled:w,timeBlocks:ve,blockHistory:P,routinePresets:fe,activeTab:n,theme:o,reportTemplate:_e,shoppingStores:lt,shoppingItems:Ce})},[O,V,le,B,ct,U,W,I,$,z,p,y,v,w,ve,P,fe,n,o,_e,lt,Ce]);const Ve=A.useCallback((ne,ie)=>{N(oe=>({...oe,[ne]:ie}))},[]),Mt=A.useCallback(ne=>{wt(ie=>({...ie,...ne}))},[]),Pn=A.useCallback(ne=>{ze(ne)},[]),Kl=A.useCallback((ne,ie,oe)=>{let ce=oe;return k(ht=>oe?ht.map(xt=>xt.id===oe?{...xt,date:ne,content:ie,updatedAt:Date.now()}:xt):(ce=Math.random().toString(36).substr(2,9),[{id:ce,date:ne,content:ie,createdAt:Date.now(),updatedAt:Date.now()},...ht])),ce||""},[]),Xl=A.useMemo(()=>({tasks:O,projects:V,people:le,relationshipTypes:B,cycle:I,character:ct,tags:U,hobbies:W,diary:$,inboxCategories:z,timeBlocks:ve,blockHistory:P,routinePresets:fe,activeTab:n,setActiveTab:s,theme:o,setTheme:u,detailsWidth:p,setDetailsWidth:g,sidebarSettings:y,isSidebarCollapsed:v,setSidebarCollapsed:x,updateSidebarSetting:Ve,aiEnabled:w,setAiEnabled:j,updateCharacter:Mt,calendarDate:_,setCalendarDate:T,calendarViewMode:S,setCalendarViewMode:M,reportTemplate:_e,updateReportTemplate:Pn,shoppingStores:lt,shoppingItems:Ce,addTask:(ne,ie="unsorted",oe,ce="actions",ht=!1,xt,Na,Nn=Ne.INBOX)=>{const wn=Math.random().toString(36).substr(2,9),Ql={id:wn,title:ne,status:Nn,priority:Rs.NUI,difficulty:1,xp:50,tags:[],createdAt:Date.now(),category:ie,projectId:oe,projectSection:ce,isEvent:ht,scheduledDate:xt,personId:Na};return R(Mr=>[Ql,...Mr]),wn},addProject:ne=>{const ie=Math.random().toString(36).substr(2,9);return te(oe=>[...oe,{...ne,id:ie,progress:0,status:"active"}]),ie},updateTask:ne=>R(ie=>ie.some(ce=>ce.id===ne.id)?ie.map(ce=>ce.id===ne.id?ne:ce):[ne,...ie]),updateProject:ne=>te(ie=>ie.map(oe=>oe.id===ne.id?ne:oe)),deleteProject:ne=>te(ie=>ie.filter(oe=>oe.id!==ne)),deleteTask:(ne,ie=!1)=>R(oe=>ie?oe.filter(ce=>ce.id!==ne):oe.map(ce=>ce.id===ne?{...ce,isDeleted:!0}:ce)),restoreTask:ne=>R(ie=>ie.map(oe=>oe.id===ne?{...oe,isDeleted:!1}:oe)),moveTaskToCategory:(ne,ie)=>R(oe=>oe.map(ce=>ce.id===ne?{...ce,category:ie}:ce)),moveTaskToProjectSection:(ne,ie)=>R(oe=>oe.map(ce=>ce.id===ne?{...ce,projectSection:ie}:ce)),setProjectParent:(ne,ie)=>te(oe=>oe.map(ce=>ce.id===ne?{...ce,parentFolderId:ie}:ce)),scheduleTask:(ne,ie)=>R(oe=>oe.map(ce=>ce.id===ne?{...ce,scheduledDate:ie}:ce)),toggleTaskStatus:ne=>{const ie=ne.status!==Ne.DONE;R(oe=>oe.map(ce=>ce.id===ne.id?{...ce,status:ie?Ne.DONE:Ne.INBOX,completedAt:ie?Date.now():void 0}:ce))},toggleHabitStatus:(ne,ie,oe,ce)=>R(ht=>ht.map(xt=>{var Na,Nn;if(xt.id===ne){const wn={...xt.habitHistory||{}};return wn[ie]={status:oe||(((Na=wn[ie])==null?void 0:Na.status)==="completed"?"none":"completed"),note:ce||((Nn=wn[ie])==null?void 0:Nn.note)},{...xt,habitHistory:wn}}return xt})),toggleTaskPin:ne=>R(ie=>ie.map(oe=>oe.id===ne?{...oe,isPinned:!oe.isPinned}:oe)),undoLastAction:()=>{},pendingUndo:!1,addTag:ne=>{const ie={id:Math.random().toString(36).substr(2,9),name:ne,color:"#f97316"};return Q(oe=>[...oe,ie]),ie},renameTag:(ne,ie)=>Q(oe=>oe.map(ce=>ce.name===ne?{...ce,name:ie}:ce)),deleteTag:ne=>Q(ie=>ie.filter(oe=>oe.name!==ne)),addHobby:ne=>{const ie={id:Math.random().toString(36).substr(2,9),name:ne,color:"#f97316"};return pe(oe=>[...oe,ie]),ie},renameHobby:(ne,ie)=>pe(oe=>oe.map(ce=>ce.name===ne?{...ce,name:ie}:ce)),deleteHobby:ne=>pe(ie=>ie.filter(oe=>oe.name!==ne)),saveDiaryEntry:Kl,deleteDiaryEntry:ne=>k(ie=>ie.filter(oe=>oe.id!==ne)),addInboxCategory:(ne,ie,oe)=>G(ce=>[...ce,{id:Math.random().toString(36).substr(2,9),title:ne,icon:"fa-folder",isPinned:!1,scope:ie,color:oe}]),updateInboxCategory:(ne,ie)=>G(oe=>oe.map(ce=>ce.id===ne?{...ce,...ie}:ce)),deleteInboxCategory:ne=>G(ie=>ie.filter(oe=>oe.id!==ne)),addTimeBlock:ne=>E(ie=>[...ie,{...ne,id:Math.random().toString(36).substr(2,9)}]),updateTimeBlock:ne=>E(ie=>ie.map(oe=>oe.id===ne.id?ne:oe)),deleteTimeBlock:ne=>E(ie=>ie.filter(oe=>oe.id!==ne)),setBlockStatus:(ne,ie,oe)=>se(ce=>({...ce,[ne]:{...ce[ne]||{},[ie]:oe}})),saveRoutineAsPreset:(ne,ie)=>{const oe=ve.filter(ce=>ce.dayOfWeek===ie);xe(ce=>[...ce,{id:Math.random().toString(36).substr(2,9),name:ne,blocks:oe}])},applyRoutinePreset:(ne,ie)=>{const oe=fe.find(ce=>ce.id===ne);oe&&E(ce=>[...ce.filter(ht=>ht.dayOfWeek!==ie),...oe.blocks.map(ht=>({...ht,id:Math.random().toString(36).substr(2,9),dayOfWeek:ie}))])},addChecklistItem:(ne,ie)=>R(oe=>oe.map(ce=>ce.id===ne?{...ce,checklist:[...ce.checklist||[],{id:Math.random().toString(36).substr(2,9),title:ie,completed:!1}]}:ce)),toggleChecklistItem:(ne,ie)=>R(oe=>oe.map(ce=>{var ht;return ce.id===ne?{...ce,checklist:(ht=ce.checklist)==null?void 0:ht.map(xt=>xt.id===ie?{...xt,completed:!xt.completed}:xt)}:ce})),removeChecklistItem:(ne,ie)=>R(oe=>oe.map(ce=>{var ht;return ce.id===ne?{...ce,checklist:(ht=ce.checklist)==null?void 0:ht.filter(xt=>xt.id!==ie)}:ce})),addPerson:(ne,ie="acquaintance")=>{const oe=`p-${Math.random().toString(36).substr(2,9)}`;return X(ce=>[...ce,{id:oe,name:ne,status:ie,rating:5,tags:[],hobbies:[],socials:{},notes:[],memories:[],interactions:[],importantDates:[],loop:"month",createdAt:Date.now()}]),oe},updatePerson:ne=>X(ie=>ie.map(oe=>oe.id===ne.id?ne:oe)),deletePerson:ne=>X(ie=>ie.filter(oe=>oe.id!==ne)),addPersonMemory:(ne,ie)=>X(oe=>oe.map(ce=>ce.id===ne?{...ce,memories:[{...ie,id:Math.random().toString(36).substr(2,9)},...ce.memories]}:ce)),addPersonNote:(ne,ie)=>X(oe=>oe.map(ce=>ce.id===ne?{...ce,notes:[{id:Math.random().toString(36).substr(2,9),text:ie,date:new Date().toISOString()},...ce.notes]}:ce)),addInteraction:(ne,ie)=>X(oe=>oe.map(ce=>ce.id===ne?{...ce,lastInteractionAt:ie.date,interactions:[{...ie,id:Math.random().toString(36).substr(2,9)},...ce.interactions||[]]}:ce)),deleteInteraction:(ne,ie)=>X(oe=>oe.map(ce=>ce.id===ne?{...ce,interactions:(ce.interactions||[]).filter(ht=>ht.id!==ie)}:ce)),addRelationshipType:ne=>de(ie=>[...new Set([...ie,ne])]),deleteRelationshipType:ne=>de(ie=>ie.filter(oe=>oe!==ne)),updateCycle:ne=>D(ie=>({...ie,...ne})),toggleCycleDay:ne=>{},setWeeklyScore:(ne,ie)=>{},addStore:(ne,ie="fa-shop",oe="#f97316")=>K(ce=>[...ce,{id:Math.random().toString(36).substr(2,9),name:ne,icon:ie,color:oe}]),updateStore:ne=>K(ie=>ie.map(oe=>oe.id===ne.id?ne:oe)),deleteStore:ne=>{K(ie=>ie.filter(oe=>oe.id!==ne)),Ie(ie=>ie.filter(oe=>oe.storeId!==ne))},addShoppingItem:(ne,ie)=>Ie(oe=>[...oe,{id:Math.random().toString(36).substr(2,9),name:ne,storeId:ie,isBought:!1}]),updateShoppingItem:ne=>Ie(ie=>ie.map(oe=>oe.id===ne.id?ne:oe)),toggleShoppingItem:ne=>Ie(ie=>ie.map(oe=>oe.id===ne?{...oe,isBought:!oe.isBought}:oe)),deleteShoppingItem:ne=>Ie(ie=>ie.filter(oe=>oe.id!==ne))}),[O,V,le,B,I,ct,U,W,$,z,ve,P,fe,n,o,p,y,v,w,_,S,_e,lt,Ce,Kl,Ve,Mt,Pn,j]);return i.jsx(cx.Provider,{value:Xl,children:l})},$e=()=>{const l=A.useContext(cx);if(!l)throw new Error("useApp must be used within an AppProvider");return l},Y=({variant:l,children:t,className:n="",italic:s=!1,onDoubleClick:o,onClick:u})=>{const p=s?"italic":"",g={h1:"text-4xl font-black tracking-tighter font-heading",h2:"text-2xl font-black tracking-tight font-heading",h3:"text-lg font-bold font-heading",body:"text-sm font-medium leading-relaxed",caption:"text-xs font-bold uppercase tracking-widest opacity-60",tiny:"text-[10px] font-black uppercase tracking-widest"};return i.jsx("div",{className:`${g[l]} ${p} ${n}`,style:{color:"var(--text-main)"},onDoubleClick:o,onClick:u,children:t})},vv=({activeTab:l,setActiveTab:t,counts:n})=>{const{tasks:s,updateTask:o,scheduleTask:u,toggleTaskStatus:p,isSidebarCollapsed:g,setSidebarCollapsed:v,sidebarSettings:x,theme:y}=$e(),[N,w]=A.useState(!1),j=[{id:"today",icon:"fa-star",label:"",acceptDrop:!0},{id:"dashboard",icon:"fa-house",label:""},{id:"inbox",icon:"fa-inbox",label:"",acceptDrop:!0},{id:"next_actions",icon:"fa-bolt",label:"",acceptDrop:!0},{id:"projects",icon:"fa-folder-tree",label:""},{id:"calendar",icon:"fa-calendar-days",label:""},{id:"notes",icon:"fa-note-sticky",label:"",acceptDrop:!0}],_=[{id:"map",icon:"fa-map-location-dot",label:""},{id:"diary",icon:"fa-book-open",label:""},{id:"habits",icon:"fa-repeat",label:""},{id:"people",icon:"fa-user-ninja",label:""},{id:"hashtags",icon:"fa-hashtag",label:""},{id:"hobbies",icon:"fa-masks-theater",label:""},{id:"focus",icon:"fa-bullseye",label:""},{id:"character",icon:"fa-user-shield",label:""},{id:"shopping",icon:"fa-cart-shopping",label:""}],T=[{id:"completed",icon:"fa-circle-check",label:"",acceptDrop:!0},{id:"trash",icon:"fa-trash-can",label:"",acceptDrop:!0}],S=A.useMemo(()=>[...j,..._,...T],[]),M=(D,O)=>{D.preventDefault();const R=D.dataTransfer.getData("taskId");if(!R)return;const $=s.find(k=>k.id===R);if($)switch(O){case"today":u(R,new Date().setHours(0,0,0,0));break;case"inbox":o({...$,status:Ne.INBOX,scheduledDate:void 0,projectId:void 0,category:"unsorted",isDeleted:!1});break;case"next_actions":o({...$,status:Ne.NEXT_ACTION,category:"tasks",isDeleted:!1});break;case"notes":o({...$,category:"note",status:Ne.INBOX,isDeleted:!1});break;case"completed":$.status!==Ne.DONE&&p($);break;case"trash":o({...$,isDeleted:!0});break}},I=D=>{if(x[D.id]===!1)return null;const O=l===D.id;return i.jsx("div",{onDragOver:R=>R.preventDefault(),onDrop:R=>M(R,D.id),className:"relative group px-1",children:i.jsxs("button",{onClick:()=>t(D.id),className:`w-full flex items-center gap-2 px-2 py-1.5 rounded-xl transition-all ${O?"bg-orange-50 text-orange-700 border border-orange-100 shadow-sm":"text-slate-500 hover:bg-slate-50"}`,children:[i.jsx("span",{className:`w-4 flex justify-center text-xs ${O?"text-orange-600":""}`,children:i.jsx("i",{className:`fa-solid ${D.icon}`})}),!g&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"flex-1 text-left font-black text-[9px] tracking-widest truncate uppercase leading-none",children:D.label}),n[D.id]>0&&i.jsx("span",{className:"h-3.5 min-w-[14px] flex items-center justify-center rounded-full text-[7px] font-black px-1 bg-slate-100 text-slate-500",children:n[D.id]})]})]})},D.id)};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`${g?"w-14":"w-48"} hidden md:flex bg-white border-r border-slate-100 flex-col h-screen sticky top-0 z-40 transition-all duration-300 ease-in-out shrink-0`,children:[i.jsxs("div",{className:"p-4 flex items-center justify-between",children:[!g&&i.jsx("div",{className:"text-xl font-black font-heading text-orange-600 flex items-center gap-2 tracking-tighter leading-none",children:i.jsx("span",{children:"12TR"})}),i.jsx("button",{onClick:()=>v(!g),className:"w-8 h-8 rounded-xl hover:bg-slate-50 flex items-center justify-center text-slate-300 hover:text-slate-600",children:i.jsx("i",{className:`fa-solid ${g?"fa-bars":"fa-chevron-left"}`})})]}),i.jsxs("nav",{className:"flex-1 space-y-0.5 py-2 overflow-y-auto custom-scrollbar no-scrollbar pl-0.5",children:[j.map(I),i.jsx("div",{className:"my-3 mx-4 border-t border-slate-50"}),!g&&i.jsx("div",{className:"px-4 mb-1",children:i.jsx("span",{className:"text-[7px] uppercase font-black tracking-widest text-slate-300",children:"Toolbox"})}),_.map(I)]}),i.jsxs("div",{className:"px-1 py-4 border-t border-slate-50 space-y-0.5",children:[T.map(I),i.jsxs("button",{onClick:()=>t("settings"),className:`w-full flex items-center gap-2 px-2.5 py-1.5 rounded-xl transition-all ${l==="settings"?"bg-indigo-50 text-indigo-700":"text-slate-400 hover:bg-slate-50"}`,children:[i.jsx("span",{className:"w-4 flex justify-center text-[10px]",children:i.jsx("i",{className:"fa-solid fa-gear"})}),!g&&i.jsx("span",{className:"font-black text-[9px] tracking-widest uppercase",children:""})]})]})]}),i.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 h-16 bg-white/90 backdrop-blur-xl border-t border-slate-100 z-50 flex items-center justify-around px-4 pb-safe",children:[{id:"today",icon:"fa-star",label:""},{id:"inbox",icon:"fa-inbox",label:""},{id:"next_actions",icon:"fa-bolt",label:""},{id:"calendar",icon:"fa-calendar-days",label:""},{id:"menu",icon:"fa-grid-2",label:"",isMenuTrigger:!0}].map(D=>i.jsxs("button",{onClick:()=>D.isMenuTrigger?w(!0):t(D.id),className:`flex flex-col items-center justify-center w-12 h-12 rounded-2xl transition-all ${!D.isMenuTrigger&&l===D.id?"text-orange-600 bg-orange-50 shadow-inner":"text-slate-400"}`,children:[i.jsx("i",{className:`fa-solid ${D.isMenuTrigger?"fa-table-cells-large":D.icon} text-lg mb-0.5`}),i.jsx("span",{className:"text-[6px] font-black uppercase tracking-tighter",children:D.label})]},D.id))}),N&&i.jsxs("div",{className:"fixed inset-0 z-[200] bg-white md:hidden animate-in fade-in slide-in-from-bottom duration-300 flex flex-col",children:[i.jsxs("header",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-orange-600 flex items-center justify-center text-white shadow-lg",children:i.jsx("i",{className:"fa-solid fa-table-cells-large"})}),i.jsx(Y,{variant:"h2",className:"text-xl",children:" "})]}),i.jsx("button",{onClick:()=>w(!1),className:"w-10 h-10 rounded-2xl bg-slate-50 flex items-center justify-center text-slate-400",children:i.jsx("i",{className:"fa-solid fa-xmark"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-50/30",children:i.jsxs("div",{className:"grid grid-cols-3 gap-4 pb-20",children:[S.map(D=>{if(x[D.id]===!1)return null;const O=l===D.id,R=["today","inbox","next_actions","calendar"].includes(D.id);return i.jsxs("button",{onClick:()=>{t(D.id),w(!1)},className:`flex flex-col items-center justify-center p-4 rounded-3xl border transition-all ${O?"bg-orange-600 border-orange-600 text-white shadow-xl shadow-orange-100":"bg-white border-slate-100 text-slate-500 shadow-sm"} ${R?"opacity-50":""}`,children:[i.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center mb-2 ${O?"bg-white/10":"bg-slate-50"}`,children:i.jsx("i",{className:`fa-solid ${D.icon} text-lg`})}),i.jsx("span",{className:"text-[8px] font-black uppercase text-center leading-tight",children:D.label}),n[D.id]>0&&i.jsxs("span",{className:`mt-1 text-[7px] font-black ${O?"text-white/60":"text-slate-300"}`,children:["(",n[D.id],")"]})]},D.id)}),i.jsxs("button",{onClick:()=>{t("settings"),w(!1)},className:`flex flex-col items-center justify-center p-4 rounded-3xl border transition-all ${l==="settings"?"bg-indigo-600 text-white":"bg-indigo-50 border-indigo-100 text-indigo-600 shadow-sm"}`,children:[i.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center mb-2 ${l==="settings"?"bg-white/10":"bg-white"}`,children:i.jsx("i",{className:"fa-solid fa-gear text-lg"})}),i.jsx("span",{className:"text-[8px] font-black uppercase text-center leading-tight",children:""})]})]})}),i.jsx("footer",{className:"p-6 border-t border-slate-100 bg-slate-50/50 text-center",children:i.jsx(Y,{variant:"tiny",className:"text-slate-300 uppercase tracking-[0.2em] text-[8px]",children:"12TR Life Engine Control Hub"})})]})]})};var Je;(function(l){l.assertEqual=o=>{};function t(o){}l.assertIs=t;function n(o){throw new Error}l.assertNever=n,l.arrayToEnum=o=>{const u={};for(const p of o)u[p]=p;return u},l.getValidEnumValues=o=>{const u=l.objectKeys(o).filter(g=>typeof o[o[g]]!="number"),p={};for(const g of u)p[g]=o[g];return l.objectValues(p)},l.objectValues=o=>l.objectKeys(o).map(function(u){return o[u]}),l.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const u=[];for(const p in o)Object.prototype.hasOwnProperty.call(o,p)&&u.push(p);return u},l.find=(o,u)=>{for(const p of o)if(u(p))return p},l.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function s(o,u=" | "){return o.map(p=>typeof p=="string"?`'${p}'`:p).join(u)}l.joinValues=s,l.jsonStringifyReplacer=(o,u)=>typeof u=="bigint"?u.toString():u})(Je||(Je={}));var Rp;(function(l){l.mergeShapes=(t,n)=>({...t,...n})})(Rp||(Rp={}));const be=Je.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xa=l=>{switch(typeof l){case"undefined":return be.undefined;case"string":return be.string;case"number":return Number.isNaN(l)?be.nan:be.number;case"boolean":return be.boolean;case"function":return be.function;case"bigint":return be.bigint;case"symbol":return be.symbol;case"object":return Array.isArray(l)?be.array:l===null?be.null:l.then&&typeof l.then=="function"&&l.catch&&typeof l.catch=="function"?be.promise:typeof Map<"u"&&l instanceof Map?be.map:typeof Set<"u"&&l instanceof Set?be.set:typeof Date<"u"&&l instanceof Date?be.date:be.object;default:return be.unknown}},me=Je.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Gn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(u){return u.message},s={_errors:[]},o=u=>{for(const p of u.issues)if(p.code==="invalid_union")p.unionErrors.map(o);else if(p.code==="invalid_return_type")o(p.returnTypeError);else if(p.code==="invalid_arguments")o(p.argumentsError);else if(p.path.length===0)s._errors.push(n(p));else{let g=s,v=0;for(;v<p.path.length;){const x=p.path[v];v===p.path.length-1?(g[x]=g[x]||{_errors:[]},g[x]._errors.push(n(p))):g[x]=g[x]||{_errors:[]},g=g[x],v++}}};return o(this),s}static assert(t){if(!(t instanceof Gn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Je.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},s=[];for(const o of this.issues)if(o.path.length>0){const u=o.path[0];n[u]=n[u]||[],n[u].push(t(o))}else s.push(t(o));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}Gn.create=l=>new Gn(l);const tu=(l,t)=>{let n;switch(l.code){case me.invalid_type:l.received===be.undefined?n="Required":n=`Expected ${l.expected}, received ${l.received}`;break;case me.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(l.expected,Je.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:n=`Unrecognized key(s) in object: ${Je.joinValues(l.keys,", ")}`;break;case me.invalid_union:n="Invalid input";break;case me.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Je.joinValues(l.options)}`;break;case me.invalid_enum_value:n=`Invalid enum value. Expected ${Je.joinValues(l.options)}, received '${l.received}'`;break;case me.invalid_arguments:n="Invalid function arguments";break;case me.invalid_return_type:n="Invalid function return type";break;case me.invalid_date:n="Invalid date";break;case me.invalid_string:typeof l.validation=="object"?"includes"in l.validation?(n=`Invalid input: must include "${l.validation.includes}"`,typeof l.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${l.validation.position}`)):"startsWith"in l.validation?n=`Invalid input: must start with "${l.validation.startsWith}"`:"endsWith"in l.validation?n=`Invalid input: must end with "${l.validation.endsWith}"`:Je.assertNever(l.validation):l.validation!=="regex"?n=`Invalid ${l.validation}`:n="Invalid";break;case me.too_small:l.type==="array"?n=`Array must contain ${l.exact?"exactly":l.inclusive?"at least":"more than"} ${l.minimum} element(s)`:l.type==="string"?n=`String must contain ${l.exact?"exactly":l.inclusive?"at least":"over"} ${l.minimum} character(s)`:l.type==="number"?n=`Number must be ${l.exact?"exactly equal to ":l.inclusive?"greater than or equal to ":"greater than "}${l.minimum}`:l.type==="bigint"?n=`Number must be ${l.exact?"exactly equal to ":l.inclusive?"greater than or equal to ":"greater than "}${l.minimum}`:l.type==="date"?n=`Date must be ${l.exact?"exactly equal to ":l.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(l.minimum))}`:n="Invalid input";break;case me.too_big:l.type==="array"?n=`Array must contain ${l.exact?"exactly":l.inclusive?"at most":"less than"} ${l.maximum} element(s)`:l.type==="string"?n=`String must contain ${l.exact?"exactly":l.inclusive?"at most":"under"} ${l.maximum} character(s)`:l.type==="number"?n=`Number must be ${l.exact?"exactly":l.inclusive?"less than or equal to":"less than"} ${l.maximum}`:l.type==="bigint"?n=`BigInt must be ${l.exact?"exactly":l.inclusive?"less than or equal to":"less than"} ${l.maximum}`:l.type==="date"?n=`Date must be ${l.exact?"exactly":l.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(l.maximum))}`:n="Invalid input";break;case me.custom:n="Invalid input";break;case me.invalid_intersection_types:n="Intersection results could not be merged";break;case me.not_multiple_of:n=`Number must be a multiple of ${l.multipleOf}`;break;case me.not_finite:n="Number must be finite";break;default:n=t.defaultError,Je.assertNever(l)}return{message:n}};let yv=tu;function bv(){return yv}const Nv=l=>{const{data:t,path:n,errorMaps:s,issueData:o}=l,u=[...n,...o.path||[]],p={...o,path:u};if(o.message!==void 0)return{...o,path:u,message:o.message};let g="";const v=s.filter(x=>!!x).slice().reverse();for(const x of v)g=x(p,{data:t,defaultError:g}).message;return{...o,path:u,message:g}};function ge(l,t){const n=bv(),s=Nv({issueData:t,data:l.data,path:l.path,errorMaps:[l.common.contextualErrorMap,l.schemaErrorMap,n,n===tu?void 0:tu].filter(o=>!!o)});l.common.issues.push(s)}class Ut{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const s=[];for(const o of n){if(o.status==="aborted")return Ae;o.status==="dirty"&&t.dirty(),s.push(o.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,n){const s=[];for(const o of n){const u=await o.key,p=await o.value;s.push({key:u,value:p})}return Ut.mergeObjectSync(t,s)}static mergeObjectSync(t,n){const s={};for(const o of n){const{key:u,value:p}=o;if(u.status==="aborted"||p.status==="aborted")return Ae;u.status==="dirty"&&t.dirty(),p.status==="dirty"&&t.dirty(),u.value!=="__proto__"&&(typeof p.value<"u"||o.alwaysSet)&&(s[u.value]=p.value)}return{status:t.value,value:s}}}const Ae=Object.freeze({status:"aborted"}),ql=l=>({status:"dirty",value:l}),cn=l=>({status:"valid",value:l}),Ip=l=>l.status==="aborted",Up=l=>l.status==="dirty",Vs=l=>l.status==="valid",br=l=>typeof Promise<"u"&&l instanceof Promise;var Te;(function(l){l.errToObj=t=>typeof t=="string"?{message:t}:t||{},l.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Te||(Te={}));class bn{constructor(t,n,s,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=s,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Lp=(l,t)=>{if(Vs(t))return{success:!0,data:t.value};if(!l.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Gn(l.common.issues);return this._error=n,this._error}}};function Le(l){if(!l)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:o}=l;if(t&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(p,g)=>{const{message:v}=l;return p.code==="invalid_enum_value"?{message:v??g.defaultError}:typeof g.data>"u"?{message:v??s??g.defaultError}:p.code!=="invalid_type"?{message:g.defaultError}:{message:v??n??g.defaultError}},description:o}}class Pe{get description(){return this._def.description}_getType(t){return xa(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:xa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ut,ctx:{common:t.parent.common,data:t.data,parsedType:xa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(br(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const s=this.safeParse(t,n);if(s.success)return s.data;throw s.error}safeParse(t,n){const s={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:xa(t)},o=this._parseSync({data:t,path:s.path,parent:s});return Lp(s,o)}"~validate"(t){var s,o;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:xa(t)};if(!this["~standard"].async)try{const u=this._parseSync({data:t,path:[],parent:n});return Vs(u)?{value:u.value}:{issues:n.common.issues}}catch(u){(o=(s=u==null?void 0:u.message)==null?void 0:s.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(u=>Vs(u)?{value:u.value}:{issues:n.common.issues})}async parseAsync(t,n){const s=await this.safeParseAsync(t,n);if(s.success)return s.data;throw s.error}async safeParseAsync(t,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:xa(t)},o=this._parse({data:t,path:s.path,parent:s}),u=await(br(o)?o:Promise.resolve(o));return Lp(s,u)}refine(t,n){const s=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,u)=>{const p=t(o),g=()=>u.addIssue({code:me.custom,...s(o)});return typeof Promise<"u"&&p instanceof Promise?p.then(v=>v?!0:(g(),!1)):p?!0:(g(),!1)})}refinement(t,n){return this._refinement((s,o)=>t(s)?!0:(o.addIssue(typeof n=="function"?n(s,o):n),!1))}_refinement(t){return new Bs({schema:this,typeName:ke.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ga.create(this,this._def)}nullable(){return Gs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yn.create(this)}promise(){return Sr.create(this,this._def)}or(t){return wr.create([this,t],this._def)}and(t){return Tr.create(this,t,this._def)}transform(t){return new Bs({...Le(this._def),schema:this,typeName:ke.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new lu({...Le(this._def),innerType:this,defaultValue:n,typeName:ke.ZodDefault})}brand(){return new Pv({typeName:ke.ZodBranded,type:this,...Le(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new iu({...Le(this._def),innerType:this,catchValue:n,typeName:ke.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return yu.create(this,t)}readonly(){return ru.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const wv=/^c[^\s-]{8,}$/i,Tv=/^[0-9a-z]+$/,Cv=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Sv=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_v=/^[a-z0-9_-]{21}$/i,jv=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ev=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kv=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Av="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qc;const Dv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Mv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Rv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Iv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Uv=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Lv=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ux="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",zv=new RegExp(`^${ux}$`);function dx(l){let t="[0-5]\\d";l.precision?t=`${t}\\.\\d{${l.precision}}`:l.precision==null&&(t=`${t}(\\.\\d+)?`);const n=l.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function Vv(l){return new RegExp(`^${dx(l)}$`)}function Ov(l){let t=`${ux}T${dx(l)}`;const n=[];return n.push(l.local?"Z?":"Z"),l.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Hv(l,t){return!!((t==="v4"||!t)&&Dv.test(l)||(t==="v6"||!t)&&Rv.test(l))}function Bv(l,t){if(!jv.test(l))return!1;try{const[n]=l.split(".");if(!n)return!1;const s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(s));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||t&&o.alg!==t)}catch{return!1}}function Gv(l,t){return!!((t==="v4"||!t)&&Mv.test(l)||(t==="v6"||!t)&&Iv.test(l))}class vn extends Pe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==be.string){const u=this._getOrReturnCtx(t);return ge(u,{code:me.invalid_type,expected:be.string,received:u.parsedType}),Ae}const s=new Ut;let o;for(const u of this._def.checks)if(u.kind==="min")t.data.length<u.value&&(o=this._getOrReturnCtx(t,o),ge(o,{code:me.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),s.dirty());else if(u.kind==="max")t.data.length>u.value&&(o=this._getOrReturnCtx(t,o),ge(o,{code:me.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),s.dirty());else if(u.kind==="length"){const p=t.data.length>u.value,g=t.data.length<u.value;(p||g)&&(o=this._getOrReturnCtx(t,o),p?ge(o,{code:me.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):g&&ge(o,{code:me.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),s.dirty())}else if(u.kind==="email")kv.test(t.data)||(o=this._getOrReturnCtx(t,o),ge(o,{validation:"email",code:me.invalid_string,message:u.message}),s.dirty());else if(u.kind==="emoji")Qc||(Qc=new RegExp(Av,"u")),Qc.test(t.data)||(o=this._getOrReturnCtx(t,o),ge(o,{validation:"emoji",code:me.invalid_string,message:u.message}),s.dirty());else if(u.kind==="uuid")Sv.test(t.data)||(o=this._getOrReturnCtx(t,o),ge(o,{validation:"uuid",code:me.invalid_string,message:u.message}),s.dirty());else if(u.kind==="nanoid")_v.test(t.data)||(o=this._getOrReturnCtx(t,o),ge(o,{validation:"nanoid",code:me.invalid_string,message:u.message}),s.dirty());else if(u.kind==="cuid")wv.test(t.data)||(o=this._getOrReturnCtx(t,o),ge(o,{validation:"cuid",code:me.invalid_string,message:u.message}),s.dirty());else if(u.kind==="cuid2")Tv.test(t.data)||(o=this._getOrReturnCtx(t,o),ge(o,{validation:"cuid2",code:me.invalid_string,message:u.message}),s.dirty());else if(u.kind==="ulid")Cv.test(t.data)||(o=this._getOrReturnCtx(t,o),ge(o,{validation:"ulid",code:me.invalid_string,message:u.message}),s.dirty());else if(u.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),ge(o,{validation:"url",code:me.invalid_string,message:u.message}),s.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),ge(o,{validation:"regex",code:me.invalid_string,message:u.message}),s.dirty())):u.kind==="trim"?t.data=t.data.trim():u.kind==="includes"?t.data.includes(u.value,u.position)||(o=this._getOrReturnCtx(t,o),ge(o,{code:me.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),s.dirty()):u.kind==="toLowerCase"?t.data=t.data.toLowerCase():u.kind==="toUpperCase"?t.data=t.data.toUpperCase():u.kind==="startsWith"?t.data.startsWith(u.value)||(o=this._getOrReturnCtx(t,o),ge(o,{code:me.invalid_string,validation:{startsWith:u.value},message:u.message}),s.dirty()):u.kind==="endsWith"?t.data.endsWith(u.value)||(o=this._getOrReturnCtx(t,o),ge(o,{code:me.invalid_string,validation:{endsWith:u.value},message:u.message}),s.dirty()):u.kind==="datetime"?Ov(u).test(t.data)||(o=this._getOrReturnCtx(t,o),ge(o,{code:me.invalid_string,validation:"datetime",message:u.message}),s.dirty()):u.kind==="date"?zv.test(t.data)||(o=this._getOrReturnCtx(t,o),ge(o,{code:me.invalid_string,validation:"date",message:u.message}),s.dirty()):u.kind==="time"?Vv(u).test(t.data)||(o=this._getOrReturnCtx(t,o),ge(o,{code:me.invalid_string,validation:"time",message:u.message}),s.dirty()):u.kind==="duration"?Ev.test(t.data)||(o=this._getOrReturnCtx(t,o),ge(o,{validation:"duration",code:me.invalid_string,message:u.message}),s.dirty()):u.kind==="ip"?Hv(t.data,u.version)||(o=this._getOrReturnCtx(t,o),ge(o,{validation:"ip",code:me.invalid_string,message:u.message}),s.dirty()):u.kind==="jwt"?Bv(t.data,u.alg)||(o=this._getOrReturnCtx(t,o),ge(o,{validation:"jwt",code:me.invalid_string,message:u.message}),s.dirty()):u.kind==="cidr"?Gv(t.data,u.version)||(o=this._getOrReturnCtx(t,o),ge(o,{validation:"cidr",code:me.invalid_string,message:u.message}),s.dirty()):u.kind==="base64"?Uv.test(t.data)||(o=this._getOrReturnCtx(t,o),ge(o,{validation:"base64",code:me.invalid_string,message:u.message}),s.dirty()):u.kind==="base64url"?Lv.test(t.data)||(o=this._getOrReturnCtx(t,o),ge(o,{validation:"base64url",code:me.invalid_string,message:u.message}),s.dirty()):Je.assertNever(u);return{status:s.value,value:t.data}}_regex(t,n,s){return this.refinement(o=>t.test(o),{validation:n,code:me.invalid_string,...Te.errToObj(s)})}_addCheck(t){return new vn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Te.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Te.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Te.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Te.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Te.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Te.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Te.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Te.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Te.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Te.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Te.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Te.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Te.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Te.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Te.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Te.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Te.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Te.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Te.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Te.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Te.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Te.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Te.errToObj(n)})}nonempty(t){return this.min(1,Te.errToObj(t))}trim(){return new vn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}vn.create=l=>new vn({checks:[],typeName:ke.ZodString,coerce:(l==null?void 0:l.coerce)??!1,...Le(l)});function qv(l,t){const n=(l.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,o=n>s?n:s,u=Number.parseInt(l.toFixed(o).replace(".","")),p=Number.parseInt(t.toFixed(o).replace(".",""));return u%p/10**o}class Ba extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==be.number){const u=this._getOrReturnCtx(t);return ge(u,{code:me.invalid_type,expected:be.number,received:u.parsedType}),Ae}let s;const o=new Ut;for(const u of this._def.checks)u.kind==="int"?Je.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),ge(s,{code:me.invalid_type,expected:"integer",received:"float",message:u.message}),o.dirty()):u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(s=this._getOrReturnCtx(t,s),ge(s,{code:me.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),o.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(s=this._getOrReturnCtx(t,s),ge(s,{code:me.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),o.dirty()):u.kind==="multipleOf"?qv(t.data,u.value)!==0&&(s=this._getOrReturnCtx(t,s),ge(s,{code:me.not_multiple_of,multipleOf:u.value,message:u.message}),o.dirty()):u.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),ge(s,{code:me.not_finite,message:u.message}),o.dirty()):Je.assertNever(u);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Te.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Te.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Te.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Te.toString(n))}setLimit(t,n,s,o){return new Ba({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:Te.toString(o)}]})}_addCheck(t){return new Ba({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Te.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Te.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Te.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Te.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Te.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Te.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Je.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Ba.create=l=>new Ba({checks:[],typeName:ke.ZodNumber,coerce:(l==null?void 0:l.coerce)||!1,...Le(l)});class Ga extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==be.bigint)return this._getInvalidInput(t);let s;const o=new Ut;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(s=this._getOrReturnCtx(t,s),ge(s,{code:me.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),o.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(s=this._getOrReturnCtx(t,s),ge(s,{code:me.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),o.dirty()):u.kind==="multipleOf"?t.data%u.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),ge(s,{code:me.not_multiple_of,multipleOf:u.value,message:u.message}),o.dirty()):Je.assertNever(u);return{status:o.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return ge(n,{code:me.invalid_type,expected:be.bigint,received:n.parsedType}),Ae}gte(t,n){return this.setLimit("min",t,!0,Te.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Te.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Te.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Te.toString(n))}setLimit(t,n,s,o){return new Ga({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:Te.toString(o)}]})}_addCheck(t){return new Ga({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Te.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Te.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ga.create=l=>new Ga({checks:[],typeName:ke.ZodBigInt,coerce:(l==null?void 0:l.coerce)??!1,...Le(l)});class Nr extends Pe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==be.boolean){const s=this._getOrReturnCtx(t);return ge(s,{code:me.invalid_type,expected:be.boolean,received:s.parsedType}),Ae}return cn(t.data)}}Nr.create=l=>new Nr({typeName:ke.ZodBoolean,coerce:(l==null?void 0:l.coerce)||!1,...Le(l)});class Os extends Pe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==be.date){const u=this._getOrReturnCtx(t);return ge(u,{code:me.invalid_type,expected:be.date,received:u.parsedType}),Ae}if(Number.isNaN(t.data.getTime())){const u=this._getOrReturnCtx(t);return ge(u,{code:me.invalid_date}),Ae}const s=new Ut;let o;for(const u of this._def.checks)u.kind==="min"?t.data.getTime()<u.value&&(o=this._getOrReturnCtx(t,o),ge(o,{code:me.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),s.dirty()):u.kind==="max"?t.data.getTime()>u.value&&(o=this._getOrReturnCtx(t,o),ge(o,{code:me.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),s.dirty()):Je.assertNever(u);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Os({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Te.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Te.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Os.create=l=>new Os({checks:[],coerce:(l==null?void 0:l.coerce)||!1,typeName:ke.ZodDate,...Le(l)});class zp extends Pe{_parse(t){if(this._getType(t)!==be.symbol){const s=this._getOrReturnCtx(t);return ge(s,{code:me.invalid_type,expected:be.symbol,received:s.parsedType}),Ae}return cn(t.data)}}zp.create=l=>new zp({typeName:ke.ZodSymbol,...Le(l)});class Vp extends Pe{_parse(t){if(this._getType(t)!==be.undefined){const s=this._getOrReturnCtx(t);return ge(s,{code:me.invalid_type,expected:be.undefined,received:s.parsedType}),Ae}return cn(t.data)}}Vp.create=l=>new Vp({typeName:ke.ZodUndefined,...Le(l)});class Op extends Pe{_parse(t){if(this._getType(t)!==be.null){const s=this._getOrReturnCtx(t);return ge(s,{code:me.invalid_type,expected:be.null,received:s.parsedType}),Ae}return cn(t.data)}}Op.create=l=>new Op({typeName:ke.ZodNull,...Le(l)});class Hp extends Pe{constructor(){super(...arguments),this._any=!0}_parse(t){return cn(t.data)}}Hp.create=l=>new Hp({typeName:ke.ZodAny,...Le(l)});class nu extends Pe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return cn(t.data)}}nu.create=l=>new nu({typeName:ke.ZodUnknown,...Le(l)});class va extends Pe{_parse(t){const n=this._getOrReturnCtx(t);return ge(n,{code:me.invalid_type,expected:be.never,received:n.parsedType}),Ae}}va.create=l=>new va({typeName:ke.ZodNever,...Le(l)});class Bp extends Pe{_parse(t){if(this._getType(t)!==be.undefined){const s=this._getOrReturnCtx(t);return ge(s,{code:me.invalid_type,expected:be.void,received:s.parsedType}),Ae}return cn(t.data)}}Bp.create=l=>new Bp({typeName:ke.ZodVoid,...Le(l)});class yn extends Pe{_parse(t){const{ctx:n,status:s}=this._processInputParams(t),o=this._def;if(n.parsedType!==be.array)return ge(n,{code:me.invalid_type,expected:be.array,received:n.parsedType}),Ae;if(o.exactLength!==null){const p=n.data.length>o.exactLength.value,g=n.data.length<o.exactLength.value;(p||g)&&(ge(n,{code:p?me.too_big:me.too_small,minimum:g?o.exactLength.value:void 0,maximum:p?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),s.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(ge(n,{code:me.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),s.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(ge(n,{code:me.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((p,g)=>o.type._parseAsync(new bn(n,p,n.path,g)))).then(p=>Ut.mergeArray(s,p));const u=[...n.data].map((p,g)=>o.type._parseSync(new bn(n,p,n.path,g)));return Ut.mergeArray(s,u)}get element(){return this._def.type}min(t,n){return new yn({...this._def,minLength:{value:t,message:Te.toString(n)}})}max(t,n){return new yn({...this._def,maxLength:{value:t,message:Te.toString(n)}})}length(t,n){return new yn({...this._def,exactLength:{value:t,message:Te.toString(n)}})}nonempty(t){return this.min(1,t)}}yn.create=(l,t)=>new yn({type:l,minLength:null,maxLength:null,exactLength:null,typeName:ke.ZodArray,...Le(t)});function Ms(l){if(l instanceof Nt){const t={};for(const n in l.shape){const s=l.shape[n];t[n]=ga.create(Ms(s))}return new Nt({...l._def,shape:()=>t})}else return l instanceof yn?new yn({...l._def,type:Ms(l.element)}):l instanceof ga?ga.create(Ms(l.unwrap())):l instanceof Gs?Gs.create(Ms(l.unwrap())):l instanceof qa?qa.create(l.items.map(t=>Ms(t))):l}class Nt extends Pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Je.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==be.object){const x=this._getOrReturnCtx(t);return ge(x,{code:me.invalid_type,expected:be.object,received:x.parsedType}),Ae}const{status:s,ctx:o}=this._processInputParams(t),{shape:u,keys:p}=this._getCached(),g=[];if(!(this._def.catchall instanceof va&&this._def.unknownKeys==="strip"))for(const x in o.data)p.includes(x)||g.push(x);const v=[];for(const x of p){const y=u[x],N=o.data[x];v.push({key:{status:"valid",value:x},value:y._parse(new bn(o,N,o.path,x)),alwaysSet:x in o.data})}if(this._def.catchall instanceof va){const x=this._def.unknownKeys;if(x==="passthrough")for(const y of g)v.push({key:{status:"valid",value:y},value:{status:"valid",value:o.data[y]}});else if(x==="strict")g.length>0&&(ge(o,{code:me.unrecognized_keys,keys:g}),s.dirty());else if(x!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const x=this._def.catchall;for(const y of g){const N=o.data[y];v.push({key:{status:"valid",value:y},value:x._parse(new bn(o,N,o.path,y)),alwaysSet:y in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const x=[];for(const y of v){const N=await y.key,w=await y.value;x.push({key:N,value:w,alwaysSet:y.alwaysSet})}return x}).then(x=>Ut.mergeObjectSync(s,x)):Ut.mergeObjectSync(s,v)}get shape(){return this._def.shape()}strict(t){return Te.errToObj,new Nt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,s)=>{var u,p;const o=((p=(u=this._def).errorMap)==null?void 0:p.call(u,n,s).message)??s.defaultError;return n.code==="unrecognized_keys"?{message:Te.errToObj(t).message??o}:{message:o}}}:{}})}strip(){return new Nt({...this._def,unknownKeys:"strip"})}passthrough(){return new Nt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Nt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Nt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ke.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Nt({...this._def,catchall:t})}pick(t){const n={};for(const s of Je.objectKeys(t))t[s]&&this.shape[s]&&(n[s]=this.shape[s]);return new Nt({...this._def,shape:()=>n})}omit(t){const n={};for(const s of Je.objectKeys(this.shape))t[s]||(n[s]=this.shape[s]);return new Nt({...this._def,shape:()=>n})}deepPartial(){return Ms(this)}partial(t){const n={};for(const s of Je.objectKeys(this.shape)){const o=this.shape[s];t&&!t[s]?n[s]=o:n[s]=o.optional()}return new Nt({...this._def,shape:()=>n})}required(t){const n={};for(const s of Je.objectKeys(this.shape))if(t&&!t[s])n[s]=this.shape[s];else{let u=this.shape[s];for(;u instanceof ga;)u=u._def.innerType;n[s]=u}return new Nt({...this._def,shape:()=>n})}keyof(){return fx(Je.objectKeys(this.shape))}}Nt.create=(l,t)=>new Nt({shape:()=>l,unknownKeys:"strip",catchall:va.create(),typeName:ke.ZodObject,...Le(t)});Nt.strictCreate=(l,t)=>new Nt({shape:()=>l,unknownKeys:"strict",catchall:va.create(),typeName:ke.ZodObject,...Le(t)});Nt.lazycreate=(l,t)=>new Nt({shape:l,unknownKeys:"strip",catchall:va.create(),typeName:ke.ZodObject,...Le(t)});class wr extends Pe{_parse(t){const{ctx:n}=this._processInputParams(t),s=this._def.options;function o(u){for(const g of u)if(g.result.status==="valid")return g.result;for(const g of u)if(g.result.status==="dirty")return n.common.issues.push(...g.ctx.common.issues),g.result;const p=u.map(g=>new Gn(g.ctx.common.issues));return ge(n,{code:me.invalid_union,unionErrors:p}),Ae}if(n.common.async)return Promise.all(s.map(async u=>{const p={...n,common:{...n.common,issues:[]},parent:null};return{result:await u._parseAsync({data:n.data,path:n.path,parent:p}),ctx:p}})).then(o);{let u;const p=[];for(const v of s){const x={...n,common:{...n.common,issues:[]},parent:null},y=v._parseSync({data:n.data,path:n.path,parent:x});if(y.status==="valid")return y;y.status==="dirty"&&!u&&(u={result:y,ctx:x}),x.common.issues.length&&p.push(x.common.issues)}if(u)return n.common.issues.push(...u.ctx.common.issues),u.result;const g=p.map(v=>new Gn(v));return ge(n,{code:me.invalid_union,unionErrors:g}),Ae}}get options(){return this._def.options}}wr.create=(l,t)=>new wr({options:l,typeName:ke.ZodUnion,...Le(t)});function au(l,t){const n=xa(l),s=xa(t);if(l===t)return{valid:!0,data:l};if(n===be.object&&s===be.object){const o=Je.objectKeys(t),u=Je.objectKeys(l).filter(g=>o.indexOf(g)!==-1),p={...l,...t};for(const g of u){const v=au(l[g],t[g]);if(!v.valid)return{valid:!1};p[g]=v.data}return{valid:!0,data:p}}else if(n===be.array&&s===be.array){if(l.length!==t.length)return{valid:!1};const o=[];for(let u=0;u<l.length;u++){const p=l[u],g=t[u],v=au(p,g);if(!v.valid)return{valid:!1};o.push(v.data)}return{valid:!0,data:o}}else return n===be.date&&s===be.date&&+l==+t?{valid:!0,data:l}:{valid:!1}}class Tr extends Pe{_parse(t){const{status:n,ctx:s}=this._processInputParams(t),o=(u,p)=>{if(Ip(u)||Ip(p))return Ae;const g=au(u.value,p.value);return g.valid?((Up(u)||Up(p))&&n.dirty(),{status:n.value,value:g.data}):(ge(s,{code:me.invalid_intersection_types}),Ae)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([u,p])=>o(u,p)):o(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Tr.create=(l,t,n)=>new Tr({left:l,right:t,typeName:ke.ZodIntersection,...Le(n)});class qa extends Pe{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==be.array)return ge(s,{code:me.invalid_type,expected:be.array,received:s.parsedType}),Ae;if(s.data.length<this._def.items.length)return ge(s,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ae;!this._def.rest&&s.data.length>this._def.items.length&&(ge(s,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const u=[...s.data].map((p,g)=>{const v=this._def.items[g]||this._def.rest;return v?v._parse(new bn(s,p,s.path,g)):null}).filter(p=>!!p);return s.common.async?Promise.all(u).then(p=>Ut.mergeArray(n,p)):Ut.mergeArray(n,u)}get items(){return this._def.items}rest(t){return new qa({...this._def,rest:t})}}qa.create=(l,t)=>{if(!Array.isArray(l))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qa({items:l,typeName:ke.ZodTuple,rest:null,...Le(t)})};class Cr extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==be.object)return ge(s,{code:me.invalid_type,expected:be.object,received:s.parsedType}),Ae;const o=[],u=this._def.keyType,p=this._def.valueType;for(const g in s.data)o.push({key:u._parse(new bn(s,g,s.path,g)),value:p._parse(new bn(s,s.data[g],s.path,g)),alwaysSet:g in s.data});return s.common.async?Ut.mergeObjectAsync(n,o):Ut.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,s){return n instanceof Pe?new Cr({keyType:t,valueType:n,typeName:ke.ZodRecord,...Le(s)}):new Cr({keyType:vn.create(),valueType:t,typeName:ke.ZodRecord,...Le(n)})}}class Gp extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==be.map)return ge(s,{code:me.invalid_type,expected:be.map,received:s.parsedType}),Ae;const o=this._def.keyType,u=this._def.valueType,p=[...s.data.entries()].map(([g,v],x)=>({key:o._parse(new bn(s,g,s.path,[x,"key"])),value:u._parse(new bn(s,v,s.path,[x,"value"]))}));if(s.common.async){const g=new Map;return Promise.resolve().then(async()=>{for(const v of p){const x=await v.key,y=await v.value;if(x.status==="aborted"||y.status==="aborted")return Ae;(x.status==="dirty"||y.status==="dirty")&&n.dirty(),g.set(x.value,y.value)}return{status:n.value,value:g}})}else{const g=new Map;for(const v of p){const x=v.key,y=v.value;if(x.status==="aborted"||y.status==="aborted")return Ae;(x.status==="dirty"||y.status==="dirty")&&n.dirty(),g.set(x.value,y.value)}return{status:n.value,value:g}}}}Gp.create=(l,t,n)=>new Gp({valueType:t,keyType:l,typeName:ke.ZodMap,...Le(n)});class Fl extends Pe{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==be.set)return ge(s,{code:me.invalid_type,expected:be.set,received:s.parsedType}),Ae;const o=this._def;o.minSize!==null&&s.data.size<o.minSize.value&&(ge(s,{code:me.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&s.data.size>o.maxSize.value&&(ge(s,{code:me.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const u=this._def.valueType;function p(v){const x=new Set;for(const y of v){if(y.status==="aborted")return Ae;y.status==="dirty"&&n.dirty(),x.add(y.value)}return{status:n.value,value:x}}const g=[...s.data.values()].map((v,x)=>u._parse(new bn(s,v,s.path,x)));return s.common.async?Promise.all(g).then(v=>p(v)):p(g)}min(t,n){return new Fl({...this._def,minSize:{value:t,message:Te.toString(n)}})}max(t,n){return new Fl({...this._def,maxSize:{value:t,message:Te.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Fl.create=(l,t)=>new Fl({valueType:l,minSize:null,maxSize:null,typeName:ke.ZodSet,...Le(t)});class su extends Pe{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}su.create=(l,t)=>new su({getter:l,typeName:ke.ZodLazy,...Le(t)});class qp extends Pe{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return ge(n,{received:n.data,code:me.invalid_literal,expected:this._def.value}),Ae}return{status:"valid",value:t.data}}get value(){return this._def.value}}qp.create=(l,t)=>new qp({value:l,typeName:ke.ZodLiteral,...Le(t)});function fx(l,t){return new Hs({values:l,typeName:ke.ZodEnum,...Le(t)})}class Hs extends Pe{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),s=this._def.values;return ge(n,{expected:Je.joinValues(s),received:n.parsedType,code:me.invalid_type}),Ae}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),s=this._def.values;return ge(n,{received:n.data,code:me.invalid_enum_value,options:s}),Ae}return cn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Hs.create(t,{...this._def,...n})}exclude(t,n=this._def){return Hs.create(this.options.filter(s=>!t.includes(s)),{...this._def,...n})}}Hs.create=fx;class Pp extends Pe{_parse(t){const n=Je.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==be.string&&s.parsedType!==be.number){const o=Je.objectValues(n);return ge(s,{expected:Je.joinValues(o),received:s.parsedType,code:me.invalid_type}),Ae}if(this._cache||(this._cache=new Set(Je.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const o=Je.objectValues(n);return ge(s,{received:s.data,code:me.invalid_enum_value,options:o}),Ae}return cn(t.data)}get enum(){return this._def.values}}Pp.create=(l,t)=>new Pp({values:l,typeName:ke.ZodNativeEnum,...Le(t)});class Sr extends Pe{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==be.promise&&n.common.async===!1)return ge(n,{code:me.invalid_type,expected:be.promise,received:n.parsedType}),Ae;const s=n.parsedType===be.promise?n.data:Promise.resolve(n.data);return cn(s.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Sr.create=(l,t)=>new Sr({type:l,typeName:ke.ZodPromise,...Le(t)});class Bs extends Pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:s}=this._processInputParams(t),o=this._def.effect||null,u={addIssue:p=>{ge(s,p),p.fatal?n.abort():n.dirty()},get path(){return s.path}};if(u.addIssue=u.addIssue.bind(u),o.type==="preprocess"){const p=o.transform(s.data,u);if(s.common.async)return Promise.resolve(p).then(async g=>{if(n.value==="aborted")return Ae;const v=await this._def.schema._parseAsync({data:g,path:s.path,parent:s});return v.status==="aborted"?Ae:v.status==="dirty"||n.value==="dirty"?ql(v.value):v});{if(n.value==="aborted")return Ae;const g=this._def.schema._parseSync({data:p,path:s.path,parent:s});return g.status==="aborted"?Ae:g.status==="dirty"||n.value==="dirty"?ql(g.value):g}}if(o.type==="refinement"){const p=g=>{const v=o.refinement(g,u);if(s.common.async)return Promise.resolve(v);if(v instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(s.common.async===!1){const g=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return g.status==="aborted"?Ae:(g.status==="dirty"&&n.dirty(),p(g.value),{status:n.value,value:g.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(g=>g.status==="aborted"?Ae:(g.status==="dirty"&&n.dirty(),p(g.value).then(()=>({status:n.value,value:g.value}))))}if(o.type==="transform")if(s.common.async===!1){const p=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Vs(p))return Ae;const g=o.transform(p.value,u);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:g}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(p=>Vs(p)?Promise.resolve(o.transform(p.value,u)).then(g=>({status:n.value,value:g})):Ae);Je.assertNever(o)}}Bs.create=(l,t,n)=>new Bs({schema:l,typeName:ke.ZodEffects,effect:t,...Le(n)});Bs.createWithPreprocess=(l,t,n)=>new Bs({schema:t,effect:{type:"preprocess",transform:l},typeName:ke.ZodEffects,...Le(n)});class ga extends Pe{_parse(t){return this._getType(t)===be.undefined?cn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ga.create=(l,t)=>new ga({innerType:l,typeName:ke.ZodOptional,...Le(t)});class Gs extends Pe{_parse(t){return this._getType(t)===be.null?cn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Gs.create=(l,t)=>new Gs({innerType:l,typeName:ke.ZodNullable,...Le(t)});class lu extends Pe{_parse(t){const{ctx:n}=this._processInputParams(t);let s=n.data;return n.parsedType===be.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}lu.create=(l,t)=>new lu({innerType:l,typeName:ke.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Le(t)});class iu extends Pe{_parse(t){const{ctx:n}=this._processInputParams(t),s={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return br(o)?o.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new Gn(s.common.issues)},input:s.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Gn(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}iu.create=(l,t)=>new iu({innerType:l,typeName:ke.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Le(t)});class $p extends Pe{_parse(t){if(this._getType(t)!==be.nan){const s=this._getOrReturnCtx(t);return ge(s,{code:me.invalid_type,expected:be.nan,received:s.parsedType}),Ae}return{status:"valid",value:t.data}}}$p.create=l=>new $p({typeName:ke.ZodNaN,...Le(l)});class Pv extends Pe{_parse(t){const{ctx:n}=this._processInputParams(t),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class yu extends Pe{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return u.status==="aborted"?Ae:u.status==="dirty"?(n.dirty(),ql(u.value)):this._def.out._parseAsync({data:u.value,path:s.path,parent:s})})();{const o=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?Ae:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:s.path,parent:s})}}static create(t,n){return new yu({in:t,out:n,typeName:ke.ZodPipeline})}}class ru extends Pe{_parse(t){const n=this._def.innerType._parse(t),s=o=>(Vs(o)&&(o.value=Object.freeze(o.value)),o);return br(n)?n.then(o=>s(o)):s(n)}unwrap(){return this._def.innerType}}ru.create=(l,t)=>new ru({innerType:l,typeName:ke.ZodReadonly,...Le(t)});var ke;(function(l){l.ZodString="ZodString",l.ZodNumber="ZodNumber",l.ZodNaN="ZodNaN",l.ZodBigInt="ZodBigInt",l.ZodBoolean="ZodBoolean",l.ZodDate="ZodDate",l.ZodSymbol="ZodSymbol",l.ZodUndefined="ZodUndefined",l.ZodNull="ZodNull",l.ZodAny="ZodAny",l.ZodUnknown="ZodUnknown",l.ZodNever="ZodNever",l.ZodVoid="ZodVoid",l.ZodArray="ZodArray",l.ZodObject="ZodObject",l.ZodUnion="ZodUnion",l.ZodDiscriminatedUnion="ZodDiscriminatedUnion",l.ZodIntersection="ZodIntersection",l.ZodTuple="ZodTuple",l.ZodRecord="ZodRecord",l.ZodMap="ZodMap",l.ZodSet="ZodSet",l.ZodFunction="ZodFunction",l.ZodLazy="ZodLazy",l.ZodLiteral="ZodLiteral",l.ZodEnum="ZodEnum",l.ZodEffects="ZodEffects",l.ZodNativeEnum="ZodNativeEnum",l.ZodOptional="ZodOptional",l.ZodNullable="ZodNullable",l.ZodDefault="ZodDefault",l.ZodCatch="ZodCatch",l.ZodPromise="ZodPromise",l.ZodBranded="ZodBranded",l.ZodPipeline="ZodPipeline",l.ZodReadonly="ZodReadonly"})(ke||(ke={}));const Ha=vn.create,Fp=Ba.create;Ga.create;const $v=Nr.create;Os.create;const Yp=nu.create;va.create;const Pl=yn.create,Fv=Nt.create,Yv=wr.create;Tr.create;qa.create;const Zv=Cr.create,Jv=su.create,Kv=Hs.create;Sr.create;ga.create;Gs.create;const As={string:(l=>vn.create({...l,coerce:!0})),number:(l=>Ba.create({...l,coerce:!0})),boolean:(l=>Nr.create({...l,coerce:!0})),bigint:(l=>Ga.create({...l,coerce:!0})),date:(l=>Os.create({...l,coerce:!0}))};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Xv,Qv;function Wv(){return{geminiUrl:Xv,vertexUrl:Qv}}function ey(l,t,n){var s,o,u;if(!(!((s=l.httpOptions)===null||s===void 0)&&s.baseUrl)){const p=Wv();return l.vertexai?(o=p.vertexUrl)!==null&&o!==void 0?o:t:(u=p.geminiUrl)!==null&&u!==void 0?u:n}return l.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ps{}function Ee(l,t){const n=/\{([^}]+)\}/g;return l.replace(n,(s,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const u=t[o];return u!=null?String(u):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function f(l,t,n){for(let u=0;u<t.length-1;u++){const p=t[u];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in l))if(Array.isArray(n))l[g]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(l[g])){const v=l[g];if(Array.isArray(n))for(let x=0;x<v.length;x++){const y=v[x];f(y,t.slice(u+1),n[x])}else for(const x of v)f(x,t.slice(u+1),n)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in l||(l[g]=[{}]);const v=l[g];f(v[0],t.slice(u+1),n);return}(!l[p]||typeof l[p]!="object")&&(l[p]={}),l=l[p]}const s=t[t.length-1],o=l[s];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else l[s]=n}function d(l,t){try{if(t.length===1&&t[0]==="_self")return l;for(let n=0;n<t.length;n++){if(typeof l!="object"||l===null)return;const s=t[n];if(s.endsWith("[]")){const o=s.slice(0,-2);if(o in l){const u=l[o];return Array.isArray(u)?u.map(p=>d(p,t.slice(n+1))):void 0}else return}else l=l[s]}return l}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zp;(function(l){l.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",l.OUTCOME_OK="OUTCOME_OK",l.OUTCOME_FAILED="OUTCOME_FAILED",l.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Zp||(Zp={}));var Jp;(function(l){l.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",l.PYTHON="PYTHON"})(Jp||(Jp={}));var he;(function(l){l.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",l.STRING="STRING",l.NUMBER="NUMBER",l.INTEGER="INTEGER",l.BOOLEAN="BOOLEAN",l.ARRAY="ARRAY",l.OBJECT="OBJECT",l.NULL="NULL"})(he||(he={}));var Kp;(function(l){l.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",l.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",l.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",l.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",l.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Kp||(Kp={}));var Xp;(function(l){l.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",l.SEVERITY="SEVERITY",l.PROBABILITY="PROBABILITY"})(Xp||(Xp={}));var Qp;(function(l){l.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE",l.OFF="OFF"})(Qp||(Qp={}));var Wp;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(Wp||(Wp={}));var eh;(function(l){l.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",l.NO_AUTH="NO_AUTH",l.API_KEY_AUTH="API_KEY_AUTH",l.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",l.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",l.OAUTH="OAUTH",l.OIDC_AUTH="OIDC_AUTH"})(eh||(eh={}));var th;(function(l){l.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",l.STOP="STOP",l.MAX_TOKENS="MAX_TOKENS",l.SAFETY="SAFETY",l.RECITATION="RECITATION",l.LANGUAGE="LANGUAGE",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.SPII="SPII",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.IMAGE_SAFETY="IMAGE_SAFETY",l.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(th||(th={}));var nh;(function(l){l.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",l.NEGLIGIBLE="NEGLIGIBLE",l.LOW="LOW",l.MEDIUM="MEDIUM",l.HIGH="HIGH"})(nh||(nh={}));var ah;(function(l){l.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",l.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",l.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",l.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",l.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ah||(ah={}));var sh;(function(l){l.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",l.SAFETY="SAFETY",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(sh||(sh={}));var lh;(function(l){l.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",l.ON_DEMAND="ON_DEMAND",l.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(lh||(lh={}));var _r;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.AUDIO="AUDIO"})(_r||(_r={}));var ih;(function(l){l.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",l.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",l.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",l.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ih||(ih={}));var ou;(function(l){l.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",l.JOB_STATE_QUEUED="JOB_STATE_QUEUED",l.JOB_STATE_PENDING="JOB_STATE_PENDING",l.JOB_STATE_RUNNING="JOB_STATE_RUNNING",l.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",l.JOB_STATE_FAILED="JOB_STATE_FAILED",l.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",l.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",l.JOB_STATE_PAUSED="JOB_STATE_PAUSED",l.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",l.JOB_STATE_UPDATING="JOB_STATE_UPDATING",l.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ou||(ou={}));var rh;(function(l){l.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",l.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",l.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",l.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",l.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",l.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",l.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(rh||(rh={}));var oh;(function(l){l.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",l.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",l.BALANCED="BALANCED",l.PRIORITIZE_COST="PRIORITIZE_COST"})(oh||(oh={}));var ch;(function(l){l.UNSPECIFIED="UNSPECIFIED",l.BLOCKING="BLOCKING",l.NON_BLOCKING="NON_BLOCKING"})(ch||(ch={}));var uh;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(uh||(uh={}));var dh;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.AUTO="AUTO",l.ANY="ANY",l.NONE="NONE"})(dh||(dh={}));var fh;(function(l){l.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",l.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",l.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(fh||(fh={}));var mh;(function(l){l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE"})(mh||(mh={}));var ph;(function(l){l.DONT_ALLOW="DONT_ALLOW",l.ALLOW_ADULT="ALLOW_ADULT",l.ALLOW_ALL="ALLOW_ALL"})(ph||(ph={}));var hh;(function(l){l.auto="auto",l.en="en",l.ja="ja",l.ko="ko",l.hi="hi"})(hh||(hh={}));var xh;(function(l){l.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",l.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",l.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",l.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",l.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(xh||(xh={}));var gh;(function(l){l.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",l.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",l.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",l.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(gh||(gh={}));var vh;(function(l){l.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",l.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",l.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",l.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(vh||(vh={}));var yh;(function(l){l.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",l.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",l.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",l.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",l.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",l.EDIT_MODE_STYLE="EDIT_MODE_STYLE",l.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",l.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(yh||(yh={}));var bh;(function(l){l.STATE_UNSPECIFIED="STATE_UNSPECIFIED",l.PROCESSING="PROCESSING",l.ACTIVE="ACTIVE",l.FAILED="FAILED"})(bh||(bh={}));var Nh;(function(l){l.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",l.UPLOADED="UPLOADED",l.GENERATED="GENERATED"})(Nh||(Nh={}));var wh;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.VIDEO="VIDEO",l.AUDIO="AUDIO",l.DOCUMENT="DOCUMENT"})(wh||(wh={}));var Th;(function(l){l.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",l.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",l.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Th||(Th={}));var Ch;(function(l){l.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",l.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",l.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ch||(Ch={}));var Sh;(function(l){l.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",l.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",l.NO_INTERRUPTION="NO_INTERRUPTION"})(Sh||(Sh={}));var _h;(function(l){l.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",l.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",l.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(_h||(_h={}));var jh;(function(l){l.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",l.SILENT="SILENT",l.WHEN_IDLE="WHEN_IDLE",l.INTERRUPT="INTERRUPT"})(jh||(jh={}));var Eh;(function(l){l.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",l.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",l.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",l.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",l.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",l.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",l.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",l.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",l.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",l.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",l.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",l.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",l.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Eh||(Eh={}));var Is;(function(l){l.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",l.PLAY="PLAY",l.PAUSE="PAUSE",l.STOP="STOP",l.RESET_CONTEXT="RESET_CONTEXT"})(Is||(Is={}));class Bl{get text(){var t,n,s,o,u,p,g,v;if(((o=(s=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let x="",y=!1;const N=[];for(const w of(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[j,_]of Object.entries(w))j!=="text"&&j!=="thought"&&(_!==null||_!==void 0)&&N.push(j);if(typeof w.text=="string"){if(typeof w.thought=="boolean"&&w.thought)continue;y=!0,x+=w.text}}return N.length>0&&console.warn(`there are non-text parts ${N} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?x:void 0}get data(){var t,n,s,o,u,p,g,v;if(((o=(s=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let x="";const y=[];for(const N of(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[w,j]of Object.entries(N))w!=="inlineData"&&(j!==null||j!==void 0)&&y.push(w);N.inlineData&&typeof N.inlineData.data=="string"&&(x+=atob(N.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),x.length>0?btoa(x):void 0}get functionCalls(){var t,n,s,o,u,p,g,v;if(((o=(s=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const x=(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((x==null?void 0:x.length)!==0)return x}get executableCode(){var t,n,s,o,u,p,g,v,x;if(((o=(s=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(N=>N.executableCode).map(N=>N.executableCode).filter(N=>N!==void 0);if((y==null?void 0:y.length)!==0)return(x=y==null?void 0:y[0])===null||x===void 0?void 0:x.code}get codeExecutionResult(){var t,n,s,o,u,p,g,v,x;if(((o=(s=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(v=(g=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(N=>N.codeExecutionResult).map(N=>N.codeExecutionResult).filter(N=>N!==void 0);if((y==null?void 0:y.length)!==0)return(x=y==null?void 0:y[0])===null||x===void 0?void 0:x.output}}class kh{}class Ah{}class ty{}class ny{}class Dh{}class Mh{}class Rh{}class ay{}class Ih{}class Uh{}class Lh{}class sy{}class cu{constructor(t){const n={};for(const s of t.headers.entries())n[s[0]]=s[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class ly{}class iy{}class ry{get text(){var t,n,s;let o="",u=!1;const p=[];for(const g of(s=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[v,x]of Object.entries(g))v!=="text"&&v!=="thought"&&x!==null&&p.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;u=!0,o+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?o:void 0}get data(){var t,n,s;let o="";const u=[];for(const p of(s=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[g,v]of Object.entries(p))g!=="inlineData"&&v!==null&&u.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(o+=atob(p.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class oy{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function st(l,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(l.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function mx(l,t){const n=st(l,t);return n?n.startsWith("publishers/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/${n}`:n.startsWith("models/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/publishers/google/${n}`:n:""}function px(l,t){return Array.isArray(t)?t.map(n=>jr(l,n)):[jr(l,t)]}function jr(l,t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function cy(l,t){const n=jr(l,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function uy(l,t){const n=jr(l,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function zh(l,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function hx(l,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>zh(l,n)):[zh(l,t)]}function uu(l){return l!=null&&typeof l=="object"&&"parts"in l&&Array.isArray(l.parts)}function Vh(l){return l!=null&&typeof l=="object"&&"functionCall"in l}function Oh(l){return l!=null&&typeof l=="object"&&"functionResponse"in l}function It(l,t){if(t==null)throw new Error("ContentUnion is required");return uu(t)?t:{role:"user",parts:hx(l,t)}}function xx(l,t){if(!t)return[];if(l.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const s=It(l,n);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(l.isVertexAI()){const n=It(l,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>It(l,n)):[It(l,t)]}function mn(l,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Vh(t)||Oh(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[It(l,t)]}const n=[],s=[],o=uu(t[0]);for(const u of t){const p=uu(u);if(p!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(p)n.push(u);else{if(Vh(u)||Oh(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");s.push(u)}}return o||n.push({role:"user",parts:hx(l,s)}),n}const dy=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Hh=Kv(["string","number","integer","object","array","boolean","null"]),fy=Yv([Hh,Pl(Hh)]);function my(l=!0){const t=Jv(()=>{const n=Fv({type:fy.optional(),format:Ha().optional(),title:Ha().optional(),description:Ha().optional(),default:Yp().optional(),items:t.optional(),minItems:As.string().optional(),maxItems:As.string().optional(),enum:Pl(Yp()).optional(),properties:Zv(Ha(),t).optional(),required:Pl(Ha()).optional(),minProperties:As.string().optional(),maxProperties:As.string().optional(),propertyOrdering:Pl(Ha()).optional(),minimum:Fp().optional(),maximum:Fp().optional(),minLength:As.string().optional(),maxLength:As.string().optional(),pattern:Ha().optional(),anyOf:Pl(t).optional(),additionalProperties:$v().optional()});return l?n.strict():n});return t}function py(l,t){l.includes("null")&&(t.nullable=!0);const n=l.filter(s=>s!=="null");if(n.length===1)t.type=Object.keys(he).includes(n[0].toUpperCase())?he[n[0].toUpperCase()]:he.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const s of n)t.anyOf.push({type:Object.keys(he).includes(s.toUpperCase())?he[s.toUpperCase()]:he.TYPE_UNSPECIFIED})}}function Us(l){const t={},n=["items"],s=["anyOf"],o=["properties"];if(l.type&&l.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=l.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(t.nullable=!0,l=u[1]):u[1].type==="null"&&(t.nullable=!0,l=u[0])),l.type instanceof Array&&py(l.type,t);for(const[p,g]of Object.entries(l))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.keys(he).includes(g.toUpperCase())?g.toUpperCase():he.TYPE_UNSPECIFIED}else if(n.includes(p))t[p]=Us(g);else if(s.includes(p)){const v=[];for(const x of g){if(x.type=="null"){t.nullable=!0;continue}v.push(Us(x))}t[p]=v}else if(o.includes(p)){const v={};for(const[x,y]of Object.entries(g))v[x]=Us(y);t[p]=v}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Er(l,t){if(Object.keys(t).includes("$schema")){delete t.$schema;const n=my().parse(t);return Us(n)}else return Us(t)}function gx(l,t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function bu(l,t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Yl(l,t){if(t.functionDeclarations)for(const n of t.functionDeclarations)n.parameters&&(n.parameters=Er(l,n.parameters)),n.response&&(n.response=Er(l,n.response));return t}function Zl(l,t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const n=[];for(const s of t)n.push(s);return n}function hy(l,t,n,s=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===s;return l.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${l.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${l.getProject()}/locations/${l.getLocation()}/${t}`:o?`projects/${l.getProject()}/locations/${l.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function ya(l,t){if(typeof t!="string")throw new Error("name must be a string");return hy(l,t,"cachedContents")}function vx(l,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ba(l,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function xy(l){return l!=null&&typeof l=="object"&&"name"in l}function gy(l){return l!=null&&typeof l=="object"&&"video"in l}function vy(l){return l!=null&&typeof l=="object"&&"uri"in l}function yx(l,t){var n;let s;if(xy(t)&&(s=t.name),!(vy(t)&&(s=t.uri,s===void 0))&&!(gy(t)&&(s=(n=t.video)===null||n===void 0?void 0:n.uri,s===void 0))){if(typeof t=="string"&&(s=t),s===void 0)throw new Error("Could not extract file name from the provided input.");if(s.startsWith("https://")){const u=s.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${s}`);s=u[0]}else s.startsWith("files/")&&(s=s.split("files/")[1]);return s}}function bx(l,t){let n;return l.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Nx(l,t){for(const n of["models","tunedModels","publisherModels"])if(yy(t,n))return t[n];return[]}function yy(l,t){return l!==null&&typeof l=="object"&&t in l}function by(l,t={}){const n=l,s={name:n.name,description:n.description,parameters:Us(kr(n.inputSchema))};return t.behavior&&(s.behavior=t.behavior),{functionDeclarations:[s]}}function Ny(l,t={}){const n=[],s=new Set;for(const o of l){const u=o.name;if(s.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);s.add(u);const p=by(o,t);p.functionDeclarations&&n.push(...p.functionDeclarations)}return{functionDeclarations:n}}function wy(l){const t=[];for(const n of l)t.push(kr(n));return t}function Ty(l){const t={};for(const[n,s]of Object.entries(l)){const o=s;t[n]=kr(o)}return t}function kr(l){const t=new Set(["items"]),n=new Set(["anyOf"]),s=new Set(["properties"]),o={};for(const[u,p]of Object.entries(l))if(t.has(u))o[u]=kr(p);else if(n.has(u))o[u]=wy(p);else if(s.has(u))o[u]=Ty(p);else if(u==="type"){const g=p.toUpperCase();o[u]=Object.keys(he).includes(g)?g:he.TYPE_UNSPECIFIED}else dy.has(u)&&(o[u]=p);return o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cy(l,t){const n={},s=d(t,["fps"]);s!=null&&f(n,["fps"],s);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function Sy(l,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["data"]);s!=null&&f(n,["data"],s);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function _y(l,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["fileUri"]);s!=null&&f(n,["fileUri"],s);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function jy(l,t){const n={},s=d(t,["videoMetadata"]);s!=null&&f(n,["videoMetadata"],Cy(l,s));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],Sy(l,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],_y(l,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const N=d(t,["functionResponse"]);N!=null&&f(n,["functionResponse"],N);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function Bh(l,t){const n={},s=d(t,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(p=>jy(l,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function Ey(l,t){const n={},s=d(t,["behavior"]);s!=null&&f(n,["behavior"],s);const o=d(t,["description"]);o!=null&&f(n,["description"],o);const u=d(t,["name"]);u!=null&&f(n,["name"],u);const p=d(t,["parameters"]);p!=null&&f(n,["parameters"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],g),n}function ky(l,t){const n={},s=d(t,["startTime"]);s!=null&&f(n,["startTime"],s);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function Ay(l,t){const n={},s=d(t,["timeRangeFilter"]);return s!=null&&f(n,["timeRangeFilter"],ky(l,s)),n}function Dy(l,t){const n={},s=d(t,["mode"]);s!=null&&f(n,["mode"],s);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function My(l,t){const n={},s=d(t,["dynamicRetrievalConfig"]);return s!=null&&f(n,["dynamicRetrievalConfig"],Dy(l,s)),n}function Ry(){return{}}function Iy(l,t){const n={},s=d(t,["functionDeclarations"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(x=>Ey(l,x))),f(n,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearch"]);o!=null&&f(n,["googleSearch"],Ay(l,o));const u=d(t,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],My(l,u)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(n,["urlContext"],Ry());const g=d(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function Uy(l,t){const n={},s=d(t,["mode"]);s!=null&&f(n,["mode"],s);const o=d(t,["allowedFunctionNames"]);return o!=null&&f(n,["allowedFunctionNames"],o),n}function Ly(l,t){const n={},s=d(t,["latitude"]);s!=null&&f(n,["latitude"],s);const o=d(t,["longitude"]);return o!=null&&f(n,["longitude"],o),n}function zy(l,t){const n={},s=d(t,["latLng"]);s!=null&&f(n,["latLng"],Ly(l,s));const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function Vy(l,t){const n={},s=d(t,["functionCallingConfig"]);s!=null&&f(n,["functionCallingConfig"],Uy(l,s));const o=d(t,["retrievalConfig"]);return o!=null&&f(n,["retrievalConfig"],zy(l,o)),n}function Oy(l,t,n){const s={},o=d(t,["ttl"]);n!==void 0&&o!=null&&f(n,["ttl"],o);const u=d(t,["expireTime"]);n!==void 0&&u!=null&&f(n,["expireTime"],u);const p=d(t,["displayName"]);n!==void 0&&p!=null&&f(n,["displayName"],p);const g=d(t,["contents"]);if(n!==void 0&&g!=null){let N=mn(l,g);Array.isArray(N)&&(N=N.map(w=>Bh(l,w))),f(n,["contents"],N)}const v=d(t,["systemInstruction"]);n!==void 0&&v!=null&&f(n,["systemInstruction"],Bh(l,It(l,v)));const x=d(t,["tools"]);if(n!==void 0&&x!=null){let N=x;Array.isArray(N)&&(N=N.map(w=>Iy(l,w))),f(n,["tools"],N)}const y=d(t,["toolConfig"]);if(n!==void 0&&y!=null&&f(n,["toolConfig"],Vy(l,y)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return s}function Hy(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["model"],mx(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],Oy(l,o,n)),n}function By(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["_url","name"],ya(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Gy(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["_url","name"],ya(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function qy(l,t,n){const s={},o=d(t,["ttl"]);n!==void 0&&o!=null&&f(n,["ttl"],o);const u=d(t,["expireTime"]);return n!==void 0&&u!=null&&f(n,["expireTime"],u),s}function Py(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["_url","name"],ya(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],qy(l,o,n)),n}function $y(l,t,n){const s={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);return n!==void 0&&u!=null&&f(n,["_query","pageToken"],u),s}function Fy(l,t){const n={},s=d(t,["config"]);return s!=null&&f(n,["config"],$y(l,s,n)),n}function Yy(l,t){const n={},s=d(t,["fps"]);s!=null&&f(n,["fps"],s);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function Zy(l,t){const n={},s=d(t,["displayName"]);s!=null&&f(n,["displayName"],s);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function Jy(l,t){const n={},s=d(t,["displayName"]);s!=null&&f(n,["displayName"],s);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function Ky(l,t){const n={},s=d(t,["videoMetadata"]);s!=null&&f(n,["videoMetadata"],Yy(l,s));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],Zy(l,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],Jy(l,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const N=d(t,["functionResponse"]);N!=null&&f(n,["functionResponse"],N);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function Gh(l,t){const n={},s=d(t,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(p=>Ky(l,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function Xy(l,t){const n={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const s=d(t,["description"]);s!=null&&f(n,["description"],s);const o=d(t,["name"]);o!=null&&f(n,["name"],o);const u=d(t,["parameters"]);u!=null&&f(n,["parameters"],u);const p=d(t,["response"]);return p!=null&&f(n,["response"],p),n}function Qy(l,t){const n={},s=d(t,["startTime"]);s!=null&&f(n,["startTime"],s);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function Wy(l,t){const n={},s=d(t,["timeRangeFilter"]);return s!=null&&f(n,["timeRangeFilter"],Qy(l,s)),n}function eb(l,t){const n={},s=d(t,["mode"]);s!=null&&f(n,["mode"],s);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function tb(l,t){const n={},s=d(t,["dynamicRetrievalConfig"]);return s!=null&&f(n,["dynamicRetrievalConfig"],eb(l,s)),n}function nb(){return{}}function ab(l,t){const n={},s=d(t,["apiKeyString"]);return s!=null&&f(n,["apiKeyString"],s),n}function sb(l,t){const n={},s=d(t,["apiKeyConfig"]);s!=null&&f(n,["apiKeyConfig"],ab(l,s));const o=d(t,["authType"]);o!=null&&f(n,["authType"],o);const u=d(t,["googleServiceAccountConfig"]);u!=null&&f(n,["googleServiceAccountConfig"],u);const p=d(t,["httpBasicAuthConfig"]);p!=null&&f(n,["httpBasicAuthConfig"],p);const g=d(t,["oauthConfig"]);g!=null&&f(n,["oauthConfig"],g);const v=d(t,["oidcConfig"]);return v!=null&&f(n,["oidcConfig"],v),n}function lb(l,t){const n={},s=d(t,["authConfig"]);return s!=null&&f(n,["authConfig"],sb(l,s)),n}function ib(l,t){const n={},s=d(t,["functionDeclarations"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(N=>Xy(l,N))),f(n,["functionDeclarations"],y)}const o=d(t,["retrieval"]);o!=null&&f(n,["retrieval"],o);const u=d(t,["googleSearch"]);u!=null&&f(n,["googleSearch"],Wy(l,u));const p=d(t,["googleSearchRetrieval"]);p!=null&&f(n,["googleSearchRetrieval"],tb(l,p)),d(t,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],nb());const v=d(t,["googleMaps"]);if(v!=null&&f(n,["googleMaps"],lb(l,v)),d(t,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const x=d(t,["codeExecution"]);return x!=null&&f(n,["codeExecution"],x),n}function rb(l,t){const n={},s=d(t,["mode"]);s!=null&&f(n,["mode"],s);const o=d(t,["allowedFunctionNames"]);return o!=null&&f(n,["allowedFunctionNames"],o),n}function ob(l,t){const n={},s=d(t,["latitude"]);s!=null&&f(n,["latitude"],s);const o=d(t,["longitude"]);return o!=null&&f(n,["longitude"],o),n}function cb(l,t){const n={},s=d(t,["latLng"]);s!=null&&f(n,["latLng"],ob(l,s));const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function ub(l,t){const n={},s=d(t,["functionCallingConfig"]);s!=null&&f(n,["functionCallingConfig"],rb(l,s));const o=d(t,["retrievalConfig"]);return o!=null&&f(n,["retrievalConfig"],cb(l,o)),n}function db(l,t,n){const s={},o=d(t,["ttl"]);n!==void 0&&o!=null&&f(n,["ttl"],o);const u=d(t,["expireTime"]);n!==void 0&&u!=null&&f(n,["expireTime"],u);const p=d(t,["displayName"]);n!==void 0&&p!=null&&f(n,["displayName"],p);const g=d(t,["contents"]);if(n!==void 0&&g!=null){let w=mn(l,g);Array.isArray(w)&&(w=w.map(j=>Gh(l,j))),f(n,["contents"],w)}const v=d(t,["systemInstruction"]);n!==void 0&&v!=null&&f(n,["systemInstruction"],Gh(l,It(l,v)));const x=d(t,["tools"]);if(n!==void 0&&x!=null){let w=x;Array.isArray(w)&&(w=w.map(j=>ib(l,j))),f(n,["tools"],w)}const y=d(t,["toolConfig"]);n!==void 0&&y!=null&&f(n,["toolConfig"],ub(l,y));const N=d(t,["kmsKeyName"]);return n!==void 0&&N!=null&&f(n,["encryption_spec","kmsKeyName"],N),s}function fb(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["model"],mx(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],db(l,o,n)),n}function mb(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["_url","name"],ya(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function pb(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["_url","name"],ya(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function hb(l,t,n){const s={},o=d(t,["ttl"]);n!==void 0&&o!=null&&f(n,["ttl"],o);const u=d(t,["expireTime"]);return n!==void 0&&u!=null&&f(n,["expireTime"],u),s}function xb(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["_url","name"],ya(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],hb(l,o,n)),n}function gb(l,t,n){const s={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);return n!==void 0&&u!=null&&f(n,["_query","pageToken"],u),s}function vb(l,t){const n={},s=d(t,["config"]);return s!=null&&f(n,["config"],gb(l,s,n)),n}function gr(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["name"],s);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["model"]);u!=null&&f(n,["model"],u);const p=d(t,["createTime"]);p!=null&&f(n,["createTime"],p);const g=d(t,["updateTime"]);g!=null&&f(n,["updateTime"],g);const v=d(t,["expireTime"]);v!=null&&f(n,["expireTime"],v);const x=d(t,["usageMetadata"]);return x!=null&&f(n,["usageMetadata"],x),n}function yb(){return{}}function bb(l,t){const n={},s=d(t,["nextPageToken"]);s!=null&&f(n,["nextPageToken"],s);const o=d(t,["cachedContents"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>gr(l,p))),f(n,["cachedContents"],u)}return n}function vr(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["name"],s);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["model"]);u!=null&&f(n,["model"],u);const p=d(t,["createTime"]);p!=null&&f(n,["createTime"],p);const g=d(t,["updateTime"]);g!=null&&f(n,["updateTime"],g);const v=d(t,["expireTime"]);v!=null&&f(n,["expireTime"],v);const x=d(t,["usageMetadata"]);return x!=null&&f(n,["usageMetadata"],x),n}function Nb(){return{}}function wb(l,t){const n={},s=d(t,["nextPageToken"]);s!=null&&f(n,["nextPageToken"],s);const o=d(t,["cachedContents"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>vr(l,p))),f(n,["cachedContents"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qs;(function(l){l.PAGED_ITEM_BATCH_JOBS="batchJobs",l.PAGED_ITEM_MODELS="models",l.PAGED_ITEM_TUNING_JOBS="tuningJobs",l.PAGED_ITEM_FILES="files",l.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(qs||(qs={}));class Ar{constructor(t,n,s,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,s,o)}init(t,n,s){var o,u;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let p={config:{}};s?typeof s=="object"?p=Object.assign({},s):p=s:p={config:{}},p.config&&(p.config.pageToken=n.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(u=(o=p.config)===null||o===void 0?void 0:o.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tb extends Ps{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ar(qs.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(n),n)}async create(t){var n,s,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=fb(this.apiClient,t);return g=Ee("cachedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>vr(this.apiClient,y))}else{const x=Hy(this.apiClient,t);return g=Ee("cachedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>gr(this.apiClient,y))}}async get(t){var n,s,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=mb(this.apiClient,t);return g=Ee("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>vr(this.apiClient,y))}else{const x=By(this.apiClient,t);return g=Ee("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>gr(this.apiClient,y))}}async delete(t){var n,s,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=pb(this.apiClient,t);return g=Ee("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(()=>{const y=Nb(),N=new Uh;return Object.assign(N,y),N})}else{const x=Gy(this.apiClient,t);return g=Ee("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(()=>{const y=yb(),N=new Uh;return Object.assign(N,y),N})}}async update(t){var n,s,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=xb(this.apiClient,t);return g=Ee("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>vr(this.apiClient,y))}else{const x=Py(this.apiClient,t);return g=Ee("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>gr(this.apiClient,y))}}async listInternal(t){var n,s,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=vb(this.apiClient,t);return g=Ee("cachedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>{const N=wb(this.apiClient,y),w=new Lh;return Object.assign(w,N),w})}else{const x=Fy(this.apiClient,t);return g=Ee("cachedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const N=bb(this.apiClient,y),w=new Lh;return Object.assign(w,N),w})}}}function qh(l){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&l[t],s=0;if(n)return n.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&s>=l.length&&(l=void 0),{value:l&&l[s++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ot(l){return this instanceof ot?(this.v=l,this):new ot(l)}function Ls(l,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(l,t||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),o[Symbol.asyncIterator]=function(){return this},o;function p(j){return function(_){return Promise.resolve(_).then(j,N)}}function g(j,_){s[j]&&(o[j]=function(T){return new Promise(function(S,M){u.push([j,T,S,M])>1||v(j,T)})},_&&(o[j]=_(o[j])))}function v(j,_){try{x(s[j](_))}catch(T){w(u[0][3],T)}}function x(j){j.value instanceof ot?Promise.resolve(j.value.v).then(y,N):w(u[0][2],j)}function y(j){v("next",j)}function N(j){v("throw",j)}function w(j,_){j(_),u.shift(),u.length&&v(u[0][0],u[0][1])}}function $l(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=l[Symbol.asyncIterator],n;return t?t.call(l):(l=typeof qh=="function"?qh(l):l[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(u){n[u]=l[u]&&function(p){return new Promise(function(g,v){p=l[u](p),o(g,v,p.done,p.value)})}}function o(u,p,g,v){Promise.resolve(v).then(function(x){u({value:x,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cb(l){var t;if(l.candidates==null||l.candidates.length===0)return!1;const n=(t=l.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:wx(n)}function wx(l){if(l.parts===void 0||l.parts.length===0)return!1;for(const t of l.parts)if(t===void 0||Object.keys(t).length===0||!t.thought&&t.text!==void 0&&t.text==="")return!1;return!0}function Sb(l){if(l.length!==0){for(const t of l)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Ph(l){if(l===void 0||l.length===0)return[];const t=[],n=l.length;let s=0;for(;s<n;)if(l[s].role==="user")t.push(l[s]),s++;else{const o=[];let u=!0;for(;s<n&&l[s].role==="model";)o.push(l[s]),u&&!wx(l[s])&&(u=!1),s++;u?t.push(...o):t.pop()}return t}class _b{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new jb(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class jb{constructor(t,n,s,o={},u=[]){this.apiClient=t,this.modelsModule=n,this.model=s,this.config=o,this.history=u,this.sendPromise=Promise.resolve(),Sb(u)}async sendMessage(t){var n;await this.sendPromise;const s=It(this.apiClient,t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var u,p,g;const v=await o,x=(p=(u=v.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content,y=v.automaticFunctionCallingHistory,N=this.getHistory(!0).length;let w=[];y!=null&&(w=(g=y.slice(N))!==null&&g!==void 0?g:[]);const j=x?[x]:[];this.recordHistory(s,j,w)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(t){var n;await this.sendPromise;const s=It(this.apiClient,t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const u=await o;return this.processStreamResponse(u,s)}getHistory(t=!1){const n=t?Ph(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var s,o;return Ls(this,arguments,function*(){var p,g,v,x;const y=[];try{for(var N=!0,w=$l(t),j;j=yield ot(w.next()),p=j.done,!p;N=!0){x=j.value,N=!1;const _=x;if(Cb(_)){const T=(o=(s=_.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content;T!==void 0&&y.push(T)}yield yield ot(_)}}catch(_){g={error:_}}finally{try{!N&&!p&&(v=w.return)&&(yield ot(v.call(w)))}finally{if(g)throw g.error}}this.recordHistory(n,y)})}recordHistory(t,n,s){let o=[];n.length>0&&n.every(u=>u.role!==void 0)?o=n:o.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Ph(s)):this.history.push(t),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Eb(l,t,n){const s={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);return n!==void 0&&u!=null&&f(n,["_query","pageToken"],u),s}function kb(l,t){const n={},s=d(t,["config"]);return s!=null&&f(n,["config"],Eb(l,s,n)),n}function Ab(l,t){const n={},s=d(t,["details"]);s!=null&&f(n,["details"],s);const o=d(t,["message"]);o!=null&&f(n,["message"],o);const u=d(t,["code"]);return u!=null&&f(n,["code"],u),n}function Db(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["name"],s);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["mimeType"]);u!=null&&f(n,["mimeType"],u);const p=d(t,["sizeBytes"]);p!=null&&f(n,["sizeBytes"],p);const g=d(t,["createTime"]);g!=null&&f(n,["createTime"],g);const v=d(t,["expirationTime"]);v!=null&&f(n,["expirationTime"],v);const x=d(t,["updateTime"]);x!=null&&f(n,["updateTime"],x);const y=d(t,["sha256Hash"]);y!=null&&f(n,["sha256Hash"],y);const N=d(t,["uri"]);N!=null&&f(n,["uri"],N);const w=d(t,["downloadUri"]);w!=null&&f(n,["downloadUri"],w);const j=d(t,["state"]);j!=null&&f(n,["state"],j);const _=d(t,["source"]);_!=null&&f(n,["source"],_);const T=d(t,["videoMetadata"]);T!=null&&f(n,["videoMetadata"],T);const S=d(t,["error"]);return S!=null&&f(n,["error"],Ab(l,S)),n}function Mb(l,t){const n={},s=d(t,["file"]);s!=null&&f(n,["file"],Db(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Rb(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["_url","file"],yx(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Ib(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["_url","file"],yx(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Ub(l,t){const n={},s=d(t,["details"]);s!=null&&f(n,["details"],s);const o=d(t,["message"]);o!=null&&f(n,["message"],o);const u=d(t,["code"]);return u!=null&&f(n,["code"],u),n}function du(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["name"],s);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["mimeType"]);u!=null&&f(n,["mimeType"],u);const p=d(t,["sizeBytes"]);p!=null&&f(n,["sizeBytes"],p);const g=d(t,["createTime"]);g!=null&&f(n,["createTime"],g);const v=d(t,["expirationTime"]);v!=null&&f(n,["expirationTime"],v);const x=d(t,["updateTime"]);x!=null&&f(n,["updateTime"],x);const y=d(t,["sha256Hash"]);y!=null&&f(n,["sha256Hash"],y);const N=d(t,["uri"]);N!=null&&f(n,["uri"],N);const w=d(t,["downloadUri"]);w!=null&&f(n,["downloadUri"],w);const j=d(t,["state"]);j!=null&&f(n,["state"],j);const _=d(t,["source"]);_!=null&&f(n,["source"],_);const T=d(t,["videoMetadata"]);T!=null&&f(n,["videoMetadata"],T);const S=d(t,["error"]);return S!=null&&f(n,["error"],Ub(l,S)),n}function Lb(l,t){const n={},s=d(t,["nextPageToken"]);s!=null&&f(n,["nextPageToken"],s);const o=d(t,["files"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>du(l,p))),f(n,["files"],u)}return n}function zb(){return{}}function Vb(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ob extends Ps{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ar(qs.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>du(this.apiClient,n))}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,s;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=kb(this.apiClient,t);return u=Ee("files",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),o.then(v=>{const x=Lb(this.apiClient,v),y=new sy;return Object.assign(y,x),y})}}async createInternal(t){var n,s;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Mb(this.apiClient,t);return u=Ee("upload/v1beta/files",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),o.then(()=>{const v=zb(),x=new ly;return Object.assign(x,v),x})}}async get(t){var n,s;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Rb(this.apiClient,t);return u=Ee("files/{file}",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),o.then(v=>du(this.apiClient,v))}}async delete(t){var n,s;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Ib(this.apiClient,t);return u=Ee("files/{file}",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),o.then(()=>{const v=Vb(),x=new iy;return Object.assign(x,v),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hb(l,t){const n={},s=d(t,["voiceName"]);return s!=null&&f(n,["voiceName"],s),n}function Bb(l,t){const n={},s=d(t,["voiceName"]);return s!=null&&f(n,["voiceName"],s),n}function Tx(l,t){const n={},s=d(t,["prebuiltVoiceConfig"]);return s!=null&&f(n,["prebuiltVoiceConfig"],Hb(l,s)),n}function Gb(l,t){const n={},s=d(t,["prebuiltVoiceConfig"]);return s!=null&&f(n,["prebuiltVoiceConfig"],Bb(l,s)),n}function qb(l,t){const n={},s=d(t,["speaker"]);s!=null&&f(n,["speaker"],s);const o=d(t,["voiceConfig"]);return o!=null&&f(n,["voiceConfig"],Tx(l,o)),n}function Pb(l,t){const n={},s=d(t,["speakerVoiceConfigs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>qb(l,u))),f(n,["speakerVoiceConfigs"],o)}return n}function $b(l,t){const n={},s=d(t,["voiceConfig"]);s!=null&&f(n,["voiceConfig"],Tx(l,s));const o=d(t,["multiSpeakerVoiceConfig"]);o!=null&&f(n,["multiSpeakerVoiceConfig"],Pb(l,o));const u=d(t,["languageCode"]);return u!=null&&f(n,["languageCode"],u),n}function Fb(l,t){const n={},s=d(t,["voiceConfig"]);if(s!=null&&f(n,["voiceConfig"],Gb(l,s)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function Yb(l,t){const n={},s=d(t,["fps"]);s!=null&&f(n,["fps"],s);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function Zb(l,t){const n={},s=d(t,["fps"]);s!=null&&f(n,["fps"],s);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function Jb(l,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["data"]);s!=null&&f(n,["data"],s);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function Kb(l,t){const n={},s=d(t,["displayName"]);s!=null&&f(n,["displayName"],s);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function Xb(l,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["fileUri"]);s!=null&&f(n,["fileUri"],s);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function Qb(l,t){const n={},s=d(t,["displayName"]);s!=null&&f(n,["displayName"],s);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function Wb(l,t){const n={},s=d(t,["videoMetadata"]);s!=null&&f(n,["videoMetadata"],Yb(l,s));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],Jb(l,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],Xb(l,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const N=d(t,["functionResponse"]);N!=null&&f(n,["functionResponse"],N);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function eN(l,t){const n={},s=d(t,["videoMetadata"]);s!=null&&f(n,["videoMetadata"],Zb(l,s));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],Kb(l,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],Qb(l,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const N=d(t,["functionResponse"]);N!=null&&f(n,["functionResponse"],N);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function tN(l,t){const n={},s=d(t,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(p=>Wb(l,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function nN(l,t){const n={},s=d(t,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(p=>eN(l,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function aN(l,t){const n={},s=d(t,["behavior"]);s!=null&&f(n,["behavior"],s);const o=d(t,["description"]);o!=null&&f(n,["description"],o);const u=d(t,["name"]);u!=null&&f(n,["name"],u);const p=d(t,["parameters"]);p!=null&&f(n,["parameters"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],g),n}function sN(l,t){const n={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const s=d(t,["description"]);s!=null&&f(n,["description"],s);const o=d(t,["name"]);o!=null&&f(n,["name"],o);const u=d(t,["parameters"]);u!=null&&f(n,["parameters"],u);const p=d(t,["response"]);return p!=null&&f(n,["response"],p),n}function lN(l,t){const n={},s=d(t,["startTime"]);s!=null&&f(n,["startTime"],s);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function iN(l,t){const n={},s=d(t,["startTime"]);s!=null&&f(n,["startTime"],s);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function rN(l,t){const n={},s=d(t,["timeRangeFilter"]);return s!=null&&f(n,["timeRangeFilter"],lN(l,s)),n}function oN(l,t){const n={},s=d(t,["timeRangeFilter"]);return s!=null&&f(n,["timeRangeFilter"],iN(l,s)),n}function cN(l,t){const n={},s=d(t,["mode"]);s!=null&&f(n,["mode"],s);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function uN(l,t){const n={},s=d(t,["mode"]);s!=null&&f(n,["mode"],s);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function dN(l,t){const n={},s=d(t,["dynamicRetrievalConfig"]);return s!=null&&f(n,["dynamicRetrievalConfig"],cN(l,s)),n}function fN(l,t){const n={},s=d(t,["dynamicRetrievalConfig"]);return s!=null&&f(n,["dynamicRetrievalConfig"],uN(l,s)),n}function mN(){return{}}function pN(l,t){const n={},s=d(t,["apiKeyString"]);return s!=null&&f(n,["apiKeyString"],s),n}function hN(l,t){const n={},s=d(t,["apiKeyConfig"]);s!=null&&f(n,["apiKeyConfig"],pN(l,s));const o=d(t,["authType"]);o!=null&&f(n,["authType"],o);const u=d(t,["googleServiceAccountConfig"]);u!=null&&f(n,["googleServiceAccountConfig"],u);const p=d(t,["httpBasicAuthConfig"]);p!=null&&f(n,["httpBasicAuthConfig"],p);const g=d(t,["oauthConfig"]);g!=null&&f(n,["oauthConfig"],g);const v=d(t,["oidcConfig"]);return v!=null&&f(n,["oidcConfig"],v),n}function xN(l,t){const n={},s=d(t,["authConfig"]);return s!=null&&f(n,["authConfig"],hN(l,s)),n}function gN(){return{}}function vN(l,t){const n={},s=d(t,["functionDeclarations"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(x=>aN(l,x))),f(n,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearch"]);o!=null&&f(n,["googleSearch"],rN(l,o));const u=d(t,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],dN(l,u)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(n,["urlContext"],gN());const g=d(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function yN(l,t){const n={},s=d(t,["functionDeclarations"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(N=>sN(l,N))),f(n,["functionDeclarations"],y)}const o=d(t,["retrieval"]);o!=null&&f(n,["retrieval"],o);const u=d(t,["googleSearch"]);u!=null&&f(n,["googleSearch"],oN(l,u));const p=d(t,["googleSearchRetrieval"]);p!=null&&f(n,["googleSearchRetrieval"],fN(l,p)),d(t,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],mN());const v=d(t,["googleMaps"]);if(v!=null&&f(n,["googleMaps"],xN(l,v)),d(t,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const x=d(t,["codeExecution"]);return x!=null&&f(n,["codeExecution"],x),n}function bN(l,t){const n={},s=d(t,["handle"]);if(s!=null&&f(n,["handle"],s),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function NN(l,t){const n={},s=d(t,["handle"]);s!=null&&f(n,["handle"],s);const o=d(t,["transparent"]);return o!=null&&f(n,["transparent"],o),n}function $h(){return{}}function Fh(){return{}}function wN(l,t){const n={},s=d(t,["disabled"]);s!=null&&f(n,["disabled"],s);const o=d(t,["startOfSpeechSensitivity"]);o!=null&&f(n,["startOfSpeechSensitivity"],o);const u=d(t,["endOfSpeechSensitivity"]);u!=null&&f(n,["endOfSpeechSensitivity"],u);const p=d(t,["prefixPaddingMs"]);p!=null&&f(n,["prefixPaddingMs"],p);const g=d(t,["silenceDurationMs"]);return g!=null&&f(n,["silenceDurationMs"],g),n}function TN(l,t){const n={},s=d(t,["disabled"]);s!=null&&f(n,["disabled"],s);const o=d(t,["startOfSpeechSensitivity"]);o!=null&&f(n,["startOfSpeechSensitivity"],o);const u=d(t,["endOfSpeechSensitivity"]);u!=null&&f(n,["endOfSpeechSensitivity"],u);const p=d(t,["prefixPaddingMs"]);p!=null&&f(n,["prefixPaddingMs"],p);const g=d(t,["silenceDurationMs"]);return g!=null&&f(n,["silenceDurationMs"],g),n}function CN(l,t){const n={},s=d(t,["automaticActivityDetection"]);s!=null&&f(n,["automaticActivityDetection"],wN(l,s));const o=d(t,["activityHandling"]);o!=null&&f(n,["activityHandling"],o);const u=d(t,["turnCoverage"]);return u!=null&&f(n,["turnCoverage"],u),n}function SN(l,t){const n={},s=d(t,["automaticActivityDetection"]);s!=null&&f(n,["automaticActivityDetection"],TN(l,s));const o=d(t,["activityHandling"]);o!=null&&f(n,["activityHandling"],o);const u=d(t,["turnCoverage"]);return u!=null&&f(n,["turnCoverage"],u),n}function _N(l,t){const n={},s=d(t,["targetTokens"]);return s!=null&&f(n,["targetTokens"],s),n}function jN(l,t){const n={},s=d(t,["targetTokens"]);return s!=null&&f(n,["targetTokens"],s),n}function EN(l,t){const n={},s=d(t,["triggerTokens"]);s!=null&&f(n,["triggerTokens"],s);const o=d(t,["slidingWindow"]);return o!=null&&f(n,["slidingWindow"],_N(l,o)),n}function kN(l,t){const n={},s=d(t,["triggerTokens"]);s!=null&&f(n,["triggerTokens"],s);const o=d(t,["slidingWindow"]);return o!=null&&f(n,["slidingWindow"],jN(l,o)),n}function AN(l,t){const n={},s=d(t,["proactiveAudio"]);return s!=null&&f(n,["proactiveAudio"],s),n}function DN(l,t){const n={},s=d(t,["proactiveAudio"]);return s!=null&&f(n,["proactiveAudio"],s),n}function MN(l,t,n){const s={},o=d(t,["generationConfig"]);n!==void 0&&o!=null&&f(n,["setup","generationConfig"],o);const u=d(t,["responseModalities"]);n!==void 0&&u!=null&&f(n,["setup","generationConfig","responseModalities"],u);const p=d(t,["temperature"]);n!==void 0&&p!=null&&f(n,["setup","generationConfig","temperature"],p);const g=d(t,["topP"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topP"],g);const v=d(t,["topK"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","topK"],v);const x=d(t,["maxOutputTokens"]);n!==void 0&&x!=null&&f(n,["setup","generationConfig","maxOutputTokens"],x);const y=d(t,["mediaResolution"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","mediaResolution"],y);const N=d(t,["seed"]);n!==void 0&&N!=null&&f(n,["setup","generationConfig","seed"],N);const w=d(t,["speechConfig"]);n!==void 0&&w!=null&&f(n,["setup","generationConfig","speechConfig"],$b(l,bu(l,w)));const j=d(t,["enableAffectiveDialog"]);n!==void 0&&j!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],j);const _=d(t,["systemInstruction"]);n!==void 0&&_!=null&&f(n,["setup","systemInstruction"],tN(l,It(l,_)));const T=d(t,["tools"]);if(n!==void 0&&T!=null){let $=Zl(l,T);Array.isArray($)&&($=$.map(k=>vN(l,Yl(l,k)))),f(n,["setup","tools"],$)}const S=d(t,["sessionResumption"]);n!==void 0&&S!=null&&f(n,["setup","sessionResumption"],bN(l,S));const M=d(t,["inputAudioTranscription"]);n!==void 0&&M!=null&&f(n,["setup","inputAudioTranscription"],$h());const I=d(t,["outputAudioTranscription"]);n!==void 0&&I!=null&&f(n,["setup","outputAudioTranscription"],$h());const D=d(t,["realtimeInputConfig"]);n!==void 0&&D!=null&&f(n,["setup","realtimeInputConfig"],CN(l,D));const O=d(t,["contextWindowCompression"]);n!==void 0&&O!=null&&f(n,["setup","contextWindowCompression"],EN(l,O));const R=d(t,["proactivity"]);return n!==void 0&&R!=null&&f(n,["setup","proactivity"],AN(l,R)),s}function RN(l,t,n){const s={},o=d(t,["generationConfig"]);n!==void 0&&o!=null&&f(n,["setup","generationConfig"],o);const u=d(t,["responseModalities"]);n!==void 0&&u!=null&&f(n,["setup","generationConfig","responseModalities"],u);const p=d(t,["temperature"]);n!==void 0&&p!=null&&f(n,["setup","generationConfig","temperature"],p);const g=d(t,["topP"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topP"],g);const v=d(t,["topK"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","topK"],v);const x=d(t,["maxOutputTokens"]);n!==void 0&&x!=null&&f(n,["setup","generationConfig","maxOutputTokens"],x);const y=d(t,["mediaResolution"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","mediaResolution"],y);const N=d(t,["seed"]);n!==void 0&&N!=null&&f(n,["setup","generationConfig","seed"],N);const w=d(t,["speechConfig"]);n!==void 0&&w!=null&&f(n,["setup","generationConfig","speechConfig"],Fb(l,bu(l,w)));const j=d(t,["enableAffectiveDialog"]);n!==void 0&&j!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],j);const _=d(t,["systemInstruction"]);n!==void 0&&_!=null&&f(n,["setup","systemInstruction"],nN(l,It(l,_)));const T=d(t,["tools"]);if(n!==void 0&&T!=null){let $=Zl(l,T);Array.isArray($)&&($=$.map(k=>yN(l,Yl(l,k)))),f(n,["setup","tools"],$)}const S=d(t,["sessionResumption"]);n!==void 0&&S!=null&&f(n,["setup","sessionResumption"],NN(l,S));const M=d(t,["inputAudioTranscription"]);n!==void 0&&M!=null&&f(n,["setup","inputAudioTranscription"],Fh());const I=d(t,["outputAudioTranscription"]);n!==void 0&&I!=null&&f(n,["setup","outputAudioTranscription"],Fh());const D=d(t,["realtimeInputConfig"]);n!==void 0&&D!=null&&f(n,["setup","realtimeInputConfig"],SN(l,D));const O=d(t,["contextWindowCompression"]);n!==void 0&&O!=null&&f(n,["setup","contextWindowCompression"],kN(l,O));const R=d(t,["proactivity"]);return n!==void 0&&R!=null&&f(n,["setup","proactivity"],DN(l,R)),s}function IN(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["setup","model"],st(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],MN(l,o,n)),n}function UN(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["setup","model"],st(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],RN(l,o,n)),n}function LN(){return{}}function zN(){return{}}function VN(){return{}}function ON(){return{}}function HN(l,t){const n={},s=d(t,["media"]);s!=null&&f(n,["mediaChunks"],px(l,s));const o=d(t,["audio"]);o!=null&&f(n,["audio"],uy(l,o));const u=d(t,["audioStreamEnd"]);u!=null&&f(n,["audioStreamEnd"],u);const p=d(t,["video"]);p!=null&&f(n,["video"],cy(l,p));const g=d(t,["text"]);return g!=null&&f(n,["text"],g),d(t,["activityStart"])!=null&&f(n,["activityStart"],LN()),d(t,["activityEnd"])!=null&&f(n,["activityEnd"],VN()),n}function BN(l,t){const n={},s=d(t,["media"]);if(s!=null&&f(n,["mediaChunks"],px(l,s)),d(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=d(t,["audioStreamEnd"]);if(o!=null&&f(n,["audioStreamEnd"],o),d(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(d(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return d(t,["activityStart"])!=null&&f(n,["activityStart"],zN()),d(t,["activityEnd"])!=null&&f(n,["activityEnd"],ON()),n}function Cx(l,t){const n={},s=d(t,["text"]);s!=null&&f(n,["text"],s);const o=d(t,["weight"]);return o!=null&&f(n,["weight"],o),n}function GN(l,t){const n={},s=d(t,["weightedPrompts"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>Cx(l,u))),f(n,["weightedPrompts"],o)}return n}function Sx(l,t){const n={},s=d(t,["temperature"]);s!=null&&f(n,["temperature"],s);const o=d(t,["topK"]);o!=null&&f(n,["topK"],o);const u=d(t,["seed"]);u!=null&&f(n,["seed"],u);const p=d(t,["guidance"]);p!=null&&f(n,["guidance"],p);const g=d(t,["bpm"]);g!=null&&f(n,["bpm"],g);const v=d(t,["density"]);v!=null&&f(n,["density"],v);const x=d(t,["brightness"]);x!=null&&f(n,["brightness"],x);const y=d(t,["scale"]);y!=null&&f(n,["scale"],y);const N=d(t,["muteBass"]);N!=null&&f(n,["muteBass"],N);const w=d(t,["muteDrums"]);w!=null&&f(n,["muteDrums"],w);const j=d(t,["onlyBassAndDrums"]);return j!=null&&f(n,["onlyBassAndDrums"],j),n}function qN(l,t){const n={},s=d(t,["musicGenerationConfig"]);return s!=null&&f(n,["musicGenerationConfig"],Sx(l,s)),n}function _x(l,t){const n={},s=d(t,["model"]);return s!=null&&f(n,["model"],s),n}function jx(l,t){const n={},s=d(t,["weightedPrompts"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>Cx(l,u))),f(n,["weightedPrompts"],o)}return n}function fu(l,t){const n={},s=d(t,["setup"]);s!=null&&f(n,["setup"],_x(l,s));const o=d(t,["clientContent"]);o!=null&&f(n,["clientContent"],jx(l,o));const u=d(t,["musicGenerationConfig"]);u!=null&&f(n,["musicGenerationConfig"],Sx(l,u));const p=d(t,["playbackControl"]);return p!=null&&f(n,["playbackControl"],p),n}function PN(){return{}}function $N(){return{}}function FN(l,t){const n={},s=d(t,["fps"]);s!=null&&f(n,["fps"],s);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function YN(l,t){const n={},s=d(t,["fps"]);s!=null&&f(n,["fps"],s);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function ZN(l,t){const n={},s=d(t,["data"]);s!=null&&f(n,["data"],s);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function JN(l,t){const n={},s=d(t,["displayName"]);s!=null&&f(n,["displayName"],s);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function KN(l,t){const n={},s=d(t,["fileUri"]);s!=null&&f(n,["fileUri"],s);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function XN(l,t){const n={},s=d(t,["displayName"]);s!=null&&f(n,["displayName"],s);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function QN(l,t){const n={},s=d(t,["videoMetadata"]);s!=null&&f(n,["videoMetadata"],FN(l,s));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],ZN(l,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],KN(l,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const N=d(t,["functionResponse"]);N!=null&&f(n,["functionResponse"],N);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function WN(l,t){const n={},s=d(t,["videoMetadata"]);s!=null&&f(n,["videoMetadata"],YN(l,s));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],JN(l,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],XN(l,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const N=d(t,["functionResponse"]);N!=null&&f(n,["functionResponse"],N);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function e1(l,t){const n={},s=d(t,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(p=>QN(l,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function t1(l,t){const n={},s=d(t,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(p=>WN(l,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function Yh(l,t){const n={},s=d(t,["text"]);s!=null&&f(n,["text"],s);const o=d(t,["finished"]);return o!=null&&f(n,["finished"],o),n}function Zh(l,t){const n={},s=d(t,["text"]);s!=null&&f(n,["text"],s);const o=d(t,["finished"]);return o!=null&&f(n,["finished"],o),n}function n1(l,t){const n={},s=d(t,["retrievedUrl"]);s!=null&&f(n,["retrievedUrl"],s);const o=d(t,["urlRetrievalStatus"]);return o!=null&&f(n,["urlRetrievalStatus"],o),n}function a1(l,t){const n={},s=d(t,["urlMetadata"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>n1(l,u))),f(n,["urlMetadata"],o)}return n}function s1(l,t){const n={},s=d(t,["modelTurn"]);s!=null&&f(n,["modelTurn"],e1(l,s));const o=d(t,["turnComplete"]);o!=null&&f(n,["turnComplete"],o);const u=d(t,["interrupted"]);u!=null&&f(n,["interrupted"],u);const p=d(t,["groundingMetadata"]);p!=null&&f(n,["groundingMetadata"],p);const g=d(t,["generationComplete"]);g!=null&&f(n,["generationComplete"],g);const v=d(t,["inputTranscription"]);v!=null&&f(n,["inputTranscription"],Yh(l,v));const x=d(t,["outputTranscription"]);x!=null&&f(n,["outputTranscription"],Yh(l,x));const y=d(t,["urlContextMetadata"]);return y!=null&&f(n,["urlContextMetadata"],a1(l,y)),n}function l1(l,t){const n={},s=d(t,["modelTurn"]);s!=null&&f(n,["modelTurn"],t1(l,s));const o=d(t,["turnComplete"]);o!=null&&f(n,["turnComplete"],o);const u=d(t,["interrupted"]);u!=null&&f(n,["interrupted"],u);const p=d(t,["groundingMetadata"]);p!=null&&f(n,["groundingMetadata"],p);const g=d(t,["generationComplete"]);g!=null&&f(n,["generationComplete"],g);const v=d(t,["inputTranscription"]);v!=null&&f(n,["inputTranscription"],Zh(l,v));const x=d(t,["outputTranscription"]);return x!=null&&f(n,["outputTranscription"],Zh(l,x)),n}function i1(l,t){const n={},s=d(t,["id"]);s!=null&&f(n,["id"],s);const o=d(t,["args"]);o!=null&&f(n,["args"],o);const u=d(t,["name"]);return u!=null&&f(n,["name"],u),n}function r1(l,t){const n={},s=d(t,["args"]);s!=null&&f(n,["args"],s);const o=d(t,["name"]);return o!=null&&f(n,["name"],o),n}function o1(l,t){const n={},s=d(t,["functionCalls"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>i1(l,u))),f(n,["functionCalls"],o)}return n}function c1(l,t){const n={},s=d(t,["functionCalls"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>r1(l,u))),f(n,["functionCalls"],o)}return n}function u1(l,t){const n={},s=d(t,["ids"]);return s!=null&&f(n,["ids"],s),n}function d1(l,t){const n={},s=d(t,["ids"]);return s!=null&&f(n,["ids"],s),n}function hr(l,t){const n={},s=d(t,["modality"]);s!=null&&f(n,["modality"],s);const o=d(t,["tokenCount"]);return o!=null&&f(n,["tokenCount"],o),n}function xr(l,t){const n={},s=d(t,["modality"]);s!=null&&f(n,["modality"],s);const o=d(t,["tokenCount"]);return o!=null&&f(n,["tokenCount"],o),n}function f1(l,t){const n={},s=d(t,["promptTokenCount"]);s!=null&&f(n,["promptTokenCount"],s);const o=d(t,["cachedContentTokenCount"]);o!=null&&f(n,["cachedContentTokenCount"],o);const u=d(t,["responseTokenCount"]);u!=null&&f(n,["responseTokenCount"],u);const p=d(t,["toolUsePromptTokenCount"]);p!=null&&f(n,["toolUsePromptTokenCount"],p);const g=d(t,["thoughtsTokenCount"]);g!=null&&f(n,["thoughtsTokenCount"],g);const v=d(t,["totalTokenCount"]);v!=null&&f(n,["totalTokenCount"],v);const x=d(t,["promptTokensDetails"]);if(x!=null){let j=x;Array.isArray(j)&&(j=j.map(_=>hr(l,_))),f(n,["promptTokensDetails"],j)}const y=d(t,["cacheTokensDetails"]);if(y!=null){let j=y;Array.isArray(j)&&(j=j.map(_=>hr(l,_))),f(n,["cacheTokensDetails"],j)}const N=d(t,["responseTokensDetails"]);if(N!=null){let j=N;Array.isArray(j)&&(j=j.map(_=>hr(l,_))),f(n,["responseTokensDetails"],j)}const w=d(t,["toolUsePromptTokensDetails"]);if(w!=null){let j=w;Array.isArray(j)&&(j=j.map(_=>hr(l,_))),f(n,["toolUsePromptTokensDetails"],j)}return n}function m1(l,t){const n={},s=d(t,["promptTokenCount"]);s!=null&&f(n,["promptTokenCount"],s);const o=d(t,["cachedContentTokenCount"]);o!=null&&f(n,["cachedContentTokenCount"],o);const u=d(t,["candidatesTokenCount"]);u!=null&&f(n,["responseTokenCount"],u);const p=d(t,["toolUsePromptTokenCount"]);p!=null&&f(n,["toolUsePromptTokenCount"],p);const g=d(t,["thoughtsTokenCount"]);g!=null&&f(n,["thoughtsTokenCount"],g);const v=d(t,["totalTokenCount"]);v!=null&&f(n,["totalTokenCount"],v);const x=d(t,["promptTokensDetails"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(T=>xr(l,T))),f(n,["promptTokensDetails"],_)}const y=d(t,["cacheTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(T=>xr(l,T))),f(n,["cacheTokensDetails"],_)}const N=d(t,["candidatesTokensDetails"]);if(N!=null){let _=N;Array.isArray(_)&&(_=_.map(T=>xr(l,T))),f(n,["responseTokensDetails"],_)}const w=d(t,["toolUsePromptTokensDetails"]);if(w!=null){let _=w;Array.isArray(_)&&(_=_.map(T=>xr(l,T))),f(n,["toolUsePromptTokensDetails"],_)}const j=d(t,["trafficType"]);return j!=null&&f(n,["trafficType"],j),n}function p1(l,t){const n={},s=d(t,["timeLeft"]);return s!=null&&f(n,["timeLeft"],s),n}function h1(l,t){const n={},s=d(t,["timeLeft"]);return s!=null&&f(n,["timeLeft"],s),n}function x1(l,t){const n={},s=d(t,["newHandle"]);s!=null&&f(n,["newHandle"],s);const o=d(t,["resumable"]);o!=null&&f(n,["resumable"],o);const u=d(t,["lastConsumedClientMessageIndex"]);return u!=null&&f(n,["lastConsumedClientMessageIndex"],u),n}function g1(l,t){const n={},s=d(t,["newHandle"]);s!=null&&f(n,["newHandle"],s);const o=d(t,["resumable"]);o!=null&&f(n,["resumable"],o);const u=d(t,["lastConsumedClientMessageIndex"]);return u!=null&&f(n,["lastConsumedClientMessageIndex"],u),n}function v1(l,t){const n={};d(t,["setupComplete"])!=null&&f(n,["setupComplete"],PN());const o=d(t,["serverContent"]);o!=null&&f(n,["serverContent"],s1(l,o));const u=d(t,["toolCall"]);u!=null&&f(n,["toolCall"],o1(l,u));const p=d(t,["toolCallCancellation"]);p!=null&&f(n,["toolCallCancellation"],u1(l,p));const g=d(t,["usageMetadata"]);g!=null&&f(n,["usageMetadata"],f1(l,g));const v=d(t,["goAway"]);v!=null&&f(n,["goAway"],p1(l,v));const x=d(t,["sessionResumptionUpdate"]);return x!=null&&f(n,["sessionResumptionUpdate"],x1(l,x)),n}function y1(l,t){const n={};d(t,["setupComplete"])!=null&&f(n,["setupComplete"],$N());const o=d(t,["serverContent"]);o!=null&&f(n,["serverContent"],l1(l,o));const u=d(t,["toolCall"]);u!=null&&f(n,["toolCall"],c1(l,u));const p=d(t,["toolCallCancellation"]);p!=null&&f(n,["toolCallCancellation"],d1(l,p));const g=d(t,["usageMetadata"]);g!=null&&f(n,["usageMetadata"],m1(l,g));const v=d(t,["goAway"]);v!=null&&f(n,["goAway"],h1(l,v));const x=d(t,["sessionResumptionUpdate"]);return x!=null&&f(n,["sessionResumptionUpdate"],g1(l,x)),n}function b1(){return{}}function N1(l,t){const n={},s=d(t,["text"]);s!=null&&f(n,["text"],s);const o=d(t,["weight"]);return o!=null&&f(n,["weight"],o),n}function w1(l,t){const n={},s=d(t,["weightedPrompts"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>N1(l,u))),f(n,["weightedPrompts"],o)}return n}function T1(l,t){const n={},s=d(t,["temperature"]);s!=null&&f(n,["temperature"],s);const o=d(t,["topK"]);o!=null&&f(n,["topK"],o);const u=d(t,["seed"]);u!=null&&f(n,["seed"],u);const p=d(t,["guidance"]);p!=null&&f(n,["guidance"],p);const g=d(t,["bpm"]);g!=null&&f(n,["bpm"],g);const v=d(t,["density"]);v!=null&&f(n,["density"],v);const x=d(t,["brightness"]);x!=null&&f(n,["brightness"],x);const y=d(t,["scale"]);y!=null&&f(n,["scale"],y);const N=d(t,["muteBass"]);N!=null&&f(n,["muteBass"],N);const w=d(t,["muteDrums"]);w!=null&&f(n,["muteDrums"],w);const j=d(t,["onlyBassAndDrums"]);return j!=null&&f(n,["onlyBassAndDrums"],j),n}function C1(l,t){const n={},s=d(t,["clientContent"]);s!=null&&f(n,["clientContent"],w1(l,s));const o=d(t,["musicGenerationConfig"]);return o!=null&&f(n,["musicGenerationConfig"],T1(l,o)),n}function S1(l,t){const n={},s=d(t,["data"]);s!=null&&f(n,["data"],s);const o=d(t,["mimeType"]);o!=null&&f(n,["mimeType"],o);const u=d(t,["sourceMetadata"]);return u!=null&&f(n,["sourceMetadata"],C1(l,u)),n}function _1(l,t){const n={},s=d(t,["audioChunks"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>S1(l,u))),f(n,["audioChunks"],o)}return n}function j1(l,t){const n={},s=d(t,["text"]);s!=null&&f(n,["text"],s);const o=d(t,["filteredReason"]);return o!=null&&f(n,["filteredReason"],o),n}function E1(l,t){const n={};d(t,["setupComplete"])!=null&&f(n,["setupComplete"],b1());const o=d(t,["serverContent"]);o!=null&&f(n,["serverContent"],_1(l,o));const u=d(t,["filteredPrompt"]);return u!=null&&f(n,["filteredPrompt"],j1(l,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k1(l,t){const n={},s=d(t,["fps"]);s!=null&&f(n,["fps"],s);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function A1(l,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["data"]);s!=null&&f(n,["data"],s);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function D1(l,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["fileUri"]);s!=null&&f(n,["fileUri"],s);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function M1(l,t){const n={},s=d(t,["videoMetadata"]);s!=null&&f(n,["videoMetadata"],k1(l,s));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],A1(l,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],D1(l,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const N=d(t,["functionResponse"]);N!=null&&f(n,["functionResponse"],N);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function Dr(l,t){const n={},s=d(t,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(p=>M1(l,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function R1(l,t){const n={},s=d(t,["anyOf"]);s!=null&&f(n,["anyOf"],s);const o=d(t,["default"]);o!=null&&f(n,["default"],o);const u=d(t,["description"]);u!=null&&f(n,["description"],u);const p=d(t,["enum"]);p!=null&&f(n,["enum"],p);const g=d(t,["example"]);g!=null&&f(n,["example"],g);const v=d(t,["format"]);v!=null&&f(n,["format"],v);const x=d(t,["items"]);x!=null&&f(n,["items"],x);const y=d(t,["maxItems"]);y!=null&&f(n,["maxItems"],y);const N=d(t,["maxLength"]);N!=null&&f(n,["maxLength"],N);const w=d(t,["maxProperties"]);w!=null&&f(n,["maxProperties"],w);const j=d(t,["maximum"]);j!=null&&f(n,["maximum"],j);const _=d(t,["minItems"]);_!=null&&f(n,["minItems"],_);const T=d(t,["minLength"]);T!=null&&f(n,["minLength"],T);const S=d(t,["minProperties"]);S!=null&&f(n,["minProperties"],S);const M=d(t,["minimum"]);M!=null&&f(n,["minimum"],M);const I=d(t,["nullable"]);I!=null&&f(n,["nullable"],I);const D=d(t,["pattern"]);D!=null&&f(n,["pattern"],D);const O=d(t,["properties"]);O!=null&&f(n,["properties"],O);const R=d(t,["propertyOrdering"]);R!=null&&f(n,["propertyOrdering"],R);const $=d(t,["required"]);$!=null&&f(n,["required"],$);const k=d(t,["title"]);k!=null&&f(n,["title"],k);const z=d(t,["type"]);return z!=null&&f(n,["type"],z),n}function I1(l,t){const n={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(t,["category"]);s!=null&&f(n,["category"],s);const o=d(t,["threshold"]);return o!=null&&f(n,["threshold"],o),n}function U1(l,t){const n={},s=d(t,["behavior"]);s!=null&&f(n,["behavior"],s);const o=d(t,["description"]);o!=null&&f(n,["description"],o);const u=d(t,["name"]);u!=null&&f(n,["name"],u);const p=d(t,["parameters"]);p!=null&&f(n,["parameters"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],g),n}function L1(l,t){const n={},s=d(t,["startTime"]);s!=null&&f(n,["startTime"],s);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function z1(l,t){const n={},s=d(t,["timeRangeFilter"]);return s!=null&&f(n,["timeRangeFilter"],L1(l,s)),n}function V1(l,t){const n={},s=d(t,["mode"]);s!=null&&f(n,["mode"],s);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function O1(l,t){const n={},s=d(t,["dynamicRetrievalConfig"]);return s!=null&&f(n,["dynamicRetrievalConfig"],V1(l,s)),n}function H1(){return{}}function B1(l,t){const n={},s=d(t,["functionDeclarations"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(x=>U1(l,x))),f(n,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearch"]);o!=null&&f(n,["googleSearch"],z1(l,o));const u=d(t,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],O1(l,u)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(n,["urlContext"],H1());const g=d(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function G1(l,t){const n={},s=d(t,["mode"]);s!=null&&f(n,["mode"],s);const o=d(t,["allowedFunctionNames"]);return o!=null&&f(n,["allowedFunctionNames"],o),n}function q1(l,t){const n={},s=d(t,["latitude"]);s!=null&&f(n,["latitude"],s);const o=d(t,["longitude"]);return o!=null&&f(n,["longitude"],o),n}function P1(l,t){const n={},s=d(t,["latLng"]);s!=null&&f(n,["latLng"],q1(l,s));const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function $1(l,t){const n={},s=d(t,["functionCallingConfig"]);s!=null&&f(n,["functionCallingConfig"],G1(l,s));const o=d(t,["retrievalConfig"]);return o!=null&&f(n,["retrievalConfig"],P1(l,o)),n}function F1(l,t){const n={},s=d(t,["voiceName"]);return s!=null&&f(n,["voiceName"],s),n}function Ex(l,t){const n={},s=d(t,["prebuiltVoiceConfig"]);return s!=null&&f(n,["prebuiltVoiceConfig"],F1(l,s)),n}function Y1(l,t){const n={},s=d(t,["speaker"]);s!=null&&f(n,["speaker"],s);const o=d(t,["voiceConfig"]);return o!=null&&f(n,["voiceConfig"],Ex(l,o)),n}function Z1(l,t){const n={},s=d(t,["speakerVoiceConfigs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>Y1(l,u))),f(n,["speakerVoiceConfigs"],o)}return n}function J1(l,t){const n={},s=d(t,["voiceConfig"]);s!=null&&f(n,["voiceConfig"],Ex(l,s));const o=d(t,["multiSpeakerVoiceConfig"]);o!=null&&f(n,["multiSpeakerVoiceConfig"],Z1(l,o));const u=d(t,["languageCode"]);return u!=null&&f(n,["languageCode"],u),n}function K1(l,t){const n={},s=d(t,["includeThoughts"]);s!=null&&f(n,["includeThoughts"],s);const o=d(t,["thinkingBudget"]);return o!=null&&f(n,["thinkingBudget"],o),n}function X1(l,t,n){const s={},o=d(t,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],Dr(l,It(l,o)));const u=d(t,["temperature"]);u!=null&&f(s,["temperature"],u);const p=d(t,["topP"]);p!=null&&f(s,["topP"],p);const g=d(t,["topK"]);g!=null&&f(s,["topK"],g);const v=d(t,["candidateCount"]);v!=null&&f(s,["candidateCount"],v);const x=d(t,["maxOutputTokens"]);x!=null&&f(s,["maxOutputTokens"],x);const y=d(t,["stopSequences"]);y!=null&&f(s,["stopSequences"],y);const N=d(t,["responseLogprobs"]);N!=null&&f(s,["responseLogprobs"],N);const w=d(t,["logprobs"]);w!=null&&f(s,["logprobs"],w);const j=d(t,["presencePenalty"]);j!=null&&f(s,["presencePenalty"],j);const _=d(t,["frequencyPenalty"]);_!=null&&f(s,["frequencyPenalty"],_);const T=d(t,["seed"]);T!=null&&f(s,["seed"],T);const S=d(t,["responseMimeType"]);S!=null&&f(s,["responseMimeType"],S);const M=d(t,["responseSchema"]);if(M!=null&&f(s,["responseSchema"],R1(l,Er(l,M))),d(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=d(t,["safetySettings"]);if(n!==void 0&&I!=null){let V=I;Array.isArray(V)&&(V=V.map(te=>I1(l,te))),f(n,["safetySettings"],V)}const D=d(t,["tools"]);if(n!==void 0&&D!=null){let V=Zl(l,D);Array.isArray(V)&&(V=V.map(te=>B1(l,Yl(l,te)))),f(n,["tools"],V)}const O=d(t,["toolConfig"]);if(n!==void 0&&O!=null&&f(n,["toolConfig"],$1(l,O)),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=d(t,["cachedContent"]);n!==void 0&&R!=null&&f(n,["cachedContent"],ya(l,R));const $=d(t,["responseModalities"]);$!=null&&f(s,["responseModalities"],$);const k=d(t,["mediaResolution"]);k!=null&&f(s,["mediaResolution"],k);const z=d(t,["speechConfig"]);if(z!=null&&f(s,["speechConfig"],J1(l,gx(l,z))),d(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=d(t,["thinkingConfig"]);return G!=null&&f(s,["thinkingConfig"],K1(l,G)),s}function Jh(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["_url","model"],st(l,s));const o=d(t,["contents"]);if(o!=null){let p=mn(l,o);Array.isArray(p)&&(p=p.map(g=>Dr(l,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["generationConfig"],X1(l,u,n)),n}function Q1(l,t,n){const s={},o=d(t,["taskType"]);n!==void 0&&o!=null&&f(n,["requests[]","taskType"],o);const u=d(t,["title"]);n!==void 0&&u!=null&&f(n,["requests[]","title"],u);const p=d(t,["outputDimensionality"]);if(n!==void 0&&p!=null&&f(n,["requests[]","outputDimensionality"],p),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function W1(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["_url","model"],st(l,s));const o=d(t,["contents"]);o!=null&&f(n,["requests[]","content"],xx(l,o));const u=d(t,["config"]);u!=null&&f(n,["config"],Q1(l,u,n));const p=d(t,["model"]);return p!==void 0&&f(n,["requests[]","model"],st(l,p)),n}function ew(l,t,n){const s={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=d(t,["numberOfImages"]);n!==void 0&&o!=null&&f(n,["parameters","sampleCount"],o);const u=d(t,["aspectRatio"]);n!==void 0&&u!=null&&f(n,["parameters","aspectRatio"],u);const p=d(t,["guidanceScale"]);if(n!==void 0&&p!=null&&f(n,["parameters","guidanceScale"],p),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=d(t,["safetyFilterLevel"]);n!==void 0&&g!=null&&f(n,["parameters","safetySetting"],g);const v=d(t,["personGeneration"]);n!==void 0&&v!=null&&f(n,["parameters","personGeneration"],v);const x=d(t,["includeSafetyAttributes"]);n!==void 0&&x!=null&&f(n,["parameters","includeSafetyAttributes"],x);const y=d(t,["includeRaiReason"]);n!==void 0&&y!=null&&f(n,["parameters","includeRaiReason"],y);const N=d(t,["language"]);n!==void 0&&N!=null&&f(n,["parameters","language"],N);const w=d(t,["outputMimeType"]);n!==void 0&&w!=null&&f(n,["parameters","outputOptions","mimeType"],w);const j=d(t,["outputCompressionQuality"]);if(n!==void 0&&j!=null&&f(n,["parameters","outputOptions","compressionQuality"],j),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function tw(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["_url","model"],st(l,s));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["config"]);return u!=null&&f(n,["config"],ew(l,u,n)),n}function nw(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["_url","name"],st(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function aw(l,t,n){const s={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);n!==void 0&&u!=null&&f(n,["_query","pageToken"],u);const p=d(t,["filter"]);n!==void 0&&p!=null&&f(n,["_query","filter"],p);const g=d(t,["queryBase"]);return n!==void 0&&g!=null&&f(n,["_url","models_url"],bx(l,g)),s}function sw(l,t){const n={},s=d(t,["config"]);return s!=null&&f(n,["config"],aw(l,s,n)),n}function lw(l,t,n){const s={},o=d(t,["displayName"]);n!==void 0&&o!=null&&f(n,["displayName"],o);const u=d(t,["description"]);n!==void 0&&u!=null&&f(n,["description"],u);const p=d(t,["defaultCheckpointId"]);return n!==void 0&&p!=null&&f(n,["defaultCheckpointId"],p),s}function iw(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["_url","name"],st(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],lw(l,o,n)),n}function rw(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["_url","name"],st(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function ow(l,t){const n={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function cw(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["_url","model"],st(l,s));const o=d(t,["contents"]);if(o!=null){let p=mn(l,o);Array.isArray(p)&&(p=p.map(g=>Dr(l,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["config"],ow(l,u)),n}function uw(l,t){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=d(t,["imageBytes"]);s!=null&&f(n,["bytesBase64Encoded"],ba(l,s));const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function dw(l,t,n){const s={},o=d(t,["numberOfVideos"]);if(n!==void 0&&o!=null&&f(n,["parameters","sampleCount"],o),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=d(t,["durationSeconds"]);if(n!==void 0&&u!=null&&f(n,["parameters","durationSeconds"],u),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=d(t,["aspectRatio"]);if(n!==void 0&&p!=null&&f(n,["parameters","aspectRatio"],p),d(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const g=d(t,["personGeneration"]);if(n!==void 0&&g!=null&&f(n,["parameters","personGeneration"],g),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=d(t,["negativePrompt"]);if(n!==void 0&&v!=null&&f(n,["parameters","negativePrompt"],v),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");if(d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return s}function fw(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["_url","model"],st(l,s));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["image"]);u!=null&&f(n,["instances[0]","image"],uw(l,u));const p=d(t,["config"]);return p!=null&&f(n,["config"],dw(l,p,n)),n}function mw(l,t){const n={},s=d(t,["fps"]);s!=null&&f(n,["fps"],s);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function pw(l,t){const n={},s=d(t,["displayName"]);s!=null&&f(n,["displayName"],s);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function hw(l,t){const n={},s=d(t,["displayName"]);s!=null&&f(n,["displayName"],s);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function xw(l,t){const n={},s=d(t,["videoMetadata"]);s!=null&&f(n,["videoMetadata"],mw(l,s));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],pw(l,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],hw(l,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const N=d(t,["functionResponse"]);N!=null&&f(n,["functionResponse"],N);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function $s(l,t){const n={},s=d(t,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(p=>xw(l,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function gw(l,t){const n={},s=d(t,["anyOf"]);s!=null&&f(n,["anyOf"],s);const o=d(t,["default"]);o!=null&&f(n,["default"],o);const u=d(t,["description"]);u!=null&&f(n,["description"],u);const p=d(t,["enum"]);p!=null&&f(n,["enum"],p);const g=d(t,["example"]);g!=null&&f(n,["example"],g);const v=d(t,["format"]);v!=null&&f(n,["format"],v);const x=d(t,["items"]);x!=null&&f(n,["items"],x);const y=d(t,["maxItems"]);y!=null&&f(n,["maxItems"],y);const N=d(t,["maxLength"]);N!=null&&f(n,["maxLength"],N);const w=d(t,["maxProperties"]);w!=null&&f(n,["maxProperties"],w);const j=d(t,["maximum"]);j!=null&&f(n,["maximum"],j);const _=d(t,["minItems"]);_!=null&&f(n,["minItems"],_);const T=d(t,["minLength"]);T!=null&&f(n,["minLength"],T);const S=d(t,["minProperties"]);S!=null&&f(n,["minProperties"],S);const M=d(t,["minimum"]);M!=null&&f(n,["minimum"],M);const I=d(t,["nullable"]);I!=null&&f(n,["nullable"],I);const D=d(t,["pattern"]);D!=null&&f(n,["pattern"],D);const O=d(t,["properties"]);O!=null&&f(n,["properties"],O);const R=d(t,["propertyOrdering"]);R!=null&&f(n,["propertyOrdering"],R);const $=d(t,["required"]);$!=null&&f(n,["required"],$);const k=d(t,["title"]);k!=null&&f(n,["title"],k);const z=d(t,["type"]);return z!=null&&f(n,["type"],z),n}function vw(l,t){const n={},s=d(t,["featureSelectionPreference"]);return s!=null&&f(n,["featureSelectionPreference"],s),n}function yw(l,t){const n={},s=d(t,["method"]);s!=null&&f(n,["method"],s);const o=d(t,["category"]);o!=null&&f(n,["category"],o);const u=d(t,["threshold"]);return u!=null&&f(n,["threshold"],u),n}function bw(l,t){const n={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const s=d(t,["description"]);s!=null&&f(n,["description"],s);const o=d(t,["name"]);o!=null&&f(n,["name"],o);const u=d(t,["parameters"]);u!=null&&f(n,["parameters"],u);const p=d(t,["response"]);return p!=null&&f(n,["response"],p),n}function Nw(l,t){const n={},s=d(t,["startTime"]);s!=null&&f(n,["startTime"],s);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function ww(l,t){const n={},s=d(t,["timeRangeFilter"]);return s!=null&&f(n,["timeRangeFilter"],Nw(l,s)),n}function Tw(l,t){const n={},s=d(t,["mode"]);s!=null&&f(n,["mode"],s);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function Cw(l,t){const n={},s=d(t,["dynamicRetrievalConfig"]);return s!=null&&f(n,["dynamicRetrievalConfig"],Tw(l,s)),n}function Sw(){return{}}function _w(l,t){const n={},s=d(t,["apiKeyString"]);return s!=null&&f(n,["apiKeyString"],s),n}function jw(l,t){const n={},s=d(t,["apiKeyConfig"]);s!=null&&f(n,["apiKeyConfig"],_w(l,s));const o=d(t,["authType"]);o!=null&&f(n,["authType"],o);const u=d(t,["googleServiceAccountConfig"]);u!=null&&f(n,["googleServiceAccountConfig"],u);const p=d(t,["httpBasicAuthConfig"]);p!=null&&f(n,["httpBasicAuthConfig"],p);const g=d(t,["oauthConfig"]);g!=null&&f(n,["oauthConfig"],g);const v=d(t,["oidcConfig"]);return v!=null&&f(n,["oidcConfig"],v),n}function Ew(l,t){const n={},s=d(t,["authConfig"]);return s!=null&&f(n,["authConfig"],jw(l,s)),n}function kx(l,t){const n={},s=d(t,["functionDeclarations"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(N=>bw(l,N))),f(n,["functionDeclarations"],y)}const o=d(t,["retrieval"]);o!=null&&f(n,["retrieval"],o);const u=d(t,["googleSearch"]);u!=null&&f(n,["googleSearch"],ww(l,u));const p=d(t,["googleSearchRetrieval"]);p!=null&&f(n,["googleSearchRetrieval"],Cw(l,p)),d(t,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],Sw());const v=d(t,["googleMaps"]);if(v!=null&&f(n,["googleMaps"],Ew(l,v)),d(t,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const x=d(t,["codeExecution"]);return x!=null&&f(n,["codeExecution"],x),n}function kw(l,t){const n={},s=d(t,["mode"]);s!=null&&f(n,["mode"],s);const o=d(t,["allowedFunctionNames"]);return o!=null&&f(n,["allowedFunctionNames"],o),n}function Aw(l,t){const n={},s=d(t,["latitude"]);s!=null&&f(n,["latitude"],s);const o=d(t,["longitude"]);return o!=null&&f(n,["longitude"],o),n}function Dw(l,t){const n={},s=d(t,["latLng"]);s!=null&&f(n,["latLng"],Aw(l,s));const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function Mw(l,t){const n={},s=d(t,["functionCallingConfig"]);s!=null&&f(n,["functionCallingConfig"],kw(l,s));const o=d(t,["retrievalConfig"]);return o!=null&&f(n,["retrievalConfig"],Dw(l,o)),n}function Rw(l,t){const n={},s=d(t,["voiceName"]);return s!=null&&f(n,["voiceName"],s),n}function Iw(l,t){const n={},s=d(t,["prebuiltVoiceConfig"]);return s!=null&&f(n,["prebuiltVoiceConfig"],Rw(l,s)),n}function Uw(l,t){const n={},s=d(t,["voiceConfig"]);if(s!=null&&f(n,["voiceConfig"],Iw(l,s)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=d(t,["languageCode"]);return o!=null&&f(n,["languageCode"],o),n}function Lw(l,t){const n={},s=d(t,["includeThoughts"]);s!=null&&f(n,["includeThoughts"],s);const o=d(t,["thinkingBudget"]);return o!=null&&f(n,["thinkingBudget"],o),n}function zw(l,t,n){const s={},o=d(t,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],$s(l,It(l,o)));const u=d(t,["temperature"]);u!=null&&f(s,["temperature"],u);const p=d(t,["topP"]);p!=null&&f(s,["topP"],p);const g=d(t,["topK"]);g!=null&&f(s,["topK"],g);const v=d(t,["candidateCount"]);v!=null&&f(s,["candidateCount"],v);const x=d(t,["maxOutputTokens"]);x!=null&&f(s,["maxOutputTokens"],x);const y=d(t,["stopSequences"]);y!=null&&f(s,["stopSequences"],y);const N=d(t,["responseLogprobs"]);N!=null&&f(s,["responseLogprobs"],N);const w=d(t,["logprobs"]);w!=null&&f(s,["logprobs"],w);const j=d(t,["presencePenalty"]);j!=null&&f(s,["presencePenalty"],j);const _=d(t,["frequencyPenalty"]);_!=null&&f(s,["frequencyPenalty"],_);const T=d(t,["seed"]);T!=null&&f(s,["seed"],T);const S=d(t,["responseMimeType"]);S!=null&&f(s,["responseMimeType"],S);const M=d(t,["responseSchema"]);M!=null&&f(s,["responseSchema"],gw(l,Er(l,M)));const I=d(t,["routingConfig"]);I!=null&&f(s,["routingConfig"],I);const D=d(t,["modelSelectionConfig"]);D!=null&&f(s,["modelConfig"],vw(l,D));const O=d(t,["safetySettings"]);if(n!==void 0&&O!=null){let B=O;Array.isArray(B)&&(B=B.map(de=>yw(l,de))),f(n,["safetySettings"],B)}const R=d(t,["tools"]);if(n!==void 0&&R!=null){let B=Zl(l,R);Array.isArray(B)&&(B=B.map(de=>kx(l,Yl(l,de)))),f(n,["tools"],B)}const $=d(t,["toolConfig"]);n!==void 0&&$!=null&&f(n,["toolConfig"],Mw(l,$));const k=d(t,["labels"]);n!==void 0&&k!=null&&f(n,["labels"],k);const z=d(t,["cachedContent"]);n!==void 0&&z!=null&&f(n,["cachedContent"],ya(l,z));const G=d(t,["responseModalities"]);G!=null&&f(s,["responseModalities"],G);const V=d(t,["mediaResolution"]);V!=null&&f(s,["mediaResolution"],V);const te=d(t,["speechConfig"]);te!=null&&f(s,["speechConfig"],Uw(l,gx(l,te)));const le=d(t,["audioTimestamp"]);le!=null&&f(s,["audioTimestamp"],le);const X=d(t,["thinkingConfig"]);return X!=null&&f(s,["thinkingConfig"],Lw(l,X)),s}function Kh(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["_url","model"],st(l,s));const o=d(t,["contents"]);if(o!=null){let p=mn(l,o);Array.isArray(p)&&(p=p.map(g=>$s(l,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["generationConfig"],zw(l,u,n)),n}function Vw(l,t,n){const s={},o=d(t,["taskType"]);n!==void 0&&o!=null&&f(n,["instances[]","task_type"],o);const u=d(t,["title"]);n!==void 0&&u!=null&&f(n,["instances[]","title"],u);const p=d(t,["outputDimensionality"]);n!==void 0&&p!=null&&f(n,["parameters","outputDimensionality"],p);const g=d(t,["mimeType"]);n!==void 0&&g!=null&&f(n,["instances[]","mimeType"],g);const v=d(t,["autoTruncate"]);return n!==void 0&&v!=null&&f(n,["parameters","autoTruncate"],v),s}function Ow(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["_url","model"],st(l,s));const o=d(t,["contents"]);o!=null&&f(n,["instances[]","content"],xx(l,o));const u=d(t,["config"]);return u!=null&&f(n,["config"],Vw(l,u,n)),n}function Hw(l,t,n){const s={},o=d(t,["outputGcsUri"]);n!==void 0&&o!=null&&f(n,["parameters","storageUri"],o);const u=d(t,["negativePrompt"]);n!==void 0&&u!=null&&f(n,["parameters","negativePrompt"],u);const p=d(t,["numberOfImages"]);n!==void 0&&p!=null&&f(n,["parameters","sampleCount"],p);const g=d(t,["aspectRatio"]);n!==void 0&&g!=null&&f(n,["parameters","aspectRatio"],g);const v=d(t,["guidanceScale"]);n!==void 0&&v!=null&&f(n,["parameters","guidanceScale"],v);const x=d(t,["seed"]);n!==void 0&&x!=null&&f(n,["parameters","seed"],x);const y=d(t,["safetyFilterLevel"]);n!==void 0&&y!=null&&f(n,["parameters","safetySetting"],y);const N=d(t,["personGeneration"]);n!==void 0&&N!=null&&f(n,["parameters","personGeneration"],N);const w=d(t,["includeSafetyAttributes"]);n!==void 0&&w!=null&&f(n,["parameters","includeSafetyAttributes"],w);const j=d(t,["includeRaiReason"]);n!==void 0&&j!=null&&f(n,["parameters","includeRaiReason"],j);const _=d(t,["language"]);n!==void 0&&_!=null&&f(n,["parameters","language"],_);const T=d(t,["outputMimeType"]);n!==void 0&&T!=null&&f(n,["parameters","outputOptions","mimeType"],T);const S=d(t,["outputCompressionQuality"]);n!==void 0&&S!=null&&f(n,["parameters","outputOptions","compressionQuality"],S);const M=d(t,["addWatermark"]);n!==void 0&&M!=null&&f(n,["parameters","addWatermark"],M);const I=d(t,["enhancePrompt"]);return n!==void 0&&I!=null&&f(n,["parameters","enhancePrompt"],I),s}function Bw(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["_url","model"],st(l,s));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["config"]);return u!=null&&f(n,["config"],Hw(l,u,n)),n}function Nu(l,t){const n={},s=d(t,["gcsUri"]);s!=null&&f(n,["gcsUri"],s);const o=d(t,["imageBytes"]);o!=null&&f(n,["bytesBase64Encoded"],ba(l,o));const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function Gw(l,t){const n={},s=d(t,["maskMode"]);s!=null&&f(n,["maskMode"],s);const o=d(t,["segmentationClasses"]);o!=null&&f(n,["maskClasses"],o);const u=d(t,["maskDilation"]);return u!=null&&f(n,["dilation"],u),n}function qw(l,t){const n={},s=d(t,["controlType"]);s!=null&&f(n,["controlType"],s);const o=d(t,["enableControlImageComputation"]);return o!=null&&f(n,["computeControl"],o),n}function Pw(l,t){const n={},s=d(t,["styleDescription"]);return s!=null&&f(n,["styleDescription"],s),n}function $w(l,t){const n={},s=d(t,["subjectType"]);s!=null&&f(n,["subjectType"],s);const o=d(t,["subjectDescription"]);return o!=null&&f(n,["subjectDescription"],o),n}function Fw(l,t){const n={},s=d(t,["referenceImage"]);s!=null&&f(n,["referenceImage"],Nu(l,s));const o=d(t,["referenceId"]);o!=null&&f(n,["referenceId"],o);const u=d(t,["referenceType"]);u!=null&&f(n,["referenceType"],u);const p=d(t,["maskImageConfig"]);p!=null&&f(n,["maskImageConfig"],Gw(l,p));const g=d(t,["controlImageConfig"]);g!=null&&f(n,["controlImageConfig"],qw(l,g));const v=d(t,["styleImageConfig"]);v!=null&&f(n,["styleImageConfig"],Pw(l,v));const x=d(t,["subjectImageConfig"]);return x!=null&&f(n,["subjectImageConfig"],$w(l,x)),n}function Yw(l,t,n){const s={},o=d(t,["outputGcsUri"]);n!==void 0&&o!=null&&f(n,["parameters","storageUri"],o);const u=d(t,["negativePrompt"]);n!==void 0&&u!=null&&f(n,["parameters","negativePrompt"],u);const p=d(t,["numberOfImages"]);n!==void 0&&p!=null&&f(n,["parameters","sampleCount"],p);const g=d(t,["aspectRatio"]);n!==void 0&&g!=null&&f(n,["parameters","aspectRatio"],g);const v=d(t,["guidanceScale"]);n!==void 0&&v!=null&&f(n,["parameters","guidanceScale"],v);const x=d(t,["seed"]);n!==void 0&&x!=null&&f(n,["parameters","seed"],x);const y=d(t,["safetyFilterLevel"]);n!==void 0&&y!=null&&f(n,["parameters","safetySetting"],y);const N=d(t,["personGeneration"]);n!==void 0&&N!=null&&f(n,["parameters","personGeneration"],N);const w=d(t,["includeSafetyAttributes"]);n!==void 0&&w!=null&&f(n,["parameters","includeSafetyAttributes"],w);const j=d(t,["includeRaiReason"]);n!==void 0&&j!=null&&f(n,["parameters","includeRaiReason"],j);const _=d(t,["language"]);n!==void 0&&_!=null&&f(n,["parameters","language"],_);const T=d(t,["outputMimeType"]);n!==void 0&&T!=null&&f(n,["parameters","outputOptions","mimeType"],T);const S=d(t,["outputCompressionQuality"]);n!==void 0&&S!=null&&f(n,["parameters","outputOptions","compressionQuality"],S);const M=d(t,["editMode"]);n!==void 0&&M!=null&&f(n,["parameters","editMode"],M);const I=d(t,["baseSteps"]);return n!==void 0&&I!=null&&f(n,["parameters","editConfig","baseSteps"],I),s}function Zw(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["_url","model"],st(l,s));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["referenceImages"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>Fw(l,v))),f(n,["instances[0]","referenceImages"],g)}const p=d(t,["config"]);return p!=null&&f(n,["config"],Yw(l,p,n)),n}function Jw(l,t,n){const s={},o=d(t,["includeRaiReason"]);n!==void 0&&o!=null&&f(n,["parameters","includeRaiReason"],o);const u=d(t,["outputMimeType"]);n!==void 0&&u!=null&&f(n,["parameters","outputOptions","mimeType"],u);const p=d(t,["outputCompressionQuality"]);n!==void 0&&p!=null&&f(n,["parameters","outputOptions","compressionQuality"],p);const g=d(t,["numberOfImages"]);n!==void 0&&g!=null&&f(n,["parameters","sampleCount"],g);const v=d(t,["mode"]);return n!==void 0&&v!=null&&f(n,["parameters","mode"],v),s}function Kw(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["_url","model"],st(l,s));const o=d(t,["image"]);o!=null&&f(n,["instances[0]","image"],Nu(l,o));const u=d(t,["upscaleFactor"]);u!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],u);const p=d(t,["config"]);return p!=null&&f(n,["config"],Jw(l,p,n)),n}function Xw(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["_url","name"],st(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function Qw(l,t,n){const s={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);n!==void 0&&u!=null&&f(n,["_query","pageToken"],u);const p=d(t,["filter"]);n!==void 0&&p!=null&&f(n,["_query","filter"],p);const g=d(t,["queryBase"]);return n!==void 0&&g!=null&&f(n,["_url","models_url"],bx(l,g)),s}function Ww(l,t){const n={},s=d(t,["config"]);return s!=null&&f(n,["config"],Qw(l,s,n)),n}function eT(l,t,n){const s={},o=d(t,["displayName"]);n!==void 0&&o!=null&&f(n,["displayName"],o);const u=d(t,["description"]);n!==void 0&&u!=null&&f(n,["description"],u);const p=d(t,["defaultCheckpointId"]);return n!==void 0&&p!=null&&f(n,["defaultCheckpointId"],p),s}function tT(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["_url","model"],st(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],eT(l,o,n)),n}function nT(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["_url","name"],st(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function aT(l,t,n){const s={},o=d(t,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],$s(l,It(l,o)));const u=d(t,["tools"]);if(n!==void 0&&u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>kx(l,v))),f(n,["tools"],g)}const p=d(t,["generationConfig"]);return n!==void 0&&p!=null&&f(n,["generationConfig"],p),s}function sT(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["_url","model"],st(l,s));const o=d(t,["contents"]);if(o!=null){let p=mn(l,o);Array.isArray(p)&&(p=p.map(g=>$s(l,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["config"],aT(l,u,n)),n}function lT(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["_url","model"],st(l,s));const o=d(t,["contents"]);if(o!=null){let p=mn(l,o);Array.isArray(p)&&(p=p.map(g=>$s(l,g))),f(n,["contents"],p)}const u=d(t,["config"]);return u!=null&&f(n,["config"],u),n}function iT(l,t,n){const s={},o=d(t,["numberOfVideos"]);n!==void 0&&o!=null&&f(n,["parameters","sampleCount"],o);const u=d(t,["outputGcsUri"]);n!==void 0&&u!=null&&f(n,["parameters","storageUri"],u);const p=d(t,["fps"]);n!==void 0&&p!=null&&f(n,["parameters","fps"],p);const g=d(t,["durationSeconds"]);n!==void 0&&g!=null&&f(n,["parameters","durationSeconds"],g);const v=d(t,["seed"]);n!==void 0&&v!=null&&f(n,["parameters","seed"],v);const x=d(t,["aspectRatio"]);n!==void 0&&x!=null&&f(n,["parameters","aspectRatio"],x);const y=d(t,["resolution"]);n!==void 0&&y!=null&&f(n,["parameters","resolution"],y);const N=d(t,["personGeneration"]);n!==void 0&&N!=null&&f(n,["parameters","personGeneration"],N);const w=d(t,["pubsubTopic"]);n!==void 0&&w!=null&&f(n,["parameters","pubsubTopic"],w);const j=d(t,["negativePrompt"]);n!==void 0&&j!=null&&f(n,["parameters","negativePrompt"],j);const _=d(t,["enhancePrompt"]);n!==void 0&&_!=null&&f(n,["parameters","enhancePrompt"],_);const T=d(t,["generateAudio"]);return n!==void 0&&T!=null&&f(n,["parameters","generateAudio"],T),s}function rT(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["_url","model"],st(l,s));const o=d(t,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const u=d(t,["image"]);u!=null&&f(n,["instances[0]","image"],Nu(l,u));const p=d(t,["config"]);return p!=null&&f(n,["config"],iT(l,p,n)),n}function oT(l,t){const n={},s=d(t,["fps"]);s!=null&&f(n,["fps"],s);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function cT(l,t){const n={},s=d(t,["data"]);s!=null&&f(n,["data"],s);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function uT(l,t){const n={},s=d(t,["fileUri"]);s!=null&&f(n,["fileUri"],s);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function dT(l,t){const n={},s=d(t,["videoMetadata"]);s!=null&&f(n,["videoMetadata"],oT(l,s));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],cT(l,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],uT(l,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const N=d(t,["functionResponse"]);N!=null&&f(n,["functionResponse"],N);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function fT(l,t){const n={},s=d(t,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(p=>dT(l,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function mT(l,t){const n={},s=d(t,["citationSources"]);return s!=null&&f(n,["citations"],s),n}function pT(l,t){const n={},s=d(t,["retrievedUrl"]);s!=null&&f(n,["retrievedUrl"],s);const o=d(t,["urlRetrievalStatus"]);return o!=null&&f(n,["urlRetrievalStatus"],o),n}function hT(l,t){const n={},s=d(t,["urlMetadata"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>pT(l,u))),f(n,["urlMetadata"],o)}return n}function xT(l,t){const n={},s=d(t,["content"]);s!=null&&f(n,["content"],fT(l,s));const o=d(t,["citationMetadata"]);o!=null&&f(n,["citationMetadata"],mT(l,o));const u=d(t,["tokenCount"]);u!=null&&f(n,["tokenCount"],u);const p=d(t,["finishReason"]);p!=null&&f(n,["finishReason"],p);const g=d(t,["urlContextMetadata"]);g!=null&&f(n,["urlContextMetadata"],hT(l,g));const v=d(t,["avgLogprobs"]);v!=null&&f(n,["avgLogprobs"],v);const x=d(t,["groundingMetadata"]);x!=null&&f(n,["groundingMetadata"],x);const y=d(t,["index"]);y!=null&&f(n,["index"],y);const N=d(t,["logprobsResult"]);N!=null&&f(n,["logprobsResult"],N);const w=d(t,["safetyRatings"]);return w!=null&&f(n,["safetyRatings"],w),n}function Xh(l,t){const n={},s=d(t,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(v=>xT(l,v))),f(n,["candidates"],g)}const o=d(t,["modelVersion"]);o!=null&&f(n,["modelVersion"],o);const u=d(t,["promptFeedback"]);u!=null&&f(n,["promptFeedback"],u);const p=d(t,["usageMetadata"]);return p!=null&&f(n,["usageMetadata"],p),n}function gT(l,t){const n={},s=d(t,["values"]);return s!=null&&f(n,["values"],s),n}function vT(){return{}}function yT(l,t){const n={},s=d(t,["embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(p=>gT(l,p))),f(n,["embeddings"],u)}return d(t,["metadata"])!=null&&f(n,["metadata"],vT()),n}function bT(l,t){const n={},s=d(t,["bytesBase64Encoded"]);s!=null&&f(n,["imageBytes"],ba(l,s));const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function Ax(l,t){const n={},s=d(t,["safetyAttributes","categories"]);s!=null&&f(n,["categories"],s);const o=d(t,["safetyAttributes","scores"]);o!=null&&f(n,["scores"],o);const u=d(t,["contentType"]);return u!=null&&f(n,["contentType"],u),n}function NT(l,t){const n={},s=d(t,["_self"]);s!=null&&f(n,["image"],bT(l,s));const o=d(t,["raiFilteredReason"]);o!=null&&f(n,["raiFilteredReason"],o);const u=d(t,["_self"]);return u!=null&&f(n,["safetyAttributes"],Ax(l,u)),n}function wT(l,t){const n={},s=d(t,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(p=>NT(l,p))),f(n,["generatedImages"],u)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&f(n,["positivePromptSafetyAttributes"],Ax(l,o)),n}function TT(l,t){const n={},s=d(t,["baseModel"]);s!=null&&f(n,["baseModel"],s);const o=d(t,["createTime"]);o!=null&&f(n,["createTime"],o);const u=d(t,["updateTime"]);return u!=null&&f(n,["updateTime"],u),n}function mu(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["name"],s);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["description"]);u!=null&&f(n,["description"],u);const p=d(t,["version"]);p!=null&&f(n,["version"],p);const g=d(t,["_self"]);g!=null&&f(n,["tunedModelInfo"],TT(l,g));const v=d(t,["inputTokenLimit"]);v!=null&&f(n,["inputTokenLimit"],v);const x=d(t,["outputTokenLimit"]);x!=null&&f(n,["outputTokenLimit"],x);const y=d(t,["supportedGenerationMethods"]);return y!=null&&f(n,["supportedActions"],y),n}function CT(l,t){const n={},s=d(t,["nextPageToken"]);s!=null&&f(n,["nextPageToken"],s);const o=d(t,["_self"]);if(o!=null){let u=Nx(l,o);Array.isArray(u)&&(u=u.map(p=>mu(l,p))),f(n,["models"],u)}return n}function ST(){return{}}function _T(l,t){const n={},s=d(t,["totalTokens"]);s!=null&&f(n,["totalTokens"],s);const o=d(t,["cachedContentTokenCount"]);return o!=null&&f(n,["cachedContentTokenCount"],o),n}function jT(l,t){const n={},s=d(t,["video","uri"]);s!=null&&f(n,["uri"],s);const o=d(t,["video","encodedVideo"]);o!=null&&f(n,["videoBytes"],ba(l,o));const u=d(t,["encoding"]);return u!=null&&f(n,["mimeType"],u),n}function ET(l,t){const n={},s=d(t,["_self"]);return s!=null&&f(n,["video"],jT(l,s)),n}function kT(l,t){const n={},s=d(t,["generatedSamples"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>ET(l,g))),f(n,["generatedVideos"],p)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(n,["raiMediaFilteredCount"],o);const u=d(t,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function AT(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["name"],s);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);p!=null&&f(n,["error"],p);const g=d(t,["response","generateVideoResponse"]);return g!=null&&f(n,["response"],kT(l,g)),n}function DT(l,t){const n={},s=d(t,["fps"]);s!=null&&f(n,["fps"],s);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function MT(l,t){const n={},s=d(t,["displayName"]);s!=null&&f(n,["displayName"],s);const o=d(t,["data"]);o!=null&&f(n,["data"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function RT(l,t){const n={},s=d(t,["displayName"]);s!=null&&f(n,["displayName"],s);const o=d(t,["fileUri"]);o!=null&&f(n,["fileUri"],o);const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function IT(l,t){const n={},s=d(t,["videoMetadata"]);s!=null&&f(n,["videoMetadata"],DT(l,s));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],MT(l,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],RT(l,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const N=d(t,["functionResponse"]);N!=null&&f(n,["functionResponse"],N);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function UT(l,t){const n={},s=d(t,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(p=>IT(l,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function LT(l,t){const n={},s=d(t,["citations"]);return s!=null&&f(n,["citations"],s),n}function zT(l,t){const n={},s=d(t,["content"]);s!=null&&f(n,["content"],UT(l,s));const o=d(t,["citationMetadata"]);o!=null&&f(n,["citationMetadata"],LT(l,o));const u=d(t,["finishMessage"]);u!=null&&f(n,["finishMessage"],u);const p=d(t,["finishReason"]);p!=null&&f(n,["finishReason"],p);const g=d(t,["avgLogprobs"]);g!=null&&f(n,["avgLogprobs"],g);const v=d(t,["groundingMetadata"]);v!=null&&f(n,["groundingMetadata"],v);const x=d(t,["index"]);x!=null&&f(n,["index"],x);const y=d(t,["logprobsResult"]);y!=null&&f(n,["logprobsResult"],y);const N=d(t,["safetyRatings"]);return N!=null&&f(n,["safetyRatings"],N),n}function Qh(l,t){const n={},s=d(t,["candidates"]);if(s!=null){let x=s;Array.isArray(x)&&(x=x.map(y=>zT(l,y))),f(n,["candidates"],x)}const o=d(t,["createTime"]);o!=null&&f(n,["createTime"],o);const u=d(t,["responseId"]);u!=null&&f(n,["responseId"],u);const p=d(t,["modelVersion"]);p!=null&&f(n,["modelVersion"],p);const g=d(t,["promptFeedback"]);g!=null&&f(n,["promptFeedback"],g);const v=d(t,["usageMetadata"]);return v!=null&&f(n,["usageMetadata"],v),n}function VT(l,t){const n={},s=d(t,["truncated"]);s!=null&&f(n,["truncated"],s);const o=d(t,["token_count"]);return o!=null&&f(n,["tokenCount"],o),n}function OT(l,t){const n={},s=d(t,["values"]);s!=null&&f(n,["values"],s);const o=d(t,["statistics"]);return o!=null&&f(n,["statistics"],VT(l,o)),n}function HT(l,t){const n={},s=d(t,["billableCharacterCount"]);return s!=null&&f(n,["billableCharacterCount"],s),n}function BT(l,t){const n={},s=d(t,["predictions[]","embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(p=>OT(l,p))),f(n,["embeddings"],u)}const o=d(t,["metadata"]);return o!=null&&f(n,["metadata"],HT(l,o)),n}function GT(l,t){const n={},s=d(t,["gcsUri"]);s!=null&&f(n,["gcsUri"],s);const o=d(t,["bytesBase64Encoded"]);o!=null&&f(n,["imageBytes"],ba(l,o));const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function Dx(l,t){const n={},s=d(t,["safetyAttributes","categories"]);s!=null&&f(n,["categories"],s);const o=d(t,["safetyAttributes","scores"]);o!=null&&f(n,["scores"],o);const u=d(t,["contentType"]);return u!=null&&f(n,["contentType"],u),n}function wu(l,t){const n={},s=d(t,["_self"]);s!=null&&f(n,["image"],GT(l,s));const o=d(t,["raiFilteredReason"]);o!=null&&f(n,["raiFilteredReason"],o);const u=d(t,["_self"]);u!=null&&f(n,["safetyAttributes"],Dx(l,u));const p=d(t,["prompt"]);return p!=null&&f(n,["enhancedPrompt"],p),n}function qT(l,t){const n={},s=d(t,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(p=>wu(l,p))),f(n,["generatedImages"],u)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&f(n,["positivePromptSafetyAttributes"],Dx(l,o)),n}function PT(l,t){const n={},s=d(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>wu(l,u))),f(n,["generatedImages"],o)}return n}function $T(l,t){const n={},s=d(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>wu(l,u))),f(n,["generatedImages"],o)}return n}function FT(l,t){const n={},s=d(t,["endpoint"]);s!=null&&f(n,["name"],s);const o=d(t,["deployedModelId"]);return o!=null&&f(n,["deployedModelId"],o),n}function YT(l,t){const n={},s=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&f(n,["baseModel"],s);const o=d(t,["createTime"]);o!=null&&f(n,["createTime"],o);const u=d(t,["updateTime"]);return u!=null&&f(n,["updateTime"],u),n}function ZT(l,t){const n={},s=d(t,["checkpointId"]);s!=null&&f(n,["checkpointId"],s);const o=d(t,["epoch"]);o!=null&&f(n,["epoch"],o);const u=d(t,["step"]);return u!=null&&f(n,["step"],u),n}function pu(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["name"],s);const o=d(t,["displayName"]);o!=null&&f(n,["displayName"],o);const u=d(t,["description"]);u!=null&&f(n,["description"],u);const p=d(t,["versionId"]);p!=null&&f(n,["version"],p);const g=d(t,["deployedModels"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(j=>FT(l,j))),f(n,["endpoints"],w)}const v=d(t,["labels"]);v!=null&&f(n,["labels"],v);const x=d(t,["_self"]);x!=null&&f(n,["tunedModelInfo"],YT(l,x));const y=d(t,["defaultCheckpointId"]);y!=null&&f(n,["defaultCheckpointId"],y);const N=d(t,["checkpoints"]);if(N!=null){let w=N;Array.isArray(w)&&(w=w.map(j=>ZT(l,j))),f(n,["checkpoints"],w)}return n}function JT(l,t){const n={},s=d(t,["nextPageToken"]);s!=null&&f(n,["nextPageToken"],s);const o=d(t,["_self"]);if(o!=null){let u=Nx(l,o);Array.isArray(u)&&(u=u.map(p=>pu(l,p))),f(n,["models"],u)}return n}function KT(){return{}}function XT(l,t){const n={},s=d(t,["totalTokens"]);return s!=null&&f(n,["totalTokens"],s),n}function QT(l,t){const n={},s=d(t,["tokensInfo"]);return s!=null&&f(n,["tokensInfo"],s),n}function WT(l,t){const n={},s=d(t,["gcsUri"]);s!=null&&f(n,["uri"],s);const o=d(t,["bytesBase64Encoded"]);o!=null&&f(n,["videoBytes"],ba(l,o));const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function eC(l,t){const n={},s=d(t,["_self"]);return s!=null&&f(n,["video"],WT(l,s)),n}function tC(l,t){const n={},s=d(t,["videos"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>eC(l,g))),f(n,["generatedVideos"],p)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(n,["raiMediaFilteredCount"],o);const u=d(t,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function nC(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["name"],s);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);p!=null&&f(n,["error"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],tC(l,g)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aC="Content-Type",sC="X-Server-Timeout",lC="User-Agent",hu="x-goog-api-client",iC="1.3.0",rC=`google-genai-sdk/${iC}`,oC="v1beta1",cC="v1beta",Wh=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Mx extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class xu extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class uC{constructor(t){var n,s;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:oC,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:cC,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&s.push(t.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,s){const o=[this.getRequestUrlInternal(n)];return s&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,s);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))o.searchParams.append(p,String(g));let u={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=t.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,n,t.abortSignal),this.unaryApiCall(o,u,t.httpMethod)}patchHttpOptions(t,n){const s=JSON.parse(JSON.stringify(t));for(const[o,u]of Object.entries(n))typeof u=="object"?s[o]=Object.assign(Object.assign({},s[o]),u):u!==void 0&&(s[o]=u);return s}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,s);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let u={};return u.body=t.body,u=await this.includeExtraHttpOptionsToRequestInit(u,n,t.abortSignal),this.streamApiCall(o,u,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,s){if(n&&n.timeout||s){const o=new AbortController,u=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),s&&s.addEventListener("abort",()=>{o.abort()}),t.signal=u}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:s})).then(async o=>(await ex(o),new cu(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:s})).then(async o=>(await ex(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){var n;return Ls(this,arguments,function*(){const o=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),u=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let p="";for(;;){const{done:g,value:v}=yield ot(o.read());if(g){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const x=u.decode(v);try{const N=JSON.parse(x);if("error"in N){const w=JSON.parse(JSON.stringify(N.error)),j=w.status,_=w.code,T=`got status: ${j}. ${JSON.stringify(N)}`;if(_>=400&&_<500)throw new Mx(T);if(_>=500&&_<600)throw new xu(T)}}catch(N){const w=N;if(w.name==="ClientError"||w.name==="ServerError")throw N}p+=x;let y=p.match(Wh);for(;y;){const N=y[1];try{const w=new Response(N,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ot(new cu(w)),p=p.slice(y[0].length),y=p.match(Wh)}catch(w){throw new Error(`exception parsing stream chunk ${N}. ${w}`)}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const t={},n=rC+" "+this.clientOptions.userAgentExtra;return t[lC]=n,t[hu]=n,t[aC]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[s,o]of Object.entries(t.headers))n.append(s,o);t.timeout&&t.timeout>0&&n.append(sC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var s;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const u=this.clientOptions.uploader,p=await u.stat(t);o.sizeBytes=String(p.size);const g=(s=n==null?void 0:n.mimeType)!==null&&s!==void 0?s:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=g;const v=await this.fetchUploadUrl(o,n);return u.upload(t,v,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n){var s;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const u={file:t},p=await this.request({path:Ee("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:o});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(s=p==null?void 0:p.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function ex(l){var t;if(l===void 0)throw new xu("response is undefined");if(!l.ok){const n=l.status,s=l.statusText;let o;!((t=l.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await l.json():o={error:{message:await l.text(),code:l.status,status:l.statusText}};const u=`got status: ${n} ${s}. ${JSON.stringify(o)}`;throw n>=400&&n<500?new Mx(u):n>=500&&n<600?new xu(u):new Error(u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dC="mcp_used/unknown";function Rx(l){for(const t of l)if(Tu(t)||typeof t=="object"&&"inputSchema"in t)return!0;return!1}function Ix(l){var t;const n=(t=l[hu])!==null&&t!==void 0?t:"";l[hu]=(n+` ${dC}`).trimStart()}function fC(l){var t,n,s;return(s=(n=(t=l.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>Tu(o)))!==null&&s!==void 0?s:!1}function mC(l){var t,n,s;return(s=(n=(t=l.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>!Tu(o)))!==null&&s!==void 0?s:!1}function Tu(l){return l!==null&&typeof l=="object"&&l instanceof Cu}function pC(l,t=100){return Ls(this,arguments,function*(){let s,o=0;for(;o<t;){const u=yield ot(l.listTools({cursor:s}));for(const p of u.tools)yield yield ot(p),o++;if(!u.nextCursor)break;s=u.nextCursor}})}class Cu{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Cu(t,n)}async initialize(){var t,n,s,o;if(this.mcpTools.length>0)return;const u={},p=[];for(const y of this.mcpClients)try{for(var g=!0,v=(n=void 0,$l(pC(y))),x;x=await v.next(),t=x.done,!t;g=!0){o=x.value,g=!1;const N=o;p.push(N);const w=N.name;if(u[w])throw new Error(`Duplicate function name ${w} found in MCP tools. Please ensure function names are unique.`);u[w]=y}}catch(N){n={error:N}}finally{try{!g&&!t&&(s=v.return)&&await s.call(v)}finally{if(n)throw n.error}}this.mcpTools=p,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),Ny(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const s of t)if(s.name in this.functionNameToMcpClient){const u=await this.functionNameToMcpClient[s.name].callTool({name:s.name,arguments:s.args});n.push({functionResponse:{name:s.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function hC(l,t,n){const s=new oy;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const u=E1(l,o);Object.assign(s,u),t(s)}class xC{constructor(t,n,s){this.apiClient=t,this.auth=n,this.webSocketFactory=s}async connect(t){var n,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),p=yC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),v=`${o}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${g}`;let x=()=>{};const y=new Promise(D=>{x=D}),N=t.callbacks,w=function(){x({})},j=this.apiClient,_={onopen:w,onmessage:D=>{hC(j,N.onmessage,D)},onerror:(n=N==null?void 0:N.onerror)!==null&&n!==void 0?n:function(D){},onclose:(s=N==null?void 0:N.onclose)!==null&&s!==void 0?s:function(D){}},T=this.webSocketFactory.create(v,vC(p),_);T.connect(),await y;const S=st(this.apiClient,t.model),M=_x(this.apiClient,{model:S}),I=fu(this.apiClient,{setup:M});return T.send(JSON.stringify(I)),new gC(T,this.apiClient)}}class gC{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=GN(this.apiClient,t),s=jx(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:s}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=qN(this.apiClient,t),s=fu(this.apiClient,n);this.conn.send(JSON.stringify(s))}sendPlaybackControl(t){const n=fu(this.apiClient,{playbackControl:t});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Is.PLAY)}pause(){this.sendPlaybackControl(Is.PAUSE)}stop(){this.sendPlaybackControl(Is.STOP)}resetContext(){this.sendPlaybackControl(Is.RESET_CONTEXT)}close(){this.conn.close()}}function vC(l){const t={};return l.forEach((n,s)=>{t[s]=n}),t}function yC(l){const t=new Headers;for(const[n,s]of Object.entries(l))t.append(n,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function NC(l,t,n){const s=new ry;let o;if(n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),l.isVertexAI()){const u=y1(l,o);Object.assign(s,u)}else{const u=v1(l,o);Object.assign(s,u)}t(s)}class wC{constructor(t,n,s){this.apiClient=t,this.auth=n,this.webSocketFactory=s,this.music=new xC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,s,o,u,p,g;const v=this.apiClient.getWebsocketBaseUrl(),x=this.apiClient.getApiVersion();let y;const N=this.apiClient.getDefaultHeaders();t.config&&t.config.tools&&Rx(t.config.tools)&&Ix(N);const w=_C(N);if(this.apiClient.isVertexAI())y=`${v}/ws/google.cloud.aiplatform.${x}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(w);else{const G=this.apiClient.getApiKey();let V="BidiGenerateContent",te="key";G!=null&&G.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),V="BidiGenerateContentConstrained",te="access_token"),y=`${v}/ws/google.ai.generativelanguage.${x}.GenerativeService.${V}?${te}=${G}`}let j=()=>{};const _=new Promise(G=>{j=G}),T=t.callbacks,S=function(){var G;(G=T==null?void 0:T.onopen)===null||G===void 0||G.call(T),j({})},M=this.apiClient,I={onopen:S,onmessage:G=>{NC(M,T.onmessage,G)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(G){},onclose:(s=T==null?void 0:T.onclose)!==null&&s!==void 0?s:function(G){}},D=this.webSocketFactory.create(y,SC(w),I);D.connect(),await _;let O=st(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const G=this.apiClient.getProject(),V=this.apiClient.getLocation();O=`projects/${G}/locations/${V}/`+O}let R={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[_r.AUDIO]}:t.config.responseModalities=[_r.AUDIO]),!((u=t.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const $=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],k=[];for(const G of $)if(this.isCallableTool(G)){const V=G;k.push(await V.tool())}else k.push(G);k.length>0&&(t.config.tools=k);const z={model:O,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?R=UN(this.apiClient,z):R=IN(this.apiClient,z),delete R.config,D.send(JSON.stringify(R)),new CC(D,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const TC={turnComplete:!0};class CC{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let s=[];try{s=mn(t,n.turns),t.isVertexAI()?s=s.map(o=>$s(t,o)):s=s.map(o=>Dr(t,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:s,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let s=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?s=n.functionResponses:s=[n.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!t.isVertexAI()&&!("id"in u))throw new Error(bC)}return{toolResponse:{functionResponses:s}}}sendClientContent(t){t=Object.assign(Object.assign({},TC),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:BN(this.apiClient,t)}:n={realtimeInput:HN(this.apiClient,t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function SC(l){const t={};return l.forEach((n,s)=>{t[s]=n}),t}function _C(l){const t=new Headers;for(const[n,s]of Object.entries(l))t.append(n,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tx=10;function nx(l){var t,n,s;if(!((t=l==null?void 0:l.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let o=!1;for(const p of(n=l==null?void 0:l.tools)!==null&&n!==void 0?n:[])if(yr(p)){o=!0;break}if(!o)return!0;const u=(s=l==null?void 0:l.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function yr(l){return"callTool"in l&&typeof l.callTool=="function"}function ax(l){var t;return!(!((t=l==null?void 0:l.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jC extends Ps{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var s,o,u,p,g;const v=await this.processParamsForMcpUsage(n);if(!fC(n)||nx(n.config))return await this.generateContentInternal(v);if(mC(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let x,y;const N=mn(this.apiClient,v.contents),w=(u=(o=(s=v.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&u!==void 0?u:tx;let j=0;for(;j<w&&(x=await this.generateContentInternal(v),!(!x.functionCalls||x.functionCalls.length===0));){const _=x.candidates[0].content,T=[];for(const S of(g=(p=n.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(yr(S)){const I=await S.callTool(x.functionCalls);T.push(...I)}j++,y={role:"user",parts:T},v.contents=mn(this.apiClient,v.contents),v.contents.push(_),v.contents.push(y),ax(v.config)&&(N.push(_),N.push(y))}return ax(v.config)&&(x.automaticFunctionCallingHistory=N),x},this.generateContentStream=async n=>{if(nx(n.config)){const s=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(s)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(s=>{var o;let u;const p=[];if(s!=null&&s.generatedImages)for(const v of s.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((o=v==null?void 0:v.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?u=v==null?void 0:v.safetyAttributes:p.push(v);let g;return u?g={generatedImages:p,positivePromptSafetyAttributes:u}:g={generatedImages:p},g}),this.list=async n=>{var s;const p={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((s=p.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Ar(qs.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async n=>{const s={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(s.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async n=>{let s={numberOfImages:1,mode:"upscale"};n.config&&(s=Object.assign(Object.assign({},s),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:s};return await this.upscaleImageInternal(o)}}async processParamsForMcpUsage(t){var n,s,o;const u=(n=t.config)===null||n===void 0?void 0:n.tools;if(!u)return t;const p=await Promise.all(u.map(async v=>yr(v)?await v.tool():v)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&Rx(t.config.tools)){const v=(o=(s=t.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&o!==void 0?o:{};let x=Object.assign({},v);Object.keys(x).length===0&&(x=this.apiClient.getDefaultHeaders()),Ix(x),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:x})}return g}async initAfcToolsMap(t){var n,s,o;const u=new Map;for(const p of(s=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&s!==void 0?s:[])if(yr(p)){const g=p,v=await g.tool();for(const x of(o=v.functionDeclarations)!==null&&o!==void 0?o:[]){if(!x.name)throw new Error("Function declaration name is required.");if(u.has(x.name))throw new Error(`Duplicate tool declaration name: ${x.name}`);u.set(x.name,g)}}return u}async processAfcStream(t){var n,s,o;const u=(o=(s=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&o!==void 0?o:tx;let p=!1,g=0;const v=await this.initAfcToolsMap(t);return(function(x,y,N){var w,j;return Ls(this,arguments,function*(){for(var _,T,S,M;g<u;){p&&(g++,p=!1);const R=yield ot(x.processParamsForMcpUsage(N)),$=yield ot(x.generateContentStreamInternal(R)),k=[],z=[];try{for(var I=!0,D=(T=void 0,$l($)),O;O=yield ot(D.next()),_=O.done,!_;I=!0){M=O.value,I=!1;const G=M;if(yield yield ot(G),G.candidates&&(!((w=G.candidates[0])===null||w===void 0)&&w.content)){z.push(G.candidates[0].content);for(const V of(j=G.candidates[0].content.parts)!==null&&j!==void 0?j:[])if(g<u&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(V.functionCall.name)){const te=yield ot(y.get(V.functionCall.name).callTool([V.functionCall]));k.push(...te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(G){T={error:G}}finally{try{!I&&!_&&(S=D.return)&&(yield ot(S.call(D)))}finally{if(T)throw T.error}}if(k.length>0){p=!0;const G=new Bl;G.candidates=[{content:{role:"user",parts:k}}],yield yield ot(G);const V=[];V.push(...z),V.push({role:"user",parts:k});const te=mn(x.apiClient,N.contents).concat(V);N.contents=te}else break}})})(this,v,t)}async generateContentInternal(t){var n,s,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Kh(this.apiClient,t);return g=Ee("{model}:generateContent",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>{const N=Qh(this.apiClient,y),w=new Bl;return Object.assign(w,N),w})}else{const x=Jh(this.apiClient,t);return g=Ee("{model}:generateContent",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const N=Xh(this.apiClient,y),w=new Bl;return Object.assign(w,N),w})}}async generateContentStreamInternal(t){var n,s,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Kh(this.apiClient,t);g=Ee("{model}:streamGenerateContent?alt=sse",x._url),v=x._query,delete x.config,delete x._url,delete x._query;const y=this.apiClient;return p=y.requestStream({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),p.then(function(N){return Ls(this,arguments,function*(){var w,j,_,T;try{for(var S=!0,M=$l(N),I;I=yield ot(M.next()),w=I.done,!w;S=!0){T=I.value,S=!1;const O=Qh(y,yield ot(T.json())),R=new Bl;Object.assign(R,O),yield yield ot(R)}}catch(D){j={error:D}}finally{try{!S&&!w&&(_=M.return)&&(yield ot(_.call(M)))}finally{if(j)throw j.error}}})})}else{const x=Jh(this.apiClient,t);g=Ee("{model}:streamGenerateContent?alt=sse",x._url),v=x._query,delete x.config,delete x._url,delete x._query;const y=this.apiClient;return p=y.requestStream({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}),p.then(function(N){return Ls(this,arguments,function*(){var w,j,_,T;try{for(var S=!0,M=$l(N),I;I=yield ot(M.next()),w=I.done,!w;S=!0){T=I.value,S=!1;const O=Xh(y,yield ot(T.json())),R=new Bl;Object.assign(R,O),yield yield ot(R)}}catch(D){j={error:D}}finally{try{!S&&!w&&(_=M.return)&&(yield ot(_.call(M)))}finally{if(j)throw j.error}}})})}}async embedContent(t){var n,s,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Ow(this.apiClient,t);return g=Ee("{model}:predict",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>{const N=BT(this.apiClient,y),w=new kh;return Object.assign(w,N),w})}else{const x=W1(this.apiClient,t);return g=Ee("{model}:batchEmbedContents",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const N=yT(this.apiClient,y),w=new kh;return Object.assign(w,N),w})}}async generateImagesInternal(t){var n,s,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Bw(this.apiClient,t);return g=Ee("{model}:predict",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>{const N=qT(this.apiClient,y),w=new Ah;return Object.assign(w,N),w})}else{const x=tw(this.apiClient,t);return g=Ee("{model}:predict",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const N=wT(this.apiClient,y),w=new Ah;return Object.assign(w,N),w})}}async editImageInternal(t){var n,s;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=Zw(this.apiClient,t);return u=Ee("{model}:predict",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),o.then(v=>{const x=PT(this.apiClient,v),y=new ty;return Object.assign(y,x),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,s;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=Kw(this.apiClient,t);return u=Ee("{model}:predict",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),o.then(v=>{const x=$T(this.apiClient,v),y=new ny;return Object.assign(y,x),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,s,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Xw(this.apiClient,t);return g=Ee("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>pu(this.apiClient,y))}else{const x=nw(this.apiClient,t);return g=Ee("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>mu(this.apiClient,y))}}async listInternal(t){var n,s,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=Ww(this.apiClient,t);return g=Ee("{models_url}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>{const N=JT(this.apiClient,y),w=new Dh;return Object.assign(w,N),w})}else{const x=sw(this.apiClient,t);return g=Ee("{models_url}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const N=CT(this.apiClient,y),w=new Dh;return Object.assign(w,N),w})}}async update(t){var n,s,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=tT(this.apiClient,t);return g=Ee("{model}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>pu(this.apiClient,y))}else{const x=iw(this.apiClient,t);return g=Ee("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>mu(this.apiClient,y))}}async delete(t){var n,s,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=nT(this.apiClient,t);return g=Ee("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(()=>{const y=KT(),N=new Mh;return Object.assign(N,y),N})}else{const x=rw(this.apiClient,t);return g=Ee("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(()=>{const y=ST(),N=new Mh;return Object.assign(N,y),N})}}async countTokens(t){var n,s,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=sT(this.apiClient,t);return g=Ee("{model}:countTokens",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>{const N=XT(this.apiClient,y),w=new Rh;return Object.assign(w,N),w})}else{const x=cw(this.apiClient,t);return g=Ee("{model}:countTokens",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const N=_T(this.apiClient,y),w=new Rh;return Object.assign(w,N),w})}}async computeTokens(t){var n,s;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=lT(this.apiClient,t);return u=Ee("{model}:computeTokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),o.then(v=>{const x=QT(this.apiClient,v),y=new ay;return Object.assign(y,x),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(t){var n,s,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=rT(this.apiClient,t);return g=Ee("{model}:predictLongRunning",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>nC(this.apiClient,y))}else{const x=fw(this.apiClient,t);return g=Ee("{model}:predictLongRunning",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>AT(this.apiClient,y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EC(l,t){const n={},s=d(t,["operationName"]);s!=null&&f(n,["_url","operationName"],s);const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function kC(l,t){const n={},s=d(t,["operationName"]);s!=null&&f(n,["_url","operationName"],s);const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function AC(l,t){const n={},s=d(t,["operationName"]);s!=null&&f(n,["operationName"],s);const o=d(t,["resourceName"]);o!=null&&f(n,["_url","resourceName"],o);const u=d(t,["config"]);return u!=null&&f(n,["config"],u),n}function DC(l,t){const n={},s=d(t,["video","uri"]);s!=null&&f(n,["uri"],s);const o=d(t,["video","encodedVideo"]);o!=null&&f(n,["videoBytes"],ba(l,o));const u=d(t,["encoding"]);return u!=null&&f(n,["mimeType"],u),n}function MC(l,t){const n={},s=d(t,["_self"]);return s!=null&&f(n,["video"],DC(l,s)),n}function RC(l,t){const n={},s=d(t,["generatedSamples"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>MC(l,g))),f(n,["generatedVideos"],p)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(n,["raiMediaFilteredCount"],o);const u=d(t,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function IC(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["name"],s);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);p!=null&&f(n,["error"],p);const g=d(t,["response","generateVideoResponse"]);return g!=null&&f(n,["response"],RC(l,g)),n}function UC(l,t){const n={},s=d(t,["gcsUri"]);s!=null&&f(n,["uri"],s);const o=d(t,["bytesBase64Encoded"]);o!=null&&f(n,["videoBytes"],ba(l,o));const u=d(t,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function LC(l,t){const n={},s=d(t,["_self"]);return s!=null&&f(n,["video"],UC(l,s)),n}function zC(l,t){const n={},s=d(t,["videos"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>LC(l,g))),f(n,["generatedVideos"],p)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(n,["raiMediaFilteredCount"],o);const u=d(t,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function sx(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["name"],s);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);p!=null&&f(n,["error"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],zC(l,g)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VC extends Ps{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,s=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let u;return s&&"httpOptions"in s&&(u=s.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:u}})}else return this.getVideosOperationInternal({operationName:n.name,config:s})}async getVideosOperationInternal(t){var n,s,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=kC(this.apiClient,t);return g=Ee("{operationName}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>sx(this.apiClient,y))}else{const x=EC(this.apiClient,t);return g=Ee("{operationName}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>IC(this.apiClient,y))}}async fetchPredictVideosOperationInternal(t){var n,s;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=AC(this.apiClient,t);return u=Ee("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),o.then(v=>sx(this.apiClient,v))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OC(l,t){const n={},s=d(t,["voiceName"]);return s!=null&&f(n,["voiceName"],s),n}function Ux(l,t){const n={},s=d(t,["prebuiltVoiceConfig"]);return s!=null&&f(n,["prebuiltVoiceConfig"],OC(l,s)),n}function HC(l,t){const n={},s=d(t,["speaker"]);s!=null&&f(n,["speaker"],s);const o=d(t,["voiceConfig"]);return o!=null&&f(n,["voiceConfig"],Ux(l,o)),n}function BC(l,t){const n={},s=d(t,["speakerVoiceConfigs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>HC(l,u))),f(n,["speakerVoiceConfigs"],o)}return n}function GC(l,t){const n={},s=d(t,["voiceConfig"]);s!=null&&f(n,["voiceConfig"],Ux(l,s));const o=d(t,["multiSpeakerVoiceConfig"]);o!=null&&f(n,["multiSpeakerVoiceConfig"],BC(l,o));const u=d(t,["languageCode"]);return u!=null&&f(n,["languageCode"],u),n}function qC(l,t){const n={},s=d(t,["fps"]);s!=null&&f(n,["fps"],s);const o=d(t,["endOffset"]);o!=null&&f(n,["endOffset"],o);const u=d(t,["startOffset"]);return u!=null&&f(n,["startOffset"],u),n}function PC(l,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["data"]);s!=null&&f(n,["data"],s);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function $C(l,t){const n={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["fileUri"]);s!=null&&f(n,["fileUri"],s);const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function FC(l,t){const n={},s=d(t,["videoMetadata"]);s!=null&&f(n,["videoMetadata"],qC(l,s));const o=d(t,["thought"]);o!=null&&f(n,["thought"],o);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],PC(l,u));const p=d(t,["fileData"]);p!=null&&f(n,["fileData"],$C(l,p));const g=d(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const v=d(t,["codeExecutionResult"]);v!=null&&f(n,["codeExecutionResult"],v);const x=d(t,["executableCode"]);x!=null&&f(n,["executableCode"],x);const y=d(t,["functionCall"]);y!=null&&f(n,["functionCall"],y);const N=d(t,["functionResponse"]);N!=null&&f(n,["functionResponse"],N);const w=d(t,["text"]);return w!=null&&f(n,["text"],w),n}function YC(l,t){const n={},s=d(t,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(p=>FC(l,p))),f(n,["parts"],u)}const o=d(t,["role"]);return o!=null&&f(n,["role"],o),n}function ZC(l,t){const n={},s=d(t,["behavior"]);s!=null&&f(n,["behavior"],s);const o=d(t,["description"]);o!=null&&f(n,["description"],o);const u=d(t,["name"]);u!=null&&f(n,["name"],u);const p=d(t,["parameters"]);p!=null&&f(n,["parameters"],p);const g=d(t,["response"]);return g!=null&&f(n,["response"],g),n}function JC(l,t){const n={},s=d(t,["startTime"]);s!=null&&f(n,["startTime"],s);const o=d(t,["endTime"]);return o!=null&&f(n,["endTime"],o),n}function KC(l,t){const n={},s=d(t,["timeRangeFilter"]);return s!=null&&f(n,["timeRangeFilter"],JC(l,s)),n}function XC(l,t){const n={},s=d(t,["mode"]);s!=null&&f(n,["mode"],s);const o=d(t,["dynamicThreshold"]);return o!=null&&f(n,["dynamicThreshold"],o),n}function QC(l,t){const n={},s=d(t,["dynamicRetrievalConfig"]);return s!=null&&f(n,["dynamicRetrievalConfig"],XC(l,s)),n}function WC(){return{}}function eS(l,t){const n={},s=d(t,["functionDeclarations"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(x=>ZC(l,x))),f(n,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearch"]);o!=null&&f(n,["googleSearch"],KC(l,o));const u=d(t,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],QC(l,u)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(n,["urlContext"],WC());const g=d(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function tS(l,t){const n={},s=d(t,["handle"]);if(s!=null&&f(n,["handle"],s),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function lx(){return{}}function nS(l,t){const n={},s=d(t,["disabled"]);s!=null&&f(n,["disabled"],s);const o=d(t,["startOfSpeechSensitivity"]);o!=null&&f(n,["startOfSpeechSensitivity"],o);const u=d(t,["endOfSpeechSensitivity"]);u!=null&&f(n,["endOfSpeechSensitivity"],u);const p=d(t,["prefixPaddingMs"]);p!=null&&f(n,["prefixPaddingMs"],p);const g=d(t,["silenceDurationMs"]);return g!=null&&f(n,["silenceDurationMs"],g),n}function aS(l,t){const n={},s=d(t,["automaticActivityDetection"]);s!=null&&f(n,["automaticActivityDetection"],nS(l,s));const o=d(t,["activityHandling"]);o!=null&&f(n,["activityHandling"],o);const u=d(t,["turnCoverage"]);return u!=null&&f(n,["turnCoverage"],u),n}function sS(l,t){const n={},s=d(t,["targetTokens"]);return s!=null&&f(n,["targetTokens"],s),n}function lS(l,t){const n={},s=d(t,["triggerTokens"]);s!=null&&f(n,["triggerTokens"],s);const o=d(t,["slidingWindow"]);return o!=null&&f(n,["slidingWindow"],sS(l,o)),n}function iS(l,t){const n={},s=d(t,["proactiveAudio"]);return s!=null&&f(n,["proactiveAudio"],s),n}function rS(l,t,n){const s={},o=d(t,["generationConfig"]);n!==void 0&&o!=null&&f(n,["setup","generationConfig"],o);const u=d(t,["responseModalities"]);n!==void 0&&u!=null&&f(n,["setup","generationConfig","responseModalities"],u);const p=d(t,["temperature"]);n!==void 0&&p!=null&&f(n,["setup","generationConfig","temperature"],p);const g=d(t,["topP"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topP"],g);const v=d(t,["topK"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","topK"],v);const x=d(t,["maxOutputTokens"]);n!==void 0&&x!=null&&f(n,["setup","generationConfig","maxOutputTokens"],x);const y=d(t,["mediaResolution"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","mediaResolution"],y);const N=d(t,["seed"]);n!==void 0&&N!=null&&f(n,["setup","generationConfig","seed"],N);const w=d(t,["speechConfig"]);n!==void 0&&w!=null&&f(n,["setup","generationConfig","speechConfig"],GC(l,bu(l,w)));const j=d(t,["enableAffectiveDialog"]);n!==void 0&&j!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],j);const _=d(t,["systemInstruction"]);n!==void 0&&_!=null&&f(n,["setup","systemInstruction"],YC(l,It(l,_)));const T=d(t,["tools"]);if(n!==void 0&&T!=null){let $=Zl(l,T);Array.isArray($)&&($=$.map(k=>eS(l,Yl(l,k)))),f(n,["setup","tools"],$)}const S=d(t,["sessionResumption"]);n!==void 0&&S!=null&&f(n,["setup","sessionResumption"],tS(l,S));const M=d(t,["inputAudioTranscription"]);n!==void 0&&M!=null&&f(n,["setup","inputAudioTranscription"],lx());const I=d(t,["outputAudioTranscription"]);n!==void 0&&I!=null&&f(n,["setup","outputAudioTranscription"],lx());const D=d(t,["realtimeInputConfig"]);n!==void 0&&D!=null&&f(n,["setup","realtimeInputConfig"],aS(l,D));const O=d(t,["contextWindowCompression"]);n!==void 0&&O!=null&&f(n,["setup","contextWindowCompression"],lS(l,O));const R=d(t,["proactivity"]);return n!==void 0&&R!=null&&f(n,["setup","proactivity"],iS(l,R)),s}function oS(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["setup","model"],st(l,s));const o=d(t,["config"]);return o!=null&&f(n,["config"],rS(l,o,n)),n}function cS(l,t,n){const s={},o=d(t,["expireTime"]);n!==void 0&&o!=null&&f(n,["expireTime"],o);const u=d(t,["newSessionExpireTime"]);n!==void 0&&u!=null&&f(n,["newSessionExpireTime"],u);const p=d(t,["uses"]);n!==void 0&&p!=null&&f(n,["uses"],p);const g=d(t,["liveConnectConstraints"]);n!==void 0&&g!=null&&f(n,["bidiGenerateContentSetup"],oS(l,g));const v=d(t,["lockAdditionalFields"]);return n!==void 0&&v!=null&&f(n,["fieldMask"],v),s}function uS(l,t){const n={},s=d(t,["config"]);return s!=null&&f(n,["config"],cS(l,s,n)),n}function dS(l,t){const n={},s=d(t,["name"]);return s!=null&&f(n,["name"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fS(l){const t=[];for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n)){const s=l[n];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const o=Object.keys(s).map(u=>`${n}.${u}`);t.push(...o)}else t.push(n)}return t.join(",")}function mS(l,t){let n=null;const s=l.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const u=s.setup;typeof u=="object"&&u!==null?(l.bidiGenerateContentSetup=u,n=u):delete l.bidiGenerateContentSetup}else s!==void 0&&delete l.bidiGenerateContentSetup;const o=l.fieldMask;if(n){const u=fS(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)u?l.fieldMask=u:delete l.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];o.length>0&&(g=o.map(x=>p.includes(x)?`generationConfig.${x}`:x));const v=[];u&&v.push(u),g.length>0&&v.push(...g),v.length>0?l.fieldMask=v.join(","):delete l.fieldMask}else delete l.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?l.fieldMask=o.join(","):delete l.fieldMask;return l}class pS extends Ps{constructor(t){super(),this.apiClient=t}async create(t){var n,s;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=uS(this.apiClient,t);u=Ee("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const v=mS(g,t.config);return o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),o.then(x=>dS(this.apiClient,x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hS(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["_url","name"],s);const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function xS(l,t,n){const s={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);n!==void 0&&u!=null&&f(n,["_query","pageToken"],u);const p=d(t,["filter"]);return n!==void 0&&p!=null&&f(n,["_query","filter"],p),s}function gS(l,t){const n={},s=d(t,["config"]);return s!=null&&f(n,["config"],xS(l,s,n)),n}function vS(l,t){const n={},s=d(t,["textInput"]);s!=null&&f(n,["textInput"],s);const o=d(t,["output"]);return o!=null&&f(n,["output"],o),n}function yS(l,t){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=d(t,["examples"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>vS(l,u))),f(n,["examples","examples"],o)}return n}function bS(l,t,n){const s={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=d(t,["tunedModelDisplayName"]);if(n!==void 0&&o!=null&&f(n,["displayName"],o),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=d(t,["epochCount"]);n!==void 0&&u!=null&&f(n,["tuningTask","hyperparameters","epochCount"],u);const p=d(t,["learningRateMultiplier"]);if(p!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],p),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=d(t,["batchSize"]);n!==void 0&&g!=null&&f(n,["tuningTask","hyperparameters","batchSize"],g);const v=d(t,["learningRate"]);return n!==void 0&&v!=null&&f(n,["tuningTask","hyperparameters","learningRate"],v),s}function NS(l,t){const n={},s=d(t,["baseModel"]);s!=null&&f(n,["baseModel"],s);const o=d(t,["trainingDataset"]);o!=null&&f(n,["tuningTask","trainingData"],yS(l,o));const u=d(t,["config"]);return u!=null&&f(n,["config"],bS(l,u,n)),n}function wS(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["_url","name"],s);const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function TS(l,t,n){const s={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const u=d(t,["pageToken"]);n!==void 0&&u!=null&&f(n,["_query","pageToken"],u);const p=d(t,["filter"]);return n!==void 0&&p!=null&&f(n,["_query","filter"],p),s}function CS(l,t){const n={},s=d(t,["config"]);return s!=null&&f(n,["config"],TS(l,s,n)),n}function SS(l,t,n){const s={},o=d(t,["gcsUri"]);if(n!==void 0&&o!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],o),d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function _S(l,t){const n={},s=d(t,["gcsUri"]);return s!=null&&f(n,["validationDatasetUri"],s),n}function jS(l,t,n){const s={},o=d(t,["validationDataset"]);n!==void 0&&o!=null&&f(n,["supervisedTuningSpec"],_S(l,o));const u=d(t,["tunedModelDisplayName"]);n!==void 0&&u!=null&&f(n,["tunedModelDisplayName"],u);const p=d(t,["description"]);n!==void 0&&p!=null&&f(n,["description"],p);const g=d(t,["epochCount"]);n!==void 0&&g!=null&&f(n,["supervisedTuningSpec","hyperParameters","epochCount"],g);const v=d(t,["learningRateMultiplier"]);n!==void 0&&v!=null&&f(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v);const x=d(t,["exportLastCheckpointOnly"]);n!==void 0&&x!=null&&f(n,["supervisedTuningSpec","exportLastCheckpointOnly"],x);const y=d(t,["adapterSize"]);if(n!==void 0&&y!=null&&f(n,["supervisedTuningSpec","hyperParameters","adapterSize"],y),d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return s}function ES(l,t){const n={},s=d(t,["baseModel"]);s!=null&&f(n,["baseModel"],s);const o=d(t,["trainingDataset"]);o!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],SS(l,o,n));const u=d(t,["config"]);return u!=null&&f(n,["config"],jS(l,u,n)),n}function kS(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["model"],s);const o=d(t,["name"]);return o!=null&&f(n,["endpoint"],o),n}function Lx(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["name"],s);const o=d(t,["state"]);o!=null&&f(n,["state"],vx(l,o));const u=d(t,["createTime"]);u!=null&&f(n,["createTime"],u);const p=d(t,["tuningTask","startTime"]);p!=null&&f(n,["startTime"],p);const g=d(t,["tuningTask","completeTime"]);g!=null&&f(n,["endTime"],g);const v=d(t,["updateTime"]);v!=null&&f(n,["updateTime"],v);const x=d(t,["description"]);x!=null&&f(n,["description"],x);const y=d(t,["baseModel"]);y!=null&&f(n,["baseModel"],y);const N=d(t,["_self"]);N!=null&&f(n,["tunedModel"],kS(l,N));const w=d(t,["distillationSpec"]);w!=null&&f(n,["distillationSpec"],w);const j=d(t,["experiment"]);j!=null&&f(n,["experiment"],j);const _=d(t,["labels"]);_!=null&&f(n,["labels"],_);const T=d(t,["pipelineJob"]);T!=null&&f(n,["pipelineJob"],T);const S=d(t,["serviceAccount"]);S!=null&&f(n,["serviceAccount"],S);const M=d(t,["tunedModelDisplayName"]);return M!=null&&f(n,["tunedModelDisplayName"],M),n}function AS(l,t){const n={},s=d(t,["nextPageToken"]);s!=null&&f(n,["nextPageToken"],s);const o=d(t,["tunedModels"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>Lx(l,p))),f(n,["tuningJobs"],u)}return n}function DS(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["name"],s);const o=d(t,["metadata"]);o!=null&&f(n,["metadata"],o);const u=d(t,["done"]);u!=null&&f(n,["done"],u);const p=d(t,["error"]);return p!=null&&f(n,["error"],p),n}function MS(l,t){const n={},s=d(t,["checkpointId"]);s!=null&&f(n,["checkpointId"],s);const o=d(t,["epoch"]);o!=null&&f(n,["epoch"],o);const u=d(t,["step"]);u!=null&&f(n,["step"],u);const p=d(t,["endpoint"]);return p!=null&&f(n,["endpoint"],p),n}function RS(l,t){const n={},s=d(t,["model"]);s!=null&&f(n,["model"],s);const o=d(t,["endpoint"]);o!=null&&f(n,["endpoint"],o);const u=d(t,["checkpoints"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>MS(l,g))),f(n,["checkpoints"],p)}return n}function gu(l,t){const n={},s=d(t,["name"]);s!=null&&f(n,["name"],s);const o=d(t,["state"]);o!=null&&f(n,["state"],vx(l,o));const u=d(t,["createTime"]);u!=null&&f(n,["createTime"],u);const p=d(t,["startTime"]);p!=null&&f(n,["startTime"],p);const g=d(t,["endTime"]);g!=null&&f(n,["endTime"],g);const v=d(t,["updateTime"]);v!=null&&f(n,["updateTime"],v);const x=d(t,["error"]);x!=null&&f(n,["error"],x);const y=d(t,["description"]);y!=null&&f(n,["description"],y);const N=d(t,["baseModel"]);N!=null&&f(n,["baseModel"],N);const w=d(t,["tunedModel"]);w!=null&&f(n,["tunedModel"],RS(l,w));const j=d(t,["supervisedTuningSpec"]);j!=null&&f(n,["supervisedTuningSpec"],j);const _=d(t,["tuningDataStats"]);_!=null&&f(n,["tuningDataStats"],_);const T=d(t,["encryptionSpec"]);T!=null&&f(n,["encryptionSpec"],T);const S=d(t,["partnerModelTuningSpec"]);S!=null&&f(n,["partnerModelTuningSpec"],S);const M=d(t,["distillationSpec"]);M!=null&&f(n,["distillationSpec"],M);const I=d(t,["experiment"]);I!=null&&f(n,["experiment"],I);const D=d(t,["labels"]);D!=null&&f(n,["labels"],D);const O=d(t,["pipelineJob"]);O!=null&&f(n,["pipelineJob"],O);const R=d(t,["serviceAccount"]);R!=null&&f(n,["serviceAccount"],R);const $=d(t,["tunedModelDisplayName"]);return $!=null&&f(n,["tunedModelDisplayName"],$),n}function IS(l,t){const n={},s=d(t,["nextPageToken"]);s!=null&&f(n,["nextPageToken"],s);const o=d(t,["tuningJobs"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>gu(l,p))),f(n,["tuningJobs"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class US extends Ps{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Ar(qs.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const s=await this.tuneMldevInternal(n);let o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:ou.JOB_STATE_QUEUED}}}}async getInternal(t){var n,s,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=wS(this.apiClient,t);return g=Ee("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>gu(this.apiClient,y))}else{const x=hS(this.apiClient,t);return g=Ee("{name}",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>Lx(this.apiClient,y))}}async listInternal(t){var n,s,o,u;let p,g="",v={};if(this.apiClient.isVertexAI()){const x=CS(this.apiClient,t);return g=Ee("tuningJobs",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>{const N=IS(this.apiClient,y),w=new Ih;return Object.assign(w,N),w})}else{const x=gS(this.apiClient,t);return g=Ee("tunedModels",x._url),v=x._query,delete x.config,delete x._url,delete x._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),p.then(y=>{const N=AS(this.apiClient,y),w=new Ih;return Object.assign(w,N),w})}}async tuneInternal(t){var n,s;let o,u="",p={};if(this.apiClient.isVertexAI()){const g=ES(this.apiClient,t);return u=Ee("tuningJobs",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),o.then(v=>gu(this.apiClient,v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,s;let o,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=NS(this.apiClient,t);return u=Ee("tunedModels",g._url),p=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),o.then(v=>DS(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LS{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const zS=1024*1024*8,VS=3,OS=1e3,HS=2,Wc="x-goog-upload-status";async function BS(l,t,n){var s,o,u;let p=0,g=0,v=new cu(new Response),x="upload";for(p=l.size;g<p;){const N=Math.min(zS,p-g),w=l.slice(g,g+N);g+N>=p&&(x+=", finalize");let j=0,_=OS;for(;j<VS&&(v=await n.request({path:"",body:w,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":String(g),"Content-Length":String(N)}}}),!(!((s=v==null?void 0:v.headers)===null||s===void 0)&&s[Wc]));)j++,await qS(_),_=_*HS;if(g+=N,((o=v==null?void 0:v.headers)===null||o===void 0?void 0:o[Wc])!=="active")break;if(p<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(v==null?void 0:v.json());if(((u=v==null?void 0:v.headers)===null||u===void 0?void 0:u[Wc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function GS(l){return{size:l.size,type:l.type}}function qS(l){return new Promise(t=>setTimeout(t,l))}class PS{async upload(t,n,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await BS(t,n,s)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await GS(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $S{create(t,n,s){return new FS(t,n,s)}}class FS{constructor(t,n,s){this.url=t,this.headers=n,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ix="x-goog-api-key";class YS{constructor(t){this.apiKey=t}async addAuthHeaders(t){if(t.get(ix)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(ix,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZS="gl-node/";class JS{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const s=ey(t,void 0,void 0);s&&(t.httpOptions?t.httpOptions.baseUrl=s:t.httpOptions={baseUrl:s}),this.apiVersion=t.apiVersion;const o=new YS(this.apiKey);this.apiClient=new uC({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:ZS+"web",uploader:new PS,downloader:new LS}),this.models=new jC(this.apiClient),this.live=new wC(this.apiClient,o,new $S),this.chats=new _b(this.models,this.apiClient),this.caches=new Tb(this.apiClient),this.files=new Ob(this.apiClient),this.operations=new VC(this.apiClient),this.authTokens=new pS(this.apiClient),this.tunings=new US(this.apiClient)}}var KS={};const Jl=()=>{const l=localStorage.getItem("GEMINI_API_KEY")||KS.API_KEY;if(!l)throw new Error("API Key not found. Please set it in Settings.");return new JS({apiKey:l})},XS=async(l,t,n)=>{const s=Jl(),o=`
      ${l.name},    ${l.race}    .
     : ${l.role}
       : ${l.views.join(", ")}
     : ${l.goals.join(", ")}
    : ${l.preferences.workStyle}, ${l.preferences.planningStyle}
    
      : ${t.map(p=>p.title).join(", ")}
     : ${n.map(p=>p.name).join(", ")}
    
        .   :
    1.   .
    2. " " ( ).
    3.  " " ( 100 ),    .
    
       JSON.
  `,u=await s.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{responseMimeType:"application/json",responseSchema:{type:he.OBJECT,properties:{greeting:{type:he.STRING},questOfDay:{type:he.STRING},article:{type:he.STRING},motivation:{type:he.STRING}}}}});return JSON.parse(u.text)},QS=async(l,t)=>{const n=Jl(),s=l.memories.map(g=>`${g.date}: ${g.event} (${g.emotion})`).join(`
`),o=l.notes.map(g=>`${g.date}: ${g.text}`).join(`
`),u=`
         .
     (): ${t.name}, : ${t.role}, : ${t.archetype}.
    : ${l.name}, : ${l.status}, : ${l.hobbies.join(", ")}.
    
     :
    ${s}
    
    :
    ${o}
    
        AI-    .
      :
    1.  (      ).
    2.   (    ).
    3.   (    ).
    4. 3-5     .
    
       JSON.
  `,p=await n.models.generateContent({model:"gemini-3-flash-preview",contents:u,config:{responseMimeType:"application/json",responseSchema:{type:he.OBJECT,properties:{summary:{type:he.STRING},interests:{type:he.ARRAY,items:{type:he.STRING}},tone:{type:he.STRING},topics:{type:he.ARRAY,items:{type:he.STRING}}}}}});return JSON.parse(p.text)},WS=async(l,t,n)=>{const s=Jl(),o=`
      -  '. 
       "${t}"   "${l}".
      .

        ,       :
    1.    ( ).
    2.     ( ).
    3.     ( ).  ,   ,       .
    4.    .
    5.     YYYY-MM-DD ( ,  NULL).

       JSON.
  `,u=await s.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{responseMimeType:"application/json",responseSchema:{type:he.OBJECT,properties:{hobbies:{type:he.ARRAY,items:{type:he.STRING}},goals:{type:he.ARRAY,items:{type:he.STRING}},notes:{type:he.ARRAY,items:{type:he.STRING}},summary:{type:he.STRING},birthDate:{type:he.STRING,nullable:!0}}}}});return JSON.parse(u.text)},e_=async(l,t,n)=>{const s=Jl(),o=`
          : ${n.name} (${n.race} ${n.archetype}).
     : ${n.vision}
    : ${n.goals.join(", ")}

        : "${l}".
     : ${t}

           GTD  12- :
    1. " " (Next Actions)  3-5      .
    2. "" (Bosses)  2-3  ,     3  .
    3. "" (Habits)  1-2       .

         JSON.
  `,u=await s.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{responseMimeType:"application/json",responseSchema:{type:he.OBJECT,properties:{nextActions:{type:he.ARRAY,items:{type:he.STRING}},subprojects:{type:he.ARRAY,items:{type:he.OBJECT,properties:{title:{type:he.STRING},tasks:{type:he.ARRAY,items:{type:he.STRING}}},required:["title","tasks"]}},habits:{type:he.ARRAY,items:{type:he.STRING}}},required:["nextActions","subprojects","habits"]}}});return JSON.parse(u.text)},t_=async(l,t,n)=>{const s=Jl(),o=`
        GTD    .
       ( + )     .
    : ${t.name}, : ${t.vision}, : ${t.role}.
     : ${t.preferences.workStyle}, ${t.preferences.planningStyle}.
     : ${n.join(", ")}.

      :
    ${l.map(p=>`- [ID:${p.id}] : "${p.title}". : "${p.content||""}"`).join(`
`)}

        :
    1. : 'tasks', 'notes', 'project'.
    2. :  'subtasks', 'habits', 'events', 'people'.
    3.  :        ,  ,       (focusBlockers)?
        ,    'profileImpact'.

        JSON ( ').
  `,u=await s.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{responseMimeType:"application/json",responseSchema:{type:he.ARRAY,items:{type:he.OBJECT,properties:{id:{type:he.STRING},category:{type:he.STRING},priority:{type:he.STRING},status:{type:he.STRING},tags:{type:he.ARRAY,items:{type:he.STRING}},reason:{type:he.STRING},decomposition:{type:he.OBJECT,properties:{subtasks:{type:he.ARRAY,items:{type:he.STRING}},habits:{type:he.ARRAY,items:{type:he.STRING}},events:{type:he.ARRAY,items:{type:he.OBJECT,properties:{title:{type:he.STRING},date:{type:he.STRING}}}},people:{type:he.ARRAY,items:{type:he.OBJECT,properties:{name:{type:he.STRING},status:{type:he.STRING},note:{type:he.STRING}}}}}},profileImpact:{type:he.OBJECT,properties:{bioUpdate:{type:he.STRING},roleUpdate:{type:he.STRING},newGoal:{type:he.STRING},newBelief:{type:he.STRING},workStyleUpdate:{type:he.STRING},newFocusBlocker:{type:he.STRING}}}},required:["id","category","priority","status","tags","reason"]}}}});return JSON.parse(u.text)},Me=({children:l,className:t="",blur:n=!1,padding:s="md",hover:o=!1,onClick:u,draggable:p,onDragStart:g})=>{const v="border transition-all duration-300",x=n?"backdrop-blur-xl bg-[var(--bg-card)]/80":"bg-[var(--bg-card)]",y="border-[var(--border-color)]",N="rounded-[var(--radius)]",w=o?"hover:shadow-lg hover:border-[var(--primary)]/30":"shadow-sm",j={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return i.jsx("div",{className:`${v} ${x} ${y} ${N} ${w} ${j[s]} ${t}`,onClick:u,draggable:p,onDragStart:g,style:{color:"var(--text-main)"},children:l})},Xe=({children:l,variant:t="slate",icon:n,className:s="",style:o})=>{const u={orange:"bg-orange-50 text-orange-600 border-orange-100",emerald:"bg-emerald-50 text-emerald-600 border-emerald-100",rose:"bg-rose-50 text-rose-600 border-rose-100",slate:"bg-slate-50 text-slate-500 border-slate-100",yellow:"bg-yellow-50 text-yellow-700 border-yellow-100",indigo:"bg-indigo-50 text-indigo-600 border-indigo-100"};return i.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-lg border text-[10px] font-black uppercase tracking-wider ${u[t]} ${s}`,style:o,children:[n&&i.jsx("i",{className:`fa-solid ${n}`}),l]})},n_=({aiEnabled:l,briefing:t,loading:n})=>n?i.jsx(Me,{blur:!0,className:"border-orange-100 min-h-[160px] flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("i",{className:"fa-solid fa-sparkles text-orange-400 mb-2"}),i.jsx(Y,{variant:"tiny",className:"text-slate-400",children:" ..."})]})}):l?i.jsxs(Me,{blur:!0,className:"bg-gradient-to-br from-white to-orange-50/30 border-orange-100 shadow-xl shadow-orange-100/20 relative overflow-hidden group",children:[i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/5 blur-3xl -mr-16 -mt-16"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start relative z-10",children:[i.jsxs("div",{className:"flex-1 space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xe,{variant:"orange",icon:"fa-bolt",children:" "}),i.jsx("span",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:" "})]}),i.jsx(Y,{variant:"h2",className:"text-2xl text-slate-900 leading-tight",children:(t==null?void 0:t.questOfDay)||"    ."}),i.jsxs("div",{className:"flex items-center gap-3 text-emerald-600",children:[i.jsx("i",{className:"fa-solid fa-circle-check text-xs"}),i.jsx(Y,{variant:"body",className:"font-bold text-[13px]",children:": +500 XP & 50 "})]})]}),i.jsx("div",{className:"w-full md:w-64 space-y-4",children:i.jsxs("div",{className:"p-4 bg-white/60 rounded-2xl border border-white shadow-sm",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 mb-2",children:" "}),i.jsxs("p",{className:"text-[11px] font-medium text-slate-600 leading-relaxed italic",children:['"',(t==null?void 0:t.motivation)||"   .   .",'"']})]})})]})]}):i.jsx(Me,{blur:!0,className:"bg-slate-50 border-slate-100 border-dashed",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-slate-100 flex items-center justify-center text-slate-400",children:i.jsx("i",{className:"fa-solid fa-robot"})}),i.jsxs("div",{children:[i.jsx(Y,{variant:"h3",className:"text-slate-400",children:"AI  "}),i.jsx(Y,{variant:"body",className:"text-slate-300",children:"      ."})]})]})}),a_=({character:l,tasks:t,period:n,onPeriodChange:s})=>{const o=[{key:"health",label:"'",icon:"fa-heart-pulse",color:"rose"},{key:"career",label:"'",icon:"fa-briefcase",color:"indigo"},{key:"finance",label:"",icon:"fa-coins",color:"emerald"},{key:"rest",label:"",icon:"fa-couch",color:"cyan"}];return i.jsxs(Me,{padding:"md",className:"border-slate-100 flex flex-col h-full bg-white shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx(Y,{variant:"caption",children:" "}),i.jsx("div",{className:"flex bg-slate-50 p-0.5 rounded-lg border border-slate-100",children:["day","week","month"].map(u=>i.jsx("button",{onClick:()=>s(u),className:`px-3 py-1 text-[8px] font-black uppercase rounded-md transition-all ${n===u?"bg-white text-orange-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:u==="day"?"":u==="week"?"":""},u))})]}),i.jsx("div",{className:"grid grid-cols-2 gap-4 flex-1",children:o.map(u=>{const p=l.stats[u.key]||0;return i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:`fa-solid ${u.icon} text-[10px] text-slate-300`}),i.jsx("span",{className:"text-[10px] font-black uppercase text-slate-700",children:u.label})]}),i.jsxs("span",{className:"text-[10px] font-black text-slate-400",children:[p,"%"]})]}),i.jsx("div",{className:"h-1.5 bg-slate-50 rounded-full overflow-hidden border border-slate-100",children:i.jsx("div",{className:`h-full bg-gradient-to-r transition-all duration-1000 ${u.color==="rose"?"from-rose-400 to-rose-500":u.color==="indigo"?"from-indigo-400 to-indigo-500":u.color==="emerald"?"from-emerald-400 to-emerald-500":"from-cyan-400 to-cyan-500"}`,style:{width:`${p}%`}})})]},u.key)})}),i.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-50 flex justify-between items-center",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[8px] font-black text-slate-300 uppercase",children:" "}),i.jsxs("span",{className:"text-sm font-black text-slate-800",children:[l.energy,"%"]})]}),i.jsxs("div",{className:"flex flex-col text-right",children:[i.jsx("span",{className:"text-[8px] font-black text-slate-300 uppercase",children:" "}),i.jsx("span",{className:"text-sm font-black text-emerald-600",children:t.filter(u=>u.status==="DONE").length})]})]})]})},s_=({tasks:l,projects:t})=>{const n=["     ,    ,  ,    .","     .    .","         12 .","        .","   ,   ."],s=A.useMemo(()=>n[Math.floor(Math.random()*n.length)],[]);return i.jsxs("div",{className:"bg-white border border-slate-100 p-4 rounded-3xl shadow-sm flex items-center gap-4 group hover:border-orange-200 transition-all",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-50 text-orange-500 flex items-center justify-center shrink-0 group-hover:rotate-12 transition-transform",children:i.jsx("i",{className:"fa-solid fa-lightbulb"})}),i.jsxs("div",{children:[i.jsx(Y,{variant:"tiny",className:"text-slate-300 mb-0.5",children:" "}),i.jsx("p",{className:"text-[12px] font-medium text-slate-600 leading-tight",children:s})]})]})},l_=({character:l,tasks:t,projects:n})=>{const{aiEnabled:s}=$e(),[o,u]=A.useState(null),[p,g]=A.useState(s),[v,x]=A.useState("day");return A.useEffect(()=>{if(!s){g(!1);return}XS(l,t,n).then(u).catch(console.error).finally(()=>g(!1))},[s]),i.jsxs("div",{className:"p-4 md:p-8 space-y-6 max-w-4xl mx-auto pb-20 animate-in fade-in duration-500",children:[i.jsxs("header",{className:"flex items-center gap-6",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-tr from-orange-400 to-pink-500 p-1 rotate-3 shadow-lg",children:i.jsx("div",{className:"w-full h-full rounded-xl bg-white flex items-center justify-center text-2xl shadow-inner -rotate-3",children:i.jsx("i",{className:`fa-solid ${l.race==="Elf"?"fa-wand-magic-sparkles":"fa-user-ninja"} text-orange-600`})})}),i.jsxs("div",{children:[i.jsxs(Y,{variant:"h2",className:"text-slate-900 leading-tight",children:[", ",l.name,"."]}),i.jsxs(Y,{variant:"tiny",className:"text-orange-500 font-bold lowercase tracking-wider",children:['"',(o==null?void 0:o.greeting)||"  .",'"']})]})]}),i.jsx(s_,{tasks:t,projects:n}),i.jsx(n_,{aiEnabled:s,briefing:o,loading:p}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(Y,{variant:"caption",className:"px-2",children:" "}),i.jsx("div",{className:"bg-slate-900 text-white rounded-[2rem] p-6 shadow-2xl min-h-[200px] flex flex-col justify-between italic text-sm leading-relaxed text-slate-300",children:s?o==null?void 0:o.article:"AI .        ."})]}),i.jsx(a_,{character:l,tasks:t,period:v,onPeriodChange:x})]})]})},rx=10,i_=()=>{const[l,t]=A.useState(Array(rx).fill(null).map(()=>Array(rx).fill(!0))),n=(s,o)=>{const u=[...l];u[s]=[...u[s]],u[s][o]=!1,t(u)};return i.jsxs("div",{className:"p-8 h-full bg-slate-950 overflow-auto",children:[i.jsxs("div",{className:"mb-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-heading font-bold text-white",children:" "}),i.jsx("p",{className:"text-slate-400",children:" ,       ."})]}),i.jsxs("div",{className:"bg-slate-900 px-6 py-2 rounded-full border border-slate-800 text-yellow-400 font-bold flex items-center gap-3",children:[i.jsx("i",{className:"fa-solid fa-compass"})," : 12%"]})]}),i.jsx("div",{className:"inline-grid grid-cols-5 md:grid-cols-10 gap-2 bg-slate-900/50 p-4 rounded-3xl shadow-2xl border border-slate-800 backdrop-blur-md",children:l.map((s,o)=>s.map((u,p)=>i.jsxs("div",{onClick:()=>n(o,p),className:`w-14 h-14 md:w-20 md:h-20 rounded-xl cursor-pointer flex items-center justify-center relative overflow-hidden group ${u?"bg-slate-800 border border-slate-700 hover:bg-slate-700":"bg-emerald-900/20 border border-emerald-500/30 shadow-[inset_0_0_20px_rgba(16,185,129,0.1)]"}`,children:[u?i.jsx("div",{className:"text-slate-600 group-hover:scale-125",children:i.jsx("i",{className:"fa-solid fa-cloud"})}):i.jsx("div",{className:"text-2xl text-white",children:Math.random()>.9?i.jsx("i",{className:"fa-solid fa-gem text-cyan-400"}):Math.random()>.7?i.jsx("i",{className:"fa-solid fa-tree text-emerald-500"}):i.jsx("i",{className:"fa-solid fa-chess-rook text-slate-400"})}),u&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-black/40 to-transparent pointer-events-none"})]},`${o}-${p}`)))})]})},zx=({value:l,onChange:t,onSelectTag:n,onEnter:s,onBlur:o,placeholder:u,className:p,autoFocus:g=!1})=>{const{tags:v,addTag:x}=$e(),[y,N]=A.useState(!1),[w,j]=A.useState(""),[_,T]=A.useState(0),S=A.useRef(null),M=z=>{let G=z.target.value;const V=z.target.selectionStart||0;T(V),t(G),I(G,V)},I=(z,G)=>{const te=z.slice(0,G).split(/\s/),le=te[te.length-1];le.startsWith("#")?(j(le.slice(1)),N(!0)):le.length>0?(j(le),N(!0)):N(!1)},D=z=>{const G=z.target.selectionStart||0;T(G),N(!0),j("")},O=z=>{z.key==="Enter"&&(y&&R.length>0?(z.preventDefault(),$(R[0].name)):s&&(z.preventDefault(),s())),z.key==="Escape"&&N(!1)},R=v.filter(z=>z.name.toLowerCase().includes(w.toLowerCase())),$=z=>{const G=l.slice(0,_),V=l.slice(_),te=G.split(/\s/);te[te.length-1],te[te.length-1]=`#${z} `;const le=te.join(" ").replace(/\s\s+/g," ")+V;t(le),n(z),N(!1),setTimeout(()=>{var X;return(X=S.current)==null?void 0:X.focus()},0)},k=()=>{if(!w)return;const z=x(w);$(z.name)};return i.jsxs("div",{className:"relative w-full h-full flex items-center overflow-visible",children:[i.jsx("input",{ref:S,type:"text",autoFocus:g,value:l,onChange:M,onFocus:D,onKeyDown:O,onBlur:()=>{setTimeout(()=>{N(!1),o==null||o()},200)},placeholder:u,className:`${p} outline-none`}),y&&i.jsx("div",{className:"absolute z-[100] top-full mt-1 w-64 bg-white rounded-xl shadow-2xl border border-slate-100 p-2 tiktok-blur animate-in slide-in-from-top-2 duration-200",children:i.jsxs("div",{className:"max-h-48 overflow-y-auto custom-scrollbar",children:[R.length>0?R.map(z=>i.jsxs("button",{type:"button",onMouseDown:G=>{G.preventDefault(),$(z.name)},className:"w-full flex items-center gap-2 px-2 py-1.5 hover:bg-slate-50 rounded-lg transition-colors text-left",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:z.color}}),i.jsxs("span",{className:"text-[10px] font-bold text-slate-700 truncate",children:["#",z.name]})]},z.id)):i.jsx("div",{className:"p-2 text-[10px] font-bold text-slate-400 text-center uppercase tracking-widest",children:" "}),w&&!v.some(z=>z.name===w)&&i.jsxs("button",{type:"button",onMouseDown:z=>{z.preventDefault(),k()},className:"w-full flex items-center gap-2 px-2 py-1.5 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors text-left border-t border-slate-50 mt-1",children:[i.jsx("i",{className:"fa-solid fa-plus text-[8px]"}),i.jsxs("span",{className:"text-[10px] font-black italic",children:[' "#',w,'"']})]})]})})]})},Fe=({children:l,variant:t="primary",size:n="md",loading:s=!1,icon:o,className:u="",...p})=>{const g="inline-flex items-center justify-center gap-2 rounded-2xl font-black transition-all active:scale-95 disabled:opacity-50 disabled:pointer-events-none",v={primary:"bg-[var(--primary)] text-white shadow-lg hover:brightness-110",secondary:"bg-[var(--primary)]/10 text-[var(--primary)] border border-[var(--primary)]/20 hover:bg-[var(--primary)]/20",ghost:"text-[var(--text-muted)] hover:bg-[var(--bg-main)] hover:text-[var(--text-main)]",danger:"bg-rose-500 text-white hover:bg-rose-600",white:"bg-[var(--bg-card)] text-[var(--text-main)] border border-[var(--border-color)] shadow-sm hover:bg-[var(--bg-main)]"},x={sm:"px-4 py-2 text-xs",md:"px-6 py-3 text-sm",lg:"px-8 py-4 text-base",icon:"w-10 h-10 p-0"};return i.jsx("button",{className:`${g} ${v[t]} ${x[n]} ${u}`,disabled:s,...p,children:s?i.jsx("i",{className:"fa-solid fa-circle-notch animate-spin"}):i.jsxs(i.Fragment,{children:[o&&i.jsx("i",{className:`fa-solid ${o} ${n==="icon"?"text-base":"text-xs"}`}),l]})})},r_=({block:l,index:t,isFocused:n,onUpdate:s,onKeyDown:o,onFocus:u,onContextMenu:p,allBlocks:g})=>{const v=A.useRef(null);A.useEffect(()=>{v.current&&v.current.innerHTML!==l.content&&(v.current.innerHTML=l.content)},[l.id]),A.useEffect(()=>{n&&v.current&&document.activeElement!==v.current&&v.current.focus()},[n]);const x=N=>{s({content:N.currentTarget.innerHTML})};let y="";return l.type==="heading"&&(y="text-lg md:text-xl font-black text-[var(--text-main)] leading-tight"),l.type==="text"&&(y="text-sm font-medium text-[var(--text-main)] leading-relaxed"),l.type==="quote"&&(y="text-sm font-medium italic text-[var(--text-muted)] border-l-4 border-[var(--primary)]/30 pl-3 py-1 bg-[var(--primary)]/5 rounded-r-lg"),l.type==="task"&&(y=`text-sm font-bold transition-all ${l.checked?"line-through text-[var(--text-muted)] opacity-60":"text-[var(--text-main)]"}`),(l.type==="bullet"||l.type==="number")&&(y="text-sm text-[var(--text-main)] font-medium"),i.jsxs("div",{className:"flex items-start gap-2 md:gap-3 w-full group/row mb-1",children:[i.jsx("div",{className:"w-5 flex flex-col items-center opacity-0 group-hover/row:opacity-100 transition-opacity pt-1 shrink-0",children:i.jsx("button",{onClick:()=>s({id:"DELETE_BLOCK"}),className:"text-[var(--text-muted)] hover:text-rose-50 p-1",children:i.jsx("i",{className:"fa-solid fa-xmark text-[10px]"})})}),i.jsxs("div",{className:"flex-1 min-w-0 flex items-start gap-2 md:gap-3",children:[l.type==="task"&&i.jsx("button",{onClick:()=>s({checked:!l.checked}),className:`w-5 h-5 rounded-lg border mt-0.5 flex items-center justify-center shrink-0 transition-all ${l.checked?"bg-emerald-500 border-emerald-500 text-white shadow-sm":"border-[var(--border-color)] bg-[var(--bg-card)] hover:border-[var(--primary)] shadow-sm"}`,children:l.checked&&i.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),l.type==="bullet"&&i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[var(--text-muted)] mt-2 shrink-0 shadow-inner"}),l.type==="number"&&i.jsxs("span",{className:"text-[10px] font-black text-[var(--primary)] mt-1 shrink-0 w-4 text-right",children:[g.slice(0,t+1).filter(N=>N.type==="number").length,"."]}),i.jsx("div",{ref:v,contentEditable:!0,suppressContentEditableWarning:!0,"data-placeholder":l.type==="heading"?"...":" ...",onInput:x,onKeyDown:N=>{var w;return o(N,l,((w=v.current)==null?void 0:w.innerHTML)||"")},onFocus:u,onContextMenu:p,className:`focus:ring-0 outline-none w-full bg-transparent empty:before:content-[attr(data-placeholder)] empty:before:text-[var(--text-muted)]/30 block-input transition-all ${y}`})]})]})},Vx=({id:l,date:t,onClose:n,standaloneMode:s=!1,initialContent:o,onContentChange:u})=>{var X;const{diary:p,saveDiaryEntry:g}=$e(),[v,x]=A.useState(l),[y,N]=A.useState(t),[w,j]=A.useState([]),[_,T]=A.useState(!1),[S,M]=A.useState(null),[I,D]=A.useState({x:0,y:0,visible:!1}),O=A.useRef(null),R=s?o:(X=p.find(B=>B.id===v))==null?void 0:X.content;A.useEffect(()=>{if(R)try{const B=JSON.parse(R);if(Array.isArray(B))j(B);else throw new Error}catch{const U=R.split(`
`).filter(Q=>Q.trim()!=="").map(Q=>({id:Math.random().toString(36).substr(2,9),type:Q.startsWith("#")?"heading":"text",content:Q.replace(/^#+\s*/,""),checked:!1}));j(U.length>0?U:[{id:"b1",type:"text",content:""}])}else j([{id:"b-init",type:"text",content:""}])},[l,R]);const $=(B=!1)=>{const de=JSON.stringify(w);if(s){u==null||u(de),T(!1);return}if(!w.some(W=>W.content.trim()!==""&&W.content!=="<br>")&&!v)return;const Q=g(y,de,v);return v||x(Q),T(!1),Q},k=()=>{$(),n()};A.useEffect(()=>{if(w.length!==0)return T(!0),s&&(u==null||u(JSON.stringify(w))),O.current&&clearTimeout(O.current),O.current=window.setTimeout(()=>$(!0),1500),()=>{O.current&&clearTimeout(O.current)}},[w,y]);const z=(B,de)=>{if(de.id==="DELETE_BLOCK"){w.length>1&&j(U=>U.filter(Q=>Q.id!==B));return}j(U=>U.map(Q=>Q.id===B?{...Q,...de}:Q))},G=(B,de="text")=>{const U={id:Math.random().toString(36).substr(2,9),type:de,content:"",checked:!1},Q=w.findIndex(pe=>pe.id===B),W=[...w];W.splice(Q+1,0,U),j(W),M(U.id)},V=(B,de,U)=>{if(B.key==="Enter"&&!B.shiftKey){B.preventDefault();const Q=["task","bullet","number"].includes(de.type)?de.type:"text";G(de.id,Q)}if(B.key==="Backspace"&&(U===""||U==="<br>")&&w.length>1){B.preventDefault();const Q=w.findIndex(W=>W.id===de.id);Q>0&&M(w[Q-1].id),j(W=>W.filter(pe=>pe.id!==de.id))}},te=(B,de)=>{document.execCommand(B,!1,de),D(U=>({...U,visible:!1}))},le=B=>{const de=window.getSelection();if(de&&de.toString().length>0){B.preventDefault();const U=Math.min(B.clientX,window.innerWidth-150);D({x:U,y:B.clientY,visible:!0})}};return i.jsxs("div",{className:`h-full flex flex-col bg-[var(--bg-card)] relative ${s?"rounded-2xl border border-[var(--border-color)] overflow-hidden":""}`,children:[!s&&i.jsxs("header",{className:"p-4 border-b border-[var(--border-color)] flex justify-between items-center bg-[var(--bg-card)] shrink-0 sticky top-0 z-30",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"date",value:y,onChange:B=>N(B.target.value),className:"bg-transparent border-none text-[var(--primary)] font-black uppercase text-[10px] tracking-widest focus:ring-0 p-0 cursor-pointer"}),i.jsx("div",{className:"h-3 w-px bg-[var(--border-color)] hidden sm:block"}),i.jsx(Y,{variant:"tiny",className:"text-[var(--text-muted)] font-black uppercase text-[8px] tracking-widest hidden sm:block",children:""})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:k,className:"px-5 py-2 bg-[var(--primary)] text-white rounded-xl text-[9px] font-black uppercase shadow-lg active:scale-95 transition-all",children:""}),i.jsx("button",{onClick:n,className:"w-9 h-9 rounded-xl bg-[var(--bg-main)] text-[var(--text-muted)] flex items-center justify-center transition-all hover:text-[var(--text-main)] active:scale-95",children:i.jsx("i",{className:"fa-solid fa-xmark"})})]})]}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsxs("div",{className:"px-2 md:px-4 py-1.5 bg-[var(--bg-main)]/30 flex items-center gap-1 overflow-x-auto no-scrollbar border-b border-[var(--border-color)] shrink-0",children:[i.jsx("button",{onClick:()=>S&&z(S,{type:"heading"}),title:"",className:"p-2 hover:bg-[var(--bg-card)] rounded-lg text-[var(--text-muted)] hover:text-[var(--primary)] transition-all",children:i.jsx("i",{className:"fa-solid fa-heading text-xs"})}),i.jsx("button",{onClick:()=>S&&z(S,{type:"text"}),title:"",className:"p-2 hover:bg-[var(--bg-card)] rounded-lg text-[var(--text-muted)] hover:text-[var(--primary)] transition-all",children:i.jsx("i",{className:"fa-solid fa-paragraph text-xs"})}),i.jsx("button",{onClick:()=>S&&z(S,{type:"task"}),title:"",className:"p-2 hover:bg-[var(--bg-card)] rounded-lg text-[var(--text-muted)] hover:text-[var(--primary)] transition-all",children:i.jsx("i",{className:"fa-solid fa-square-check text-xs"})}),i.jsx("button",{onClick:()=>S&&z(S,{type:"bullet"}),title:"",className:"p-2 hover:bg-[var(--bg-card)] rounded-lg text-[var(--text-muted)] hover:text-[var(--primary)] transition-all",children:i.jsx("i",{className:"fa-solid fa-list-ul text-xs"})}),i.jsx("button",{onClick:()=>S&&z(S,{type:"number"}),title:"",className:"p-2 hover:bg-[var(--bg-card)] rounded-lg text-[var(--text-muted)] hover:text-[var(--primary)] transition-all",children:i.jsx("i",{className:"fa-solid fa-list-ol text-xs"})}),i.jsx("button",{onClick:()=>S&&z(S,{type:"quote"}),title:"",className:"p-2 hover:bg-[var(--bg-card)] rounded-lg text-[var(--text-muted)] hover:text-[var(--primary)] transition-all",children:i.jsx("i",{className:"fa-solid fa-quote-left text-xs"})})]}),i.jsx("div",{className:`flex-1 overflow-y-auto custom-scrollbar p-4 md:p-6 space-y-1 bg-[var(--bg-card)] ${s?"pb-10":"pb-32"}`,children:w.map((B,de)=>i.jsx(r_,{block:B,index:de,allBlocks:w,isFocused:S===B.id,onUpdate:U=>z(B.id,U),onKeyDown:(U,Q,W)=>V(U,Q,W),onFocus:()=>M(B.id),onContextMenu:le},B.id))}),I.visible&&i.jsxs("div",{className:"fixed z-[200] bg-slate-900 text-white p-1 rounded-xl shadow-2xl flex items-center gap-1 tiktok-blur animate-in fade-in zoom-in-95 scale-90",style:{top:I.y-45,left:I.x},children:[i.jsx("button",{onMouseDown:B=>{B.preventDefault(),te("bold")},className:"w-8 h-8 rounded-lg hover:bg-white/10 transition-colors",children:i.jsx("i",{className:"fa-solid fa-bold text-xs"})}),i.jsx("button",{onMouseDown:B=>{B.preventDefault(),te("italic")},className:"w-8 h-8 rounded-lg hover:bg-white/10 transition-colors",children:i.jsx("i",{className:"fa-solid fa-italic text-xs"})}),i.jsx("button",{onMouseDown:B=>{B.preventDefault(),te("underline")},className:"w-8 h-8 rounded-lg hover:bg-white/10 transition-colors text-[var(--primary)]",children:i.jsx("i",{className:"fa-solid fa-underline text-xs"})})]}),i.jsx("footer",{className:"p-3 border-t border-[var(--border-color)] flex items-center justify-between bg-[var(--bg-card)] shrink-0",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${_?"bg-[var(--primary)] animate-pulse":"bg-emerald-400"}`}),i.jsx("span",{className:"text-[8px] font-black text-[var(--text-muted)] uppercase tracking-widest",children:_?"":""})]})})]})]})},Fs=({task:l,onClose:t})=>{const{updateTask:n,scheduleTask:s,tags:o,addTag:u,projects:p,people:g,hobbies:v,addChecklistItem:x,toggleChecklistItem:y,removeChecklistItem:N,toggleTaskStatus:w}=$e(),[j,_]=A.useState("notes"),[T,S]=A.useState(!1),[M,I]=A.useState(""),[D,O]=A.useState(""),[R,$]=A.useState(l.title),k=A.useRef(null),z=A.useRef(null);A.useEffect(()=>{$(l.title)},[l.id,l.title]);const G=B=>{n({...l,scheduledDate:B}),S(!1)},V=B=>{l.tags.includes(B)||n({...l,tags:[...l.tags,B]})},te=B=>{M.trim()&&(x(l.id,M.trim()),I(""),setTimeout(()=>{var de;return(de=z.current)==null?void 0:de.focus()},0))},le=l.status===Ne.DONE,X=p.find(B=>B.id===l.projectId);return i.jsxs("div",{className:"w-full flex flex-col h-full bg-[var(--bg-card)] relative",children:[i.jsxs("header",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-color)] shrink-0 bg-[var(--bg-card)] sticky top-0 z-20",children:[i.jsxs("div",{className:"flex items-center gap-2 relative",children:[i.jsxs("button",{onClick:()=>S(!T),className:`h-7 px-2.5 rounded-lg text-[9px] font-black uppercase tracking-widest flex items-center gap-2 transition-all ${l.scheduledDate?"bg-[var(--primary)] text-white shadow-md":"bg-[var(--bg-main)] text-[var(--text-muted)] hover:bg-[var(--border-color)]"}`,children:[i.jsx("i",{className:"fa-solid fa-calendar-day text-[10px]"}),l.scheduledDate?new Date(l.scheduledDate).toLocaleDateString("uk-UA",{day:"numeric",month:"short"}):" "]}),i.jsxs("div",{className:"flex bg-[var(--bg-main)] p-0.5 rounded-lg border border-[var(--border-color)]",children:[i.jsx("button",{onClick:()=>n({...l,isEvent:!1}),className:`px-2 py-1 rounded-md text-[7px] font-black uppercase transition-all ${l.isEvent?"text-[var(--text-muted)]":"bg-[var(--bg-card)] shadow-sm text-[var(--text-main)]"}`,children:""}),i.jsx("button",{onClick:()=>n({...l,isEvent:!0}),className:`px-2 py-1 rounded-md text-[7px] font-black uppercase transition-all ${l.isEvent?"bg-pink-600 text-white shadow-sm":"text-[var(--text-muted)]"}`,children:""})]}),T&&i.jsxs("div",{ref:k,className:"absolute top-9 left-0 w-60 bg-[var(--bg-card)] shadow-2xl rounded-2xl border border-[var(--border-color)] z-[100] p-4 tiktok-blur animate-in fade-in zoom-in-95",children:[i.jsx("input",{type:"date",className:"w-full bg-[var(--bg-main)] p-2 rounded-xl border-none text-[11px] font-bold outline-none text-[var(--text-main)]",onChange:B=>G(new Date(B.target.value).getTime())}),i.jsx("button",{onClick:()=>G(void 0),className:"w-full mt-2 py-1.5 text-[8px] font-black text-rose-500 uppercase hover:bg-rose-50 rounded-lg",children:""})]})]}),i.jsx("button",{onClick:t,className:"w-8 h-8 rounded-xl hover:bg-[var(--bg-main)] text-[var(--text-muted)] flex items-center justify-center transition-all shrink-0",children:i.jsx("i",{className:"fa-solid fa-xmark text-xs"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[var(--bg-card)]",children:i.jsxs("div",{className:"p-4 md:p-5 space-y-5",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("button",{onClick:B=>{B.stopPropagation(),w(l)},className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center shrink-0 mt-1 transition-all ${le?"bg-emerald-500 border-emerald-500 text-white":"border-[var(--border-color)] bg-[var(--bg-card)] text-transparent hover:border-[var(--primary)]"}`,children:i.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("input",{type:"text",value:R,onChange:B=>$(B.target.value),onBlur:()=>n({...l,title:R}),placeholder:"  ...",className:`w-full bg-transparent text-xl font-black border-none focus:ring-0 p-0 placeholder:opacity-20 leading-tight mb-1 outline-none ${le?"line-through text-[var(--text-muted)]":"text-[var(--text-main)]"}`}),X&&i.jsxs("span",{className:"text-[7px] font-black uppercase text-[var(--primary)] bg-[var(--primary)]/5 px-1.5 py-0.5 rounded",children:["# ",X.name]})]})]}),i.jsxs("div",{className:"flex items-center gap-1.5 bg-[var(--bg-main)]/50 p-1 rounded-xl border border-[var(--border-color)]",children:[i.jsxs("div",{className:"flex items-center gap-1.5 bg-[var(--bg-card)] px-2 py-1 rounded-lg border border-[var(--border-color)] shadow-sm shrink-0 transition-all hover:border-[var(--primary)]/30",children:[i.jsx("i",{className:"fa-solid fa-user-ninja text-indigo-400 text-[9px]"}),i.jsxs("select",{value:l.personId||"",onChange:B=>n({...l,personId:B.target.value||void 0}),className:"bg-transparent border-none text-[9px] font-black uppercase tracking-tight focus:ring-0 p-0 outline-none w-16 cursor-pointer text-[var(--text-main)]",children:[i.jsx("option",{value:"",children:""}),g.map(B=>i.jsx("option",{value:B.id,children:B.name},B.id))]})]}),i.jsxs("div",{className:"flex-1 min-w-0 bg-[var(--bg-card)] px-2 py-1 rounded-lg border border-[var(--border-color)] shadow-sm focus-within:ring-2 focus-within:ring-[var(--primary)]/10 transition-all flex items-center gap-1.5",children:[i.jsx("i",{className:"fa-solid fa-tag text-[var(--primary)] text-[9px] shrink-0"}),i.jsx(zx,{value:D,onChange:O,onSelectTag:B=>{V(B),O("")},className:"w-full border-none text-[9px] font-black uppercase placeholder:text-[var(--text-muted)] p-0 bg-transparent text-[var(--text-main)]",placeholder:"..."})]})]}),i.jsxs("div",{className:"flex gap-4 border-b border-[var(--border-color)]",children:[i.jsx("button",{onClick:()=>_("notes"),className:`pb-2 text-[9px] font-black uppercase tracking-widest border-b-2 transition-all ${j==="notes"?"border-[var(--primary)] text-[var(--text-main)]":"border-transparent text-[var(--text-muted)] hover:text-[var(--text-main)]"}`,children:""}),i.jsxs("button",{onClick:()=>_("checklist"),className:`pb-2 text-[9px] font-black uppercase tracking-widest border-b-2 transition-all ${j==="checklist"?"border-[var(--primary)] text-[var(--text-main)]":"border-transparent text-[var(--text-muted)] hover:text-[var(--text-main)]"}`,children:[" (",(l.checklist||[]).length,")"]})]}),i.jsx("div",{className:"min-h-[300px]",children:j==="checklist"?i.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[i.jsx("input",{ref:z,value:M,onChange:B=>I(B.target.value),onKeyDown:B=>{B.key==="Enter"&&te()},placeholder:"+   ...",className:"w-full bg-[var(--bg-main)] border-none rounded-xl py-3 px-4 text-[12px] font-bold outline-none focus:ring-2 focus:ring-[var(--primary)]/10 transition-all shadow-inner text-[var(--text-main)]"}),i.jsx("div",{className:"space-y-1",children:(l.checklist||[]).map(B=>i.jsxs("div",{className:"flex items-center gap-3 py-2 px-3 hover:bg-[var(--bg-main)] rounded-xl group/item transition-colors",children:[i.jsx("button",{onClick:()=>y(l.id,B.id),className:`w-4.5 h-4.5 rounded-lg border flex items-center justify-center transition-all ${B.completed?"bg-emerald-500 border-emerald-500 text-white":"border-[var(--border-color)] bg-[var(--bg-card)] text-transparent group-hover/item:border-[var(--primary)]"}`,children:i.jsx("i",{className:"fa-solid fa-check text-[8px]"})}),i.jsx("span",{className:`text-[12px] flex-1 truncate ${B.completed?"text-[var(--text-muted)] line-through":"text-[var(--text-main)] font-bold"}`,children:B.title}),i.jsx("button",{onClick:()=>N(l.id,B.id),className:"opacity-0 group-hover/item:opacity-100 text-[var(--text-muted)] hover:text-rose-500 transition-all",children:i.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]},B.id))})]}):i.jsx("div",{className:"animate-in fade-in h-full",children:i.jsx(Vx,{id:l.id,date:new Date(l.createdAt).toISOString().split("T")[0],onClose:()=>{},standaloneMode:!0,initialContent:l.content,onContentChange:B=>n({...l,content:B})})})})]})}),i.jsx("footer",{className:"p-4 md:p-5 border-t border-[var(--border-color)] shrink-0 bg-[var(--bg-card)]",children:i.jsx(Fe,{onClick:()=>{n({...l,title:R}),t()},className:"w-full py-4 rounded-2xl shadow-xl font-black uppercase tracking-widest text-[10px]",children:"  "})})]})},qn=(l=300,t=800)=>{const{detailsWidth:n,setDetailsWidth:s}=$e(),[o,u]=A.useState(!1),p=A.useCallback(x=>{x.preventDefault(),u(!0)},[]),g=A.useCallback(()=>{u(!1)},[]),v=A.useCallback(x=>{if(!o)return;const y=window.innerWidth-x.clientX;y>l&&y<t&&s(y)},[o,s,l,t]);return A.useEffect(()=>(o?(window.addEventListener("mousemove",v),window.addEventListener("mouseup",g)):(window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",g)),()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",g)}),[o,v,g]),{isResizing:o,startResizing:p,detailsWidth:n}},o_=({decisions:l,onClose:t,onConfirm:n})=>{const{tasks:s}=$e(),[o,u]=A.useState(new Set(l.map(v=>v.id))),p=v=>{const x=new Set(o);x.has(v)?x.delete(v):x.add(v),u(x)},g=v=>v==="tasks"?"":v==="notes"?"":v==="project"?"":v;return i.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 tiktok-blur",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-950/60",onClick:t}),i.jsxs(Me,{className:"w-full max-w-2xl max-h-[85vh] bg-white border-none shadow-2xl overflow-hidden flex flex-col relative animate-in zoom-in-95 duration-300 rounded-[2.5rem]",children:[i.jsxs("header",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-white sticky top-0 z-10",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-tr from-orange-500 to-pink-500 flex items-center justify-center text-white shadow-lg shadow-orange-200",children:i.jsx("i",{className:"fa-solid fa-sparkles text-xl"})}),i.jsxs("div",{children:[i.jsx(Y,{variant:"h2",className:"text-2xl mb-1 tracking-tight",children:" "}),i.jsx(Y,{variant:"tiny",className:"text-slate-400",children:"     "})]})]}),i.jsx("button",{onClick:t,className:"w-10 h-10 rounded-2xl bg-slate-50 flex items-center justify-center text-slate-300 hover:text-slate-900 transition-all",children:i.jsx("i",{className:"fa-solid fa-xmark"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-8 space-y-6",children:l.map(v=>{var w,j,_;const x=s.find(T=>T.id===v.id);if(!x)return null;const y=o.has(v.id),N=v.decomposition||v.profileImpact;return i.jsxs("div",{onClick:()=>p(v.id),className:`p-6 rounded-[2.5rem] border-2 transition-all cursor-pointer group flex items-start gap-5 ${y?"bg-white border-orange-200 shadow-xl ring-1 ring-orange-100":"bg-slate-50/50 border-transparent opacity-60 grayscale"}`,children:[i.jsx("div",{className:`w-8 h-8 rounded-full border-2 flex items-center justify-center shrink-0 mt-1 transition-all ${y?"bg-orange-600 border-orange-600 text-white shadow-inner":"bg-white border-slate-200 text-transparent"}`,children:i.jsx("i",{className:"fa-solid fa-check text-[12px]"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(Y,{variant:"h3",className:"text-base mb-2 truncate group-hover:text-orange-600 transition-colors",children:x.title}),i.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[i.jsx(Xe,{variant:"orange",className:"text-[7px] py-0 px-1.5 uppercase font-black",children:g(v.category)}),i.jsx(Xe,{variant:"indigo",className:"text-[7px] py-0 px-1.5 uppercase font-black",children:v.priority}),v.tags.map(T=>i.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:["#",T]},T))]}),i.jsxs("div",{className:"bg-slate-50/50 p-4 rounded-2xl border border-slate-100 italic text-[11px] text-slate-500 leading-relaxed mb-4",children:['"',v.reason,'"']}),y&&N&&i.jsxs("div",{className:"space-y-4 mt-4 border-t border-slate-100 pt-4 animate-in slide-in-from-top-2",children:[v.decomposition&&i.jsxs("div",{className:"space-y-3",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 mb-2 uppercase font-black text-[7px]",children:"  :"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[(w=v.decomposition.subtasks)==null?void 0:w.map((T,S)=>i.jsx("div",{className:"bg-slate-100 px-2 py-1 rounded text-[9px] font-bold",children:"+ "},S)),(j=v.decomposition.people)==null?void 0:j.map((T,S)=>i.jsxs("div",{className:"bg-sky-50 text-sky-700 px-2 py-1 rounded text-[9px] font-bold",children:[i.jsx("i",{className:"fa-solid fa-user-plus mr-1"})," ",T.name]},S)),(_=v.decomposition.events)==null?void 0:_.map((T,S)=>i.jsxs("div",{className:"bg-pink-50 text-pink-700 px-2 py-1 rounded text-[9px] font-bold",children:[i.jsx("i",{className:"fa-solid fa-calendar mr-1"})," "]},S))]})]}),v.profileImpact&&i.jsxs("div",{className:"space-y-3",children:[i.jsx(Y,{variant:"tiny",className:"text-orange-500 mb-2 uppercase font-black text-[7px]",children:" :"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.profileImpact.bioUpdate&&i.jsx(Xe,{variant:"orange",className:"text-[7px]",children:" Bio"}),v.profileImpact.roleUpdate&&i.jsx(Xe,{variant:"orange",className:"text-[7px]",children:" "}),v.profileImpact.newBelief&&i.jsx(Xe,{variant:"indigo",className:"text-[7px]",children:" "}),v.profileImpact.newFocusBlocker&&i.jsx(Xe,{variant:"rose",className:"text-[7px]",children:"Focus-blocker"})]})]})]})]})]},v.id)})}),i.jsxs("footer",{className:"p-8 border-t border-slate-50 bg-slate-50/30 flex gap-4 sticky bottom-0 z-10",children:[i.jsx(Fe,{variant:"ghost",className:"flex-1 py-4",onClick:t,children:""}),i.jsxs(Fe,{variant:"primary",className:"flex-[2] py-4 shadow-xl shadow-orange-200",disabled:o.size===0,onClick:()=>n(o),children:["  (",o.size,")"]})]})]})]})},eu=({showCompleted:l=!1,showNextActions:t=!1})=>{const{tasks:n,toggleTaskStatus:s,addTask:o,updateTask:u,inboxCategories:p,updateInboxCategory:g,deleteInboxCategory:v,addInboxCategory:x,character:y,aiEnabled:N,people:w}=$e(),{detailsWidth:j}=qn(),[_,T]=A.useState(null),[S,M]=A.useState(""),[I,D]=A.useState(!1),[O,R]=A.useState(""),[$,k]=A.useState(null),[z,G]=A.useState(""),[V,te]=A.useState(null),[le,X]=A.useState(!1),[B,de]=A.useState([]),[U,Q]=A.useState(!1),[W,pe]=A.useState(window.innerWidth<1024);A.useEffect(()=>{const K=()=>pe(window.innerWidth<1024);return window.addEventListener("resize",K),()=>window.removeEventListener("resize",K)},[]);const ve=t?"actions":"inbox",E=t?Ne.NEXT_ACTION:Ne.INBOX,P=K=>{K&&K.preventDefault(),S.trim()&&(o(S.trim(),t?"tasks":"unsorted",void 0,"actions",!1,void 0,void 0,E),M(""))},se=K=>{K.preventDefault(),O.trim()&&(x(O.trim(),ve),R(""),D(!1))},fe=K=>{z.trim()&&g(K,{title:z.trim()}),k(null)},xe=(K,Ce)=>{K.dataTransfer.setData("taskId",Ce)},_e=(K,Ce)=>{K.preventDefault(),te(null);const Ie=K.dataTransfer.getData("taskId"),ct=n.find(wt=>wt.id===Ie);if(ct){const wt=p.find(Pn=>Pn.id===Ce),Mt=((wt==null?void 0:wt.scope)||ve)==="actions"?Ne.NEXT_ACTION:Ne.INBOX;u({...ct,category:Ce,status:Mt,isDeleted:!1})}},ze=A.useMemo(()=>p.filter(K=>K.id==="pinned"?!0:K.id==="unsorted"||K.id==="notes"?!t:K.id==="tasks"?t:K.scope===ve),[p,ve,t]),lt=async()=>{const K=n.filter(Ce=>!Ce.isDeleted&&Ce.status===E&&(Ce.category==="unsorted"||!Ce.category));if(K.length!==0){X(!0);try{const Ce=await t_(K.map(Ie=>({id:Ie.id,title:Ie.title,content:Ie.content})),y,w.map(Ie=>Ie.name));de(Ce),Q(!0)}catch{alert(" AI.")}finally{X(!1)}}};return i.jsxs("div",{className:"h-screen flex flex-col lg:flex-row overflow-hidden relative bg-[var(--bg-main)]",children:[i.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full relative",children:[i.jsxs("header",{className:"px-4 md:px-6 pt-4 md:pt-6 pb-2 md:pb-4 border-b border-[var(--border-color)] flex flex-col gap-4 sticky top-0 bg-[var(--bg-card)] z-20 shadow-sm shrink-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center text-white shadow-lg ${t?"bg-amber-500":"bg-indigo-600"}`,children:i.jsx("i",{className:`fa-solid ${t?"fa-bolt-lightning":"fa-inbox"}`})}),i.jsxs("div",{children:[i.jsx(Y,{variant:"h1",className:"text-lg md:text-xl font-black uppercase tracking-tight",children:t?" ":""}),i.jsxs(Y,{variant:"tiny",className:"text-[var(--text-muted)] opacity-50 uppercase tracking-widest text-[8px]",children:[n.filter(K=>!K.isDeleted&&K.status===E).length," "]})]})]}),i.jsxs(Fe,{size:"sm",variant:"white",onClick:()=>D(!I),className:"h-9 px-3 rounded-xl gap-2 text-[9px] font-black uppercase tracking-widest",children:[i.jsx("i",{className:`fa-solid ${I?"fa-xmark text-rose-500":"fa-folder-plus text-orange-500"}`}),I?"":""]})]}),I&&i.jsxs("form",{onSubmit:se,className:"flex gap-2 animate-in slide-in-from-top-2 duration-300",children:[i.jsx("input",{autoFocus:!0,value:O,onChange:K=>R(K.target.value),placeholder:`   ${t?"":""}...`,className:"flex-1 bg-[var(--bg-main)] border-2 border-[var(--primary)]/20 rounded-2xl px-5 py-3 text-xs font-bold outline-none focus:border-[var(--primary)] transition-all shadow-inner"}),i.jsx(Fe,{variant:"primary",type:"submit",className:"rounded-2xl px-6",children:"OK"})]}),i.jsxs("form",{onSubmit:P,className:"flex gap-2",children:[i.jsx("div",{className:"flex-1",children:i.jsx(zx,{value:S,onChange:M,onSelectTag:()=>{},onEnter:P,placeholder:t?"  ...":" ...",className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl px-5 py-3 text-sm font-bold outline-none focus:ring-4 focus:ring-[var(--primary)]/5 transition-all"})}),i.jsx(Fe,{size:"md",type:"submit",className:"rounded-2xl shadow-lg px-6",children:"OK"})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-6 space-y-8 pb-32",children:ze.map(K=>{const Ce=n.filter(Ve=>!Ve.isDeleted&&Ve.status===E&&(K.isPinned?Ve.isPinned:Ve.category===K.id)),Ie=$===K.id,ct=["pinned","unsorted","tasks","notes"].includes(K.id),wt=V===K.id;return Ce.length===0&&ct&&!["unsorted","tasks"].includes(K.id)?null:i.jsxs("section",{onDragOver:Ve=>{Ve.preventDefault(),te(K.id)},onDragLeave:()=>te(null),onDrop:Ve=>_e(Ve,K.id),className:`space-y-3 rounded-[2rem] transition-all duration-200 ${wt?"bg-[var(--primary)]/5 ring-4 ring-[var(--primary)]/10 p-3 -m-3":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between px-2",children:[i.jsxs("div",{className:"flex items-center gap-2 group/title flex-1",children:[i.jsx("div",{className:`w-1.5 h-4 rounded-full bg-[var(--primary)] ${Ce.length>0?"opacity-100":"opacity-20"}`}),Ie?i.jsx("input",{autoFocus:!0,value:z,onChange:Ve=>G(Ve.target.value),onBlur:()=>fe(K.id),onKeyDown:Ve=>Ve.key==="Enter"&&fe(K.id),className:"bg-transparent border-b-2 border-[var(--primary)] outline-none text-[9px] font-black uppercase tracking-widest text-slate-900"}):i.jsx(Y,{variant:"tiny",onClick:()=>!ct&&(k(K.id),G(K.title)),className:`text-[var(--text-main)] font-black uppercase text-[9px] tracking-[0.2em] ${ct?"":"cursor-edit hover:text-[var(--primary)]"}`,children:K.title})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[8px] font-black text-slate-300",children:Ce.length}),!ct&&i.jsx("button",{onClick:()=>v(K.id),className:"text-slate-200 hover:text-rose-500 transition-colors p-1",children:i.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[Ce.map(Ve=>i.jsxs(Me,{padding:"none",draggable:!0,onDragStart:Mt=>xe(Mt,Ve.id),onClick:()=>T(Ve.id),className:"flex items-center gap-4 p-4 cursor-grab active:cursor-grabbing hover:border-[var(--primary)]/50 bg-[var(--bg-card)] group shadow-sm hover:shadow-md transition-all rounded-2xl border-transparent",children:[i.jsx("button",{onClick:Mt=>{Mt.stopPropagation(),s(Ve)},className:`w-6 h-6 rounded-xl border-2 transition-all flex items-center justify-center shrink-0 ${Ve.status===Ne.DONE?"bg-emerald-500 border-emerald-500 text-white":"border-[var(--border-color)] bg-white"}`,children:Ve.status===Ne.DONE&&i.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),i.jsx("span",{className:`text-[13px] md:text-sm font-bold flex-1 truncate ${Ve.status===Ne.DONE?"text-[var(--text-muted)] line-through":"text-[var(--text-main)]"}`,children:Ve.title}),i.jsx("i",{className:"fa-solid fa-grip-vertical text-slate-100 group-hover:text-slate-300 transition-colors text-[10px]"})]},Ve.id)),Ce.length===0&&i.jsxs("div",{className:"py-8 border-2 border-dashed border-slate-100/50 rounded-2xl flex flex-col items-center justify-center grayscale opacity-10",children:[i.jsx("i",{className:"fa-solid fa-folder-open text-xl mb-1"}),i.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest",children:" "})]})]})]},K.id)})}),N&&i.jsx("div",{className:`absolute left-1/2 -translate-x-1/2 z-30 ${W?"bottom-24":"bottom-8"}`,children:i.jsxs("button",{onClick:lt,disabled:le,className:"bg-slate-900 text-white px-8 py-4 rounded-[2rem] shadow-2xl flex items-center gap-3 hover:scale-105 active:scale-95 transition-all font-black uppercase text-[10px] tracking-widest border border-white/10 ring-4 ring-slate-900/5",children:[le?i.jsx("i",{className:"fa-solid fa-circle-notch animate-spin"}):i.jsx("i",{className:"fa-solid fa-sparkles text-orange-400"}),le?"...":" "]})})]}),i.jsx("div",{className:`flex h-full border-l border-[var(--border-color)] z-[110] bg-[var(--bg-card)] shrink-0 transition-all duration-300 ${W?_?"fixed inset-0 w-full translate-x-0":"fixed inset-0 w-full translate-x-full":""}`,children:i.jsx("div",{style:{width:W?"100vw":j},className:"h-full bg-[var(--bg-card)] relative overflow-hidden flex flex-col shadow-2xl",children:_?i.jsx(Fs,{task:n.find(K=>K.id===_),onClose:()=>T(null)}):!W&&i.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 text-center opacity-5 grayscale pointer-events-none",children:[" ",i.jsx("i",{className:"fa-solid fa-inbox text-9xl mb-8"})," "]})})}),U&&i.jsx(o_,{decisions:B,onClose:()=>Q(!1),onConfirm:()=>Q(!1)})]})},c_=({currentDate:l,viewMode:t,onNavigate:n,onToday:s,onSetViewMode:o})=>i.jsxs("header",{className:"p-4 bg-white border-b border-slate-100 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shadow-sm z-20 shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Y,{variant:"h3",className:"text-slate-900 capitalize min-w-[140px] text-base",children:t==="year"?l.getFullYear():l.toLocaleString("uk-UA",{month:"long",year:"numeric"})}),i.jsxs("div",{className:"flex bg-slate-100 rounded-xl p-0.5",children:[i.jsx("button",{onClick:()=>n(-1),className:"w-8 h-8 flex items-center justify-center text-slate-500 hover:text-orange-600 transition-colors",children:i.jsx("i",{className:"fa-solid fa-chevron-left text-[10px]"})}),i.jsx("button",{onClick:s,className:"px-3 text-[9px] font-black uppercase text-slate-500 hover:text-orange-600 border-x border-slate-200 transition-colors",children:""}),i.jsx("button",{onClick:()=>n(1),className:"w-8 h-8 flex items-center justify-center text-slate-500 hover:text-orange-600 transition-colors",children:i.jsx("i",{className:"fa-solid fa-chevron-right text-[10px]"})})]})]}),i.jsx("div",{className:"flex bg-slate-100 rounded-xl p-0.5",children:["day","week","month","year"].map(u=>i.jsx("button",{onClick:()=>o(u),className:`px-4 py-1.5 rounded-lg text-[8px] font-black uppercase tracking-widest transition-all ${t===u?"bg-white shadow-sm text-orange-600":"text-slate-400 hover:text-slate-600"}`,children:u==="day"?"":u==="week"?"":u==="month"?"":""},u))})]}),Bn=({label:l,icon:t,type:n,level:s,isOpen:o,count:u,color:p,onToggle:g,onAdd:v,onClick:x,isDraggable:y,onDragStart:N,children:w})=>i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{draggable:y,onDragStart:N,onClick:g||x,className:`group flex items-center gap-1.5 py-1 px-2 cursor-pointer hover:bg-black/5 rounded-lg transition-colors relative ${s>0?"ml-2":""} ${o&&(n==="folder"||n==="system")?"bg-black/[0.02]":""}`,children:[i.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[n==="folder"||n==="system"||w&&zs.Children.count(w)>0?i.jsx("i",{className:`fa-solid fa-chevron-right text-[7px] text-slate-300 transition-transform ${o?"rotate-90":""}`}):i.jsx("div",{className:"w-2.5"}),i.jsx("i",{className:`fa-solid ${t} text-[10px] w-4 text-center ${n==="event"?"text-pink-500":n==="note"?"text-indigo-400":n==="folder"?"text-orange-400":"text-slate-400"}`,style:p?{color:p}:{}})]}),i.jsx("span",{className:`text-[10px] truncate flex-1 uppercase tracking-tight ${n==="folder"||n==="system"?"font-black text-slate-700":"font-bold text-slate-500"}`,children:l}),u!==void 0&&u>0&&i.jsx("span",{className:"text-[7px] font-black text-slate-300 bg-slate-100 px-1.5 rounded-full group-hover:bg-white transition-colors",children:u}),v&&i.jsx("i",{onClick:v,className:"fa-solid fa-plus text-[8px] text-slate-200 hover:text-orange-500 opacity-0 group-hover:opacity-100 p-1",title:""})]}),o&&w&&i.jsx("div",{className:"border-l border-slate-100 ml-3.5 mt-0.5 pl-1",children:w})]}),u_=({onSelectTask:l})=>{const{tasks:t,projects:n,inboxCategories:s,addProject:o,addTask:u,deleteTask:p}=$e(),[g,v]=A.useState({root_planned:!0,root_inbox:!0,root_actions:!0,root_notes:!1,root_projects:!0}),x=T=>v(S=>({...S,[T]:!S[T]})),y=A.useMemo(()=>t.filter(T=>!T.isDeleted&&T.status!==Ne.DONE&&!!T.scheduledDate),[t]),N=A.useMemo(()=>t.filter(T=>!T.isDeleted&&T.status!==Ne.DONE&&!T.scheduledDate),[t]),w=A.useMemo(()=>t.filter(T=>!T.isDeleted&&T.category==="note"),[t]),j=A.useMemo(()=>n.filter(T=>{var S;return T.status==="active"&&((S=T.description)==null?void 0:S.includes("FOLDER_NOTE"))}),[n]),_=(T,S)=>i.jsx(Bn,{id:T.id,label:T.title,icon:T.isEvent?"fa-calendar-star":T.category==="note"?"fa-note-sticky":"fa-circle-dot",type:T.isEvent?"event":T.category==="note"?"note":"task",level:S,onClick:()=>l(T.id),isDraggable:!0,onDragStart:M=>M.dataTransfer.setData("taskId",T.id)},T.id);return i.jsxs("aside",{className:"w-64 bg-white border-r border-slate-100 flex flex-col hidden lg:flex shrink-0 select-none shadow-sm h-full overflow-hidden",children:[i.jsx("header",{className:"p-4 border-b border-slate-50 flex items-center justify-between bg-slate-50/50",children:i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black tracking-widest",children:" "})}),i.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-4",children:[i.jsx("section",{children:i.jsx(Bn,{id:"root_inbox",label:" ",icon:"fa-inbox",type:"system",level:-1,isOpen:g.root_inbox,onToggle:()=>x("root_inbox"),children:s.filter(T=>T.scope==="inbox"||T.id==="unsorted"||T.id==="pinned").map(T=>{const S=`cat_inbox_${T.id}`,M=N.filter(I=>I.category===T.id&&I.status===Ne.INBOX);return M.length===0&&T.id!=="unsorted"?null:i.jsx(Bn,{id:T.id,label:T.title,icon:T.icon,type:"folder",level:0,count:M.length,isOpen:g[S],onToggle:()=>x(S),children:M.map(I=>_(I,1))},T.id)})})}),i.jsx("section",{children:i.jsx(Bn,{id:"root_actions",label:" ",icon:"fa-bolt",type:"system",level:-1,isOpen:g.root_actions,onToggle:()=>x("root_actions"),children:s.filter(T=>T.scope==="actions"||T.id==="tasks").map(T=>{const S=`cat_actions_${T.id}`,M=N.filter(I=>I.category===T.id&&I.status===Ne.NEXT_ACTION);return M.length===0&&T.id!=="tasks"?null:i.jsx(Bn,{id:T.id,label:T.title,icon:T.icon,type:"folder",level:0,count:M.length,isOpen:g[S],onToggle:()=>x(S),children:M.map(I=>_(I,1))},T.id)})})}),i.jsx("section",{children:i.jsxs(Bn,{id:"root_notes",label:" ",icon:"fa-note-sticky",type:"system",level:-1,isOpen:g.root_notes,onToggle:()=>x("root_notes"),children:[j.map(T=>{const S=`folder_notes_${T.id}`,M=w.filter(I=>I.projectId===T.id);return i.jsx(Bn,{id:T.id,label:T.name,icon:"fa-folder",type:"folder",level:0,count:M.length,isOpen:g[S],onToggle:()=>x(S),children:M.map(I=>_(I,1))},T.id)}),w.filter(T=>!T.projectId).length>0&&i.jsx(Bn,{id:"unsorted_notes",label:"",icon:"fa-file-lines",type:"folder",level:0,count:w.filter(T=>!T.projectId).length,isOpen:g.unsorted_notes,onToggle:()=>x("unsorted_notes"),children:w.filter(T=>!T.projectId).map(T=>_(T,1))})]})}),i.jsx("section",{children:i.jsx(Bn,{id:"root_planned",label:"",icon:"fa-calendar-days",type:"system",level:-1,isOpen:g.root_planned,onToggle:()=>x("root_planned"),children:y.length>0?y.sort((T,S)=>(T.scheduledDate||0)-(S.scheduledDate||0)).slice(0,10).map(T=>_(T,0)):i.jsx("div",{className:"px-6 py-2 text-[8px] text-slate-300 italic uppercase",children:""})})})]}),i.jsx("footer",{className:"p-3 bg-slate-50 border-t border-slate-100",children:i.jsxs("div",{className:"flex items-center justify-between text-[8px] font-black text-slate-400 uppercase tracking-widest px-1",children:[i.jsx("span",{children:" "}),i.jsx("span",{className:"text-orange-600 bg-orange-100 px-1.5 py-0.5 rounded-md",children:t.filter(T=>!T.isDeleted&&T.status!==Ne.DONE).length})]})})]})},d_=({currentDate:l,dragOverDay:t,onDrop:n,onDragOver:s,onDragLeave:o,onSelectTask:u,onAddQuickEvent:p})=>{const{tasks:g,people:v}=$e(),x=zs.useMemo(()=>Array.from({length:42},(y,N)=>{const w=new Date(l.getFullYear(),l.getMonth(),1);return w.setDate(w.getDate()-(w.getDay()===0?6:w.getDay()-1)+N),w}),[l]);return i.jsxs("div",{className:"grid grid-cols-7 gap-px bg-slate-200 rounded-[2rem] overflow-hidden shadow-2xl border border-slate-200 h-full",children:[["","","","","","",""].map(y=>i.jsx("div",{className:"bg-slate-50 p-3 text-center text-[9px] font-black uppercase text-slate-400 border-b border-slate-200 tracking-widest",children:y},y)),x.map((y,N)=>{const w=new Date(y).setHours(0,0,0,0),j=w===new Date().setHours(0,0,0,0),_=y.getMonth()===l.getMonth(),T=y.getMonth(),S=y.getDate(),M=y.getFullYear(),I=g.filter(O=>{if(O.isDeleted)return!1;const R=O.scheduledDate?new Date(O.scheduledDate).setHours(0,0,0,0):null,$=O.endDate?new Date(O.endDate).setHours(0,0,0,0):R;return R?w>=R&&w<=($||R):!1}),D=[];return v.forEach(O=>{var R;if(O.birthDate&&O.birthDateShowInCalendar!==!1){const $=new Date(O.birthDate),k=$.getMonth()===T&&$.getDate()===S,z=$.getFullYear()===M;k&&(O.birthDateRepeatYearly!==!1||z)&&D.push({id:`bd-${O.id}`,title:`: ${O.name}`,type:"birthday"})}(R=O.importantDates)==null||R.forEach($=>{if($.showInCalendar){const k=new Date($.date),z=k.getMonth()===T&&k.getDate()===S,G=k.getFullYear()===M;z&&($.repeatYearly||G)&&D.push({id:`id-${$.id}`,title:`${$.label}: ${O.name}`,type:"important"})}})}),i.jsxs("div",{onDragOver:O=>s(O,w),onDragLeave:o,onDrop:O=>n(O,w),className:`min-h-[120px] p-2 flex flex-col transition-all relative group ${_?"bg-white":"bg-slate-50/50"} ${t===w?"bg-[var(--primary)]/10 ring-2 ring-[var(--primary)] z-10":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[i.jsx("span",{className:`text-xs font-black w-7 h-7 flex items-center justify-center rounded-xl transition-all ${j?"bg-orange-600 text-white shadow-xl shadow-orange-100 scale-110":_?"text-slate-900 group-hover:text-orange-600":"text-slate-300"}`,children:y.getDate()}),i.jsx("button",{onClick:O=>{O.stopPropagation(),p(w)},className:"opacity-0 group-hover:opacity-100 w-7 h-7 rounded-xl bg-slate-900 text-white shadow-lg flex items-center justify-center transition-all hover:scale-110 active:scale-95",children:i.jsx("i",{className:"fa-solid fa-plus text-[10px]"})})]}),i.jsxs("div",{className:"flex-1 space-y-1 mt-1 overflow-hidden",children:[D.map(O=>i.jsxs("div",{className:`text-[9px] font-black truncate px-2 py-1 rounded-lg border flex items-center gap-1.5 ${O.type==="birthday"?"bg-amber-50 border-amber-200 text-amber-700 shadow-sm":"bg-indigo-50 border-indigo-200 text-indigo-700"}`,children:[i.jsx("i",{className:`fa-solid ${O.type==="birthday"?"fa-cake-candles":"fa-bell"} text-[7px]`}),i.jsx("span",{className:"truncate",children:O.title})]},O.id)),I.slice(0,5).map(O=>i.jsx("div",{draggable:!0,onDragStart:R=>{R.dataTransfer.setData("taskId",O.id)},onClick:R=>{R.stopPropagation(),u(O.id)},className:`text-[9px] font-black truncate px-2 py-1.5 rounded-xl border transition-all cursor-grab active:cursor-grabbing ${O.isEvent?"bg-pink-600 text-white border-pink-700 shadow-sm hover:brightness-110":"bg-white border-slate-100 text-slate-700 hover:border-orange-200 hover:bg-orange-50/20"}`,children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[O.isEvent?i.jsx("i",{className:"fa-solid fa-calendar-star text-[7px] animate-pulse"}):i.jsx("div",{className:"w-1 h-1 rounded-full bg-orange-400"}),i.jsx("span",{className:"truncate",children:O.title})]})},O.id)),I.length+D.length>5&&i.jsxs("div",{className:"text-[8px] font-black text-orange-500 uppercase px-2 py-1 bg-orange-50 rounded-lg inline-block",children:["+ ",I.length+D.length-5," "]})]})]},N)})]})},f_=60,m_=({currentDate:l,dragOverDay:t,onDrop:n,onDragOver:s,onDragLeave:o,onSelectTask:u,onAddQuickEvent:p})=>{const{tasks:g,people:v}=$e(),x=zs.useMemo(()=>{const y=new Date(l),N=y.getDay(),w=y.getDate()-N+(N===0?-6:1);return y.setDate(w),y.setHours(0,0,0,0),Array.from({length:7},(j,_)=>{const T=new Date(y);return T.setDate(y.getDate()+_),T})},[l]);return i.jsxs("div",{className:"flex flex-col h-full bg-white rounded-3xl overflow-hidden shadow-xl border border-slate-200",children:[i.jsxs("div",{className:"flex border-b border-slate-100 bg-slate-50/50",children:[i.jsx("div",{className:"w-12 border-r border-slate-100"}),x.map((y,N)=>{const w=y.toDateString()===new Date().toDateString();return i.jsxs("div",{className:"flex-1 p-2 text-center border-r border-slate-100 last:border-r-0",children:[i.jsx("div",{className:"text-[8px] font-black uppercase text-slate-400 mb-1",children:y.toLocaleString("uk-UA",{weekday:"short"})}),i.jsx("div",{className:`mx-auto w-7 h-7 rounded-lg flex items-center justify-center text-[11px] font-black ${w?"bg-orange-600 text-white shadow-lg":"text-slate-800"}`,children:y.getDate()})]},N)})]}),i.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar relative",children:i.jsxs("div",{className:"flex",style:{height:24*f_},children:[i.jsx("div",{className:"w-12 border-r border-slate-100 bg-slate-50/20 sticky left-0 z-20",children:Array.from({length:24},(y,N)=>i.jsxs("div",{className:"h-[60px] text-[8px] font-black text-slate-300 text-right pr-2 pt-2 border-b border-slate-50",children:[N,":00"]},N))}),x.map((y,N)=>{const w=y.getTime(),j=y.getMonth(),_=y.getDate(),T=y.getFullYear(),S=g.filter(I=>{if(I.isDeleted)return!1;const D=I.scheduledDate?new Date(I.scheduledDate).setHours(0,0,0,0):null,O=I.endDate?new Date(I.endDate).setHours(0,0,0,0):D;return D?w>=D&&w<=(O||D):!1}),M=[];return v.forEach(I=>{var D;if(I.birthDate&&I.birthDateShowInCalendar!==!1){const O=new Date(I.birthDate),R=O.getMonth()===j&&O.getDate()===_,$=O.getFullYear()===T;R&&(I.birthDateRepeatYearly!==!1||$)&&M.push({id:`bd-${I.id}`,title:` : ${I.name}`,type:"birthday"})}(D=I.importantDates)==null||D.forEach(O=>{if(O.showInCalendar){const R=new Date(O.date),$=R.getMonth()===j&&R.getDate()===_,k=R.getFullYear()===T;$&&(O.repeatYearly||k)&&M.push({id:`id-${O.id}`,title:` ${O.label}: ${I.name}`,type:"important"})}})}),i.jsxs("div",{onDragOver:I=>s(I,w),onDragLeave:o,onDrop:I=>n(I,w),onClick:()=>p(w),className:`flex-1 border-r border-slate-100 last:border-r-0 relative group cursor-pointer transition-colors ${t===w?"bg-orange-50/30 ring-inset ring-2 ring-orange-200":"hover:bg-slate-50/50"}`,children:[Array.from({length:24},(I,D)=>i.jsx("div",{className:"h-[60px] border-b border-slate-50/50"},D)),i.jsxs("div",{className:"absolute inset-0 p-1.5 space-y-1.5",children:[M.map(I=>i.jsx("div",{className:`p-1.5 rounded-lg border text-[9px] font-black shadow-sm ${I.type==="birthday"?"bg-amber-100 border-amber-200 text-amber-800":"bg-indigo-100 border-indigo-200 text-indigo-800"}`,children:i.jsx("div",{className:"truncate",children:I.title})},I.id)),S.map(I=>i.jsxs("div",{draggable:!0,onDragStart:D=>D.dataTransfer.setData("taskId",I.id),onClick:D=>{D.stopPropagation(),u(I.id)},className:`p-2 rounded-xl border text-[10px] font-bold shadow-sm transition-all hover:scale-[1.02] cursor-grab active:cursor-grabbing ${I.isEvent?"bg-pink-500 text-white border-pink-600":"bg-white border-slate-100 text-slate-700 hover:border-orange-200"}`,children:[i.jsx("div",{className:"truncate mb-0.5",children:I.title}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-[7px] opacity-70 uppercase font-black",children:I.isEvent?"":""}),I.status===Ne.DONE&&i.jsx("i",{className:"fa-solid fa-check text-[8px]"})]})]},I.id))]})]},N)})]})})]})},Ds=60,p_=({block:l,onClose:t,onSave:n})=>{const[s,o]=A.useState((l==null?void 0:l.title)||""),[u,p]=A.useState((l==null?void 0:l.startHour)||9),[g,v]=A.useState((l==null?void 0:l.endHour)||10),[x,y]=A.useState((l==null?void 0:l.type)||"work"),[N,w]=A.useState((l==null?void 0:l.color)||"#f97316");return i.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/30 backdrop-blur-sm",onClick:t}),i.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[2rem] p-8 shadow-2xl relative animate-in zoom-in-95 duration-200",children:[i.jsx(Y,{variant:"h2",className:"mb-6 text-xl",children:" "}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 mb-2 block tracking-widest",children:"  "}),i.jsx("input",{autoFocus:!0,value:s,onChange:j=>o(j.target.value),placeholder:":  ",className:"w-full bg-slate-50 border border-slate-100 rounded-2xl py-3 px-4 text-sm font-bold focus:ring-2 focus:ring-orange-200 outline-none"})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 mb-2 block tracking-widest",children:""}),i.jsx("input",{type:"number",min:"0",max:"23",value:u,onChange:j=>p(parseInt(j.target.value)),className:"w-full bg-slate-50 border border-slate-100 rounded-2xl py-3 px-4 text-sm font-bold"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 mb-2 block tracking-widest",children:""}),i.jsx("input",{type:"number",min:"1",max:"24",value:g,onChange:j=>v(parseInt(j.target.value)),className:"w-full bg-slate-50 border border-slate-100 rounded-2xl py-3 px-4 text-sm font-bold"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 mb-2 block tracking-widest",children:"  "}),i.jsx("div",{className:"flex flex-wrap gap-2",children:[{c:"#f97316",l:""},{c:"#10b981",l:""},{c:"#6366f1",l:""},{c:"#ec4899",l:""},{c:"#facc15",l:""}].map(j=>i.jsxs("button",{onClick:()=>w(j.c),className:`px-3 py-1.5 rounded-xl border-2 transition-all flex items-center gap-2 ${N===j.c?"border-slate-900 bg-slate-900 text-white":"border-slate-100 bg-slate-50 text-slate-400 hover:border-slate-200"}`,children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:j.c}}),i.jsx("span",{className:"text-[9px] font-black uppercase tracking-tight",children:j.l})]},j.c))})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(Fe,{variant:"ghost",className:"flex-1 py-3",onClick:t,children:""}),i.jsx(Fe,{variant:"primary",className:"flex-[2] py-3",onClick:()=>n({title:s,startHour:u,endHour:g,type:x,color:N}),children:" "})]})]})]})]})},h_=({currentDate:l,onSelectTask:t,onAddQuickEvent:n})=>{const{tasks:s,toggleTaskStatus:o,timeBlocks:u,addTimeBlock:p,updateTimeBlock:g,deleteTimeBlock:v,saveRoutineAsPreset:x,applyRoutinePreset:y,routinePresets:N,people:w}=$e(),j=A.useRef(null),[_,T]=A.useState(null),[S,M]=A.useState(!1),[I,D]=A.useState(new Date);A.useEffect(()=>{const X=setInterval(()=>D(new Date),6e4);return()=>clearInterval(X)},[]),A.useEffect(()=>{if(j.current){const X=j.current,U=(l.toDateString()===new Date().toDateString()?I.getHours()+I.getMinutes()/60:9)*Ds-X.clientHeight/2;setTimeout(()=>{X.scrollTo({top:Math.max(0,U),behavior:"smooth"})},100)}},[l]);const O=s.filter(X=>{if(X.isDeleted)return!1;const B=X.scheduledDate?new Date(X.scheduledDate).setHours(0,0,0,0):null,de=X.endDate?new Date(X.endDate).setHours(0,0,0,0):B,U=new Date(l).setHours(0,0,0,0);return B?U>=B&&U<=(de||B):!1}),R=l.getMonth(),$=l.getDate(),k=l.getFullYear(),z=A.useMemo(()=>{const X=[];return w.forEach(B=>{var de;if(B.birthDate&&B.birthDateShowInCalendar!==!1){const U=new Date(B.birthDate),Q=U.getMonth()===R&&U.getDate()===$,W=U.getFullYear()===k;Q&&(B.birthDateRepeatYearly!==!1||W)&&X.push({id:`bd-${B.id}`,title:`: ${B.name}`,type:"birthday"})}(de=B.importantDates)==null||de.forEach(U=>{if(U.showInCalendar){const Q=new Date(U.date),W=Q.getMonth()===R&&Q.getDate()===$,pe=Q.getFullYear()===k;W&&(U.repeatYearly||pe)&&X.push({id:`id-${U.id}`,title:`${U.label}: ${B.name}`,type:"important"})}})}),X},[w,R,$,k]),G=l.getDay(),V=A.useMemo(()=>u.filter(X=>X.dayOfWeek===G),[u,G]),te=(I.getHours()+I.getMinutes()/60)*Ds,le=l.toDateString()===new Date().toDateString();return i.jsxs("div",{className:"flex h-full gap-4",children:[i.jsx("div",{className:"flex-1 space-y-4 overflow-y-auto custom-scrollbar pr-2",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] p-10 shadow-sm border border-slate-100",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{children:[i.jsx(Y,{variant:"h3",className:"text-slate-900 text-2xl mb-1",children:l.toLocaleDateString("uk-UA",{day:"numeric",month:"long"})}),i.jsx(Y,{variant:"caption",className:"text-orange-500",children:l.toLocaleDateString("uk-UA",{weekday:"long"})})]}),i.jsxs(Xe,{variant:"orange",className:"px-4 py-1.5 rounded-xl",children:[O.length,"  "]})]}),z.length>0&&i.jsxs("div",{className:"mb-8 space-y-3",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 mb-2 uppercase tracking-widest font-black",children:" "}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:z.map(X=>i.jsxs("div",{className:`p-5 rounded-[2rem] border-2 flex items-center gap-4 ${X.type==="birthday"?"bg-amber-50 border-amber-100":"bg-indigo-50 border-indigo-100"}`,children:[i.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center text-white shadow-lg ${X.type==="birthday"?"bg-amber-500":"bg-indigo-500"}`,children:i.jsx("i",{className:`fa-solid ${X.type==="birthday"?"fa-cake-candles":"fa-bell"}`})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:`text-[11px] font-black uppercase tracking-tight ${X.type==="birthday"?"text-amber-900":"text-indigo-900"}`,children:X.title}),i.jsx("div",{className:"text-[9px] font-bold opacity-60",children:"  !"})]})]},X.id))})]}),i.jsxs("div",{className:"space-y-3",children:[O.map(X=>{var B;return i.jsxs("div",{onClick:()=>t(X.id),className:`flex items-center gap-4 p-5 rounded-[2rem] transition-all cursor-pointer group border ${X.isEvent?"bg-pink-50/50 border-pink-100 hover:bg-pink-50":"bg-slate-50/50 border-slate-50 hover:bg-orange-50 hover:border-orange-100"}`,children:[i.jsx("button",{onClick:de=>{de.stopPropagation(),o(X)},className:`w-6 h-6 rounded-xl border-2 flex items-center justify-center transition-all ${X.status===Ne.DONE?"bg-emerald-500 border-emerald-500 text-white":"border-slate-200 bg-white text-transparent group-hover:border-orange-400"}`,children:i.jsx("i",{className:"fa-solid fa-check text-xs"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("span",{className:`text-sm font-bold truncate block ${X.status===Ne.DONE?"line-through text-slate-300":"text-slate-800"}`,children:X.title}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[X.isEvent?i.jsx(Xe,{variant:"rose",className:"text-[7px] py-0",children:""}):i.jsx(Xe,{variant:"orange",className:"text-[7px] py-0",children:""}),X.projectId&&i.jsxs("span",{className:"text-[8px] font-black text-slate-300 uppercase truncate",children:["# ",((B=s.find(de=>de.id===X.projectId))==null?void 0:B.title)||""]})]})]}),i.jsx("i",{className:"fa-solid fa-chevron-right text-[10px] text-slate-300 group-hover:translate-x-1 transition-transform"})]},X.id)}),O.length===0&&z.length===0&&i.jsxs("div",{className:"py-20 text-center opacity-20",children:[i.jsx("i",{className:"fa-solid fa-feather-pointed text-6xl mb-4"}),i.jsx(Y,{variant:"h3",children:"  "})]})]})]})}),i.jsxs("div",{className:"w-96 bg-white border border-slate-100 flex flex-col shadow-sm rounded-[2.5rem] overflow-hidden relative",children:[i.jsxs("header",{className:"p-6 border-b border-slate-50 flex items-center justify-between shrink-0 bg-white/80 backdrop-blur z-20",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-900 font-black mb-1",children:" "}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:()=>M(!S),className:"text-[7px] font-black text-orange-500 uppercase tracking-widest hover:underline flex items-center gap-1",children:[i.jsx("i",{className:"fa-solid fa-layer-group"}),"  (",N.length,")"]}),i.jsxs("button",{onClick:()=>{const X=prompt(" :");X&&x(X,G)},className:"text-[7px] font-black text-slate-400 uppercase tracking-widest hover:text-orange-500 flex items-center gap-1",children:[i.jsx("i",{className:"fa-solid fa-save"})," "]})]})]}),i.jsx("button",{onClick:()=>T({dayOfWeek:G}),className:"w-10 h-10 rounded-2xl bg-slate-900 text-white hover:bg-slate-800 shadow-xl transition-all flex items-center justify-center",children:i.jsx("i",{className:"fa-solid fa-plus text-xs"})})]}),i.jsx("div",{ref:j,className:"flex-1 overflow-y-auto custom-scrollbar relative bg-slate-50/20",children:i.jsxs("div",{className:"absolute left-0 top-0 w-full",style:{height:24*Ds},children:[Array.from({length:24},(X,B)=>i.jsxs("div",{className:"flex items-start border-t border-slate-50/50",style:{height:Ds},children:[i.jsxs("span",{className:"text-[9px] font-black text-slate-300 p-2 w-12 text-right tabular-nums",children:[B,":00"]}),i.jsx("div",{className:"flex-1 h-px mt-[1px]"})]},B)),V.map(X=>i.jsxs("div",{onClick:()=>T(X),className:"absolute left-12 right-3 rounded-2xl p-3 text-white text-[11px] font-bold shadow-lg shadow-black/5 cursor-pointer hover:brightness-105 transition-all group overflow-hidden border-2 border-white/10",style:{top:X.startHour*Ds,height:(X.endHour-X.startHour)*Ds-4,backgroundColor:X.color||"#f97316"},children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("span",{className:"truncate pr-4 uppercase tracking-tight",children:X.title}),i.jsx("i",{onClick:B=>{B.stopPropagation(),v(X.id)},className:"fa-solid fa-trash-can text-[9px] opacity-0 group-hover:opacity-100 hover:scale-110 transition-all"})]}),i.jsxs("div",{className:"text-[9px] opacity-80 font-black tabular-nums",children:[X.startHour,":00 - ",X.endHour,":00"]})]},X.id)),le&&i.jsxs("div",{className:"absolute left-0 right-0 z-30 pointer-events-none flex items-center",style:{top:te},children:[i.jsx("div",{className:"w-12 text-[8px] font-black text-pink-500 bg-white/90 backdrop-blur rounded-r-lg py-0.5 px-1.5 shadow-sm border border-pink-100 border-l-0 text-right tabular-nums",children:I.toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"})}),i.jsxs("div",{className:"flex-1 h-0.5 bg-pink-500/30 relative",children:[i.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-2 h-2 rounded-full bg-pink-500 shadow-lg shadow-pink-200 ring-4 ring-pink-100"}),i.jsx("div",{className:"absolute inset-0 bg-pink-500"})]})]})]})})]}),_&&i.jsx(p_,{block:_,onClose:()=>T(null),onSave:X=>{_.id?g({...X,id:_.id}):p({...X,dayOfWeek:G}),T(null)}}),S&&i.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/20 backdrop-blur-sm",onClick:()=>M(!1)}),i.jsxs("div",{className:"bg-white w-full max-w-xs rounded-[2rem] p-8 shadow-2xl relative animate-in slide-in-from-bottom-4 duration-300",children:[i.jsx(Y,{variant:"h2",className:"mb-6 text-lg",children:" "}),i.jsxs("div",{className:"space-y-3",children:[N.map(X=>i.jsxs("button",{onClick:()=>{y(X.id,G),M(!1)},className:"w-full p-4 rounded-2xl border border-slate-100 hover:border-orange-200 hover:bg-orange-50/20 text-left transition-all group",children:[i.jsx("div",{className:"text-xs font-black text-slate-800 group-hover:text-orange-600 mb-1",children:X.name}),i.jsxs("div",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:[X.blocks.length,"  "]})]},X.id)),N.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx("i",{className:"fa-solid fa-box-open text-slate-200 text-3xl mb-3"}),i.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"  "})]})]}),i.jsx(Fe,{variant:"ghost",className:"w-full mt-6 py-3",onClick:()=>M(!1),children:""})]})]})]})},x_=({currentDate:l})=>{const{tasks:t,people:n,setCalendarDate:s,setCalendarViewMode:o}=$e(),u=l.getFullYear(),p=g=>{const v=new Date(u,g,1).toLocaleString("uk-UA",{month:"long"}),x=(new Date(u,g,1).getDay()+6)%7,y=new Date(u,g+1,0).getDate(),N=[];for(let w=0;w<x;w++)N.push(null);for(let w=1;w<=y;w++)N.push(w);return i.jsxs("div",{className:"bg-white px-4 py-5 rounded-[2rem] border border-slate-100 shadow-sm hover:border-[var(--primary)]/30 transition-all cursor-pointer group hover:shadow-lg",onClick:()=>{s(new Date(u,g,1).getTime()),o("month")},children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black mb-4 text-center uppercase tracking-[0.2em] group-hover:text-[var(--primary)] transition-colors",children:v}),i.jsx("div",{className:"grid grid-cols-7 gap-1 text-[7px] font-black text-slate-200 mb-2 text-center",children:["","","","","","",""].map(w=>i.jsx("div",{children:w},w))}),i.jsx("div",{className:"grid grid-cols-7 gap-x-0.5 gap-y-1",children:N.map((w,j)=>{if(w===null)return i.jsx("div",{},`empty-${j}`);const _=new Date().getFullYear()===u&&new Date().getMonth()===g&&new Date().getDate()===w,T=new Date(u,g,w).setHours(0,0,0,0),S=t.some(I=>!I.isDeleted&&I.isEvent&&(I.scheduledDate&&new Date(I.scheduledDate).setHours(0,0,0,0)===T||I.endDate&&T>=new Date(I.scheduledDate).setHours(0,0,0,0)&&T<=new Date(I.endDate).setHours(0,0,0,0))),M=n.some(I=>{var D;if(I.birthDate){const O=new Date(I.birthDate);if(O.getMonth()===g&&O.getDate()===w)return!0}return(D=I.importantDates)==null?void 0:D.some(O=>{const R=new Date(O.date);return R.getMonth()===g&&R.getDate()===w})});return i.jsxs("div",{className:"flex flex-col items-center gap-0.5 relative",children:[i.jsx("div",{className:`h-4 w-4 rounded-md flex items-center justify-center text-[8px] font-black transition-all ${_?"bg-[var(--primary)] text-white shadow-sm":"text-slate-600"}`,children:w}),i.jsxs("div",{className:"h-1 w-full flex justify-center items-center gap-0.5",children:[S&&i.jsx("div",{className:`w-0.5 h-0.5 rounded-full ${_?"bg-white":"bg-pink-500"}`}),M&&i.jsx("div",{className:`w-0.5 h-0.5 rounded-full ${_?"bg-white":"bg-amber-500"}`})]})]},j)})})]},g)};return i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-20",children:Array.from({length:12},(g,v)=>p(v))})},g_=()=>{const{tasks:l,addTask:t,scheduleTask:n,calendarDate:s,setCalendarDate:o,calendarViewMode:u,setCalendarViewMode:p}=$e(),{isResizing:g,startResizing:v,detailsWidth:x}=qn(400,800),[y,N]=A.useState(null),[w,j]=A.useState(null),_=A.useMemo(()=>new Date(s),[s]),T=R=>{const $=new Date(_);u==="year"?$.setFullYear(_.getFullYear()+R):u==="month"?$.setMonth(_.getMonth()+R):u==="week"?$.setDate(_.getDate()+R*7):$.setDate(_.getDate()+R),o($.getTime())},S=()=>{o(Date.now()),u==="year"&&p("month")},M=(R,$)=>{R.preventDefault(),j(null);const k=R.dataTransfer.getData("taskId");k&&n(k,$)},I=R=>{const $=t("","unsorted",void 0,"actions",!1,R);N($)},D=R=>{N(R)},O=()=>{switch(u){case"day":return i.jsx(h_,{currentDate:_,onSelectTask:D,onAddQuickEvent:I});case"week":return i.jsx(m_,{currentDate:_,dragOverDay:w,onDragOver:(R,$)=>{R.preventDefault(),j($)},onDragLeave:()=>j(null),onDrop:M,onSelectTask:D,onAddQuickEvent:I});case"month":return i.jsx(d_,{currentDate:_,dragOverDay:w,onDragOver:(R,$)=>{R.preventDefault(),j($)},onDragLeave:()=>j(null),onDrop:M,onSelectTask:D,onAddQuickEvent:I});case"year":return i.jsx(x_,{currentDate:_});default:return null}};return i.jsxs("div",{className:"flex h-screen bg-white overflow-hidden relative",children:[i.jsx(u_,{onSelectTask:D}),i.jsxs("main",{className:"flex-1 flex flex-col min-w-0 h-full relative z-10 bg-slate-50/30",children:[i.jsx(c_,{currentDate:_,viewMode:u,onNavigate:T,onToday:S,onSetViewMode:p}),i.jsx("div",{className:"flex-1 overflow-auto p-4 md:p-6 custom-scrollbar",children:O()})]}),i.jsx("div",{className:`h-full border-l border-slate-100 bg-white transition-all duration-300 ease-in-out shrink-0 relative z-40 ${y?"translate-x-0":"translate-x-full hidden lg:block opacity-0"}`,style:{width:y?window.innerWidth<1024?"100vw":x:0},children:y&&i.jsxs(i.Fragment,{children:[i.jsx("div",{onMouseDown:v,className:`hidden lg:block absolute left-0 top-0 bottom-0 w-[1.5px] cursor-col-resize hover:bg-orange-500 z-[50] transition-colors ${g?"bg-orange-500":"bg-transparent"}`}),i.jsx("div",{className:"h-full w-full overflow-hidden shadow-2xl lg:shadow-none",children:i.jsx(Fs,{task:l.find(R=>R.id===y),onClose:()=>N(null)})})]})})]})},v_=({tasks:l})=>{const{tags:t,addTag:n,renameTag:s,deleteTag:o}=$e(),[u,p]=A.useState(""),[g,v]=A.useState(null),[x,y]=A.useState(""),N=l.flatMap(S=>S.tags).reduce((S,M)=>(S[M]=(S[M]||0)+1,S),{}),w=[...t].sort((S,M)=>(N[M.name]||0)-(N[S.name]||0)),j=S=>{S.preventDefault(),u.trim()&&(n(u.trim()),p(""))},_=S=>{v(S.id),y(S.name)},T=S=>{x.trim()&&x!==S&&s(S,x.trim()),v(null)};return i.jsx("div",{className:"p-4 md:p-8 h-full bg-slate-50 transition-none overflow-y-auto custom-scrollbar",children:i.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-heading font-bold text-slate-900",children:"  "}),i.jsx("p",{className:"text-xs text-slate-400 mt-1 font-medium",children:"    "})]}),i.jsxs("form",{onSubmit:j,className:"flex gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:"#"}),i.jsx("input",{type:"text",value:u,onChange:S=>p(S.target.value),placeholder:" ...",className:"pl-7 pr-4 py-2 bg-white border border-slate-200 rounded-xl text-sm font-bold focus:ring-2 focus:ring-orange-500 outline-none transition-all w-48 shadow-sm"})]}),i.jsx("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-2 rounded-xl text-sm font-black hover:bg-orange-700 shadow-lg shadow-orange-100 transition-all",children:""})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-12",children:w.map(S=>i.jsxs("div",{className:"bg-white border border-slate-200 rounded-[1.5rem] p-5 shadow-sm hover:shadow-md hover:border-orange-100 transition-all group relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 left-0 w-1 h-full",style:{backgroundColor:S.color}}),i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("div",{className:"flex-1 min-w-0",children:g===S.id?i.jsx("input",{type:"text",value:x,onChange:M=>y(M.target.value),onBlur:()=>T(S.name),onKeyDown:M=>{M.key==="Enter"&&T(S.name),M.key==="Escape"&&v(null)},className:"w-full bg-slate-50 border-b-2 border-orange-500 font-bold text-slate-800 outline-none p-0 uppercase",autoFocus:!0}):i.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-wider truncate flex items-center gap-2",children:[i.jsx("span",{className:"text-slate-300",children:"#"}),S.name]})}),i.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[i.jsx("button",{onClick:()=>_(S),className:"w-7 h-7 rounded-lg bg-slate-50 text-slate-400 hover:text-orange-600 hover:bg-orange-50 flex items-center justify-center transition-all",title:"",children:i.jsx("i",{className:"fa-solid fa-pencil text-[10px]"})}),i.jsx("button",{onClick:()=>{confirm(` ,     #${S.name} ?`)&&o(S.name)},className:"w-7 h-7 rounded-lg bg-slate-50 text-slate-400 hover:text-rose-600 hover:bg-rose-50 flex items-center justify-center transition-all",title:"",children:i.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]})]}),i.jsxs("div",{className:"flex items-end justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:""}),i.jsxs("div",{className:"text-lg font-black text-slate-900",children:[N[S.name]||0," "]})]}),i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white shadow-sm",style:{backgroundColor:S.color},children:i.jsx("i",{className:"fa-solid fa-tag text-[10px]"})})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-50 space-y-1.5 max-h-24 overflow-y-auto no-scrollbar",children:[l.filter(M=>M.tags.includes(S.name)).slice(0,3).map(M=>i.jsxs("div",{className:"text-[10px] text-slate-500 flex items-center gap-2 truncate font-medium",children:[i.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-200"}),M.title]},M.id)),(N[S.name]||0)>3&&i.jsxs("div",{className:"text-[9px] text-slate-300 italic font-bold",children:[" ",(N[S.name]||0)-3,"..."]}),!N[S.name]&&i.jsx("div",{className:"text-[10px] text-slate-300 italic",children:" "})]})]},S.id))}),i.jsxs("div",{className:"bg-orange-50/30 rounded-3xl p-8 border border-orange-100/50 text-center",children:[i.jsx("i",{className:"fa-solid fa-sparkles text-orange-400 text-3xl mb-4"}),i.jsx("h3",{className:"text-lg font-black text-slate-900 mb-2",children:"-  AI"}),i.jsx("p",{className:"text-sm text-slate-500 max-w-md mx-auto mb-6",children:"            ."}),i.jsx("button",{className:"bg-white border border-orange-200 text-orange-600 px-8 py-3 rounded-2xl text-xs font-black hover:bg-orange-50 transition-all shadow-sm",children:" "})]})]})})},y_=()=>{const{hobbies:l,people:t,addHobby:n,renameHobby:s,deleteHobby:o}=$e(),[u,p]=A.useState(""),[g,v]=A.useState(null),[x,y]=A.useState(""),N=A.useMemo(()=>{const S={};return t.forEach(M=>{M.hobbies.forEach(I=>{S[I]=(S[I]||0)+1})}),S},[t]),w=S=>{S.preventDefault(),u.trim()&&(n(u.trim()),p(""))},j=S=>{v(S.id),y(S.name)},_=S=>{x.trim()&&x!==S&&s(S,x.trim()),v(null)},T=[...l].sort((S,M)=>(N[M.name]||0)-(N[S.name]||0));return i.jsx("div",{className:"p-4 md:p-8 h-full bg-slate-50 transition-none overflow-y-auto custom-scrollbar",children:i.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-heading font-bold text-slate-900",children:" "}),i.jsx("p",{className:"text-xs text-slate-400 mt-1 font-medium",children:"     "})]}),i.jsxs("form",{onSubmit:w,className:"flex gap-2",children:[i.jsx("input",{type:"text",value:u,onChange:S=>p(S.target.value),placeholder:" ...",className:"px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm font-bold focus:ring-2 focus:ring-orange-500 outline-none transition-all w-48 shadow-sm"}),i.jsx("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-2 rounded-xl text-sm font-black hover:bg-orange-700 shadow-lg shadow-orange-100 transition-all",children:""})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(S=>i.jsxs("div",{className:"bg-white border border-slate-200 rounded-[1.5rem] p-5 shadow-sm hover:shadow-md hover:border-orange-100 transition-all group relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 left-0 w-1 h-full",style:{backgroundColor:S.color}}),i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("div",{className:"flex-1 min-w-0",children:g===S.id?i.jsx("input",{type:"text",value:x,onChange:M=>y(M.target.value),onBlur:()=>_(S.name),onKeyDown:M=>{M.key==="Enter"&&_(S.name),M.key==="Escape"&&v(null)},className:"w-full bg-slate-50 border-b-2 border-orange-500 font-bold text-slate-800 outline-none p-0",autoFocus:!0}):i.jsx("h3",{className:"font-black text-slate-800 uppercase tracking-wider truncate",children:S.name})}),i.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[i.jsx("button",{onClick:()=>j(S),className:"w-7 h-7 rounded-lg bg-slate-50 text-slate-400 hover:text-orange-600 hover:bg-orange-50 flex items-center justify-center transition-all",children:i.jsx("i",{className:"fa-solid fa-pencil text-[10px]"})}),i.jsx("button",{onClick:()=>{confirm(`  "${S.name}"?      .`)&&o(S.name)},className:"w-7 h-7 rounded-lg bg-slate-50 text-slate-400 hover:text-rose-600 hover:bg-rose-50 flex items-center justify-center transition-all",children:i.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]})]}),i.jsxs("div",{className:"flex items-end justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:""}),i.jsx("div",{className:"text-lg font-black text-slate-900",children:N[S.name]||0})]}),i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white shadow-sm",style:{backgroundColor:S.color},children:i.jsx("i",{className:"fa-solid fa-star text-[10px]"})})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-50 space-y-1.5 max-h-24 overflow-y-auto no-scrollbar",children:[t.filter(M=>M.hobbies.includes(S.name)).slice(0,3).map(M=>i.jsxs("div",{className:"text-[10px] text-slate-500 flex items-center gap-2 truncate font-medium",children:[i.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${M.name}`,className:"w-3 h-3 rounded-full"}),M.name]},M.id)),(N[S.name]||0)>3&&i.jsxs("div",{className:"text-[9px] text-slate-300 italic font-bold",children:[" ",(N[S.name]||0)-3,"..."]})]})]},S.id))})]})})},b_=({taskTitle:l,onExit:t})=>{const[n,s]=A.useState(1500),[o,u]=A.useState(!0);A.useEffect(()=>{let g=null;return o&&n>0?g=setInterval(()=>{s(v=>v-1)},1e3):n===0&&clearInterval(g),()=>clearInterval(g)},[o,n]);const p=g=>{const v=Math.floor(g/60),x=g%60;return`${v}:${x.toString().padStart(2,"0")}`};return i.jsxs("div",{className:"fixed inset-0 z-[100] bg-slate-950 flex flex-col items-center justify-center p-8 transition-none",children:[i.jsx("div",{className:"absolute top-8 right-8",children:i.jsx("button",{onClick:t,className:"w-12 h-12 rounded-full bg-white/5 hover:bg-white/10 text-white flex items-center justify-center transition-all",children:i.jsx("i",{className:"fa-solid fa-xmark"})})}),i.jsxs("div",{className:"text-center space-y-12 max-w-2xl w-full",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"text-orange-500 font-black tracking-widest text-xs uppercase",children:" "}),i.jsx("h2",{className:"text-4xl md:text-6xl font-heading font-black text-white leading-tight",children:l})]}),i.jsx("div",{className:"text-[10rem] md:text-[15rem] font-heading font-black text-white/5 leading-none select-none absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 -z-10",children:p(n)}),i.jsx("div",{className:"text-8xl md:text-9xl font-heading font-black text-white tracking-tighter tabular-nums",children:p(n)}),i.jsx("div",{className:"flex justify-center gap-6",children:i.jsx("button",{onClick:()=>u(!o),className:"px-12 py-5 bg-white text-slate-950 rounded-3xl font-black text-lg shadow-2xl hover:scale-105 active:scale-95 transition-all",children:o?"":""})})]}),i.jsxs("div",{className:"absolute bottom-12 text-slate-500 text-sm font-medium tracking-widest uppercase",children:[i.jsx("i",{className:"fa-solid fa-mountain-sun mr-3"}),"  "]})]})},Su=({habit:l,onClose:t,onUpdate:n,onToggleStatus:s})=>{const[o,u]=A.useState("month"),[p,g]=A.useState(l.title),[v,x]=A.useState(l.color||"#f97316"),y=["#f97316","#10b981","#6366f1","#ec4899","#06b6d4","#facc15","#a855f7","#475569"],N=A.useMemo(()=>{var D;const _=l.habitHistory||{},T=new Date;T.setHours(0,0,0,0);let S=30;o==="week"&&(S=7),o==="year"&&(S=365);let M=0;for(let O=0;O<S;O++){const R=new Date(T);R.setDate(T.getDate()-O);const $=R.toISOString().split("T")[0];((D=_[$])==null?void 0:D.status)==="completed"&&M++}const I=Object.entries(_);return{percent:Math.round(M/S*100),totalCompleted:M,totalDays:S,notes:I.filter(([O,R])=>R.note).sort((O,R)=>R[0].localeCompare(O[0]))}},[l.habitHistory,o]),w=()=>{var S;const _=new Date;_.setHours(0,0,0,0);const T=[];for(let M=13;M>=0;M--){const I=new Date(_);I.setDate(_.getDate()-M);const D=I.toISOString().split("T")[0],O=(S=l.habitHistory)==null?void 0:S[D],R=(O==null?void 0:O.status)||"none",$=I.toLocaleString("uk-UA",{weekday:"short"}).toUpperCase();T.push({ds:D,status:R,weekday:$,dayNum:I.getDate()})}return i.jsx("div",{className:"grid grid-cols-7 gap-1.5",children:T.map((M,I)=>i.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[i.jsxs("div",{className:`w-full aspect-square rounded-md transition-all duration-300 flex items-center justify-center border ${M.status==="completed"?"shadow-sm":""}`,style:{backgroundColor:M.status==="completed"?v:M.status==="skipped"?"#0f172a":"#e2e8f0",borderColor:M.status==="completed"?v:"transparent"},children:[M.status==="completed"&&i.jsx("i",{className:"fa-solid fa-check text-[7px] text-white"}),M.status==="skipped"&&i.jsx("i",{className:"fa-solid fa-xmark text-[7px] text-slate-400"})]}),i.jsx("span",{className:`text-[5.5px] font-black uppercase tracking-tighter ${M.ds===_.toISOString().split("T")[0]?"text-orange-500":"text-slate-400"}`,children:M.weekday})]},I))})},j=()=>{var D,O;const _=new Date,M=7*35,I=[];for(let R=M-1;R>=0;R--){const $=new Date(_);$.setDate(_.getDate()-R);const k=$.toISOString().split("T")[0],z=(O=(D=l.habitHistory)==null?void 0:D[k])==null?void 0:O.status;I.push({ds:k,status:z})}return i.jsx("div",{className:"flex flex-col gap-1 overflow-x-auto no-scrollbar pb-1",children:i.jsx("div",{className:"grid grid-flow-col grid-rows-7 gap-0.5 min-w-max",children:I.map((R,$)=>i.jsx("div",{className:"w-1 h-1 rounded-[1px] transition-colors",style:{backgroundColor:R.status==="completed"?v:R.status==="skipped"?"#0f172a":"#f1f5f9"},title:R.ds},$))})})};return i.jsxs("div",{className:"h-full flex flex-col bg-white",children:[i.jsxs("header",{className:"p-5 border-b border-slate-50",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-white text-lg shadow-md shrink-0",style:{backgroundColor:v},children:i.jsx("i",{className:"fa-solid fa-repeat"})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("input",{value:p,onChange:_=>g(_.target.value),onBlur:()=>n({title:p}),className:"text-sm font-black text-slate-900 bg-transparent border-none p-0 focus:ring-0 w-full"}),i.jsx(Y,{variant:"tiny",className:"text-slate-400 text-[8px]",children:" "})]})]}),i.jsx("button",{onClick:t,className:"w-6 h-6 rounded-lg hover:bg-slate-100 text-slate-300 flex items-center justify-center transition-all shrink-0",children:i.jsx("i",{className:"fa-solid fa-xmark text-xs"})})]}),i.jsx("div",{className:"flex gap-0.5 bg-slate-100 p-0.5 rounded-lg",children:["week","month","year"].map(_=>i.jsx("button",{onClick:()=>u(_),className:`flex-1 py-1 rounded-md text-[8px] font-black uppercase tracking-widest transition-all ${o===_?"bg-white shadow-sm text-orange-600":"text-slate-400"}`,children:_==="week"?"":_==="month"?"":""},_))})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs(Me,{padding:"sm",className:"bg-orange-50/50 border-orange-100 flex flex-col items-center justify-center text-center py-3",children:[i.jsxs("div",{className:"text-xl font-black text-orange-600 leading-none mb-1",children:[N.percent,"%"]}),i.jsx(Y,{variant:"tiny",className:"text-orange-400 text-[7px]",children:""})]}),i.jsxs(Me,{padding:"sm",className:"bg-slate-50 border-slate-100 flex flex-col items-center justify-center text-center py-3",children:[i.jsxs("div",{className:"text-xl font-black text-slate-800 leading-none mb-1",children:[N.totalCompleted,i.jsxs("span",{className:"text-xs text-slate-300",children:["/",N.totalDays]})]}),i.jsx(Y,{variant:"tiny",className:"text-slate-400 text-[7px]",children:" "})]})]}),i.jsxs("section",{children:[i.jsx("div",{className:"flex items-center justify-between mb-2 px-1",children:i.jsxs(Y,{variant:"tiny",className:"text-slate-900 font-black flex items-center gap-1.5 uppercase text-[8px]",children:[i.jsx("i",{className:"fa-solid fa-chart-simple text-orange-500 text-[7px]"})," ",o==="year"?" ":"  14 "]})}),i.jsx("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:o==="year"?j():w()})]}),i.jsxs("section",{children:[i.jsx(Y,{variant:"tiny",className:"text-slate-900 font-black mb-2 uppercase text-[8px] px-1",children:" "}),i.jsx("div",{className:"flex flex-wrap gap-1.5 px-1",children:y.map(_=>i.jsx("button",{onClick:()=>{x(_),n({color:_})},className:`w-6 h-6 rounded-lg transition-all ${v===_?"ring-2 ring-offset-1 ring-slate-200 scale-105 shadow-sm":"hover:scale-105"}`,style:{backgroundColor:_}},_))})]})]}),i.jsx("footer",{className:"p-5 border-t border-slate-50 bg-slate-50/30",children:i.jsx(Fe,{variant:"white",onClick:t,className:"w-full rounded-xl py-3 font-black uppercase text-[8px] tracking-widest",children:""})})]})},Gl=({label:l,icon:t,type:n,level:s,isOpen:o,count:u,color:p,onToggle:g,onAddAction:v,onAddSub:x,onAddHabit:y,onClick:N,onRename:w,onDelete:j,isDraggable:_,onDragStart:T,isActive:S,children:M})=>{const[I,D]=A.useState(!1),[O,R]=A.useState(l),$=k=>{k.preventDefault(),O.trim()&&O!==l&&(w==null||w(O.trim())),D(!1)};return i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{draggable:_,onDragStart:T,onClick:()=>{var k;I||(k=N||g)==null||k()},className:`group flex items-center gap-2 py-1.5 px-3 cursor-pointer hover:bg-slate-100 rounded-lg transition-all relative ${S?"bg-orange-50 text-orange-700 ring-1 ring-orange-100":"text-slate-600"}`,style:{marginLeft:`${s*12}px`},children:[i.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[M||n==="folder"||n==="system"?i.jsx("i",{className:`fa-solid fa-chevron-right text-[7px] w-3 text-center transition-transform ${o?"rotate-90 text-orange-500":"text-slate-300"}`}):i.jsx("div",{className:"w-3"}),i.jsx("i",{className:`fa-solid ${t} text-[11px] w-4 text-center ${n==="event"?"text-pink-500":n==="note"?"text-indigo-400":n==="habit"?"text-emerald-500":n==="folder"?p?"":"text-orange-400":"text-slate-400"}`,style:p?{color:p}:{}})]}),i.jsx("div",{className:"flex-1 min-w-0",children:I?i.jsx("form",{onSubmit:$,onClick:k=>k.stopPropagation(),children:i.jsx("input",{autoFocus:!0,value:O,onChange:k=>R(k.target.value),onBlur:$,className:"w-full bg-white border border-orange-200 rounded px-1 text-[12px] font-bold outline-none h-5"})}):i.jsx("span",{className:`text-[12px] truncate block tracking-tight ${n==="folder"||n==="system"?"font-black uppercase":"font-bold"}`,children:l})}),u!==void 0&&u>0&&!o&&!I&&i.jsx("span",{className:"text-[8px] font-black text-slate-400 bg-slate-50 px-1.5 py-0.5 rounded-full border border-slate-100 group-hover:bg-white",children:u}),i.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all ml-auto shrink-0",children:[x&&i.jsx("button",{onClick:k=>{k.stopPropagation(),x(k)},title:" ",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-400 hover:text-orange-500",children:i.jsx("i",{className:"fa-solid fa-folder-plus text-[9px]"})}),v&&i.jsx("button",{onClick:k=>{k.stopPropagation(),v(k)},title:" ",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-400 hover:text-emerald-500",children:i.jsx("i",{className:"fa-solid fa-file-circle-plus text-[9px]"})}),y&&i.jsx("button",{onClick:k=>{k.stopPropagation(),y(k)},title:" ",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-400 hover:text-indigo-500",children:i.jsx("i",{className:"fa-solid fa-repeat text-[9px]"})}),w&&!I&&i.jsx("button",{onClick:k=>{k.stopPropagation(),D(!0)},title:"",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-300 hover:text-slate-600",children:i.jsx("i",{className:"fa-solid fa-pencil text-[8px]"})}),j&&i.jsx("button",{onClick:k=>{k.stopPropagation(),confirm(` ${l}?`)&&j()},title:"",className:"w-5 h-5 rounded-md hover:bg-white border border-transparent hover:border-slate-200 flex items-center justify-center text-slate-300 hover:text-rose-500",children:i.jsx("i",{className:"fa-solid fa-trash-can text-[8px]"})})]})]}),o&&M&&i.jsx("div",{className:"mt-0.5",children:M})]})},N_=()=>{const{tasks:l,projects:t,inboxCategories:n,addProject:s,addTask:o,updateTask:u,updateProject:p,deleteProject:g,deleteTask:v,toggleHabitStatus:x}=$e(),{isResizing:y,startResizing:N,detailsWidth:w}=qn(400,800),[j,_]=A.useState({root_projects:!0}),[T,S]=A.useState(null),[M,I]=A.useState(null),D=(z,G)=>{_(V=>({...V,[z]:G??!V[z]}))},O=A.useMemo(()=>l.filter(z=>!z.isDeleted&&z.status!==Ne.DONE),[l]),R=(z,G)=>{const V=z.projectSection==="habits"||z.tags.includes("habit");return i.jsx(Gl,{id:z.id,label:z.title,icon:V?"fa-repeat":z.isEvent?"fa-calendar-star":z.category==="note"?"fa-note-sticky":"fa-circle-dot",type:V?"habit":z.isEvent?"event":z.category==="note"?"note":"task",level:G,onClick:()=>{V?(I(z.id),S(null)):(S(z.id),I(null))},isActive:T===z.id||M===z.id,onRename:te=>u({...z,title:te}),onDelete:()=>v(z.id,!0),isDraggable:!0,onDragStart:te=>te.dataTransfer.setData("taskId",z.id)},z.id)},$=(z,G=0)=>t.filter(V=>V.parentFolderId===z&&V.status==="active").map(V=>{const te=`proj_${V.id}`,le=O.filter(X=>X.projectId===V.id);return i.jsxs(Gl,{id:V.id,label:V.name,icon:V.isStrategic?"fa-flag-checkered":"fa-layer-group",color:V.color,type:"folder",level:G,isOpen:j[te],onToggle:()=>D(te),onAddAction:X=>{X.stopPropagation();const B=prompt(" :");B&&(o(B,"tasks",V.id,"actions"),D(te,!0))},onAddSub:X=>{X.stopPropagation();const B=prompt(" :");B&&(s({name:B,color:V.color,parentFolderId:V.id,isStrategic:!1,type:"subproject"}),D(te,!0))},onAddHabit:X=>{X.stopPropagation();const B=prompt(" :");B&&(o(B,"tasks",V.id,"habits"),D(te,!0))},onRename:X=>p({...V,name:X}),onDelete:()=>g(V.id),count:le.length,children:[$(V.id,G+1),le.map(X=>R(X,G+1))]},V.id)}),k=A.useMemo(()=>l.find(z=>z.id===M),[l,M]);return i.jsxs("div",{className:"flex h-full bg-white overflow-hidden",children:[i.jsxs("div",{className:"flex-1 flex flex-col min-w-0 border-r border-slate-100",children:[i.jsxs("header",{className:"px-6 py-4 border-b border-slate-50 bg-slate-50/30 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-xl bg-orange-600 flex items-center justify-center text-white shadow-lg",children:i.jsx("i",{className:"fa-solid fa-sitemap text-xs"})}),i.jsx(Y,{variant:"h3",className:"text-sm font-black uppercase tracking-tight",children:" "})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs("button",{onClick:()=>{const z=prompt("  :");z&&s({name:z,color:"#f97316",isStrategic:!0,type:"goal"})},className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white border border-slate-100 text-[9px] font-black uppercase text-slate-500 hover:text-orange-600 hover:border-orange-200 transition-all shadow-sm",children:[i.jsx("i",{className:"fa-solid fa-plus"})," "]})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-4",children:[i.jsx("section",{children:i.jsx(Gl,{id:"root_projects",label:"  ",icon:"fa-folder-tree",type:"system",level:0,isOpen:j.root_projects,onToggle:()=>D("root_projects"),onAddSub:z=>{z.stopPropagation();const G=prompt("  :");G&&s({name:G,color:"#f97316",isStrategic:!0,type:"goal"})},children:$(void 0,1)})}),i.jsx("section",{children:i.jsx(Gl,{id:"root_inbox",label:"  ",icon:"fa-inbox",type:"system",level:0,isOpen:j.root_inbox,onToggle:()=>D("root_inbox"),children:n.map(z=>{const G=`cat_${z.id}`,V=O.filter(te=>te.category===z.id&&!te.projectId);return i.jsx(Gl,{id:z.id,label:z.title,icon:z.icon,type:"folder",level:1,count:V.length,isOpen:j[G],onToggle:()=>D(G),onAddAction:te=>{te.stopPropagation();const le=prompt(`  ${z.title}:`);le&&o(le,z.id)},children:V.map(te=>R(te,2))},z.id)})})})]})]}),i.jsxs("div",{className:"bg-slate-50/10 shrink-0 relative flex flex-col",style:{width:w},children:[i.jsx("div",{onMouseDown:N,className:`absolute left-0 top-0 bottom-0 w-[1px] cursor-col-resize hover:bg-orange-500 transition-colors z-[100] ${y?"bg-orange-500":"bg-slate-100"}`}),T?i.jsx(Fs,{task:l.find(z=>z.id===T),onClose:()=>S(null)}):k?i.jsx("div",{className:"h-full animate-in slide-in-from-right duration-300",children:i.jsx(Su,{habit:k,onClose:()=>I(null),onUpdate:z=>u({...k,...z}),onToggleStatus:x})}):i.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-20 grayscale p-10 text-center select-none pointer-events-none",children:[i.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-dashed border-slate-300 flex items-center justify-center mb-8",children:i.jsx("i",{className:"fa-solid fa-mouse-pointer text-4xl"})}),i.jsx(Y,{variant:"h2",className:"text-xl font-black uppercase tracking-widest",children:" "}),i.jsx(Y,{variant:"body",className:"mt-4 text-xs font-bold leading-relaxed max-w-[200px]",children:"  +      ."})]})]})]})},w_=({onClose:l,onSave:t,initialData:n,aiEnabled:s})=>{const[o,u]=A.useState((n==null?void 0:n.name)||""),[p,g]=A.useState((n==null?void 0:n.description)||""),[v,x]=A.useState((n==null?void 0:n.color)||"#f97316"),[y,N]=A.useState((n==null?void 0:n.sphere)||"career"),[w,j]=A.useState(!1),_=[{key:"health",label:"'",icon:"fa-heart-pulse"},{key:"career",label:"'",icon:"fa-briefcase"},{key:"finance",label:"",icon:"fa-coins"},{key:"education",label:"",icon:"fa-book-open-reader"},{key:"relationships",label:"",icon:"fa-people-group"},{key:"rest",label:"",icon:"fa-couch"}];return i.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-950/40 backdrop-blur-sm",onClick:l}),i.jsxs(Me,{className:"w-full max-w-lg relative z-10 shadow-2xl p-6 md:p-8 rounded-[2rem] md:rounded-[2.5rem] bg-white animate-in zoom-in-95 duration-200 border-none overflow-y-auto max-h-[90vh]",children:[i.jsx(Y,{variant:"h2",className:"mb-6 text-xl md:text-2xl",children:n?" ":"  "}),i.jsxs("div",{className:"space-y-4 md:space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-[9px] md:text-[10px] font-black uppercase text-slate-400 mb-2 block tracking-widest",children:" "}),i.jsx("input",{autoFocus:!0,value:o,onChange:T=>u(T.target.value),placeholder:":   ",className:"w-full bg-slate-50 border border-slate-100 rounded-2xl py-3 md:py-4 px-4 md:px-5 text-sm font-bold focus:ring-4 focus:ring-orange-100 outline-none transition-all"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[9px] md:text-[10px] font-black uppercase text-slate-400 mb-2 block tracking-widest",children:" "}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:_.map(T=>i.jsxs("button",{onClick:()=>N(T.key),className:`p-2 md:p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-1 ${y===T.key?"border-orange-500 bg-orange-50 text-orange-700":"border-slate-50 bg-slate-50 text-slate-400 hover:border-slate-100"}`,children:[i.jsx("i",{className:`fa-solid ${T.icon} text-[10px] md:text-xs`}),i.jsx("span",{className:"text-[7px] md:text-[8px] font-black uppercase",children:T.label})]},T.key))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[9px] md:text-[10px] font-black uppercase text-slate-400 mb-2 block tracking-widest",children:"  "}),i.jsx("textarea",{value:p,onChange:T=>g(T.target.value),placeholder:"  ...",className:"w-full bg-slate-50 border border-slate-100 rounded-2xl py-3 md:py-4 px-4 md:px-5 text-sm font-bold focus:ring-4 focus:ring-orange-100 outline-none transition-all h-20 md:h-24 resize-none"})]}),s&&!n&&i.jsxs("div",{className:"p-3 md:p-4 bg-indigo-50 rounded-2xl border border-indigo-100 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-xl bg-indigo-600 text-white flex items-center justify-center shadow-lg shadow-indigo-200",children:i.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-xs md:text-base"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-[9px] md:text-[10px] font-black uppercase text-indigo-900 leading-none mb-1",children:"AI "}),i.jsx("div",{className:"text-[7px] md:text-[8px] font-bold text-indigo-400",children:"  "})]})]}),i.jsx("button",{onClick:()=>j(!w),className:`w-10 h-5 rounded-full transition-all relative ${w?"bg-indigo-600":"bg-slate-200"}`,children:i.jsx("div",{className:`absolute top-1 w-3 h-3 bg-white rounded-full transition-all ${w?"right-1":"left-1"}`})})]}),i.jsxs("div",{className:"flex gap-3 md:gap-4 pt-2 md:pt-4",children:[i.jsx(Fe,{variant:"ghost",className:"flex-1 py-3 md:py-4 rounded-2xl font-black text-xs",onClick:l,children:""}),i.jsx(Fe,{disabled:!o.trim(),className:"flex-[2] py-3 md:py-4 rounded-2xl shadow-xl shadow-orange-100 font-black text-xs",onClick:()=>t({name:o,description:p,color:v,sphere:y},w),children:n?"":" "})]})]})]})]})},T_=({subProject:l,onClose:t})=>{const{tasks:n,toggleTaskStatus:s,updateProject:o,addTask:u,updateTask:p,deleteTask:g}=$e(),[v,x]=A.useState(""),[y,N]=A.useState(!1),w=n.filter(T=>T.projectId===l.id&&!T.isDeleted),j=T=>{T.preventDefault(),N(!1);const S=T.dataTransfer.getData("taskId");if(S){const M=n.find(I=>I.id===S);M&&p({...M,projectId:l.id,projectSection:"actions",status:Ne.DOING})}},_=A.useMemo(()=>{if(w.length===0)return 0;const T=w.filter(S=>S.status===Ne.DONE).length;return Math.round(T/w.length*100)},[w]);return A.useEffect(()=>{_!==l.progress&&o({...l,progress:_})},[_,l.progress,o]),i.jsxs("div",{onDragOver:T=>{T.preventDefault(),N(!0)},onDragLeave:()=>N(!1),onDrop:j,className:`h-full flex flex-col bg-white animate-in slide-in-from-right duration-300 ${y?"ring-4 ring-inset ring-orange-100":""}`,children:[i.jsxs("header",{className:"p-4 md:p-6 border-b border-slate-50 flex justify-between items-start",children:[i.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl text-white flex items-center justify-center text-lg shadow-lg",style:{backgroundColor:l.color},children:i.jsx("i",{className:"fa-solid fa-layer-group"})}),i.jsxs("div",{children:[i.jsx(Y,{variant:"tiny",className:"text-orange-500 font-black mb-0.5 uppercase tracking-widest text-[8px]",children:" "}),i.jsx(Y,{variant:"h2",className:"text-base md:text-lg leading-tight",children:l.name})]})]}),i.jsx("button",{onClick:t,className:"w-8 h-8 rounded-xl bg-slate-50 flex items-center justify-center text-slate-300 hover:text-slate-900 transition-colors",children:i.jsx("i",{className:"fa-solid fa-xmark text-xs"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6 custom-scrollbar",children:i.jsxs("section",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-900 font-black uppercase tracking-widest text-[9px]",children:" "}),i.jsxs(Xe,{variant:"orange",className:"text-[7px]",children:[_,"% COMPLETE"]})]}),i.jsxs("div",{className:"space-y-1.5",children:[w.map(T=>{const S=T.status===Ne.DOING;return i.jsxs("div",{draggable:!0,onDragStart:M=>M.dataTransfer.setData("taskId",T.id),className:`flex items-center gap-3 p-3 bg-slate-50 border border-slate-100 rounded-xl group hover:bg-white hover:border-orange-200 transition-all ${S?"opacity-40 grayscale":""}`,children:[i.jsx("button",{onClick:()=>s(T),className:`w-5 h-5 rounded-full border flex items-center justify-center transition-all ${T.status===Ne.DONE?"bg-emerald-500 border-emerald-500 text-white":"bg-white border-slate-200"}`,children:T.status===Ne.DONE&&i.jsx("i",{className:"fa-solid fa-check text-[8px]"})}),i.jsx("span",{className:`text-[13px] font-bold flex-1 truncate ${T.status===Ne.DONE?"text-slate-300 line-through":"text-slate-700"}`,children:T.title}),i.jsx("button",{onClick:()=>g(T.id),className:"text-slate-300 hover:text-rose-500 transition-all p-1",children:i.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]},T.id)}),i.jsx("form",{onSubmit:T=>{T.preventDefault(),v.trim()&&(u(v.trim(),"tasks",l.id,"actions"),x(""))},className:"pt-2",children:i.jsx("input",{value:v,onChange:T=>x(T.target.value),placeholder:"+  ...",className:"w-full bg-slate-50 rounded-xl px-4 py-3 text-[13px] font-bold outline-none border border-transparent focus:border-orange-300 transition-colors"})})]})]})}),i.jsx("footer",{className:"p-4 md:p-6 border-t border-slate-50 bg-slate-50/30",children:i.jsx(Fe,{variant:"white",onClick:t,className:"w-full text-[10px] font-black uppercase py-4 rounded-xl tracking-widest shadow-sm",children:""})})]})},C_=({goal:l,isExpanded:t,onToggle:n,onTaskClick:s,onHabitClick:o,onSubProjectClick:u,onEdit:p,selectedTaskId:g,selectedHabitId:v})=>{const{tasks:x,projects:y,addProject:N,addTask:w,updateTask:j,deleteProject:_,toggleTaskStatus:T}=$e(),[S,M]=A.useState("actions"),[I,D]=A.useState(""),O=y.filter(V=>V.parentFolderId===l.id&&V.status==="active"),R=A.useMemo(()=>{const V=x.filter(le=>!le.isDeleted&&le.projectId===l.id&&le.projectSection!=="habits"),te=O.map(le=>{const X=x.filter(B=>!B.isDeleted&&B.status!==Ne.DONE&&B.projectId===le.id&&B.projectSection!=="habits").sort((B,de)=>B.createdAt-de.createdAt);return X.length>0?[X[0]]:[]}).flat();return[...V,...te]},[x,l.id,O]),$=x.filter(V=>!V.isDeleted&&V.projectId===l.id&&V.projectSection==="habits"),k=A.useMemo(()=>{const V=x.filter(le=>(le.projectId===l.id||O.some(X=>X.id===le.projectId))&&!le.isDeleted);if(V.length===0)return 0;const te=V.filter(le=>le.status===Ne.DONE).length;return Math.round(te/V.length*100)},[O,x,l.id]),z=V=>{V.preventDefault(),I.trim()&&(S==="actions"?w(I.trim(),"tasks",l.id,"actions"):S==="subprojects"?N({name:I.trim(),color:l.color,parentFolderId:l.id,isStrategic:!1,type:"subproject"}):S==="habits"&&w(I.trim(),"tasks",l.id,"habits"),D(""))},G={health:"fa-heart-pulse",career:"fa-briefcase",finance:"fa-coins",education:"fa-book-open-reader",relationships:"fa-people-group",rest:"fa-couch"};return i.jsxs(Me,{padding:"none",className:`bg-white border-slate-100 shadow-sm overflow-hidden transition-all ${t?"shadow-xl ring-1 ring-orange-100 scale-[1.01]":"hover:border-orange-200"}`,children:[i.jsxs("div",{className:"flex items-stretch",children:[i.jsx("div",{className:"w-1.5 shrink-0 transition-all",style:{backgroundColor:l.color}}),i.jsxs("div",{onClick:n,className:"flex-1 p-3 md:p-4 cursor-pointer flex items-center gap-3 md:gap-4 group",children:[i.jsxs("div",{className:"w-10 h-10 md:w-11 md:h-11 rounded-xl md:rounded-[1.2rem] flex items-center justify-center text-white shadow-lg shrink-0 transition-transform group-hover:scale-105 relative",style:{backgroundColor:l.color},children:[i.jsx("i",{className:"fa-solid fa-flag-checkered text-xs md:text-sm"}),l.sphere&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 md:w-4.5 md:h-4.5 rounded-lg bg-white shadow-md flex items-center justify-center text-[7px] md:text-[8px] text-slate-900 border border-slate-50",children:i.jsx("i",{className:`fa-solid ${G[l.sphere]||"fa-mountain"}`})})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[i.jsx(Y,{variant:"h3",className:"text-sm md:text-[15px] font-black uppercase tracking-tight text-slate-800 truncate",children:l.name}),i.jsxs(Xe,{variant:"orange",className:"text-[7px] py-0 px-1",children:[k,"% XP"]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-[7px] md:text-[8px] font-black text-slate-400 uppercase tracking-widest",children:l.sphere||" "})})]}),i.jsxs("div",{className:"shrink-0 flex items-center gap-2",children:[i.jsx("div",{className:"h-6 w-px bg-slate-100 hidden md:block"}),i.jsx("i",{className:`fa-solid fa-chevron-right text-[8px] md:text-[10px] text-slate-300 transition-transform ${t?"rotate-90 text-orange-500":""}`})]})]})]}),t&&i.jsxs("div",{className:"px-4 md:px-5 pb-4 md:pb-5 pt-2 md:pt-3 bg-slate-50/10 border-t border-slate-50 animate-in slide-in-from-top-2 duration-300",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3 md:mb-4 overflow-x-auto no-scrollbar pb-1",children:[i.jsx("div",{className:"flex gap-1 bg-slate-100/50 p-1 rounded-xl border border-slate-100 shrink-0",children:[{id:"actions",label:"",icon:"fa-bolt"},{id:"subprojects",label:"",icon:"fa-layer-group"},{id:"habits",label:"",icon:"fa-repeat"}].map(V=>i.jsxs("button",{onClick:()=>M(V.id),className:`px-2.5 md:px-3 py-1.5 text-[7px] md:text-[8px] font-black uppercase tracking-widest transition-all rounded-lg flex items-center gap-1 md:gap-1.5 ${S===V.id?"bg-white shadow-sm text-orange-600":"text-slate-400 hover:text-slate-600"}`,children:[i.jsx("i",{className:`fa-solid ${V.icon} text-[8px] md:text-[9px]`})," ",V.label]},V.id))}),i.jsxs("div",{className:"flex gap-1.5 shrink-0 ml-4",children:[i.jsx("button",{onClick:()=>p(l),className:"w-7 h-7 md:w-8 md:h-8 rounded-xl bg-white border border-slate-100 text-slate-400 hover:text-orange-600 hover:border-orange-200 transition-all flex items-center justify-center shadow-sm",children:i.jsx("i",{className:"fa-solid fa-gear text-[10px] md:text-xs"})}),i.jsx("button",{onClick:()=>{confirm(" ?")&&_(l.id)},className:"w-7 h-7 md:w-8 md:h-8 rounded-xl bg-white border border-slate-100 text-slate-400 hover:text-rose-500 hover:border-rose-200 transition-all flex items-center justify-center shadow-sm",children:i.jsx("i",{className:"fa-solid fa-trash-can text-[10px] md:text-xs"})})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("form",{onSubmit:z,className:"flex gap-2",children:[i.jsx("input",{value:I,onChange:V=>D(V.target.value),placeholder:S==="actions"?" ...":S==="subprojects"?" ...":"...",className:"flex-1 bg-white border border-slate-200 rounded-xl py-2 px-3 md:px-4 text-[12px] md:text-[13px] font-bold focus:ring-4 focus:ring-orange-100 outline-none transition-all shadow-inner"}),i.jsx("button",{type:"submit",disabled:!I.trim(),className:"w-9 h-9 md:w-10 md:h-10 bg-slate-900 text-white rounded-xl flex items-center justify-center disabled:opacity-30 shadow-lg hover:bg-orange-600 transition-all",children:i.jsx("i",{className:"fa-solid fa-plus text-xs"})})]}),i.jsxs("div",{className:"flex flex-col gap-1.5",children:[S==="actions"&&R.map(V=>{const te=y.find(B=>B.id===V.projectId),le=V.status===Ne.DOING,X=(te==null?void 0:te.type)==="subproject";return i.jsxs("div",{draggable:!0,onDragStart:B=>B.dataTransfer.setData("taskId",V.id),onClick:()=>s(V.id),className:`flex items-center gap-3 p-3 rounded-xl bg-white border group transition-all cursor-pointer ${le?"opacity-60 grayscale border-slate-100":"border-slate-50 hover:border-orange-200 hover:bg-slate-50 shadow-sm"} ${g===V.id?"ring-2 ring-orange-200":""}`,children:[i.jsx("button",{onClick:B=>{B.stopPropagation(),T(V)},className:`w-5 h-5 rounded-full border flex items-center justify-center shrink-0 transition-all ${V.status===Ne.DONE?"bg-emerald-500 border-emerald-500 text-white":"bg-white border-slate-200 hover:border-orange-400"}`,children:V.status===Ne.DONE&&i.jsx("i",{className:"fa-solid fa-check text-[8px]"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:`text-[12px] md:text-[13px] font-bold truncate ${V.status===Ne.DONE?"text-slate-300 line-through":"text-slate-700"}`,children:V.title}),i.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:te&&X&&i.jsxs("span",{className:"text-[7px] font-black uppercase text-orange-400 opacity-70 px-1 bg-orange-50 rounded",children:["# ",te.name]})})]}),i.jsx("i",{className:"fa-solid fa-chevron-right text-[8px] text-slate-200 group-hover:text-orange-400 group-hover:translate-x-0.5 transition-all"})]},V.id)}),S==="subprojects"&&i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:O.map(V=>i.jsxs("div",{onClick:()=>u(V.id),className:"bg-white p-3.5 rounded-[1.5rem] border border-slate-100 shadow-sm hover:shadow-md hover:border-orange-200 transition-all cursor-pointer group flex flex-col justify-between h-20 md:h-24",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"w-7 h-7 md:w-8 md:h-8 rounded-xl text-white flex items-center justify-center shadow-lg group-hover:rotate-6 transition-transform",style:{backgroundColor:V.color||l.color},children:i.jsx("i",{className:"fa-solid fa-layer-group text-[10px] md:text-xs"})}),i.jsxs(Xe,{variant:"orange",className:"text-[6px]",children:[V.progress,"%"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-[9px] md:text-[10px] font-black text-slate-800 uppercase truncate mb-1.5",children:V.name}),i.jsx("div",{className:"h-1 bg-slate-100 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-orange-500 transition-all duration-1000",style:{width:`${V.progress}%`}})})]})]},V.id))}),S==="habits"&&$.map(V=>i.jsxs("div",{onClick:()=>o(V.id),className:`p-3 bg-white border rounded-xl flex items-center justify-between shadow-sm group cursor-pointer transition-all ${v===V.id?"border-orange-400 ring-2 ring-orange-50":"border-slate-50 hover:border-orange-200"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-7 h-7 rounded-lg bg-orange-50 text-orange-600 flex items-center justify-center text-[10px] shadow-sm",children:i.jsx("i",{className:"fa-solid fa-repeat"})}),i.jsx("span",{className:"text-[12px] md:text-[13px] font-bold text-slate-700",children:V.title})]}),i.jsx(Xe,{variant:"emerald",className:"text-[7px] py-0 px-1",children:"DAILY"})]},V.id))]})]})]})]})},S_=()=>{const{projects:l,tasks:t,cycle:n,addProject:s,updateProject:o,toggleHabitStatus:u,toggleTaskStatus:p,updateTask:g,updateCycle:v,character:x,addTask:y,aiEnabled:N}=$e(),{isResizing:w,startResizing:j,detailsWidth:_}=qn(400,700),[T,S]=A.useState("strategy"),[M,I]=A.useState(null),[D,O]=A.useState(null),[R,$]=A.useState(null),[k,z]=A.useState(null),[G,V]=A.useState({open:!1}),[te,le]=A.useState(!1),[X,B]=A.useState(window.innerWidth<1024);A.useEffect(()=>{const W=()=>B(window.innerWidth<1024);return window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[]);const de=A.useMemo(()=>l.filter(W=>W.type==="goal"&&W.status==="active"),[l]),U=async(W,pe)=>{let ve="";if(G.editing?(o({...G.editing,...W}),ve=G.editing.id):ve=s({...W,isStrategic:!0,type:"goal"}),V({open:!1}),pe&&N){le(!0);try{const E=await e_(W.name,W.description||"",x);E.nextActions.forEach(P=>y(P,"tasks",ve,"actions")),E.habits.forEach(P=>y(P,"tasks",ve,"habits"));for(const P of E.subprojects){const se=s({name:P.title,color:W.color,parentFolderId:ve,isStrategic:!1,type:"subproject"});P.tasks.forEach(fe=>y(fe,"tasks",se,"actions"))}alert(" !")}catch{alert(" .")}finally{le(!1)}}},Q=A.useMemo(()=>t.find(W=>W.id===R),[t,R]);return i.jsxs("div",{className:"h-screen flex bg-slate-50 overflow-hidden relative",children:[i.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full",children:[i.jsxs("header",{className:"px-4 md:px-5 py-3 md:py-4 border-b border-slate-100 bg-white flex flex-col gap-3 md:gap-4 sticky top-0 z-20 shadow-sm shrink-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3 md:gap-4 overflow-hidden",children:[i.jsxs("div",{className:"flex flex-col shrink-0",children:[i.jsx(Y,{variant:"h2",className:"text-sm md:text-lg font-black uppercase tracking-tight text-slate-900 leading-none",children:" 12TR"}),i.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 mt-1 md:mt-1.5",children:[i.jsx("div",{className:"px-1.5 py-0.5 bg-orange-600 text-white text-[6px] md:text-[7px] font-black rounded uppercase tracking-widest",children:""}),i.jsxs(Y,{variant:"tiny",className:"text-slate-300 font-bold text-[6px] md:text-[7px]",children:[" ",n.currentWeek,"/12"]})]})]}),i.jsx("div",{className:"h-6 w-px bg-slate-100 mx-0.5 md:mx-1 shrink-0"}),i.jsx("div",{className:"flex bg-slate-50 p-0.5 rounded-lg border border-slate-200 overflow-x-auto no-scrollbar shrink-0",children:[{id:"strategy",label:X?"":"",icon:"fa-chess-king"},{id:"execution",label:X?"":"",icon:"fa-bolt-lightning"},{id:"structure",label:X?"":"",icon:"fa-sitemap"}].map(W=>i.jsxs("button",{onClick:()=>S(W.id),className:`px-2.5 md:px-3 py-1.5 rounded-md text-[8px] font-black uppercase tracking-widest transition-all flex items-center gap-1.5 ${T===W.id?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:text-slate-600"}`,children:[i.jsx("i",{className:`fa-solid ${W.icon} text-[8px] md:text-[9px]`})," ",W.label]},W.id))})]}),!X&&i.jsx(Fe,{icon:te?"fa-circle-notch animate-spin":"fa-plus",disabled:te,className:"rounded-lg px-4 py-2 font-black text-[8px] uppercase tracking-widest shadow-lg shadow-orange-100",onClick:()=>V({open:!0}),children:te?"...":""})]}),i.jsxs("div",{className:"w-full space-y-1",children:[i.jsxs("div",{className:"flex justify-between items-center text-[6px] md:text-[7px] font-black uppercase tracking-widest text-slate-400 px-1",children:[i.jsx("span",{children:" "}),i.jsxs("span",{className:"text-orange-600",children:[n.globalExecutionScore,"% XP"]})]}),i.jsx("div",{className:"flex gap-0.5 h-0.5 md:h-0.5",children:Array.from({length:12}).map((W,pe)=>i.jsx("div",{className:`flex-1 rounded-full transition-all duration-500 ${pe+1<n.currentWeek?"bg-orange-600":pe+1===n.currentWeek?"bg-slate-900":"bg-slate-100"}`},pe))})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-slate-50/50 pb-24 md:pb-32",children:T==="structure"?i.jsx(N_,{}):T==="execution"?i.jsxs("div",{className:"p-4 md:p-5 max-w-3xl mx-auto space-y-4 md:space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[i.jsxs(Me,{className:"bg-slate-900 text-white p-4 border-none shadow-xl overflow-hidden relative min-h-[80px] md:min-h-[100px] flex flex-col justify-center",children:[i.jsx(Y,{variant:"tiny",className:"text-orange-500 mb-0.5 font-black uppercase text-[7px]",children:" "}),i.jsxs(Y,{variant:"h2",className:"text-xl md:text-2xl font-black",children:[" ",n.currentWeek]})]}),i.jsxs(Me,{className:"p-4 bg-white border-slate-100 text-center flex flex-col items-center justify-center",children:[i.jsxs("div",{className:"text-xl md:text-2xl font-black text-slate-900 mb-0.5",children:[n.globalExecutionScore,"%"]}),i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black uppercase text-[7px]",children:" KPI"})]}),i.jsxs(Me,{className:"p-4 bg-white border-slate-100 flex flex-col justify-center",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black text-[7px]",children:"STREAK"}),i.jsx("span",{className:"text-orange-500 font-black text-[10px] md:text-[11px]",children:" 12"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black text-[7px]",children:""}),i.jsx("span",{className:"text-indigo-600 font-black text-[10px] md:text-[11px]",children:"84"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Y,{variant:"h2",className:"text-[9px] md:text-[10px] uppercase font-black tracking-widest px-1 text-slate-400",children:"   "}),de.map(W=>{const pe=l.filter(se=>se.parentFolderId===W.id&&se.status==="active"),ve=t.filter(se=>!se.isDeleted&&se.status!==Ne.DONE&&se.projectId===W.id&&se.projectSection!=="habits"),E=pe.map(se=>{const fe=t.filter(xe=>!xe.isDeleted&&xe.status!==Ne.DONE&&xe.projectId===se.id&&xe.projectSection!=="habits").sort((xe,_e)=>xe.createdAt-_e.createdAt);return fe.length>0?[fe[0]]:[]}).flat(),P=[...ve,...E];return P.length===0?null:i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("div",{className:"flex items-center gap-1.5 px-1 mt-2",children:[i.jsx("div",{className:"w-1 h-2 rounded-full",style:{backgroundColor:W.color}}),i.jsx("span",{className:"text-[9px] md:text-[10px] font-black uppercase tracking-tight text-slate-400",children:W.name})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1.5",children:P.map(se=>{const fe=l.find(xe=>xe.id===se.projectId&&xe.type==="subproject");return i.jsxs(Me,{padding:"none",onClick:()=>O(se.id),className:`bg-white border-slate-100 hover:border-orange-200 transition-all flex items-center gap-2 p-3 group cursor-pointer ${se.status===Ne.DOING?"opacity-60 grayscale border-slate-200 bg-slate-50 shadow-none":"shadow-sm"}`,children:[i.jsx("button",{onClick:xe=>{xe.stopPropagation(),p(se)},className:`w-5 h-5 rounded-full border flex items-center justify-center shrink-0 transition-all ${se.status===Ne.DONE?"bg-emerald-500 border-emerald-500 text-white":"bg-white border-slate-200 hover:border-orange-400"}`,children:se.status===Ne.DONE&&i.jsx("i",{className:"fa-solid fa-check text-[8px]"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("span",{className:`text-[12px] md:text-[13px] font-bold truncate block ${se.status===Ne.DONE?"line-through opacity-30":"text-slate-700"}`,children:se.title}),fe&&i.jsxs("span",{className:"text-[7px] font-black text-orange-400 uppercase truncate px-1 bg-orange-50 rounded",children:["# ",fe.name]})]})]},se.id)})})]},W.id)})]})]}):i.jsxs("div",{className:"max-w-3xl mx-auto py-4 md:py-6 space-y-3 md:space-y-4 px-3 md:px-4",children:[i.jsxs("div",{className:"flex items-center justify-between px-2 mb-1",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest text-[7px] md:text-[8px]",children:"  "}),i.jsxs(Xe,{variant:"orange",icon:"fa-mountain-sun",className:"text-[6px] md:text-[7px]",children:[de.length," "]})]}),de.map(W=>i.jsx(C_,{goal:W,isExpanded:M===W.id,onToggle:()=>I(M===W.id?null:W.id),onTaskClick:pe=>{O(pe),$(null),z(null)},onHabitClick:pe=>{$(pe),O(null),z(null)},onSubProjectClick:pe=>{z(pe),O(null),$(null)},onEdit:pe=>V({open:!0,editing:pe}),selectedTaskId:D,selectedHabitId:R},W.id)),de.length===0&&i.jsxs("div",{className:"py-16 md:py-20 text-center opacity-20 flex flex-col items-center",children:[i.jsx("i",{className:"fa-solid fa-mountain-sun text-4xl md:text-5xl mb-4"}),i.jsx(Y,{variant:"h2",className:"text-base md:text-lg font-black uppercase",children:"  "}),i.jsx("button",{onClick:()=>V({open:!0}),className:"mt-4 text-orange-600 font-black uppercase text-[8px] md:text-[9px] hover:underline decoration-2 underline-offset-4",children:"+  "})]})]})}),X&&!G.open&&T!=="structure"&&i.jsx("button",{onClick:()=>V({open:!0}),className:"fixed bottom-24 right-6 w-14 h-14 rounded-2xl bg-orange-600 text-white shadow-2xl shadow-orange-200 flex items-center justify-center z-40 animate-in zoom-in",children:i.jsx("i",{className:"fa-solid fa-plus text-xl"})})]}),i.jsxs("div",{className:`flex h-full border-l border-slate-100 z-[110] bg-white shrink-0 transition-all duration-300 ${X?D||k||Q?"fixed inset-0 w-full translate-x-0":"fixed inset-0 w-full translate-x-full":""}`,children:[!X&&i.jsx("div",{onMouseDown:j,className:`w-[1px] h-full cursor-col-resize hover:bg-orange-500 z-[100] transition-colors ${w?"bg-orange-500":"bg-slate-100"}`}),i.jsx("div",{style:{width:X?"100vw":_},className:"h-full bg-white relative flex flex-col overflow-hidden",children:D?i.jsx(Fs,{task:t.find(W=>W.id===D),onClose:()=>O(null)}):k?i.jsx(T_,{subProject:l.find(W=>W.id===k),onClose:()=>z(null)}):Q?i.jsx("div",{className:"h-full animate-in slide-in-from-right duration-300",children:i.jsx(Su,{habit:Q,onClose:()=>$(null),onUpdate:W=>g({...Q,...W}),onToggleStatus:u})}):!X&&i.jsxs("div",{className:"h-full flex flex-col bg-slate-50 overflow-y-auto custom-scrollbar",children:[i.jsxs("header",{className:"p-6 border-b border-slate-100 bg-white flex justify-between items-end",children:[i.jsxs("div",{children:[i.jsx(Y,{variant:"tiny",className:"text-orange-500 mb-1 block font-black uppercase text-[9px]",children:" 12TR"}),i.jsx(Y,{variant:"h2",className:"text-base",children:" "})]}),i.jsx(Xe,{variant:"emerald",className:"text-[7px]",children:"SYNCED"})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("section",{className:"space-y-3",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest text-[8px]",children:" "}),i.jsxs("div",{className:"bg-slate-900 p-5 rounded-[2rem] text-white shadow-xl space-y-3 relative overflow-hidden",children:[i.jsx("div",{className:"absolute bottom-0 right-0 w-16 h-16 bg-orange-600/10 blur-2xl"}),i.jsxs("div",{className:"flex justify-between items-end",children:[i.jsxs("span",{className:"text-3xl font-black",children:[n.globalExecutionScore,"%"]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-[7px] font-black text-orange-500 uppercase tracking-widest mb-0.5",children:"Execution"}),i.jsx("div",{className:"text-[9px] font-bold text-slate-400",children:"Score"})]})]}),i.jsx("div",{className:"h-1 bg-white/10 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-orange-500 shadow-[0_0_10px_#f97316] transition-all duration-1000",style:{width:`${n.globalExecutionScore}%`}})})]})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest text-[8px]",children:" "}),i.jsxs(Me,{padding:"sm",className:"space-y-3 bg-white border-slate-100 shadow-sm",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("label",{className:"text-[8px] font-black text-slate-900 uppercase flex items-center gap-1.5",children:[i.jsx("i",{className:"fa-solid fa-calendar-week text-orange-500"}),"  "]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"number",min:"1",max:"12",value:n.currentWeek,onChange:W=>v({currentWeek:parseInt(W.target.value)||1}),className:"w-16 bg-slate-50 border border-slate-100 rounded-lg py-1 px-2 text-xs font-black outline-none"}),i.jsx("span",{className:"text-[8px] text-slate-400 font-bold uppercase",children:"W / 12"})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("label",{className:"text-[8px] font-black text-slate-900 uppercase flex items-center gap-1.5",children:[i.jsx("i",{className:"fa-solid fa-clock text-indigo-500"}),"  "]}),i.jsx("input",{type:"date",value:new Date(n.startDate).toISOString().split("T")[0],onChange:W=>v({startDate:new Date(W.target.value).getTime()}),className:"w-full bg-slate-50 border border-slate-100 rounded-lg py-1 px-2 text-[9px] font-black outline-none"})]})]})]})]})]})})]}),G.open&&i.jsx(w_,{onClose:()=>V({open:!1}),onSave:U,initialData:G.editing,aiEnabled:N})]})},__=()=>{const{tasks:l,addTask:t,updateTask:n,toggleHabitStatus:s}=$e(),[o,u]=A.useState(null),[p,g]=A.useState(!1),[v,x]=A.useState(""),[y,N]=A.useState(null),[w,j]=A.useState(""),_=A.useRef(null),T=A.useMemo(()=>l.filter(k=>!k.isDeleted&&(k.projectSection==="habits"||k.tags.includes("habit"))),[l]),S=A.useMemo(()=>Array.from({length:14},(k,z)=>{const G=new Date;return G.setDate(G.getDate()-z),G.setHours(0,0,0,0),{label:G.toLocaleString("uk-UA",{weekday:"short"}).toUpperCase(),date:G.getDate(),dateStr:G.toISOString().split("T")[0],timestamp:G.getTime()}}),[]),M=k=>{k.preventDefault(),v.trim()&&(t(v.trim(),"tasks",void 0,"habits"),x(""),g(!1))},I=k=>{var le;const z=k.habitHistory||{};let G=0;const V=new Date;V.setHours(0,0,0,0);let te=new Date(V);for(;;){const X=te.toISOString().split("T")[0];if(((le=z[X])==null?void 0:le.status)==="completed")G++,te.setDate(te.getDate()-1);else{if(G===0&&X===V.toISOString().split("T")[0]){te.setDate(te.getDate()-1);continue}break}}return G},D=k=>k.color||"#f97316";A.useEffect(()=>{const k=z=>{_.current&&!_.current.contains(z.target)&&N(null)};return y&&document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[y]);const O=(k,z)=>{var te,le;const G=l.find(X=>X.id===k),V=((le=(te=G==null?void 0:G.habitHistory)==null?void 0:te[z])==null?void 0:le.note)||"";j(V),N({habitId:k,dateStr:z})},R=k=>{y&&(s(y.habitId,y.dateStr,k,w),N(null))},$=A.useMemo(()=>T.find(k=>k.id===o),[T,o]);return i.jsxs("div",{className:"h-screen flex flex-col bg-white text-slate-900 overflow-hidden relative",children:[i.jsxs("header",{className:"z-20 bg-white/80 backdrop-blur-xl border-b border-slate-100 px-5 py-3 flex items-center justify-between shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Y,{variant:"h2",className:"text-slate-900 text-lg font-black",children:""}),i.jsx("div",{className:"h-3 w-px bg-slate-200"}),i.jsx(Y,{variant:"tiny",className:"text-slate-400 tracking-widest lowercase text-[8px]",children:" "})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(Fe,{variant:"primary",size:"sm",icon:"fa-plus",onClick:()=>g(!0),className:"rounded-lg px-3 py-1.5 text-[10px]",children:""})})]}),i.jsx("div",{className:"flex-1 overflow-x-auto custom-scrollbar z-10",children:i.jsx("div",{className:"min-w-full inline-block align-middle p-4",children:i.jsxs("table",{className:"w-full border-separate border-spacing-x-0.5 table-fixed",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-slate-50/30",children:[i.jsx("th",{className:"sticky left-0 z-30 bg-white p-2 text-left w-56 border-b border-slate-100",children:i.jsx("span",{className:"text-[8px] font-black uppercase text-slate-300 tracking-[0.2em]",children:""})}),S.map(k=>{const z=k.dateStr===new Date().toISOString().split("T")[0];return i.jsxs("th",{className:`p-1.5 w-10 text-center border-b border-slate-100 rounded-t-lg ${z?"bg-orange-50/30":""}`,children:[i.jsx("div",{className:`text-[7px] font-black uppercase leading-none mb-0.5 ${z?"text-orange-500":"text-slate-300"}`,children:z?"":k.label}),i.jsx("div",{className:`text-[10px] font-black leading-none ${z?"text-orange-600":"text-slate-800"}`,children:k.date})]},k.dateStr)})]})}),i.jsx("tbody",{className:"divide-y divide-slate-50",children:T.map(k=>{const z=I(k),G=D(k);return i.jsxs("tr",{className:"group hover:bg-slate-50/20 transition-colors",children:[i.jsxs("td",{className:"sticky left-0 z-30 bg-white p-2 flex items-center gap-3 border-r border-slate-100 cursor-pointer",onClick:()=>u(k.id),children:[i.jsxs("div",{className:"relative w-8 h-8 flex items-center justify-center shrink-0",children:[i.jsxs("svg",{className:"w-full h-full transform -rotate-90 overflow-visible",viewBox:"0 0 32 32",children:[i.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"transparent",stroke:"#f1f5f9",strokeWidth:"3"}),i.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"transparent",stroke:G,strokeWidth:"3",strokeDasharray:2*Math.PI*14,strokeDashoffset:2*Math.PI*14*(1-Math.min(z,30)/30),strokeLinecap:"round",className:"transition-all duration-700 ease-in-out"})]}),i.jsxs("span",{className:"absolute text-[7px] font-black flex flex-col items-center leading-none",style:{color:G},children:[i.jsx("span",{children:z}),i.jsx("span",{className:"text-[4px] uppercase",children:""})]})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"text-[10px] font-black text-slate-800 truncate group-hover:text-orange-600 transition-colors uppercase tracking-tight flex items-center gap-1.5",children:[k.title,z>=3&&i.jsx("span",{className:"text-orange-500 text-[8px]",children:""})]}),i.jsx("div",{className:"h-0.5 w-12 bg-slate-100 rounded-full overflow-hidden mt-1",children:i.jsx("div",{className:"h-full transition-all",style:{width:`${Math.min(z*10,100)}%`,backgroundColor:G}})})]})]}),S.map(V=>{var U;const te=((U=k.habitHistory)==null?void 0:U[V.dateStr])||{status:"none"},le=te.status,X=!!te.note,B=V.dateStr===new Date().toISOString().split("T")[0],de=(y==null?void 0:y.habitId)===k.id&&(y==null?void 0:y.dateStr)===V.dateStr;return i.jsxs("td",{className:`p-0 text-center relative border-b border-slate-50 ${B?"bg-orange-50/10":""}`,children:[i.jsx("button",{onClick:()=>O(k.id,V.dateStr),className:`w-full h-10 flex flex-col items-center justify-center transition-all group/btn ${de?"bg-white shadow-inner ring-1 ring-orange-50":""}`,children:i.jsxs("div",{className:"relative",children:[le==="completed"?i.jsx("div",{className:"w-5 h-5 rounded-md flex items-center justify-center shadow-md transform group-hover/btn:scale-105 transition-transform",style:{backgroundColor:G},children:i.jsx("i",{className:"fa-solid fa-check text-white text-[8px]"})}):le==="skipped"?i.jsx("div",{className:"w-5 h-5 rounded-md flex items-center justify-center bg-slate-100",children:i.jsx("i",{className:"fa-solid fa-xmark text-slate-300 text-[8px]"})}):i.jsx("div",{className:"w-5 h-5 rounded-md border border-dashed border-slate-100 flex items-center justify-center group-hover/btn:border-orange-200 transition-colors",children:i.jsx("div",{className:"w-0.5 h-0.5 rounded-full bg-slate-100 group-hover/btn:bg-orange-200"})}),X&&i.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-1.5 h-1.5 bg-indigo-500 rounded-full border border-white shadow-sm"})]})}),de&&i.jsxs("div",{ref:_,className:"absolute top-full left-1/2 -translate-x-1/2 mt-1.5 w-64 bg-white shadow-2xl rounded-2xl border border-slate-100 p-4 z-[100] tiktok-blur text-left",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("span",{className:"text-[9px] font-black uppercase text-slate-400 tracking-widest",children:[V.label,", ",V.date]}),i.jsx("button",{onClick:()=>N(null),className:"text-slate-300 hover:text-slate-900 transition-colors",children:i.jsx("i",{className:"fa-solid fa-xmark text-[10px]"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[i.jsxs("button",{onClick:()=>R("completed"),className:`h-9 rounded-xl flex items-center justify-center gap-1.5 transition-all ${le==="completed"?"bg-orange-600 text-white shadow-lg":"bg-slate-50 text-slate-400 hover:bg-orange-50 hover:text-orange-600"}`,children:[i.jsx("i",{className:"fa-solid fa-check text-[10px]"}),i.jsx("span",{className:"text-[9px] font-black uppercase",children:""})]}),i.jsxs("button",{onClick:()=>R("skipped"),className:`h-9 rounded-xl flex items-center justify-center gap-1.5 transition-all ${le==="skipped"?"bg-slate-200 text-slate-800":"bg-slate-50 text-slate-400 hover:bg-slate-100 hover:text-slate-800"}`,children:[i.jsx("i",{className:"fa-solid fa-xmark text-[10px]"}),i.jsx("span",{className:"text-[9px] font-black uppercase",children:""})]})]}),i.jsx(Y,{variant:"tiny",className:"text-slate-400 mb-1.5 uppercase text-[7px]",children:""}),i.jsx("textarea",{value:w,onChange:Q=>j(Q.target.value),placeholder:" ?",className:"w-full bg-slate-50 border border-slate-100 rounded-xl p-2.5 text-[10px] font-medium outline-none h-16 resize-none focus:ring-1 focus:ring-orange-200 transition-all"}),i.jsx("button",{onClick:()=>{s(y.habitId,y.dateStr,void 0,w),N(null)},className:"w-full mt-3 py-2 bg-slate-900 text-white rounded-xl text-[9px] font-black uppercase tracking-widest shadow-md",children:""})]})]},V.dateStr)})]},k.id)})})]})})}),p&&i.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-950/20 backdrop-blur-sm",onClick:()=>g(!1)}),i.jsxs("div",{className:"bg-white w-full max-w-xs rounded-[2rem] border border-slate-100 p-8 shadow-2xl relative z-10 animate-in zoom-in-95 duration-200",children:[i.jsx(Y,{variant:"h2",className:"mb-6 text-xl",children:" "}),i.jsxs("form",{onSubmit:M,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[9px] font-black uppercase text-slate-400 tracking-widest",children:" "}),i.jsx("input",{autoFocus:!0,value:v,onChange:k=>x(k.target.value),placeholder:": ",className:"w-full bg-slate-50 border border-slate-100 rounded-xl py-3 px-4 text-xs font-bold focus:ring-2 focus:ring-orange-200 outline-none transition-all"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Fe,{variant:"ghost",type:"button",className:"flex-1 rounded-xl text-[10px]",onClick:()=>g(!1),children:""}),i.jsx(Fe,{type:"submit",variant:"primary",className:"flex-[2] rounded-xl shadow-lg text-[10px]",children:""})]})]})]})]}),$&&i.jsx("div",{className:"fixed top-0 right-0 h-full w-[340px] bg-white border-l border-slate-100 z-[110] shadow-[-10px_0_40px_rgba(0,0,0,0.05)]",children:i.jsx(Su,{habit:$,onClose:()=>u(null),onUpdate:k=>n({...$,...k}),onToggleStatus:s})})]})},j_=()=>{const{tasks:l,projects:t,timeBlocks:n,toggleTaskStatus:s,toggleHabitStatus:o,character:u,cycle:p,people:g,setActiveTab:v}=$e(),{isResizing:x,startResizing:y,detailsWidth:N}=qn(400,700),[w,j]=A.useState(null),[_,T]=A.useState(new Date);A.useEffect(()=>{const k=setInterval(()=>T(new Date),6e4);return()=>clearInterval(k)},[]);const S=A.useMemo(()=>new Date().setHours(0,0,0,0),[]),M=A.useMemo(()=>new Date().toISOString().split("T")[0],[]),I=A.useMemo(()=>l.filter(k=>!k.isDeleted&&k.status!==Ne.DONE&&(k.scheduledDate===S||k.status===Ne.NEXT_ACTION)&&k.projectSection!=="habits"&&k.category!=="note").sort((k,z)=>{const G={[Rs.UI]:4,[Rs.UNI]:3,[Rs.NUI]:2,[Rs.NUNI]:1};return(G[z.priority]||0)-(G[k.priority]||0)}),[l,S]),D=A.useMemo(()=>l.filter(k=>!k.isDeleted&&(k.projectSection==="habits"||k.tags.includes("habit"))),[l]),O=A.useMemo(()=>{const k=S+2592e6,z=[];return l.forEach(G=>{!G.isDeleted&&G.isEvent&&G.scheduledDate&&G.scheduledDate>S&&G.scheduledDate<=k&&z.push({id:G.id,title:G.title,date:G.scheduledDate,type:"task"})}),g.forEach(G=>{var V;if(G.birthDate){const te=new Date(G.birthDate),le=new Date(new Date().getFullYear(),te.getMonth(),te.getDate()).getTime();le>=S&&le<=k&&z.push({id:`bd-${G.id}`,title:`: ${G.name}`,date:le,type:"birthday"})}(V=G.importantDates)==null||V.forEach(te=>{const le=new Date(te.date),X=new Date(new Date().getFullYear(),le.getMonth(),le.getDate()).getTime();X>=S&&X<=k&&z.push({id:te.id,title:`${te.label}: ${G.name}`,date:X,type:"ally"})})}),z.sort((G,V)=>G.date-V.date)},[l,g,S]),R=A.useMemo(()=>{const k=_.getDay(),z=_.getHours();return n.find(G=>G.dayOfWeek===k&&z>=G.startHour&&z<G.endHour)},[n,_]),$=[{label:"",value:u.gold,icon:"fa-coins",color:"text-amber-500"},{label:"XP",value:u.xp,icon:"fa-bolt",color:"text-orange-500"},{label:"KPI",value:`${p.globalExecutionScore}%`,icon:"fa-chart-line",color:"text-emerald-500"}];return i.jsxs("div",{className:"h-screen flex bg-[var(--bg-main)] overflow-hidden relative",children:[i.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full",children:[i.jsx("header",{className:"p-6 md:p-10 bg-[var(--bg-card)] border-b border-[var(--border-color)] shrink-0",children:i.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[i.jsxs("div",{children:[i.jsx(Y,{variant:"h1",className:"text-2xl md:text-4xl mb-1",children:" "}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Xe,{variant:"orange",className:"text-[8px]",children:_.toLocaleDateString("uk-UA",{weekday:"long",day:"numeric",month:"long"})}),i.jsx("div",{className:"h-1 w-1 rounded-full bg-slate-300"}),i.jsxs(Y,{variant:"tiny",className:"text-slate-400",children:[" ",p.currentWeek," "]})]})]}),i.jsx("div",{className:"flex gap-3",children:$.map(k=>i.jsxs(Me,{padding:"none",className:"px-4 py-2 flex items-center gap-3 bg-white border-slate-100 shadow-sm",children:[i.jsx("i",{className:`fa-solid ${k.icon} ${k.color} text-sm`}),i.jsxs("div",{children:[i.jsx("div",{className:"text-[7px] font-black uppercase text-slate-400 leading-none",children:k.label}),i.jsx("div",{className:"text-sm font-black text-slate-800",children:k.value})]})]},k.label))})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-10",children:i.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-8 pb-32",children:[i.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[i.jsx("section",{className:"relative",children:i.jsx("div",{className:`p-6 rounded-[2.5rem] border-2 transition-all ${R?"bg-slate-900 text-white border-slate-800 shadow-2xl":"bg-white border-slate-100"}`,children:i.jsxs("div",{className:"flex items-center gap-5",children:[i.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-2xl shadow-inner ${R?"bg-orange-600":"bg-slate-100 text-slate-300"}`,children:i.jsx("i",{className:`fa-solid ${R?"fa-hourglass-start animate-pulse":"fa-bed"}`})}),i.jsxs("div",{className:"flex-1",children:[i.jsx(Y,{variant:"tiny",className:R?"text-orange-400":"text-slate-400",children:R?"  :":"   "}),i.jsx(Y,{variant:"h2",className:`text-xl md:text-2xl ${R?"text-white":"text-slate-400"}`,children:(R==null?void 0:R.title)||" / "}),R&&i.jsxs("div",{className:"text-[10px] font-bold opacity-60 mt-1 uppercase tracking-widest",children:[R.startHour,":00  ",R.endHour,":00"]})]}),i.jsx("button",{onClick:()=>v("calendar"),className:"w-10 h-10 rounded-xl bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all",children:i.jsx("i",{className:"fa-solid fa-arrow-right text-xs"})})]})})}),i.jsxs("section",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center px-2",children:[i.jsx(Y,{variant:"tiny",className:"font-black uppercase tracking-widest text-[9px]",children:" ()"}),i.jsx("button",{onClick:()=>v("habits"),className:"text-[8px] font-black text-orange-600 uppercase hover:underline",children:" "})]}),i.jsxs("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-2 -mx-2 px-2",children:[D.map(k=>{var G,V;const z=((V=(G=k.habitHistory)==null?void 0:G[M])==null?void 0:V.status)==="completed";return i.jsxs("button",{onClick:()=>o(k.id,M,z?"none":"completed"),className:`flex-none w-32 p-4 rounded-[2rem] border transition-all flex flex-col items-center gap-3 ${z?"bg-emerald-50 border-emerald-100":"bg-white border-slate-100 hover:border-orange-200 shadow-sm"}`,children:[i.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-sm shadow-sm transition-all ${z?"bg-emerald-500 text-white":"bg-slate-50 text-slate-400"}`,children:i.jsx("i",{className:`fa-solid ${z?"fa-check":"fa-repeat"}`})}),i.jsx("span",{className:`text-[10px] font-black uppercase text-center leading-tight truncate w-full ${z?"text-emerald-700":"text-slate-600"}`,children:k.title})]},k.id)}),D.length===0&&i.jsx("div",{className:"w-full py-6 text-center border-2 border-dashed border-slate-100 rounded-[2rem] opacity-30",children:i.jsx(Y,{variant:"tiny",children:"  "})})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-end px-2",children:[i.jsx(Y,{variant:"tiny",className:"font-black uppercase tracking-widest text-[9px]",children:" "}),i.jsxs(Xe,{variant:"orange",className:"text-[7px]",children:[": ",I.length]})]}),i.jsxs("div",{className:"space-y-3",children:[I.map(k=>{const z=t.find(G=>G.id===k.projectId);return i.jsxs(Me,{padding:"none",onClick:()=>j(k.id),className:"flex items-center gap-4 p-5 group cursor-pointer hover:border-orange-300 shadow-sm bg-white",children:[i.jsx("button",{onClick:G=>{G.stopPropagation(),s(k)},className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all shrink-0 ${k.status===Ne.DONE?"bg-emerald-500 border-emerald-500 text-white":"border-slate-200 bg-slate-50 hover:border-orange-500 text-transparent"}`,children:i.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("span",{className:"text-[13px] md:text-sm font-black text-slate-800 block truncate group-hover:text-orange-600 transition-colors",children:k.title}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[z&&i.jsxs("span",{className:"text-[7px] font-black text-orange-500 uppercase bg-orange-50 px-1.5 py-0.5 rounded",children:["# ",z.name]}),i.jsx("span",{className:"text-[7px] font-bold text-slate-300 uppercase",children:k.priority})]})]}),i.jsx("i",{className:"fa-solid fa-chevron-right text-slate-200 text-[10px] group-hover:translate-x-1 transition-transform"})]},k.id)}),I.length===0&&i.jsxs("div",{className:"py-20 bg-slate-50/50 rounded-[2.5rem] border-2 border-dashed border-slate-100 flex flex-col items-center justify-center grayscale opacity-30",children:[i.jsx("i",{className:"fa-solid fa-circle-check text-5xl mb-4"}),i.jsx("p",{className:"text-[10px] font-black uppercase",children:"    !"})]})]})]})]}),i.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[i.jsxs("section",{className:"space-y-4",children:[i.jsx(Y,{variant:"tiny",className:"font-black uppercase tracking-widest px-2 text-[9px]",children:" "}),i.jsxs(Me,{className:"bg-gradient-to-br from-slate-900 to-slate-800 text-white p-6 shadow-2xl relative overflow-hidden border-none rounded-[2rem]",children:[i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/10 blur-[50px]"}),i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("img",{src:u.avatarUrl,className:"w-12 h-12 rounded-2xl bg-white/10 p-1 border border-white/10"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs font-black uppercase truncate",children:u.name}),i.jsxs("div",{className:"text-[8px] font-black text-orange-500 uppercase tracking-widest",children:["LVL ",u.level," ",u.role]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-[8px] font-black uppercase mb-1.5 text-slate-400",children:[i.jsx("span",{children:""}),i.jsxs("span",{children:[u.energy,"%"]})]}),i.jsx("div",{className:"h-1 bg-white/10 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-orange-500 shadow-[0_0_8px_#f97316]",style:{width:`${u.energy}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-[8px] font-black uppercase mb-1.5 text-slate-400",children:[i.jsx("span",{children:""}),i.jsxs("span",{children:[u.xp%1e3,"/1000"]})]}),i.jsx("div",{className:"h-1 bg-white/10 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-indigo-500",style:{width:`${u.xp%1e3/10}%`}})})]})]})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center px-2",children:[i.jsx(Y,{variant:"tiny",className:"font-black uppercase tracking-widest text-[9px]",children:" (30 )"}),i.jsx("i",{className:"fa-solid fa-radar text-orange-500 animate-pulse text-[10px]"})]}),i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto no-scrollbar",children:O.length>0?O.map((k,z)=>{const G=new Date(k.date),V=Math.ceil((k.date-S)/(1e3*60*60*24));return i.jsxs("div",{className:"p-4 bg-white border border-slate-50 rounded-2xl shadow-sm flex items-center gap-4 group hover:border-orange-200 transition-all",children:[i.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${k.type==="birthday"?"bg-amber-50 text-amber-500":k.type==="ally"?"bg-indigo-50 text-indigo-500":"bg-pink-50 text-pink-500"}`,children:i.jsx("i",{className:`fa-solid ${k.type==="birthday"?"fa-cake-candles":k.type==="ally"?"fa-bell":"fa-calendar-star"}`})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-[11px] font-black text-slate-800 uppercase truncate mb-0.5",children:k.title}),i.jsxs("div",{className:"text-[8px] font-bold text-slate-400 uppercase",children:[G.toLocaleDateString("uk-UA",{day:"numeric",month:"short"}),"   ",V," ."]})]})]},`${k.id}-${z}`)}):i.jsx("div",{className:"p-8 text-center bg-slate-50/50 rounded-[2rem] border border-dashed border-slate-100 opacity-30",children:i.jsx("p",{className:"text-[8px] font-black uppercase tracking-widest",children:" "})})})]})]})]})})]}),i.jsxs("div",{className:`flex h-full border-l border-[var(--border-color)] z-[110] bg-[var(--bg-card)] shrink-0 transition-all duration-300 ${window.innerWidth<1024?w?"fixed inset-0 w-full translate-x-0":"fixed inset-0 w-full translate-x-full":""}`,children:[!x&&window.innerWidth>=1024&&i.jsx("div",{onMouseDown:y,className:"w-[1px] h-full cursor-col-resize hover:bg-[var(--primary)] transition-colors"}),i.jsx("div",{style:{width:window.innerWidth<1024?"100vw":N},className:"h-full bg-white relative overflow-hidden flex flex-col shadow-2xl",children:w?i.jsx(Fs,{task:l.find(k=>k.id===w),onClose:()=>j(null)}):i.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-12 text-center opacity-5 grayscale pointer-events-none select-none",children:[i.jsx("i",{className:"fa-solid fa-compass text-9xl mb-8"}),i.jsx(Y,{variant:"h2",className:"text-2xl font-black uppercase tracking-widest",children:" "})]})})]})]})},E_=()=>{var ze,lt;const{tasks:l,addTask:t,updateTask:n,deleteTask:s,detailsWidth:o,setDetailsWidth:u,addProject:p,updateProject:g,deleteProject:v,projects:x}=$e(),[y,N]=A.useState(null),[w,j]=A.useState("all"),[_,T]=A.useState(""),[S,M]=A.useState(!1),[I,D]=A.useState(""),[O,R]=A.useState(null),[$,k]=A.useState(""),[z,G]=A.useState(!1),[V,te]=A.useState(null),[le,X]=A.useState(window.innerWidth<1024);A.useEffect(()=>{const K=()=>X(window.innerWidth<1024);return window.addEventListener("resize",K),()=>window.removeEventListener("resize",K)},[]);const B=A.useMemo(()=>x.filter(K=>{var Ce;return!K.isStrategic||((Ce=K.description)==null?void 0:Ce.includes("FOLDER_NOTE"))}),[x]),de=[{id:"all",label:" ",icon:"fa-layer-group"},{id:"dreams",label:"",icon:"fa-cloud-moon"},{id:"ideas",label:"",icon:"fa-lightbulb"},{id:"achievements",label:"",icon:"fa-trophy"},{id:"someday",label:" ",icon:"fa-hourglass-start"}],U=A.useMemo(()=>l.filter(K=>K.category!=="note"||K.status===Ne.DONE||K.isDeleted?!1:w==="all"?!0:K.projectId===w).sort((K,Ce)=>Ce.createdAt-K.createdAt),[l,w]),Q=A.useCallback(K=>{K.preventDefault(),G(!0)},[]),W=A.useCallback(()=>G(!1),[]),pe=A.useCallback(K=>{if(!z)return;const Ce=window.innerWidth-K.clientX;Ce>300&&Ce<900&&u(Ce)},[z,u]);A.useEffect(()=>(z?(window.addEventListener("mousemove",pe),window.addEventListener("mouseup",W)):(window.removeEventListener("mousemove",pe),window.removeEventListener("mouseup",W)),()=>{window.removeEventListener("mousemove",pe),window.removeEventListener("mouseup",W)}),[z,pe,W]);const ve=K=>{K&&K.preventDefault();const Ce=_.trim()||" ",Ie=w!=="all"&&!de.find(wt=>wt.id===w)?w:void 0,ct=t(Ce,"note",Ie,"actions");N(ct),T("")},E=K=>{K.preventDefault(),I.trim()&&(p({name:I.trim(),color:"var(--primary)",isStrategic:!1,description:"FOLDER_NOTE"}),D(""),M(!1))},P=(K,Ce)=>{K.stopPropagation(),R(Ce.id),k(Ce.name)},se=K=>{$.trim()&&$!==K.name&&g({...K,name:$.trim()}),R(null)},fe=(K,Ce)=>{K.stopPropagation(),confirm(" ?  .")&&(v(Ce),w===Ce&&j("all"))},xe=(K,Ce)=>{K.preventDefault(),te(Ce)},_e=(K,Ce)=>{K.preventDefault(),te(null);const Ie=K.dataTransfer.getData("taskId");if(!Ie)return;const ct=l.find(wt=>wt.id===Ie);ct&&n({...ct,projectId:Ce==="all"?void 0:Ce})};return i.jsxs("div",{className:"h-screen flex bg-[var(--bg-main)] overflow-hidden relative",children:[i.jsxs("div",{className:`flex flex-1 overflow-hidden transition-all duration-300 ${le&&y?"-translate-x-full absolute":"translate-x-0 relative"}`,children:[i.jsxs("aside",{className:"hidden md:flex w-56 bg-[var(--bg-card)] border-r border-[var(--border-color)] flex-col p-4 shrink-0",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx(Y,{variant:"h3",className:"text-base mb-1",children:" "}),i.jsx(Y,{variant:"tiny",className:"text-[var(--text-muted)] lowercase text-[8px]",children:"  '"})]}),i.jsx("div",{className:"mb-6",children:i.jsx("form",{onSubmit:ve,children:i.jsx("input",{value:_,onChange:K=>T(K.target.value),placeholder:"+  ...",className:"w-full bg-[var(--bg-main)] border-none rounded-xl py-2 px-3 text-[10px] font-black uppercase tracking-tight focus:ring-2 focus:ring-[var(--primary)]/20 outline-none text-[var(--text-main)]"})})}),i.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Y,{variant:"tiny",className:"text-[var(--text-muted)] mb-2 ml-1 text-[7px] uppercase",children:""}),de.map(K=>i.jsxs("button",{onClick:()=>j(K.id),onDragOver:Ce=>xe(Ce,K.id),onDrop:Ce=>_e(Ce,K.id),className:`w-full flex items-center gap-2 px-2 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-wider transition-all ${w===K.id?"bg-[var(--primary)]/10 text-[var(--primary)]":V===K.id?"bg-[var(--primary)]/20 ring-1 ring-[var(--primary)]":"text-[var(--text-muted)] hover:bg-[var(--bg-main)]"}`,children:[i.jsx("i",{className:`fa-solid ${K.icon} w-3 text-center`}),K.label]},K.id))]}),i.jsxs("div",{className:"space-y-0.5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[i.jsx(Y,{variant:"tiny",className:"text-[var(--text-muted)] text-[7px] uppercase",children:""}),i.jsx("i",{onClick:()=>M(!0),className:"fa-solid fa-plus-circle text-[10px] text-[var(--text-muted)] hover:text-[var(--primary)] cursor-pointer"})]}),S&&i.jsx("form",{onSubmit:E,className:"px-1 mb-2",children:i.jsx("input",{autoFocus:!0,value:I,onChange:K=>D(K.target.value),placeholder:"...",className:"w-full bg-[var(--bg-main)] border border-[var(--primary)]/20 rounded-lg py-1 px-2 text-[9px] font-bold outline-none text-[var(--text-main)]",onBlur:()=>!I&&M(!1)})}),B.map(K=>{const Ce=O===K.id;return i.jsx("div",{className:"relative group/folder",children:Ce?i.jsx("input",{autoFocus:!0,value:$,onChange:Ie=>k(Ie.target.value),onBlur:()=>se(K),onKeyDown:Ie=>Ie.key==="Enter"&&se(K),className:"w-full bg-[var(--bg-card)] border border-[var(--primary)]/30 rounded-lg py-1 px-2 text-[9px] font-black uppercase text-[var(--text-main)]"}):i.jsxs("button",{onClick:()=>j(K.id),onDragOver:Ie=>xe(Ie,K.id),onDrop:Ie=>_e(Ie,K.id),className:`w-full flex items-center justify-between px-2 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-wider transition-all ${w===K.id?"bg-[var(--primary)]/10 text-[var(--primary)]":V===K.id?"bg-[var(--primary)]/20 ring-1 ring-[var(--primary)]":"text-[var(--text-muted)] hover:bg-[var(--bg-main)]"}`,children:[i.jsxs("div",{className:"flex items-center gap-2 truncate",children:[i.jsx("i",{className:"fa-solid fa-folder w-3 text-center"}),i.jsx("span",{className:"truncate",children:K.name})]}),i.jsxs("div",{className:"flex gap-2 opacity-0 group-hover/folder:opacity-100",children:[i.jsx("i",{onClick:Ie=>P(Ie,K),className:"fa-solid fa-pen text-[7px] hover:text-[var(--primary)]"}),i.jsx("i",{onClick:Ie=>fe(Ie,K.id),className:"fa-solid fa-trash text-[7px] hover:text-rose-500"})]})]})},K.id)})]})]})]}),i.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-[var(--bg-main)]",children:[i.jsxs("header",{className:"px-4 md:px-6 py-4 bg-[var(--bg-card)] border-b border-[var(--border-color)] flex items-center justify-between z-10 shrink-0",children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx(Y,{variant:"h3",className:"text-[var(--text-main)] text-sm md:text-base leading-none mb-1",children:((ze=de.find(K=>K.id===w))==null?void 0:ze.label)||((lt=B.find(K=>K.id===w))==null?void 0:lt.name)||w}),i.jsxs(Y,{variant:"tiny",className:"text-[var(--text-muted)] text-[7px] uppercase tracking-widest",children:[U.length," "]})]})}),le&&i.jsx(Fe,{size:"sm",onClick:()=>ve(),className:"rounded-xl px-4 py-2 text-[8px] tracking-widest font-black uppercase shadow-lg",children:""}),!le&&i.jsx("form",{onSubmit:ve,className:"flex gap-2",children:i.jsx("input",{value:_,onChange:K=>T(K.target.value),placeholder:" ...",className:"bg-[var(--bg-main)] border border-[var(--border-color)] rounded-xl py-1.5 px-4 text-[11px] font-bold outline-none focus:ring-2 focus:ring-[var(--primary)]/10 w-48 text-[var(--text-main)]"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 md:p-6",children:i.jsxs("div",{className:`grid gap-3 md:gap-4 pb-32 ${y?"grid-cols-1 md:grid-cols-2":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5"}`,children:[U.map(K=>{var ct,wt;const Ce=y===K.id;let Ie=" ...";try{Ie=((wt=(ct=JSON.parse(K.content||"[]").find(Mt=>Mt.content.trim()!==""&&Mt.content!=="<br>"))==null?void 0:ct.content)==null?void 0:wt.replace(/<[^>]*>?/gm,""))||" ..."}catch{Ie=K.content||" ..."}return i.jsx(Me,{padding:"none",onClick:()=>N(K.id),className:`group bg-[var(--bg-card)] p-4 rounded-[2rem] border transition-all cursor-pointer flex flex-col justify-between min-h-[140px] relative ${Ce?"border-[var(--primary)] ring-2 ring-[var(--primary)]/5 shadow-xl":"border-[var(--border-color)] hover:border-[var(--primary)]/30 hover:shadow-md"}`,children:i.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx(Y,{variant:"h3",className:"text-[var(--text-main)] leading-tight truncate pr-4 text-[13px] uppercase tracking-tight",children:K.title}),i.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),confirm(" ?")&&s(K.id)},className:"w-6 h-6 rounded-lg text-[var(--text-muted)] hover:text-rose-500 hover:bg-rose-50 transition-all opacity-0 group-hover:opacity-100 flex items-center justify-center shrink-0",children:i.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-[10px] font-medium text-[var(--text-muted)] line-clamp-3 leading-relaxed",children:Ie})}),i.jsxs("div",{className:"flex justify-between items-center pt-3 mt-3 border-t border-[var(--border-color)]",children:[i.jsx("span",{className:"text-[7px] font-black uppercase text-[var(--text-muted)] opacity-50",children:new Date(K.createdAt).toLocaleDateString("uk-UA")}),K.tags.length>0&&i.jsx("div",{className:"flex gap-1",children:i.jsxs("span",{className:"text-[7px] font-black text-[var(--primary)] uppercase",children:["#",K.tags[0]]})})]})]})},K.id)}),U.length===0&&i.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center opacity-20 grayscale pointer-events-none",children:[i.jsx("i",{className:"fa-solid fa-note-sticky text-7xl mb-4"}),i.jsx(Y,{variant:"h2",className:"text-xl uppercase font-black tracking-widest",children:" "}),i.jsx(Y,{variant:"body",className:"mt-2 text-xs",children:"    "})]})]})})]})]}),i.jsxs("div",{className:`flex h-full border-l border-[var(--border-color)] z-[110] bg-[var(--bg-card)] shrink-0 transition-all duration-300 ${le?y?"fixed inset-0 w-full translate-x-0":"fixed inset-0 w-full translate-x-full":""}`,children:[!le&&i.jsx("div",{onMouseDown:Q,className:`w-[1.5px] h-full cursor-col-resize hover:bg-[var(--primary)] z-[120] transition-colors ${z?"bg-[var(--primary)]":"bg-[var(--border-color)]"}`}),i.jsx("div",{style:{width:le?"100vw":o},className:"h-full bg-[var(--bg-card)] relative overflow-hidden flex flex-col shadow-2xl",children:y?i.jsx(Fs,{task:l.find(K=>K.id===y),onClose:()=>N(null)}):!le&&i.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-12 text-center opacity-5 grayscale pointer-events-none select-none",children:[i.jsx("i",{className:"fa-solid fa-note-sticky text-9xl mb-8"}),i.jsx(Y,{variant:"h2",className:"text-2xl font-black uppercase tracking-widest",children:" "})]})})]})]})},k_=({onClose:l})=>{const{reportTemplate:t,updateReportTemplate:n,saveDiaryEntry:s}=$e(),[o,u]=A.useState(1),[p,g]=A.useState({}),[v,x]=A.useState(!1),[y,N]=A.useState(t),w=A.useMemo(()=>{const R=t.map($=>$.page);return R.length>0?Math.max(...R):1},[t]),j=A.useMemo(()=>t.filter(R=>R.page===o),[t,o]),_=()=>{o<w?u(o+1):S()},T=()=>{o>1&&u(o-1)},S=()=>{const R=new Date().toISOString().split("T")[0];let $=`#  : ${new Date().toLocaleDateString("uk-UA",{day:"numeric",month:"long",year:"numeric"})}

`;t.sort((k,z)=>k.page-z.page).forEach(k=>{const z=p[k.id];z&&($+=`#### ${k.text}
> ${z.replace(/\n/g,`
> `)}

`)}),s(R,$),l()},M=()=>{const R=`q_${Date.now()}`;N([...y,{id:R,text:"",page:o}])},I=(R,$,k)=>{N(y.map(z=>z.id===R?{...z,text:$,page:k}:z))},D=R=>{N(y.filter($=>$.id!==R))},O=()=>{n(y),x(!1)};return i.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 tiktok-blur",children:[i.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:l}),i.jsxs(Me,{className:"w-full max-w-2xl max-h-[90vh] bg-[var(--bg-card)] border-[var(--border-color)] shadow-2xl overflow-hidden flex flex-col relative animate-in zoom-in-95 duration-300 rounded-[2.5rem]",children:[!v&&i.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-[var(--bg-main)] z-20",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-orange-400 to-pink-500 transition-all duration-500",style:{width:`${o/w*100}%`}})}),i.jsxs("header",{className:"p-6 md:p-8 pb-4 flex justify-between items-start shrink-0 border-b border-slate-50 bg-[var(--bg-card)] z-10",children:[i.jsxs("div",{children:[i.jsx(Y,{variant:"tiny",className:"text-[var(--primary)] mb-1 font-black",children:v?" ":` ${o}  ${w}`}),i.jsx(Y,{variant:"h2",className:"text-xl md:text-2xl",children:v?" ":"   ?"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>{v&&N(t),x(!v)},className:`w-10 h-10 rounded-2xl flex items-center justify-center transition-all ${v?"bg-[var(--primary)] text-white shadow-lg":"bg-[var(--bg-main)] text-[var(--text-muted)] hover:bg-orange-50"}`,title:" ",children:i.jsx("i",{className:"fa-solid fa-gear text-sm"})}),i.jsx("button",{onClick:l,className:"w-10 h-10 rounded-2xl bg-[var(--bg-main)] flex items-center justify-center text-[var(--text-muted)] hover:bg-rose-50 hover:text-rose-500 transition-all",children:i.jsx("i",{className:"fa-solid fa-xmark"})})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 md:p-8 pt-4",children:v?i.jsxs("div",{className:"space-y-4 pb-4",children:[i.jsx(Y,{variant:"body",className:"text-[var(--text-muted)] mb-4 italic text-xs",children:"    ."}),y.map(R=>i.jsxs("div",{className:"flex gap-3 items-start bg-[var(--bg-main)] p-4 rounded-2xl border border-[var(--border-color)] group/q transition-all hover:border-[var(--primary)]/30",children:[i.jsxs("div",{className:"flex flex-col items-center gap-1 shrink-0",children:[i.jsx("input",{type:"number",min:"1",value:R.page,onChange:$=>I(R.id,R.text,parseInt($.target.value)||1),className:"w-10 bg-white border border-[var(--border-color)] rounded-lg p-1 text-center text-[10px] font-black"}),i.jsx("span",{className:"text-[7px] font-black text-slate-300 uppercase",children:"."})]}),i.jsx("textarea",{value:R.text,onChange:$=>I(R.id,$.target.value,R.page),placeholder:" ...",className:"flex-1 bg-transparent border-none p-0 text-sm font-bold focus:ring-0 outline-none resize-none min-h-[40px] leading-tight"}),i.jsx("button",{onClick:()=>D(R.id),className:"text-slate-200 hover:text-rose-500 transition-colors pt-1",children:i.jsx("i",{className:"fa-solid fa-trash-can text-xs"})})]},R.id)),i.jsx("button",{onClick:M,className:"w-full py-4 border-2 border-dashed border-[var(--border-color)] rounded-2xl text-[var(--text-muted)] text-[10px] font-black uppercase tracking-widest hover:border-[var(--primary)] hover:text-[var(--primary)] transition-all bg-slate-50/50 hover:bg-white",children:"+  "})]}):i.jsx("div",{className:"space-y-6 md:space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:j.map(R=>i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"text-[11px] font-black text-[var(--text-main)] uppercase tracking-widest leading-relaxed block",children:R.text}),i.jsx("textarea",{value:p[R.id]||"",onChange:$=>g({...p,[R.id]:$.target.value}),placeholder:" ...",className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-[1.5rem] p-5 text-sm font-medium focus:ring-4 focus:ring-orange-100 transition-all outline-none min-h-[100px] md:min-h-[140px]"})]},R.id))})}),i.jsx("footer",{className:"p-6 md:p-8 border-t border-[var(--border-color)] bg-[var(--bg-main)]/30 flex justify-between items-center gap-4 shrink-0",children:v?i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsx(Fe,{variant:"ghost",className:"flex-1 py-3.5 rounded-2xl",onClick:()=>x(!1),children:""}),i.jsx(Fe,{variant:"primary",className:"flex-[2] py-3.5 rounded-2xl shadow-lg",onClick:O,children:" "})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Fe,{variant:"ghost",className:"px-4 md:px-6 rounded-2xl text-[10px] font-black tracking-widest",onClick:T,disabled:o===1,children:""}),Object.keys(p).length>0&&i.jsx("button",{onClick:S,className:"px-4 md:px-6 py-2 rounded-2xl text-[9px] font-black uppercase text-emerald-600 hover:bg-emerald-50 transition-colors",children:"  "})]}),i.jsx(Fe,{variant:"primary",className:"flex-1 py-4 rounded-2xl shadow-xl shadow-orange-200 text-[10px] font-black tracking-widest uppercase",onClick:_,children:o>=w?"":""})]})})]})]})},A_=()=>{const{diary:l,tasks:t,people:n,deleteDiaryEntry:s}=$e(),[o,u]=A.useState(new Date().toLocaleDateString("en-CA")),[p,g]=A.useState(new Date),[v,x]=A.useState(null),[y,N]=A.useState(!1),[w,j]=A.useState(!1),[_,T]=A.useState("list"),{isResizing:S,startResizing:M,detailsWidth:I}=qn(400,800),[D,O]=A.useState(window.innerWidth<1024);A.useEffect(()=>{const V=()=>O(window.innerWidth<1024);return window.addEventListener("resize",V),()=>window.removeEventListener("resize",V)},[]);const R=A.useMemo(()=>[...l].sort((V,te)=>te.date!==V.date?te.date.localeCompare(V.date):te.createdAt-V.createdAt),[l]),$=A.useMemo(()=>{const V={};return R.forEach(te=>{const le=te.date.split("-").map(Number),X=new Date(le[0],le[1]-1,le[2]);if(isNaN(X.getTime()))return;const B=X.toLocaleDateString("uk-UA",{month:"long",year:"numeric"});V[B]||(V[B]=[]),V[B].push(te)}),V},[R]),k=A.useMemo(()=>{const V=new Date(o),te=V.getDate(),le=V.getMonth();return l.filter(X=>{const B=new Date(X.date);return B.getDate()===te&&B.getMonth()===le&&B.getFullYear()<V.getFullYear()}).sort((X,B)=>new Date(B.date).getTime()-new Date(X.date).getTime())},[l,o]),z=(V=!1)=>{const te=p.getFullYear(),le=p.getMonth(),U=V&&!w?(()=>{const Q=new Date(p),W=Q.getDay(),pe=Q.getDate()-W+(W===0?-6:1),ve=new Date(Q.setDate(pe));return Array.from({length:7},(E,P)=>{const se=new Date(ve);return se.setDate(ve.getDate()+P),se})})():(()=>{const Q=(new Date(te,le,1).getDay()+6)%7,W=new Date(te,le+1,0).getDate(),pe=[];for(let ve=0;ve<Q;ve++)pe.push(null);for(let ve=1;ve<=W;ve++)pe.push(new Date(te,le,ve));for(;pe.length%7!==0;)pe.push(null);return pe})();return i.jsxs("div",{className:`bg-white p-4 md:p-5 rounded-[2rem] border border-slate-100 shadow-sm transition-all duration-300 ${V?"mb-6 mx-2":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("button",{onClick:()=>V&&j(!w),className:"flex items-center gap-2 text-left group",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-900 font-black capitalize text-[10px] tracking-wider group-hover:text-orange-600 transition-colors",children:p.toLocaleString("uk-UA",{month:"long",year:"numeric"})}),V&&i.jsx("i",{className:`fa-solid fa-chevron-down text-[8px] text-slate-300 transition-transform ${w?"rotate-180":""}`})]}),i.jsxs("div",{className:"flex gap-2 shrink-0",children:[i.jsx("button",{onClick:()=>g(new Date(te,le-1,1)),className:"w-7 h-7 rounded-xl hover:bg-slate-50 flex items-center justify-center text-slate-300 hover:text-orange-500 transition-colors",children:i.jsx("i",{className:"fa-solid fa-chevron-left text-[9px]"})}),i.jsx("button",{onClick:()=>g(new Date(te,le+1,1)),className:"w-7 h-7 rounded-xl hover:bg-slate-50 flex items-center justify-center text-slate-300 hover:text-orange-500 transition-colors",children:i.jsx("i",{className:"fa-solid fa-chevron-right text-[9px]"})})]})]}),i.jsxs("div",{className:"grid grid-cols-7 gap-1 md:gap-2",children:[["","","","","","",""].map(Q=>i.jsx("div",{className:"text-[7px] font-black text-slate-200 text-center uppercase tracking-tighter",children:Q},Q)),U.map((Q,W)=>{if(Q===null)return i.jsx("div",{className:"h-8"},`empty-${W}`);const pe=Q.getFullYear(),ve=String(Q.getMonth()+1).padStart(2,"0"),E=String(Q.getDate()).padStart(2,"0"),P=`${pe}-${ve}-${E}`,se=o===P,fe=new Date().toLocaleDateString("en-CA")===P,xe=l.some(_e=>_e.date===P);return i.jsxs("button",{onClick:()=>{u(P),V&&j(!1)},className:`h-8 md:h-9 rounded-xl flex items-center justify-center text-[10px] font-bold transition-all relative ${se?"bg-orange-600 text-white shadow-lg":fe?"text-orange-600 bg-orange-50":"text-slate-600 hover:bg-slate-50"}`,children:[Q.getDate(),xe&&!se&&i.jsx("div",{className:"absolute bottom-1.5 w-1 h-1 bg-orange-400 rounded-full"})]},P)})]})]})},G=()=>i.jsxs("div",{className:"h-full flex flex-col bg-white overflow-y-auto custom-scrollbar",children:[i.jsxs("header",{className:"p-6 border-b border-slate-50 shrink-0",children:[i.jsx(Y,{variant:"tiny",className:"text-orange-500 mb-1 block font-black uppercase text-[9px]",children:""}),i.jsx(Y,{variant:"h2",className:"text-base",children:"   "})]}),i.jsxs("div",{className:"p-6 space-y-8 pb-32",children:[i.jsxs("section",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest text-[8px]",children:" "}),i.jsx("i",{className:"fa-solid fa-clock-rotate-left text-orange-200"})]}),k.length>0?k.map(V=>i.jsxs(Me,{padding:"sm",className:"bg-gradient-to-br from-orange-50/50 to-white border-orange-100 shadow-sm hover:shadow-md transition-all cursor-pointer group",onClick:()=>{x(V.id),u(V.date)},children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("span",{className:"text-[10px] font-black text-orange-600",children:[new Date(V.date).getFullYear()," "]}),i.jsx("i",{className:"fa-solid fa-arrow-right text-[8px] text-slate-300 group-hover:translate-x-1 transition-transform"})]}),i.jsxs("p",{className:"text-[11px] text-slate-600 leading-relaxed italic line-clamp-4",children:[V.content.replace(/<[^>]*>?/gm,"").slice(0,200),"..."]})]},V.id)):i.jsxs("div",{className:"p-10 border-2 border-dashed border-slate-100 rounded-[2.5rem] text-center opacity-30 bg-slate-50/30",children:[i.jsx("i",{className:"fa-solid fa-ghost text-2xl mb-2 text-slate-300"}),i.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest",children:"    "})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest text-[8px]",children:" "}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"p-5 bg-emerald-50 rounded-[1.8rem] border border-emerald-100 flex flex-col justify-center",children:[i.jsx("div",{className:"text-2xl font-black text-emerald-700 leading-none mb-1",children:t.filter(V=>!V.isDeleted&&V.status===Ne.DONE&&V.completedAt&&new Date(V.completedAt).toLocaleDateString("en-CA")===o).length}),i.jsx("div",{className:"text-[7px] font-black text-emerald-600 uppercase tracking-widest",children:""})]}),i.jsxs("div",{className:"p-5 bg-slate-50 rounded-[1.8rem] border border-slate-100 flex flex-col justify-center",children:[i.jsx("div",{className:"text-2xl font-black text-slate-700 leading-none mb-1",children:t.filter(V=>!V.isDeleted&&V.scheduledDate&&new Date(V.scheduledDate).toLocaleDateString("en-CA")===o).length}),i.jsx("div",{className:"text-[7px] font-black text-slate-400 uppercase tracking-widest",children:""})]})]})]})]})]});return i.jsxs("div",{className:"h-screen flex bg-slate-50 overflow-hidden relative",children:[i.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full relative",children:[i.jsx("header",{className:"px-4 md:px-8 py-3 md:py-6 bg-white border-b border-slate-100 z-10 flex flex-col gap-3 shrink-0",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 md:w-11 md:h-11 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center shadow-sm",children:i.jsx("i",{className:"fa-solid fa-book-open text-xs md:text-sm"})}),i.jsxs("div",{children:[i.jsx(Y,{variant:"h1",className:"text-lg md:text-2xl font-black",children:""}),i.jsx(Y,{variant:"tiny",className:"text-slate-300 uppercase tracking-widest text-[7px] hidden md:block",children:"   "})]})]}),i.jsxs("div",{className:"lg:hidden flex bg-slate-100 p-0.5 rounded-xl border border-slate-200 shadow-inner",children:[i.jsxs("button",{onClick:()=>T("list"),className:`px-4 py-2 rounded-[0.6rem] text-[8px] font-black uppercase transition-all flex items-center gap-1.5 ${_==="list"?"bg-white shadow-md text-orange-600":"text-slate-400"}`,children:[i.jsx("i",{className:"fa-solid fa-list-ul"}),""]}),i.jsxs("button",{onClick:()=>T("stats"),className:`px-4 py-2 rounded-[0.6rem] text-[8px] font-black uppercase transition-all flex items-center gap-1.5 ${_==="stats"?"bg-white shadow-md text-orange-600":"text-slate-400"}`,children:[i.jsx("i",{className:"fa-solid fa-chart-pie"}),""]})]})]})}),i.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[i.jsxs("aside",{className:"w-72 p-6 hidden lg:flex flex-col gap-6 border-r border-slate-100 bg-white/50 shrink-0 overflow-y-auto custom-scrollbar",children:[z(),i.jsxs("div",{className:"space-y-3 pt-2",children:[i.jsxs(Fe,{variant:"primary",className:"w-full py-4 rounded-2xl shadow-xl shadow-orange-100 font-black tracking-widest uppercase text-[10px] gap-3",onClick:()=>{x("new"),u(new Date().toLocaleDateString("en-CA"))},children:[i.jsx("i",{className:"fa-solid fa-plus text-xs"}),"  "]}),i.jsxs(Fe,{variant:"secondary",className:"w-full py-4 rounded-2xl font-black uppercase tracking-widest text-[10px] gap-3 border-orange-100/50",onClick:()=>N(!0),children:[i.jsx("i",{className:"fa-solid fa-chart-line text-xs"}),"  "]})]})]}),i.jsx("main",{className:`flex-1 overflow-y-auto custom-scrollbar p-3 md:p-8 bg-slate-50/50 ${D&&_==="stats"?"hidden":"block"}`,children:i.jsxs("div",{className:"max-w-3xl mx-auto space-y-4 md:space-y-6 pb-40",children:[i.jsx("div",{className:"block lg:hidden",children:z(!0)}),i.jsxs("div",{className:"lg:hidden grid grid-cols-2 gap-3 mx-2 mb-6",children:[i.jsxs("button",{onClick:()=>{x("new"),u(new Date().toLocaleDateString("en-CA"))},className:"bg-orange-600 text-white p-5 rounded-[1.8rem] shadow-xl shadow-orange-100 flex flex-col items-center justify-center gap-2 active:scale-95 transition-all",children:[i.jsx("i",{className:"fa-solid fa-pen-fancy text-lg"}),i.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:""})]}),i.jsxs("button",{onClick:()=>N(!0),className:"bg-white border border-slate-100 p-5 rounded-[1.8rem] shadow-sm flex flex-col items-center justify-center gap-2 active:scale-95 transition-all",children:[i.jsx("i",{className:"fa-solid fa-chart-line text-lg text-slate-400"}),i.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-slate-500",children:" "})]})]}),Object.entries($).map(([V,te])=>i.jsxs("div",{className:"space-y-3 px-2 md:px-0",children:[i.jsx("div",{className:"sticky top-0 z-10 bg-slate-50/90 backdrop-blur-sm py-2",children:i.jsx("span",{className:"text-[8px] md:text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 border-b border-slate-200 pb-1",children:V})}),te.map(le=>{var U,Q;const X=le.date.split("-").map(Number),B=new Date(X[0],X[1]-1,X[2]);let de=" ";try{de=((Q=(U=JSON.parse(le.content).find(pe=>pe.content.trim()!==""&&pe.content!=="<br>"))==null?void 0:U.content)==null?void 0:Q.replace(/<[^>]*>?/gm,""))||" "}catch{de=le.content.split(`
`)[0].replace("#","").trim()||" "}return i.jsx(Me,{padding:"none",hover:!0,onClick:()=>{x(le.id),u(le.date)},className:`bg-white border-slate-100 rounded-[1.8rem] md:rounded-[2.5rem] cursor-pointer overflow-hidden group/card transition-all ${v===le.id?"ring-2 ring-orange-200 border-orange-200 shadow-lg":"shadow-sm hover:shadow-md"}`,children:i.jsxs("div",{className:"flex items-center gap-4 md:gap-8 p-4 md:p-6",children:[i.jsxs("div",{className:"w-10 md:w-14 flex flex-col items-center shrink-0 border-r border-slate-50 pr-4 md:pr-8",children:[i.jsx("span",{className:"text-[7px] md:text-[9px] font-black text-slate-300 uppercase leading-none mb-1.5",children:B.toLocaleString("uk-UA",{weekday:"short"})}),i.jsx("span",{className:"text-base md:text-2xl font-black text-slate-800 leading-none",children:B.getDate()})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("span",{className:"text-[13px] md:text-base font-black text-slate-700 truncate block uppercase tracking-tight",children:de}),i.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[i.jsx("p",{className:"text-[8px] text-slate-300 truncate font-bold uppercase tracking-wider",children:le.date}),i.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-200"}),i.jsx("span",{className:"text-[8px] font-black text-orange-400 uppercase",children:new Date(le.createdAt).toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"})})]})]}),i.jsx("button",{onClick:W=>{W.stopPropagation(),confirm("  ?")&&s(le.id)},className:"w-9 h-9 md:w-11 md:h-11 rounded-xl md:rounded-2xl text-slate-100 hover:text-rose-500 hover:bg-rose-50 flex items-center justify-center transition-all",children:i.jsx("i",{className:"fa-solid fa-trash-can text-sm md:text-base"})})]})},le.id)})]},V)),l.length===0&&i.jsxs("div",{className:"py-20 text-center opacity-20 grayscale select-none",children:[i.jsx("i",{className:"fa-solid fa-book-open text-7xl mb-6"}),i.jsx(Y,{variant:"h2",className:"text-xl uppercase font-black",children:" "}),i.jsx("p",{className:"mt-2 text-sm",children:"     "})]})]})}),D&&_==="stats"&&i.jsx("main",{className:"flex-1 bg-white overflow-hidden animate-in fade-in duration-300",children:G()})]})]}),i.jsxs("div",{className:`fixed inset-0 lg:relative lg:inset-auto h-full border-l border-slate-100 bg-white z-[60] transition-all duration-300 ease-in-out ${v?"translate-x-0":"translate-x-full lg:translate-x-0"} flex ${D&&!v?"pointer-events-none":""}`,children:[!D&&i.jsx("div",{onMouseDown:M,className:`w-[1px] h-full cursor-col-resize hover:bg-orange-500 z-[100] transition-colors ${S?"bg-orange-500":"bg-slate-100"}`}),i.jsx("div",{style:{width:D?"100vw":I},className:"h-full flex flex-col bg-white shadow-2xl lg:shadow-none overflow-hidden",children:v?i.jsx(Vx,{id:v==="new"?void 0:v,date:o,onClose:()=>x(null)}):!D&&G()})]}),y&&i.jsx(k_,{onClose:()=>N(!1)})]})},D_=()=>{const{tasks:l,restoreTask:t,deleteTask:n}=$e(),s=A.useMemo(()=>l.filter(u=>u.isDeleted===!0),[l]),o=()=>{confirm("     ?")&&s.forEach(u=>n(u.id,!0))};return i.jsxs("div",{className:"h-screen flex flex-col bg-slate-50 overflow-hidden",children:[i.jsxs("header",{className:"p-8 bg-white border-b border-slate-100 flex justify-between items-end",children:[i.jsxs("div",{children:[i.jsx(Y,{variant:"caption",className:"text-rose-500 mb-1",children:" "}),i.jsx(Y,{variant:"h1",className:"text-slate-900",children:""})]}),s.length>0&&i.jsx(Fe,{variant:"danger",icon:"fa-trash-arrow-up",size:"sm",onClick:o,children:" "})]}),i.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-8",children:i.jsx("div",{className:"max-w-4xl mx-auto space-y-4 pb-20",children:s.length>0?s.map(u=>i.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 flex items-center justify-between group hover:shadow-lg transition-all",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-10 h-10 bg-slate-50 rounded-xl flex items-center justify-center text-slate-300",children:i.jsx("i",{className:"fa-solid fa-trash-can text-sm"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-black text-slate-800",children:u.title}),i.jsxs("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:[" ",new Date(u.createdAt).toLocaleDateString("uk-UA")]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>t(u.id),className:"w-8 h-8 rounded-lg bg-emerald-50 text-emerald-600 hover:bg-emerald-100 flex items-center justify-center transition-all",title:"",children:i.jsx("i",{className:"fa-solid fa-rotate-left"})}),i.jsx("button",{onClick:()=>n(u.id,!0),className:"w-8 h-8 rounded-lg bg-rose-50 text-rose-600 hover:bg-rose-100 flex items-center justify-center transition-all",title:" ",children:i.jsx("i",{className:"fa-solid fa-xmark"})})]})]},u.id)):i.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-center opacity-20",children:[i.jsx("i",{className:"fa-solid fa-trash-can text-8xl mb-8"}),i.jsx(Y,{variant:"h2",children:" "}),i.jsx(Y,{variant:"body",className:"mt-4",children:"   ."})]})})})]})},M_=({person:l,onUpdate:t})=>{const n=A.useMemo(()=>{if(!l.birthDate)return null;const s=new Date(l.birthDate),o=new Date;let u=o.getFullYear()-s.getFullYear();const p=o.getMonth()-s.getMonth();return(p<0||p===0&&o.getDate()<s.getDate())&&u--,u},[l.birthDate]);return i.jsxs("div",{className:"space-y-6",children:[i.jsx("section",{className:"bg-white border border-slate-100 rounded-[2.5rem] p-6 md:p-8 shadow-sm relative overflow-hidden",children:i.jsxs("div",{className:"relative z-10 space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(Y,{variant:"tiny",className:"text-orange-500 mb-2 block font-black uppercase tracking-[0.2em]",children:" "}),i.jsx("p",{className:"text-sm md:text-base font-bold text-slate-700 leading-relaxed italic",children:l.description||"   ."})]}),i.jsxs("div",{className:"text-right shrink-0",children:[i.jsx("div",{className:"text-[28px] font-black leading-none text-orange-600",children:l.rating||0}),i.jsx("div",{className:"text-[8px] font-black uppercase text-slate-400 tracking-widest",children:""})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[i.jsx("span",{className:"text-[7px] font-black uppercase text-slate-400 block mb-1",children:""}),i.jsx("span",{className:"text-xs font-black text-slate-700",children:n?`${n} `:" "})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[i.jsx("span",{className:"text-[7px] font-black uppercase text-slate-400 block mb-1",children:" '"}),i.jsx("span",{className:"text-xs font-black text-orange-600 uppercase tracking-widest",children:l.status})]})]})]})}),i.jsx(Me,{padding:"md",className:"bg-slate-50/50 border-dashed border-slate-200",children:i.jsxs("div",{className:"text-center py-4",children:[i.jsx("i",{className:"fa-solid fa-circle-info text-slate-300 text-xl mb-2"}),i.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest leading-relaxed",children:'        ""   .'})]})})]})},R_=[{id:"q1",text:"    ?",icon:"fa-mug-hot"},{id:"q2",text:"    ?",icon:"fa-plane-departure"},{id:"q3",text:"     ?",icon:"fa-book-open"},{id:"q4",text:"   ?  ?",icon:"fa-dog"},{id:"q5",text:'    ""?',icon:"fa-bolt"},{id:"q6",text:"/   ?",icon:"fa-moon"},{id:"q7",text:"    ?",icon:"fa-music"},{id:"q8",text:" /   ?",icon:"fa-rocket"},{id:"q9",text:"    ?",icon:"fa-heart"},{id:"q10",text:"    ?",icon:"fa-ghost"},{id:"q11",text:"  ?",icon:"fa-user-group"},{id:"q12",text:"   ?",icon:"fa-utensils"},{id:"q13",text:"   ?",icon:"fa-star"}],I_={friend:"",colleague:"",family:"'",mentor:"",acquaintance:""},U_=({person:l,onUpdate:t,relationshipTypes:n})=>{const[s,o]=A.useState(null),[u,p]=A.useState(""),[g,v]=A.useState(null),[x,y]=A.useState(""),N=A.useMemo(()=>R_.filter(T=>{var M;return!((M=l.notes)==null?void 0:M.some(I=>I.text.includes(T.text)))}),[l.notes]),w=A.useMemo(()=>N.slice(0,3),[N]),j=T=>{if(!u.trim())return;const S={id:Math.random().toString(36).substr(2,9),text:`${T.text} : ${u.trim()}`,date:new Date().toISOString()};t({...l,notes:[S,...l.notes||[]]}),p(""),o(null)},_=[{val:"week",label:"."},{val:"month",label:"."},{val:"quarter",label:"."},{val:"year",label:""},{val:"none",label:"Off"}];return i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[i.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsx("div",{className:"bg-slate-50 p-4 rounded-[1.8rem] border border-slate-100 flex items-center justify-between gap-3 group/select relative transition-all hover:bg-white hover:shadow-sm",children:i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black uppercase text-[7px] mb-1.5 tracking-[0.2em]",children:"  "}),i.jsxs("div",{className:"relative flex items-center",children:[i.jsx("select",{value:l.status,onChange:T=>t({...l,status:T.target.value}),className:"w-full bg-white border-2 border-slate-100 rounded-xl text-[10px] font-black uppercase focus:ring-4 focus:ring-orange-100 py-2.5 px-3 outline-none cursor-pointer text-slate-900 appearance-none pr-10 transition-all shadow-sm",children:n.map(T=>i.jsx("option",{value:T,children:I_[T]||T},T))}),i.jsx("i",{className:"fa-solid fa-chevron-down absolute right-3.5 text-[8px] text-slate-300 pointer-events-none transition-transform group-hover/select:translate-y-0.5"})]})]})}),i.jsxs("div",{className:"bg-slate-50 p-4 rounded-[1.8rem] border border-slate-100 flex flex-col justify-center transition-all hover:bg-white hover:shadow-sm",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black uppercase text-[7px] mb-2.5 tracking-[0.2em] text-center",children:" '"}),i.jsx("div",{className:"flex justify-between gap-1",children:_.map(T=>i.jsx("button",{onClick:()=>t({...l,loop:T.val}),className:`flex-1 py-2 rounded-lg text-[8px] font-black uppercase transition-all border ${l.loop===T.val?"bg-slate-900 text-white border-slate-900 shadow-lg":"bg-white text-slate-400 border-slate-100 hover:border-orange-200"}`,children:T.label},T.val))})]})]}),w.length>0&&i.jsxs("section",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between px-2",children:[i.jsxs(Y,{variant:"tiny",className:"text-orange-500 font-black uppercase tracking-widest flex items-center gap-2 text-[8px]",children:[i.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-[9px]"})," "]}),i.jsxs("span",{className:"text-[7px] font-black text-slate-300 uppercase",children:[" ",N.length]})]}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:w.map(T=>i.jsxs("div",{className:`px-5 py-4 bg-orange-50/30 border rounded-[1.5rem] transition-all ${s===T.id?"border-orange-300 bg-white ring-4 ring-orange-50":"border-orange-100/30 hover:bg-white hover:border-orange-200 shadow-sm"}`,children:[i.jsxs("div",{onClick:()=>{o(T.id),p("")},className:"flex items-center gap-4 cursor-pointer",children:[i.jsx("div",{className:"w-8 h-8 rounded-xl bg-white text-orange-500 flex items-center justify-center text-xs shadow-sm shrink-0",children:i.jsx("i",{className:`fa-solid ${T.icon}`})}),i.jsx("span",{className:"text-[12px] font-bold text-slate-700 flex-1 leading-tight",children:T.text})]}),s===T.id&&i.jsxs("div",{className:"mt-3 flex gap-2 animate-in slide-in-from-top-1",children:[i.jsx("input",{autoFocus:!0,value:u,onChange:S=>p(S.target.value),onKeyDown:S=>S.key==="Enter"&&j(T),placeholder:" ...",className:"flex-1 bg-slate-50 border border-slate-100 rounded-xl px-4 py-2 text-xs font-bold outline-none focus:ring-2 focus:ring-orange-200"}),i.jsx("button",{onClick:()=>j(T),className:"px-4 py-2 bg-orange-600 text-white rounded-xl text-[9px] font-black uppercase shadow-lg shadow-orange-100",children:""})]})]},T.id))})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest ml-2 text-[8px]",children:" "}),i.jsxs("div",{className:"space-y-2",children:[(l.notes||[]).map(T=>i.jsx("div",{className:"group bg-white p-4 rounded-[1.5rem] border border-slate-100 shadow-sm transition-all hover:border-orange-200",children:g===T.id?i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{autoFocus:!0,value:x,onChange:S=>y(S.target.value),onKeyDown:S=>S.key==="Enter"&&(t({...l,notes:l.notes.map(M=>M.id===T.id?{...M,text:x}:M)}),v(null)),className:"flex-1 bg-slate-50 border border-slate-100 rounded-lg px-3 py-1.5 text-xs font-bold outline-none"}),i.jsx("button",{onClick:()=>{t({...l,notes:l.notes.map(S=>S.id===T.id?{...S,text:x}:S)}),v(null)},className:"text-emerald-500 font-black text-[9px] uppercase",children:"OK"})]}):i.jsxs("div",{className:"flex justify-between items-start gap-4",children:[i.jsx("p",{className:"text-[12px] font-bold text-slate-700 leading-relaxed flex-1",children:T.text}),i.jsxs("div",{className:"flex gap-2 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx("button",{onClick:()=>{v(T.id),y(T.text)},className:"text-slate-300 hover:text-orange-500",children:i.jsx("i",{className:"fa-solid fa-pen text-[9px]"})}),i.jsx("button",{onClick:()=>t({...l,notes:l.notes.filter(S=>S.id!==T.id)}),className:"text-slate-300 hover:text-rose-500",children:i.jsx("i",{className:"fa-solid fa-trash-can text-[9px]"})})]})]})},T.id)),(!l.notes||l.notes.length===0)&&i.jsx("div",{className:"text-center py-8 bg-slate-50/50 rounded-[2rem] border border-dashed border-slate-200",children:i.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"  "})})]})]})]})},L_=({person:l,onUpdate:t})=>{const[n,s]=A.useState(""),[o,u]=A.useState(""),p=x=>{if(x.preventDefault(),!n.trim()||!o)return;const y={id:Math.random().toString(36).substr(2,9),label:n.trim(),date:o,showInCalendar:!0,repeatYearly:!0};t({...l,importantDates:[...l.importantDates||[],y]}),s(""),u("")},g=(x,y)=>{t({...l,importantDates:(l.importantDates||[]).map(N=>N.id===x?{...N,...y}:N)})},v=x=>{t({...l,importantDates:(l.importantDates||[]).filter(y=>y.id!==x)})};return i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[i.jsxs("section",{className:"bg-white border border-slate-100 rounded-2xl p-4 shadow-sm flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-50 text-orange-500 flex items-center justify-center text-xs",children:i.jsx("i",{className:"fa-solid fa-cake-candles"})}),i.jsx(Y,{variant:"tiny",className:"text-slate-900 font-black uppercase tracking-tight",children:" "})]}),i.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-end",children:[i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>t({...l,birthDateShowInCalendar:!l.birthDateShowInCalendar}),className:`w-7 h-7 rounded-lg transition-all flex items-center justify-center ${l.birthDateShowInCalendar!==!1?"bg-orange-100 text-orange-600":"bg-slate-50 text-slate-300"}`,title:"  ",children:i.jsx("i",{className:"fa-solid fa-calendar-check text-[10px]"})}),i.jsx("button",{onClick:()=>t({...l,birthDateRepeatYearly:!l.birthDateRepeatYearly}),className:`w-7 h-7 rounded-lg transition-all flex items-center justify-center ${l.birthDateRepeatYearly!==!1?"bg-indigo-100 text-indigo-600":"bg-slate-50 text-slate-300"}`,title:" ",children:i.jsx("i",{className:"fa-solid fa-arrows-rotate text-[10px]"})})]}),i.jsx("input",{type:"date",value:l.birthDate||"",onChange:x=>t({...l,birthDate:x.target.value}),className:"bg-slate-50 border border-slate-100 rounded-xl py-2 px-3 text-xs font-bold focus:ring-2 focus:ring-orange-100 outline-none transition-all cursor-pointer w-32"})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest ml-1",children:"   "}),i.jsxs("form",{onSubmit:p,className:"flex items-center gap-2 bg-slate-50 p-2 rounded-2xl border border-slate-100 shadow-inner",children:[i.jsx("input",{value:n,onChange:x=>s(x.target.value),placeholder:" ...",className:"flex-1 bg-white border border-slate-200 rounded-xl py-2 px-3 text-[11px] font-bold outline-none focus:ring-2 focus:ring-orange-200 shadow-sm"}),i.jsx("input",{type:"date",value:o,onChange:x=>u(x.target.value),className:"w-32 bg-white border border-slate-200 rounded-xl py-2 px-3 text-[11px] font-bold outline-none focus:ring-2 focus:ring-orange-200 shadow-sm cursor-pointer"}),i.jsx("button",{type:"submit",className:"w-10 h-9 bg-slate-900 text-white rounded-xl flex items-center justify-center hover:bg-orange-600 transition-all active:scale-95 shadow-md shrink-0",children:i.jsx("i",{className:"fa-solid fa-plus text-xs"})})]}),i.jsx("div",{className:"space-y-1.5",children:(l.importantDates||[]).sort((x,y)=>x.date.localeCompare(y.date)).map(x=>i.jsxs("div",{className:"group flex items-center justify-between bg-white px-4 py-2 rounded-xl border border-slate-50 shadow-sm hover:border-orange-200 transition-all",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-400"}),i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx("span",{className:"text-xs font-black text-slate-700 uppercase tracking-tight truncate",children:x.label}),i.jsx("span",{className:"text-[10px] font-bold text-slate-300 shrink-0",children:new Date(x.date).toLocaleDateString("uk-UA",{day:"numeric",month:"short"})})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:()=>g(x.id,{showInCalendar:!x.showInCalendar}),className:`w-6 h-6 rounded-md transition-all flex items-center justify-center ${x.showInCalendar?"text-orange-500":"text-slate-200"}`,title:" ",children:i.jsx("i",{className:"fa-solid fa-calendar-day text-[9px]"})}),i.jsx("button",{onClick:()=>g(x.id,{repeatYearly:!x.repeatYearly}),className:`w-6 h-6 rounded-md transition-all flex items-center justify-center ${x.repeatYearly?"text-indigo-500":"text-slate-200"}`,title:"",children:i.jsx("i",{className:"fa-solid fa-arrows-rotate text-[9px]"})}),i.jsx("button",{onClick:()=>v(x.id),className:"opacity-0 group-hover:opacity-100 w-6 h-6 text-slate-200 hover:text-rose-500 transition-all flex items-center justify-center",children:i.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]})]},x.id))})]})]})},z_=({person:l,onUpdate:t,onFetchAvatar:n})=>{const{aiEnabled:s}=$e(),[o,u]=A.useState(null),[p,g]=A.useState(null),v=(j,_)=>{t({...l,socials:{...l.socials,[j]:_}})},x=j=>{if(!j)return"";let _=j.trim().replace(/^@/,"");return _.includes("/")&&(_=_.split("/").filter(Boolean).pop()||""),_},y=(j,_)=>{if(!_)return null;if(_.startsWith("http"))return _;const T=x(_);if(!T)return null;switch(j){case"telegram":return`https://t.me/${T}`;case"instagram":return`https://www.instagram.com/${T}/`;case"linkedin":return`https://www.linkedin.com/in/${T}/`;case"tiktok":return`https://www.tiktok.com/@${T}`;case"threads":return`https://www.threads.net/@${T}`;case"website":return _.match(/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+/)?`https://${_}`:_;default:return _}},N=async(j,_)=>{if(!(!s||o)){u(j);try{const T=await WS(j,_),S=(T.notes||[]).map(O=>({id:Math.random().toString(36).substr(2,9),text:`[AI ${j.toUpperCase()}] ${O}`,date:new Date().toISOString()})),M=(T.hobbies||[]).filter(O=>!l.hobbies.includes(O)),I=[...new Set([...l.hobbies,...M])],D={notes:[...S,...l.notes||[]],hobbies:I};!l.description&&T.summary&&(D.description=T.summary),!l.birthDate&&T.birthDate&&(D.birthDate=T.birthDate),t({...l,...D}),g({platform:j,addedNotes:S.map(O=>O.text),addedHobbies:M,summary:T.summary,birthDate:T.birthDate&&!l.birthDate?T.birthDate:null,newFieldCount:(D.birthDate?1:0)+(D.description?1:0)+M.length+S.length})}catch{alert("  .    .")}finally{u(null)}}},w=[{key:"telegram",icon:"fa-telegram",placeholder:"@username"},{key:"instagram",icon:"fa-instagram",placeholder:"username"},{key:"linkedin",icon:"fa-linkedin",placeholder:"id-name"},{key:"tiktok",icon:"fa-tiktok",placeholder:"username"},{key:"threads",icon:"fa-at",placeholder:"username"},{key:"website",icon:"fa-chrome",placeholder:"domain.com"}];return i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[i.jsxs("div",{className:"bg-orange-50/50 p-6 rounded-[2rem] border border-orange-100 mb-6",children:[i.jsxs(Y,{variant:"tiny",className:"text-orange-600 font-black mb-2 uppercase flex items-center gap-2",children:[i.jsx("i",{className:"fa-solid fa-id-card-clip"}),"  "]}),i.jsx("p",{className:"text-[10px] text-orange-800/60 leading-relaxed font-bold",children:'  .  ""    , ""      .'})]}),i.jsx("div",{className:"space-y-3",children:w.map(({key:j,icon:_,placeholder:T})=>{var O;const S=((O=l.socials)==null?void 0:O[j])||"",M=x(S),I=o===j,D=y(j,S);return i.jsxs("div",{className:"flex items-center gap-4 bg-white p-3 rounded-2xl border border-slate-100 focus-within:ring-2 focus-within:ring-orange-100 transition-all shadow-sm group",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400 group-focus-within:text-orange-500 transition-colors shrink-0 shadow-inner",children:i.jsx("i",{className:`fa-brands ${_}`})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("span",{className:"text-[7px] font-black uppercase text-slate-400 block mb-0.5 tracking-widest",children:j}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{value:S,onChange:R=>v(j,R.target.value),placeholder:T,className:"flex-1 bg-transparent border-none p-0 text-xs font-bold outline-none text-slate-700 placeholder:text-slate-200"}),M&&i.jsxs("div",{className:"flex gap-1",children:[D&&i.jsx("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-lg bg-slate-50 text-slate-400 flex items-center justify-center hover:bg-slate-900 hover:text-white transition-all shadow-sm border border-slate-100",title:" ",children:i.jsx("i",{className:"fa-solid fa-arrow-up-right-from-square text-[9px]"})}),j!=="website"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>N(j,M),disabled:!s||I,className:`w-8 h-8 rounded-lg flex items-center justify-center transition-all shadow-sm border ${s?"bg-indigo-50 text-indigo-600 border-indigo-100/50 hover:bg-indigo-600 hover:text-white":"bg-slate-100 text-slate-300 border-slate-200 cursor-help"}`,title:s?` ${j}  `:"   ",children:i.jsx("i",{className:`fa-solid ${I?"fa-circle-notch animate-spin":"fa-wand-magic-sparkles"} text-[9px]`})}),i.jsx("button",{onClick:()=>n(M,j),className:"w-8 h-8 rounded-lg bg-orange-50 text-orange-600 flex items-center justify-center hover:bg-orange-600 hover:text-white transition-all shadow-sm border border-orange-100/50",title:`   ${j}`,children:i.jsx("i",{className:"fa-solid fa-arrows-rotate text-[9px]"})})]})]})]})]})]},j)})}),p&&i.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 tiktok-blur animate-in fade-in",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-950/40",onClick:()=>g(null)}),i.jsxs(Me,{className:"w-full max-w-md bg-white border-none shadow-2xl p-8 rounded-[2.5rem] relative z-10 animate-in zoom-in-95 duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl bg-indigo-600 text-white flex items-center justify-center text-xl shadow-lg shadow-indigo-100",children:i.jsx("i",{className:"fa-solid fa-wand-magic-sparkles"})}),i.jsxs("div",{children:[i.jsx(Y,{variant:"h2",className:"text-xl",children:" "}),i.jsx(Y,{variant:"tiny",className:"text-slate-400 uppercase tracking-widest",children:p.platform})]})]}),i.jsxs(Xe,{variant:"emerald",className:"h-6 font-black",children:["+",p.newFieldCount," INFO"]})]}),i.jsxs("div",{className:"space-y-5 mb-8 max-h-[50vh] overflow-y-auto custom-scrollbar pr-2",children:[p.birthDate&&i.jsxs("div",{className:"p-3 bg-orange-50 rounded-2xl border border-orange-100 flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-xl bg-white flex items-center justify-center text-orange-500 shadow-sm",children:i.jsx("i",{className:"fa-solid fa-cake-candles text-[10px]"})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-[7px] font-black text-orange-400 uppercase block tracking-widest",children:" "}),i.jsx("span",{className:"text-xs font-black text-orange-700",children:p.birthDate})]})]}),p.addedHobbies.length>0&&i.jsxs("div",{children:[i.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase mb-2 block tracking-[0.2em]",children:" "}),i.jsx("div",{className:"flex flex-wrap gap-2",children:p.addedHobbies.map((j,_)=>i.jsxs(Xe,{variant:"indigo",className:"text-[8px] lowercase font-bold",children:["#",j]},_))})]}),p.addedNotes.length>0&&i.jsxs("div",{children:[i.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase mb-2 block tracking-[0.2em]",children:" "}),i.jsx("div",{className:"space-y-2",children:p.addedNotes.map((j,_)=>i.jsxs("div",{className:"flex gap-3 p-3 bg-slate-50 rounded-xl text-[11px] font-bold text-slate-700 border border-slate-100 leading-tight",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500 shrink-0 mt-1"}),j.replace(`[AI ${p.platform.toUpperCase()}] `,"")]},_))})]}),p.summary&&i.jsxs("div",{className:"p-4 bg-indigo-50/30 rounded-2xl border border-indigo-100/50",children:[i.jsx("span",{className:"text-[7px] font-black text-indigo-400 uppercase block mb-1 tracking-widest",children:" "}),i.jsxs("p",{className:"text-[11px] font-medium text-indigo-900 leading-relaxed italic",children:['"',p.summary,'"']})]})]}),i.jsx(Fe,{variant:"primary",className:"w-full py-4 rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl shadow-orange-100",onClick:()=>g(null),children:" "})]})]})]})},V_=({person:l,onAddInteraction:t,onDeleteInteraction:n})=>{const[s,o]=A.useState(""),[u,p]=A.useState("chat"),[g,v]=A.useState(30),x=A.useRef(null),y={chat:"fa-message",call:"fa-phone",meeting:"fa-users",coffee:"fa-coffee",walk:"fa-person-walking",event:"fa-calendar-star",other:"fa-circle-dot"},N=A.useMemo(()=>[...l.interactions||[]].sort((S,M)=>(M.date||0)-(S.date||0)),[l.interactions]),w=A.useMemo(()=>N.slice(0,g),[N,g]),j=T=>{s.trim()&&(t(s.trim(),T,u),o(""),setTimeout(()=>{x.current&&(x.current.scrollTop=0)},100))},_=T=>{T.key==="Enter"&&(T.preventDefault(),j(5))};return i.jsxs("div",{className:"flex flex-col h-full max-h-full overflow-hidden animate-in fade-in duration-300",children:[i.jsxs("div",{className:"bg-slate-50 p-3 md:p-4 rounded-2xl border border-slate-100 mb-4 shrink-0 shadow-inner",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 mb-2 block font-black uppercase text-[7px] tracking-widest",children:"   "}),i.jsx("div",{className:"flex gap-1 mb-3 overflow-x-auto no-scrollbar pb-1",children:Object.entries(y).map(([T,S])=>i.jsx("button",{onClick:()=>p(T),className:`w-7 h-7 md:w-8 md:h-8 rounded-lg flex items-center justify-center transition-all shrink-0 ${u===T?"bg-orange-600 text-white shadow-md":"bg-white text-slate-300 border border-slate-100 hover:border-orange-200 hover:text-orange-500"}`,title:T,children:i.jsx("i",{className:`fa-solid ${S} text-[9px] md:text-[10px]`})},T))}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{value:s,onChange:T=>o(T.target.value),onKeyDown:_,placeholder:" ...",className:"flex-1 bg-white text-slate-800 rounded-xl px-4 py-2 text-[11px] md:text-xs font-bold outline-none border border-slate-100 focus:border-orange-500 shadow-sm"}),i.jsxs("div",{className:"flex gap-1 shrink-0",children:[i.jsx("button",{onClick:()=>j(5),disabled:!s.trim(),className:"w-8 h-8 md:w-10 md:h-10 bg-emerald-500 text-white rounded-lg flex items-center justify-center shadow-md disabled:opacity-30 transition-all hover:bg-emerald-600 active:scale-95",title:"  (+5 HP)",children:i.jsx("i",{className:"fa-solid fa-plus text-xs"})}),i.jsx("button",{onClick:()=>j(-5),disabled:!s.trim(),className:"w-8 h-8 md:w-10 md:h-10 bg-rose-500 text-white rounded-lg flex items-center justify-center shadow-md disabled:opacity-30 transition-all hover:bg-rose-600 active:scale-95",title:"  (-5 HP)",children:i.jsx("i",{className:"fa-solid fa-minus text-xs"})})]})]})]}),i.jsx("div",{className:"flex-1 min-h-0 bg-white rounded-2xl border border-slate-50 overflow-hidden flex flex-col",children:i.jsxs("div",{ref:x,className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:[w.length>0?w.map(T=>{const S=T.summary.includes("[ +"),M=T.summary.includes("[ -"),I=T.summary.split(" [")[0],D=new Date(T.date);return i.jsxs("div",{className:"group relative flex items-start gap-3 p-3 hover:bg-slate-50 rounded-xl transition-all border border-transparent hover:border-slate-100 animate-in slide-in-from-top-1",children:[i.jsx("div",{className:"shrink-0 pt-0.5",children:i.jsx("div",{className:`w-7 h-7 md:w-8 md:h-8 rounded-lg flex items-center justify-center shadow-sm border border-white ${S?"bg-emerald-500":M?"bg-rose-500":"bg-slate-400"} text-white`,children:i.jsx("i",{className:`fa-solid ${y[T.type]||"fa-circle-dot"} text-[9px] md:text-xs`})})}),i.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[i.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-slate-800 uppercase tracking-tight",children:D.toLocaleDateString("uk-UA",{day:"numeric",month:"short"})}),i.jsx("span",{className:"text-[8px] md:text-[9px] font-black text-slate-300 uppercase",children:D.toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"})})]}),i.jsx("button",{onClick:O=>{O.stopPropagation(),n(T.id)},className:"text-slate-200 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100 p-1",children:i.jsx("i",{className:"fa-solid fa-trash-can text-[10px]"})})]}),i.jsx("p",{className:"text-[11px] md:text-xs font-bold text-slate-600 leading-snug",children:I}),i.jsxs("div",{className:"mt-1.5 flex gap-1",children:[S&&i.jsx("span",{className:"text-[6px] md:text-[7px] font-black text-emerald-500 bg-emerald-50 px-1.5 py-0.5 rounded border border-emerald-100 uppercase tracking-tighter",children:"+ HP"}),M&&i.jsx("span",{className:"text-[6px] md:text-[7px] font-black text-rose-500 bg-rose-50 px-1.5 py-0.5 rounded border border-rose-100 uppercase tracking-tighter",children:"- HP"})]})]})]},T.id)}):i.jsxs("div",{className:"py-20 text-center opacity-10 flex flex-col items-center",children:[i.jsx("i",{className:"fa-solid fa-clock-rotate-left text-5xl mb-4"}),i.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"  "})]}),g<N.length&&i.jsx("button",{onClick:()=>v(T=>T+30),className:"w-full py-4 text-[8px] font-black text-slate-300 uppercase tracking-widest hover:text-orange-500 transition-colors",children:" ..."})]})})]})},O_=({person:l,tasks:t,onAddTask:n,onToggleTask:s})=>{const[o,u]=A.useState(new Date().toISOString().split("T")[0]),p=[{title:"",icon:"fa-coffee"},{title:"",icon:"fa-phone"},{title:"",icon:"fa-handshake"},{title:"",icon:"fa-cake-candles"}],g=t.filter(v=>v.personId===l.id&&!v.isDeleted);return i.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[i.jsxs("section",{className:"space-y-4",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest",children:" "}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:p.map(v=>i.jsxs("button",{onClick:()=>n(`${v.title}  ${l.name}`,new Date(o).getTime()),className:"p-3 bg-slate-50 rounded-2xl border border-slate-100 hover:border-orange-200 transition-all flex flex-col items-center gap-1",children:[i.jsx("i",{className:`fa-solid ${v.icon} text-orange-500 text-xs`}),i.jsx("span",{className:"text-[8px] font-black uppercase",children:v.title})]},v.title))}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[i.jsx("input",{type:"date",value:o,onChange:v=>u(v.target.value),className:"bg-slate-50 border border-slate-100 rounded-xl px-3 py-2 text-[10px] font-bold outline-none focus:ring-2 focus:ring-orange-100"}),i.jsx("input",{onKeyDown:v=>{v.key==="Enter"&&v.target.value&&(n(v.target.value,new Date(o).getTime()),v.target.value="")},placeholder:" ...",className:"flex-1 bg-slate-50 border border-slate-100 rounded-xl px-4 py-2 text-xs font-bold focus:ring-2 focus:ring-orange-100 outline-none"})]})]}),i.jsxs("section",{className:"space-y-2",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black uppercase",children:" "}),g.map(v=>i.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-3 shadow-sm hover:border-orange-200 transition-all",children:[i.jsx("button",{onClick:()=>s(v),className:`w-5 h-5 rounded-lg border flex items-center justify-center shrink-0 transition-all ${v.status===Ne.DONE?"bg-emerald-500 border-emerald-500 text-white":"bg-white border-slate-200 hover:border-orange-400"}`,children:v.status===Ne.DONE&&i.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("span",{className:`text-xs font-bold block truncate ${v.status===Ne.DONE?"line-through text-slate-300":"text-slate-700"}`,children:v.title}),v.scheduledDate&&i.jsx("span",{className:"text-[7px] font-black text-orange-500 uppercase tracking-widest",children:new Date(v.scheduledDate).toLocaleDateString("uk-UA")})]})]},v.id))]})]})},H_=({person:l,aiEnabled:t,isAnalyzing:n,onAnalyze:s})=>{var o;return i.jsx("div",{className:"animate-in fade-in duration-500 space-y-6",children:t?i.jsxs("section",{className:"bg-slate-950 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/10 blur-[50px]"}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs(Y,{variant:"h2",className:"text-xl flex items-center gap-3 font-black uppercase text-white tracking-tight",children:[i.jsx("i",{className:"fa-solid fa-sparkles text-orange-500"})," AI "]}),i.jsx("button",{onClick:s,disabled:n,className:`w-10 h-10 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center transition-all hover:bg-white/10 ${n?"animate-spin":""}`,children:i.jsx("i",{className:"fa-solid fa-rotate text-xs"})})]}),l.aiPortrait?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"p-5 bg-white/5 rounded-3xl border border-white/5 shadow-inner",children:[i.jsx(Y,{variant:"tiny",className:"text-orange-500 mb-3 block font-black uppercase tracking-widest text-[8px]",children:" "}),i.jsxs("p",{className:"text-sm font-medium leading-relaxed text-slate-300 italic",children:['"',l.aiPortrait.summary,'"']})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest text-[8px]",children:" :"}),i.jsx("div",{className:"space-y-2",children:(o=l.aiPortrait.topics)==null?void 0:o.map((u,p)=>i.jsxs("div",{className:"p-4 bg-white/5 border border-white/5 rounded-2xl text-[11px] font-bold text-slate-300 flex items-center gap-4 group/item hover:bg-white/10 transition-colors",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-500 group-hover/item:scale-150 transition-transform"})," ",u]},p))})]})]}):i.jsxs("div",{className:"py-20 text-center space-y-6 flex flex-col items-center",children:[i.jsx("div",{className:"w-20 h-20 rounded-[2rem] bg-white/5 border border-white/10 flex items-center justify-center text-4xl opacity-20",children:i.jsx("i",{className:"fa-solid fa-robot"})}),i.jsx("p",{className:"text-sm font-bold text-slate-400 max-w-xs",children:"      ,    ."}),i.jsx(Fe,{variant:"primary",className:"w-full py-4 rounded-2xl font-black uppercase tracking-widest text-[10px] shadow-lg shadow-orange-500/20",onClick:s,disabled:n,children:" "})]})]})]}):i.jsxs(Me,{className:"bg-orange-50 border-orange-200 p-8 text-center flex flex-col items-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-orange-100 text-orange-500 flex items-center justify-center text-2xl mb-4 shadow-inner",children:i.jsx("i",{className:"fa-solid fa-lock"})}),i.jsx(Y,{variant:"h3",className:"mb-2 text-orange-900",children:"- "}),i.jsx("p",{className:"text-xs text-orange-600/70 leading-relaxed max-w-xs",children:"    ,  Gemini    ."})]})})},B_=({personId:l,onClose:t,initialTab:n="dossier"})=>{const{people:s,updatePerson:o,character:u,aiEnabled:p,tasks:g,addTask:v,toggleTaskStatus:x,addInteraction:y,deleteInteraction:N,relationshipTypes:w,addRelationshipType:j}=$e(),_=s.find(k=>k.id===l),[T,S]=A.useState(n),[M,I]=A.useState(!1);if(A.useEffect(()=>{S(n)},[n]),!_)return null;const D=k=>o({..._,...k}),O=(k,z,G)=>{y(_.id,{summary:`${k} [ ${z>0?"+":""}${z}]`,type:G,date:Date.now(),emotion:z>0?"joy":"neutral"});const V=_.rating||0;D({rating:Math.max(0,Math.min(100,V+z))})},R=(k,z)=>{let G=k||prompt("   email:");if(G){const V=G.replace("@","").trim(),te=`https://unavatar.io/${V}?fallback=https://api.dicebear.com/7.x/avataaars/svg?seed=${V}`;D({avatar:te})}},$=async()=>{if(p){I(!0);try{const k=await QS(_,u);D({aiPortrait:{...k,updatedAt:Date.now()}}),S("ai")}catch{alert("  .")}finally{I(!1)}}};return i.jsxs("div",{className:"fixed top-0 right-0 h-full w-full md:w-[580px] bg-white border-l border-slate-100 z-[110] shadow-[-20px_0_60px_rgba(0,0,0,0.05)] flex flex-col overflow-hidden animate-in slide-in-from-right duration-300",children:[i.jsxs("header",{className:"p-3 md:p-8 border-b border-slate-50 flex justify-between items-start shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-3 md:gap-5 min-w-0",children:[i.jsxs("div",{className:"w-12 h-12 md:w-20 md:h-20 rounded-xl md:rounded-[2rem] bg-slate-50 ring-2 md:ring-4 ring-orange-50 overflow-hidden shadow-lg shrink-0 group relative",children:[i.jsx("img",{src:_.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${_.name}`,className:"w-full h-full object-cover transition-transform group-hover:scale-110"}),i.jsx("button",{onClick:()=>R(),className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx("i",{className:"fa-solid fa-sync text-white text-xs"})})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("input",{className:"text-base md:text-xl font-black text-slate-900 bg-transparent border-none p-0 focus:ring-0 w-full mb-0.5 md:mb-1 truncate",value:_.name,onChange:k=>D({name:k.target.value})}),i.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[i.jsx(Xe,{variant:"orange",className:"text-[6px] md:text-[8px] uppercase",children:_.status}),i.jsxs(Xe,{variant:"yellow",className:"text-[6px] md:text-[8px] uppercase",children:["Karma ",_.rating||0]})]})]})]}),i.jsx("button",{onClick:t,className:"w-8 h-8 md:w-10 md:h-10 rounded-lg md:rounded-2xl bg-slate-50 flex items-center justify-center text-slate-300 hover:text-slate-900 transition-all shrink-0",children:i.jsx("i",{className:"fa-solid fa-xmark text-xs md:text-sm"})})]}),i.jsx("div",{className:"flex border-b border-slate-50 px-1 md:px-4 shrink-0 overflow-x-auto no-scrollbar bg-white sticky top-0 z-30",children:["dossier","dates","skills","vcard","timeline","tasks","ai"].map(k=>i.jsxs("button",{onClick:()=>S(k),className:`flex-none md:flex-1 min-w-[65px] md:min-w-[80px] px-3 py-3 md:py-4 text-[7px] md:text-[9px] font-black uppercase tracking-widest transition-all relative ${T===k?"text-orange-600":"text-slate-400"}`,children:[k==="dossier"?"":k==="dates"?"":k==="skills"?"":k==="vcard"?"":k==="timeline"?"":k==="tasks"?"":"",T===k&&i.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-600"})]},k))}),i.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-8 bg-white",children:[T==="dossier"&&i.jsx(M_,{person:_,onUpdate:D,onAddInteraction:O}),T==="dates"&&i.jsx(L_,{person:_,onUpdate:D}),T==="skills"&&i.jsx(U_,{person:_,onUpdate:D,onAddHobby:k=>D({hobbies:[..._.hobbies,k]}),onAddSkill:k=>D({tags:[..._.tags,k]}),relationshipTypes:w,onAddRelType:j}),T==="vcard"&&i.jsx(z_,{person:_,onUpdate:D,onFetchAvatar:R}),T==="timeline"&&i.jsx(V_,{person:_,onAddInteraction:O,onDeleteInteraction:k=>N(_.id,k)}),T==="tasks"&&i.jsx(O_,{person:_,tasks:g,onAddTask:(k,z)=>v(k,"tasks",void 0,"actions",!0,z,_.id,Ne.NEXT_ACTION),onToggleTask:x}),T==="ai"&&i.jsx(H_,{person:_,aiEnabled:p,isAnalyzing:M,onAnalyze:$})]}),i.jsx("footer",{className:"p-4 md:p-6 border-t border-slate-50 bg-slate-50/30 flex gap-3 md:gap-4 shrink-0 mb-safe",children:i.jsx(Fe,{variant:"white",onClick:t,className:"flex-1 rounded-xl md:rounded-2xl py-2.5 md:py-4 font-black uppercase text-[7px] md:text-[10px] tracking-widest shadow-sm",children:""})})]})},G_=()=>{const{people:l,addPerson:t,relationshipTypes:n,addRelationshipType:s,tasks:o,toggleTaskStatus:u}=$e(),[p,g]=A.useState(""),[v,x]=A.useState("all"),[y,N]=A.useState("grid"),[w,j]=A.useState(null),[_,T]=A.useState("dossier"),[S,M]=A.useState({active:!1,status:"acquaintance"}),[I,D]=A.useState(""),[O,R]=A.useState(!1),[$,k]=A.useState(""),z=A.useRef(null),{detailsWidth:G,startResizing:V,isResizing:te}=qn(280,450),le=E=>({friend:"",colleague:"",family:"'",mentor:"",acquaintance:""})[E]||E.charAt(0).toUpperCase()+E.slice(1),X=E=>{if(E.loop==="none"||!E.lastInteractionAt)return{label:"",color:"slate",icon:"fa-seedling",urgent:!1};const P=(Date.now()-E.lastInteractionAt)/(1e3*60*60*24),fe={week:7,month:30,quarter:90,year:365,none:9999}[E.loop]||30;return P>fe*1.5?{label:"",color:"rose",icon:"fa-skull-crossbones",urgent:!0,level:0}:P>fe?{label:"",color:"amber",icon:"fa-wind",urgent:!0,level:1}:{label:"",color:"emerald",icon:"fa-fire",urgent:!1,level:2}},B=A.useMemo(()=>{const E={all:l.length};return n.forEach(P=>{E[P]=l.filter(se=>se.status===P).length}),E},[l,n]),de=A.useMemo(()=>l.filter(E=>{const P=E.name.toLowerCase().includes(p.toLowerCase())||E.tags.some(fe=>fe.toLowerCase().includes(p.toLowerCase())),se=v==="all"||E.status===v;return P&&se}).sort((E,P)=>(P.rating||0)-(E.rating||0)),[l,p,v]),U=A.useMemo(()=>{const E=l.reduce((fe,xe)=>fe+(xe.rating||0),0),P=l.filter(fe=>X(fe).urgent).length;return{avgKarma:l.length?Math.round(E/l.length):0,urgentCount:P}},[l]),Q=A.useMemo(()=>o.filter(E=>!E.isDeleted&&E.status!==Ne.DONE&&E.personId).slice(0,5),[o]),W=(E,P)=>{T(P),j(E)},pe=E=>{if(E==null||E.preventDefault(),$.trim()){const P=$.trim().toLowerCase();s(P),x(P),k(""),R(!1)}},ve=E=>{if(E==null||E.preventDefault(),I.trim()){const P=S.status==="all"?"acquaintance":S.status,se=t(I.trim(),P);D(""),M({active:!1,status:"acquaintance"}),j(se),T("dossier")}};return i.jsxs("div",{className:"h-screen flex flex-col md:flex-row bg-slate-50 overflow-hidden relative",children:[i.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full",children:[i.jsxs("header",{className:"p-4 md:p-8 bg-white border-b border-slate-100 z-20 flex flex-col md:flex-row justify-between items-start md:items-center gap-3 md:gap-4 shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[i.jsx("div",{className:"w-8 h-8 md:w-12 md:h-12 rounded-lg md:rounded-2xl bg-slate-900 flex items-center justify-center text-white shadow-lg",children:i.jsx("i",{className:"fa-solid fa-users-between-lines text-xs md:text-base"})}),i.jsxs("div",{children:[i.jsx(Y,{variant:"h1",className:"text-lg md:text-2xl leading-none mb-0.5",children:""}),i.jsx(Y,{variant:"tiny",className:"text-slate-400 uppercase tracking-widest text-[7px] md:text-[10px]",children:" "})]})]}),i.jsxs("div",{className:"flex items-center gap-1.5 md:gap-3 w-full md:w-auto",children:[i.jsxs("div",{className:"relative flex-1 md:w-64",children:[i.jsx("i",{className:"fa-solid fa-magnifying-glass absolute left-3 md:left-4 top-1/2 -translate-y-1/2 text-slate-300 text-[9px] md:text-[10px]"}),i.jsx("input",{value:p,onChange:E=>g(E.target.value),placeholder:"...",className:"w-full bg-slate-50 border-none rounded-xl py-2 md:py-3 pl-8 md:pl-10 pr-3 text-[11px] md:text-sm font-bold focus:ring-2 focus:ring-orange-100 outline-none"})]}),i.jsxs("div",{className:"flex bg-slate-100 p-0.5 md:p-1 rounded-lg md:rounded-xl shrink-0",children:[i.jsx("button",{onClick:()=>N("grid"),className:`w-7 h-7 md:w-10 md:h-10 rounded-md md:rounded-lg flex items-center justify-center transition-all ${y==="grid"?"bg-white shadow-sm text-orange-600":"text-slate-400"}`,children:i.jsx("i",{className:"fa-solid fa-grip text-[10px] md:text-xs"})}),i.jsx("button",{onClick:()=>N("list"),className:`w-7 h-7 md:w-10 md:h-10 rounded-md md:rounded-lg flex items-center justify-center transition-all ${y==="list"?"bg-white shadow-sm text-orange-600":"text-slate-400"}`,children:i.jsx("i",{className:"fa-solid fa-list text-[10px] md:text-xs"})})]})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 md:p-6",children:i.jsxs("div",{className:"max-w-6xl mx-auto pb-32",children:[i.jsxs("div",{className:"flex items-center gap-1.5 overflow-x-auto no-scrollbar mb-4 md:mb-8 pb-1 -mx-3 px-3 md:mx-0 md:px-0",children:[i.jsxs("button",{onClick:()=>x("all"),className:`px-4 py-2 md:px-5 md:py-2.5 rounded-xl text-[8px] md:text-[10px] font-black uppercase tracking-widest transition-all shrink-0 border flex items-center gap-1.5 ${v==="all"?"bg-slate-900 text-white border-slate-900 shadow-md":"bg-white text-slate-400 border-slate-100"}`,children:[" ",i.jsxs("span",{className:`text-[7px] md:text-[8px] opacity-40 ${v==="all"?"text-white":"text-slate-400"}`,children:["(",B.all,")"]})]}),n.map(E=>i.jsxs("button",{onClick:()=>x(E),className:`px-4 py-2 md:px-5 md:py-2.5 rounded-xl text-[8px] md:text-[10px] font-black uppercase tracking-widest transition-all shrink-0 border flex items-center gap-1.5 ${v===E?"bg-slate-900 text-white border-slate-900 shadow-md":"bg-white text-slate-400 border-slate-100"}`,children:[le(E)," ",i.jsxs("span",{className:`text-[7px] md:text-[8px] opacity-40 ${v===E?"text-white":"text-slate-400"}`,children:["(",B[E]||0,")"]})]},E)),O?i.jsxs("form",{onSubmit:pe,className:"flex items-center gap-1 animate-in slide-in-from-left-2 shrink-0",children:[i.jsx("input",{autoFocus:!0,ref:z,value:$,onChange:E=>k(E.target.value),onBlur:()=>!$&&R(!1),placeholder:"...",className:"bg-white border border-orange-200 rounded-xl px-3 py-2 text-[8px] md:text-[10px] font-black uppercase outline-none w-24 md:w-36 h-8 md:h-10"}),i.jsx("button",{type:"submit",className:"w-8 h-8 md:w-10 md:h-10 bg-emerald-500 text-white rounded-xl flex items-center justify-center shadow-md",children:i.jsx("i",{className:"fa-solid fa-check text-[10px]"})})]}):i.jsx("button",{onClick:()=>R(!0),className:"w-8 h-8 md:w-10 md:h-10 rounded-xl border-2 border-dashed border-slate-200 text-slate-300 flex items-center justify-center hover:border-orange-300 hover:text-orange-500 transition-all shrink-0",children:i.jsx("i",{className:"fa-solid fa-plus text-[10px]"})})]}),y==="grid"?i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-3 md:gap-5",children:[de.map(E=>{const P=X(E),se=o.filter(xe=>!xe.isDeleted&&xe.status!==Ne.DONE&&xe.personId===E.id).length,fe=Math.min(100,Math.max(0,E.rating||0));return i.jsxs(Me,{padding:"none",className:"bg-white border-slate-100 shadow-sm hover:shadow-xl transition-all group overflow-hidden flex flex-col w-full",children:[i.jsxs("div",{onClick:()=>W(E.id,"dossier"),className:"p-4 md:p-5 flex gap-3 md:gap-4 items-start cursor-pointer",children:[i.jsxs("div",{className:"relative shrink-0",children:[i.jsx("img",{src:E.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${E.name}`,className:"w-12 h-12 md:w-16 md:h-16 rounded-xl md:rounded-[1.5rem] bg-slate-50 border border-slate-100 shadow-sm object-cover"}),P.urgent&&i.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 md:w-4 md:h-4 bg-rose-500 border-2 border-white rounded-full animate-pulse"})]}),i.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[i.jsxs("div",{className:"flex justify-between items-start mb-0.5 md:mb-1",children:[i.jsx(Y,{variant:"h3",className:"text-[12px] md:text-sm font-black uppercase truncate text-slate-800 leading-tight",children:E.name}),se>0&&i.jsxs(Xe,{variant:"indigo",className:"text-[6px] md:text-[7px] py-0 px-1 shrink-0",children:["Q x",se]})]}),i.jsxs("div",{className:"mb-1 md:mb-2",children:[i.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[i.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase text-slate-400 tracking-tighter",children:"Karma"}),i.jsx("span",{className:"text-[7px] md:text-[8px] font-black text-slate-600",children:E.rating||0})]}),i.jsx("div",{className:"h-0.5 md:h-1.5 bg-slate-100 rounded-full overflow-hidden flex shadow-inner",children:i.jsx("div",{className:`h-full transition-all duration-1000 ${fe>70?"bg-emerald-500":fe>30?"bg-orange-500":"bg-rose-500"}`,style:{width:`${fe}%`}})})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Xe,{variant:"slate",className:"text-[6px] md:text-[7px] px-1 py-0",children:le(E.status)}),i.jsx("span",{className:"text-[7px] md:text-[8px] font-black text-slate-300 uppercase tracking-tighter",children:P.label})]})]})]}),i.jsx("div",{className:"px-4 md:px-5 pb-2 md:pb-4 flex flex-wrap gap-1 md:gap-1.5 overflow-hidden h-4 md:h-6",children:E.hobbies.slice(0,3).map(xe=>i.jsxs("span",{className:"text-[7px] md:text-[8px] font-bold text-slate-400 bg-slate-50 px-1.5 md:px-2 py-0.5 rounded-full border border-slate-100 truncate max-w-[70px] md:max-w-[80px]",children:["#",xe]},xe))}),i.jsxs("div",{className:"mt-auto border-t border-slate-50 bg-slate-50/30 p-1 md:p-2 grid grid-cols-4 gap-px text-center",children:[i.jsxs("button",{onClick:()=>W(E.id,"dossier"),className:"flex flex-col items-center justify-center py-1 md:py-2 rounded-lg hover:bg-white hover:text-orange-600 text-slate-400 transition-all",children:[i.jsx("i",{className:"fa-solid fa-id-card text-[10px] md:text-[11px] mb-0.5"}),i.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase",children:""})]}),i.jsxs("button",{onClick:()=>W(E.id,"dates"),className:"flex flex-col items-center justify-center py-1 md:py-2 rounded-lg hover:bg-white hover:text-orange-600 text-slate-400 transition-all",children:[i.jsx("i",{className:"fa-solid fa-calendar-day text-[10px] md:text-[11px] mb-0.5"}),i.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase",children:""})]}),i.jsxs("button",{onClick:()=>W(E.id,"timeline"),className:"flex flex-col items-center justify-center py-1 md:py-2 rounded-lg hover:bg-white hover:text-orange-600 text-slate-400 transition-all",children:[i.jsx("i",{className:"fa-solid fa-clock-rotate-left text-[10px] md:text-[11px] mb-0.5"}),i.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase",children:""})]}),i.jsxs("button",{onClick:()=>W(E.id,"tasks"),className:"flex flex-col items-center justify-center py-1 md:py-2 rounded-lg hover:bg-white hover:text-orange-600 text-slate-400 transition-all",children:[i.jsx("i",{className:"fa-solid fa-bolt text-[10px] md:text-[11px] mb-0.5"}),i.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase",children:""})]})]})]},E.id)}),i.jsxs("button",{onClick:()=>M({active:!0,status:v==="all"?"acquaintance":v}),className:"group border-2 border-dashed border-slate-200 rounded-2xl md:rounded-[2rem] p-6 md:p-8 flex flex-col items-center justify-center text-slate-300 hover:border-orange-300 hover:text-orange-500 hover:bg-white transition-all min-h-[120px] md:min-h-[160px] w-full",children:[i.jsx("i",{className:"fa-solid fa-user-plus text-xl md:text-2xl mb-2 md:mb-3 group-hover:scale-110 transition-transform"}),i.jsx("span",{className:"text-[8px] md:text-[10px] font-black uppercase tracking-widest",children:" "})]})]}):i.jsx("div",{className:"bg-white rounded-xl md:rounded-3xl border border-slate-100 overflow-hidden shadow-sm",children:i.jsx("div",{className:"overflow-x-auto no-scrollbar",children:i.jsxs("table",{className:"w-full text-left min-w-[320px]",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[i.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-[8px] md:text-[9px] font-black uppercase text-slate-400 tracking-widest",children:""}),i.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-[8px] md:text-[9px] font-black uppercase text-slate-400 tracking-widest hidden sm:table-cell",children:"HP"}),i.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-[8px] md:text-[9px] font-black uppercase text-slate-400 tracking-widest",children:""}),i.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-50",children:de.map(E=>{const P=Math.min(100,Math.max(0,E.rating||0));return i.jsxs("tr",{onClick:()=>W(E.id,"dossier"),className:"group hover:bg-slate-50 transition-colors cursor-pointer",children:[i.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4",children:i.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[i.jsx("img",{src:E.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${E.name}`,className:"w-8 h-8 md:w-8 md:h-8 rounded-full bg-slate-100"}),i.jsx("span",{className:"text-[11px] md:text-[13px] font-black text-slate-800 truncate max-w-[100px] md:max-w-none",children:E.name})]})}),i.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4 w-24 md:w-48 hidden sm:table-cell",children:i.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[i.jsx("div",{className:"flex-1 h-1 md:h-1.5 bg-slate-100 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full ${P>70?"bg-emerald-500":P>30?"bg-orange-500":"bg-rose-500"}`,style:{width:`${P}%`}})}),i.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-slate-600",children:E.rating||0})]})}),i.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4",children:i.jsx(Xe,{variant:"slate",className:"text-[6px] md:text-[8px] py-0",children:le(E.status)})}),i.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4 text-right",children:i.jsxs("div",{className:"flex justify-end gap-1.5 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx("button",{onClick:se=>{se.stopPropagation(),W(E.id,"timeline")},className:"w-7 h-7 md:w-8 md:h-8 rounded-md bg-white border border-slate-100 text-slate-400 hover:text-orange-600 flex items-center justify-center",children:i.jsx("i",{className:"fa-solid fa-clock-rotate-left text-[10px]"})}),i.jsx("button",{onClick:se=>{se.stopPropagation(),W(E.id,"tasks")},className:"w-7 h-7 md:w-8 md:h-8 rounded-md bg-white border border-slate-100 text-slate-400 hover:text-orange-600 flex items-center justify-center",children:i.jsx("i",{className:"fa-solid fa-bolt text-[10px]"})})]})})]},E.id)})})]})})})]})})]}),i.jsxs("aside",{style:{width:window.innerWidth<1024?"100%":G},className:`${window.innerWidth<1024?"border-t md:border-t-0":"border-l"} bg-white border-slate-100 shrink-0 relative z-30 flex flex-col`,children:[window.innerWidth>=1024&&i.jsx("div",{onMouseDown:V,className:`absolute left-0 top-0 bottom-0 w-[1.5px] cursor-col-resize hover:bg-orange-500 transition-colors z-50 ${te?"bg-orange-500":"bg-slate-100"}`}),i.jsxs("header",{className:"p-5 md:p-6 border-b border-slate-50 shrink-0",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest mb-1",children:" "}),i.jsx(Y,{variant:"h2",className:"text-base md:text-lg",children:"Social Capital"})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 md:p-6 space-y-6 md:space-y-8",children:[i.jsxs("section",{className:"grid grid-cols-2 lg:grid-cols-1 gap-3",children:[i.jsxs("div",{className:"bg-slate-900 rounded-[1.5rem] md:rounded-[2rem] p-4 md:p-5 text-white shadow-xl relative overflow-hidden group",children:[i.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-orange-500/10 blur-2xl group-hover:bg-orange-500/20 transition-all"}),i.jsx(Y,{variant:"tiny",className:"text-orange-500 font-black mb-1 uppercase text-[7px]",children:" Karma"}),i.jsx("div",{className:"text-2xl md:text-3xl font-black",children:U.avgKarma}),i.jsx("div",{className:"mt-2 md:mt-3 h-1 bg-white/10 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-orange-500 shadow-[0_0_8px_#f97316]",style:{width:`${U.avgKarma}%`}})})]}),i.jsxs("div",{className:"bg-rose-50 border border-rose-100 rounded-[1.5rem] md:rounded-[2rem] p-4 md:p-5 text-rose-700",children:[i.jsx(Y,{variant:"tiny",className:"text-rose-400 font-black mb-1 uppercase text-[7px]",children:" "}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-2xl md:text-3xl font-black",children:U.urgentCount}),i.jsx("i",{className:"fa-solid fa-heart-pulse text-rose-300 text-lg md:text-xl animate-pulse"})]})]})]}),i.jsxs("section",{className:"space-y-3 md:space-y-4",children:[i.jsxs(Y,{variant:"tiny",className:"text-slate-900 font-black uppercase tracking-widest flex items-center gap-2 text-[9px]",children:[i.jsx("i",{className:"fa-solid fa-bolt-lightning text-orange-500"}),"  '"]}),i.jsxs("div",{className:"space-y-2",children:[Q.map(E=>{const P=l.find(se=>se.id===E.personId);return i.jsx("div",{className:"p-3 bg-slate-50 border border-slate-100 rounded-2xl hover:bg-white hover:border-orange-200 transition-all group cursor-pointer shadow-sm",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("button",{onClick:()=>u(E),className:"w-5 h-5 rounded-lg border-2 border-slate-200 mt-0.5 flex items-center justify-center bg-white group-hover:border-orange-400",children:i.jsx("i",{className:"fa-solid fa-check text-[9px] text-transparent group-hover:text-slate-100"})}),i.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>P&&W(P.id,"tasks"),children:[i.jsx("div",{className:"text-[10px] md:text-[11px] font-black text-slate-700 truncate mb-1",children:E.title}),P&&i.jsxs("span",{className:"text-[7px] md:text-[8px] font-black text-orange-500 uppercase",children:[" ",P.name]})]})]})},E.id)}),Q.length===0&&i.jsxs("div",{className:"text-center py-8 opacity-30",children:[i.jsx("i",{className:"fa-solid fa-comment-dots text-xl mb-2"}),i.jsx("p",{className:"text-[9px] font-black uppercase",children:" "})]})]})]}),i.jsxs("section",{className:"p-4 md:p-5 bg-indigo-600 rounded-[2rem] md:rounded-[2.5rem] text-white shadow-lg relative overflow-hidden",children:[i.jsx("i",{className:"fa-solid fa-wand-magic-sparkles absolute -bottom-2 -right-2 text-6xl opacity-10"}),i.jsx(Y,{variant:"tiny",className:"text-indigo-200 font-black mb-2 uppercase text-[7px]",children:"Gemini Strategy"}),i.jsx("p",{className:"text-[9px] md:text-[10px] font-bold leading-relaxed",children:'"     .  AI-  ,      ."'})]})]})]}),S.active&&i.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 tiktok-blur",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-950/40",onClick:()=>M({active:!1,status:"acquaintance"})}),i.jsxs(Me,{className:"w-full max-w-sm relative z-10 shadow-2xl p-6 md:p-8 rounded-[2rem] md:rounded-[2.5rem] bg-white border-none",children:[i.jsx(Y,{variant:"h2",className:"mb-4 md:mb-6 text-lg md:text-xl",children:" "}),i.jsxs("form",{onSubmit:ve,className:"space-y-4 md:space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-[9px] md:text-[10px] font-black uppercase text-slate-400 tracking-widest mb-1.5 md:mb-2 block",children:" / '"}),i.jsx("input",{autoFocus:!0,value:I,onChange:E=>D(E.target.value),placeholder:"...",className:"w-full bg-slate-50 border border-slate-100 rounded-xl py-3 md:py-4 px-4 md:px-5 text-sm font-bold focus:ring-4 focus:ring-orange-100 outline-none transition-all"})]}),i.jsxs("div",{className:"flex gap-3 md:gap-4",children:[i.jsx(Fe,{variant:"ghost",className:"flex-1 rounded-xl md:rounded-2xl py-3",onClick:()=>M({active:!1,status:"acquaintance"}),children:""}),i.jsx(Fe,{type:"submit",className:"flex-[2] rounded-xl md:rounded-2xl shadow-lg shadow-orange-100 py-3",children:""})]})]})]})]}),w&&i.jsx(B_,{personId:w,onClose:()=>j(null),initialTab:_})]})},q_=()=>{const{character:l,updateCharacter:t,tasks:n,cycle:s,diary:o,hobbies:u}=$e(),[p,g]=A.useState("status"),v=A.useMemo(()=>({done:n.filter(N=>N.status===Ne.DONE&&!N.isDeleted).length}),[n]),x=[{key:"health",label:"'",icon:"fa-heart-pulse",color:"#f43f5e"},{key:"career",label:"'",icon:"fa-briefcase",color:"#6366f1"},{key:"finance",label:"",icon:"fa-coins",color:"#10b981"},{key:"education",label:"",icon:"fa-book-open-reader",color:"#f59e0b"},{key:"relationships",label:"",icon:"fa-people-group",color:"#ec4899"},{key:"rest",label:"",icon:"fa-couch",color:"#06b6d4"}],y=(N,w,j)=>i.jsxs("button",{onClick:()=>g(N),className:`flex items-center gap-2 px-6 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${p===N?"bg-slate-900 text-white shadow-xl":"text-slate-400 hover:bg-slate-100"}`,children:[i.jsx("i",{className:`fa-solid ${j}`}),w]});return i.jsxs("div",{className:"min-h-screen bg-[var(--bg-main)] pb-32",children:[i.jsx("div",{className:"bg-white border-b border-slate-100 px-6 py-8 relative overflow-hidden",children:i.jsxs("div",{className:"max-w-5xl mx-auto flex flex-col md:flex-row items-center gap-8 relative z-10",children:[i.jsx("div",{className:"w-28 h-28 md:w-32 md:h-32 rounded-[2.5rem] bg-white p-1 shadow-2xl ring-4 ring-orange-50 relative overflow-hidden",children:i.jsx("img",{src:l.avatarUrl,alt:"Hero",className:"w-full h-full object-cover rounded-[2rem] bg-slate-50"})}),i.jsxs("div",{className:"flex-1 text-center md:text-left",children:[i.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-3 mb-2",children:[i.jsx(Y,{variant:"h1",className:"text-3xl",children:l.name}),i.jsxs(Xe,{variant:"orange",children:["LVL ",l.level]})]}),i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black tracking-widest uppercase",children:l.role||l.archetype}),i.jsxs("div",{className:"flex gap-4 mt-4 overflow-x-auto no-scrollbar pb-2",children:[y("status","","fa-bolt-lightning"),y("identity","","fa-user-gear"),y("evolution","","fa-chart-line")]})]})]})}),i.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-10",children:[p==="status"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 animate-in fade-in duration-300",children:[i.jsxs("section",{className:"space-y-6",children:[i.jsx(Y,{variant:"h2",className:"text-xl font-black",children:" "}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(Me,{padding:"md",className:"bg-rose-50/50 border-rose-100",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-[10px] font-black uppercase text-rose-600",children:""}),i.jsxs("span",{className:"text-lg font-black text-rose-600",children:[l.energy,"%"]})]}),i.jsx("div",{className:"h-1.5 bg-rose-100 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-rose-500",style:{width:`${l.energy}%`}})})]}),i.jsxs(Me,{padding:"md",className:"bg-indigo-50/50 border-indigo-100",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-[10px] font-black uppercase text-indigo-600",children:""}),i.jsxs("span",{className:"text-lg font-black text-indigo-600",children:[l.focus,"%"]})]}),i.jsx("div",{className:"h-1.5 bg-indigo-100 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-indigo-500",style:{width:`${l.focus}%`}})})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:x.map(N=>{const w=l.stats[N.key]||0;return i.jsxs(Me,{padding:"sm",className:"border-slate-100 flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white",style:{backgroundColor:N.color},children:i.jsx("i",{className:`fa-solid ${N.icon} text-[10px]`})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-[9px] font-black text-slate-800 uppercase",children:N.label}),i.jsxs("span",{className:"text-[8px] font-bold text-slate-400",children:["LVL ",Math.floor(w/10)]})]}),i.jsx("div",{className:"h-1 bg-slate-100 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full transition-all duration-1000",style:{width:`${w}%`,backgroundColor:N.color}})})]})]},N.key)})})]}),i.jsxs("section",{className:"space-y-6",children:[i.jsx(Y,{variant:"h2",className:"text-xl font-black",children:" "}),i.jsx("div",{className:"space-y-3",children:l.skills.map(N=>i.jsxs(Me,{padding:"md",className:"border-slate-100 flex items-center gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center text-lg",children:i.jsx("i",{className:`fa-solid ${N.icon}`})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-xs font-black uppercase text-slate-800",children:N.name}),i.jsxs("span",{className:"text-[9px] font-bold text-slate-400",children:["LVL ",N.level]})]}),i.jsx("div",{className:"h-1 bg-slate-100 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-orange-500",style:{width:`${N.xp%100}%`}})})]})]},N.name))})]})]}),p==="identity"&&i.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[i.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs(Y,{variant:"tiny",className:"text-slate-900 font-black uppercase flex items-center gap-2",children:[i.jsx("i",{className:"fa-solid fa-scroll text-orange-500"})," Bio & "]}),i.jsxs(Me,{padding:"md",className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-1",children:" "}),i.jsx("input",{value:l.role,onChange:N=>t({role:N.target.value}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-bold focus:ring-2 focus:ring-orange-100 outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-1",children:""}),i.jsx("textarea",{value:l.bio,onChange:N=>t({bio:N.target.value}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-medium focus:ring-2 focus:ring-orange-100 outline-none min-h-[80px] resize-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-1",children:" "}),i.jsx("textarea",{value:l.vision,onChange:N=>t({vision:N.target.value}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-medium italic focus:ring-2 focus:ring-orange-100 outline-none min-h-[60px] resize-none border-l-2 border-orange-200"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(Y,{variant:"tiny",className:"text-slate-900 font-black uppercase flex items-center gap-2",children:[i.jsx("i",{className:"fa-solid fa-shield-heart text-indigo-500"}),"  & "]}),i.jsxs(Me,{padding:"md",className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:""}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:l.views.map((N,w)=>i.jsx(Xe,{variant:"indigo",className:"text-[8px] lowercase",children:N},w))}),i.jsx("button",{onClick:()=>{const N=prompt(" :");N&&t({views:[...l.views,N]})},className:"text-[8px] font-black text-indigo-600 uppercase tracking-widest",children:"+  "})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:" (Beliefs)"}),i.jsx("div",{className:"space-y-1.5",children:l.beliefs.map((N,w)=>i.jsxs("div",{className:"text-xs font-medium text-slate-600 flex items-center gap-2 bg-slate-50 p-2 rounded-lg",children:[i.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-300"}),N]},w))}),i.jsx("button",{onClick:()=>{const N=prompt(" :");N&&t({beliefs:[...l.beliefs,N]})},className:"mt-2 text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"+  "})]})]})]})]}),i.jsxs("section",{children:[i.jsxs(Y,{variant:"tiny",className:"text-slate-900 font-black uppercase flex items-center gap-2 mb-4",children:[i.jsx("i",{className:"fa-solid fa-sliders text-emerald-500"}),"  "]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(Me,{padding:"md",children:[i.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:" "}),i.jsx("input",{value:l.preferences.workStyle,onChange:N=>t({preferences:{...l.preferences,workStyle:N.target.value}}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-bold outline-none"})]}),i.jsxs(Me,{padding:"md",children:[i.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:" "}),i.jsx("input",{value:l.preferences.planningStyle,onChange:N=>t({preferences:{...l.preferences,planningStyle:N.target.value}}),className:"w-full bg-slate-50 border-none rounded-xl p-3 text-xs font-bold outline-none"})]}),i.jsxs(Me,{padding:"md",children:[i.jsx("label",{className:"text-[8px] font-black uppercase text-slate-400 block mb-2",children:"-"}),i.jsx("div",{className:"flex flex-wrap gap-1.5",children:l.preferences.focusBlockers.map((N,w)=>i.jsx(Xe,{variant:"rose",className:"text-[7px]",children:N},w))}),i.jsx("button",{onClick:()=>{const N=prompt(" :");N&&t({preferences:{...l.preferences,focusBlockers:[...l.preferences.focusBlockers,N]}})},className:"mt-2 text-[8px] font-black text-rose-600 uppercase tracking-widest",children:"+ "})]})]})]})]}),p==="evolution"&&i.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[i.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(Me,{className:"bg-slate-900 text-white p-8 border-none flex flex-col items-center justify-center text-center",children:[i.jsx("div",{className:"text-[10px] font-black text-orange-500 uppercase mb-2",children:" "}),i.jsx("div",{className:"text-4xl font-black",children:l.xp}),i.jsx(Y,{variant:"tiny",className:"text-slate-500 mt-2",children:"XP POINTS"})]}),i.jsxs(Me,{className:"p-8 border-slate-100 flex flex-col items-center justify-center text-center shadow-sm",children:[i.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase mb-2",children:"  "}),i.jsx("div",{className:"text-4xl font-black text-slate-900",children:s.currentWeek}),i.jsx(Y,{variant:"tiny",className:"text-slate-300 mt-2",children:"12TR WEEK"})]}),i.jsxs(Me,{className:"p-8 border-slate-100 flex flex-col items-center justify-center text-center shadow-sm",children:[i.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase mb-2",children:" "}),i.jsx("div",{className:"text-4xl font-black text-emerald-600",children:v.done}),i.jsx(Y,{variant:"tiny",className:"text-slate-300 mt-2",children:"COMPLETED QUESTS"})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx(Y,{variant:"h2",className:"text-xl font-black",children:" "}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.achievements.map(N=>i.jsxs(Me,{padding:"md",className:"border-slate-100 text-center hover:border-orange-200 transition-all group",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-50 text-orange-600 flex items-center justify-center text-xl mx-auto mb-3 shadow-inner group-hover:scale-110 transition-transform",children:i.jsx("i",{className:`fa-solid ${N.icon}`})}),i.jsx("div",{className:"text-[10px] font-black uppercase text-slate-800 mb-1",children:N.title}),i.jsx("p",{className:"text-[9px] text-slate-400 leading-tight",children:N.description})]},N.id)),i.jsxs("div",{className:"border-2 border-dashed border-slate-100 rounded-[2rem] flex flex-col items-center justify-center p-6 grayscale opacity-30",children:[i.jsx("i",{className:"fa-solid fa-lock mb-2 text-slate-300"}),i.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Locked Achievement"})]})]})]})]})]})]})},P_=()=>{var le,X;const{theme:l,setTheme:t,aiEnabled:n,setAiEnabled:s,sidebarSettings:o,updateSidebarSetting:u,character:p,updateCharacter:g}=$e(),[v,x]=A.useState((window.innerWidth<1024,"profile")),[y,N]=A.useState(""),[w,j]=A.useState(!1),[_,T]=A.useState(""),[S,M]=A.useState(!1),{isResizing:I,startResizing:D,detailsWidth:O}=qn(400,700),[R,$]=A.useState(window.innerWidth<1024);A.useEffect(()=>{const B=()=>$(window.innerWidth<1024);window.addEventListener("resize",B);const de=localStorage.getItem("GEMINI_API_KEY")||"";return N(de),()=>window.removeEventListener("resize",B)},[]);const k=()=>{localStorage.setItem("GEMINI_API_KEY",y.trim()),alert("API  .")},z=B=>{B.preventDefault(),_.trim()&&(M(!0),T(""),setTimeout(()=>M(!1),3e3))},G=[{id:"profile",icon:"fa-user-astronaut",label:" ",color:"text-orange-500",desc:"  "},{id:"appearance",icon:"fa-palette",label:" & ",color:"text-indigo-500",desc:" "},{id:"ai",icon:"fa-wand-magic-sparkles",label:"Gemini AI",color:"text-emerald-500",desc:" "},{id:"sidebar",icon:"fa-bars-staggered",label:"",color:"text-amber-500",desc:" "},{id:"data",icon:"fa-database",label:"",color:"text-rose-500",desc:" "},{id:"feedback",icon:"fa-comment-dots",label:"",color:"text-violet-500",desc:"  "}],V=[{id:"classic",label:"Classic",main:"#ffffff",accent:"#f97316"},{id:"midnight",label:"Midnight",main:"#020617",accent:"#10b981"},{id:"obsidian",label:"Obsidian",main:"#000000",accent:"#8b5cf6"},{id:"sakura",label:"Sakura",main:"#fff1f2",accent:"#ec4899"},{id:"nordic-dark",label:"Nordic",main:"#2e3440",accent:"#88c0d0"},{id:"forest",label:"Forest",main:"#f0fdf4",accent:"#166534"},{id:"lavender",label:"Lavender",main:"#faf5ff",accent:"#8b5cf6"},{id:"mars",label:"Mars",main:"#450a0a",accent:"#ef4444"},{id:"slate",label:"Slate",main:"#f8fafc",accent:"#475569"}],te=()=>{switch(v){case"profile":return i.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[i.jsxs("div",{className:"flex flex-col items-center gap-4 mb-4",children:[i.jsxs("div",{className:"w-24 h-24 rounded-[2.5rem] bg-[var(--bg-card)] p-1 ring-4 ring-[var(--primary)]/10 relative group shadow-2xl",children:[i.jsx("img",{src:p.avatarUrl,className:"w-full h-full object-cover rounded-[2.2rem]"}),i.jsx("button",{onClick:()=>{const de=prompt("Avatar URL:",p.avatarUrl);de&&g({avatarUrl:de})},className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-[2.2rem] text-white text-[10px] font-black uppercase",children:""})]}),i.jsxs(Y,{variant:"tiny",className:"text-[var(--text-muted)]",children:["ID: ",p.name.toUpperCase().replace(/\s+/g,"_")]})]}),i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-black uppercase text-[var(--text-muted)] ml-1",children:""}),i.jsx("input",{value:p.name,onChange:de=>g({name:de.target.value}),className:"w-full bg-[var(--bg-card)] border border-[var(--border-color)] rounded-2xl py-4 px-5 text-sm font-bold focus:ring-4 focus:ring-[var(--primary)]/10 outline-none transition-all shadow-sm"})]}),i.jsxs("div",{className:"p-4 bg-slate-900 rounded-3xl text-white",children:[i.jsx(Y,{variant:"tiny",className:"text-orange-500 mb-2 font-black",children:" "}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest",children:[" ",p.level]}),i.jsxs("span",{className:"text-[10px] opacity-50",children:[p.xp," XP"]})]})]})]})]});case"appearance":return i.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300 pb-20",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black uppercase tracking-widest ml-1",children:"  "}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:V.map(de=>i.jsxs("button",{onClick:()=>t(de.id),className:`p-3 rounded-[1.2rem] border-2 text-left transition-all ${l===de.id?"border-[var(--primary)] bg-[var(--bg-main)] shadow-lg scale-[1.05]":"border-[var(--border-color)] bg-[var(--bg-card)] hover:border-[var(--primary)]/30"}`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest truncate",children:de.label}),i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:de.accent}})]}),i.jsx("div",{className:"h-6 w-full rounded-md border border-[var(--border-color)]",style:{backgroundColor:de.main}})]},de.id))})]});case"ai":return i.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:i.jsxs(Me,{className:"border-[var(--border-color)] p-8 relative overflow-hidden shadow-2xl",children:[i.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-[var(--primary)]/10 blur-[80px]"}),i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[var(--primary)] flex items-center justify-center shadow-lg",children:i.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-xl text-white"})}),i.jsx("button",{onClick:()=>s(!n),className:`w-14 h-7 rounded-full relative transition-all ${n?"bg-emerald-500":"bg-[var(--text-muted)]/20"}`,children:i.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full transition-all ${n?"right-1.5":"left-1.5"}`})})]}),i.jsx(Y,{variant:"h2",className:"mb-2 text-2xl",children:" "}),i.jsx("p",{className:"text-xs text-slate-500 leading-relaxed mb-6 italic",children:"   ,     ."}),i.jsxs("div",{className:"space-y-3 bg-[var(--bg-main)] p-6 rounded-[1.8rem] border border-[var(--border-color)]",children:[i.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-[var(--text-muted)] block",children:"Gemini Cloud API Key"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx("input",{type:w?"text":"password",value:y,onChange:de=>N(de.target.value),placeholder:" ...",className:"w-full bg-[var(--bg-card)] border border-[var(--border-color)] rounded-xl py-3 px-4 text-[11px] font-mono outline-none focus:border-[var(--primary)] text-[var(--text-main)]"}),i.jsx("button",{onClick:()=>j(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-muted)] hover:text-[var(--primary)] transition-colors",children:i.jsx("i",{className:`fa-solid ${w?"fa-eye-slash":"fa-eye"}`})})]}),i.jsx("button",{onClick:k,className:"bg-[var(--primary)] text-white px-6 rounded-xl text-[10px] font-black uppercase transition-colors hover:brightness-110",children:"OK"})]})]})]})});case"sidebar":const B=[{id:"today",icon:"fa-star",label:""},{id:"inbox",icon:"fa-inbox",label:""},{id:"next_actions",icon:"fa-bolt",label:""},{id:"projects",icon:"fa-folder-tree",label:""},{id:"calendar",icon:"fa-calendar-days",label:""},{id:"notes",icon:"fa-note-sticky",label:""}];return i.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[i.jsx(Y,{variant:"tiny",className:"text-[var(--text-muted)] font-black uppercase tracking-widest ml-2 mb-2",children:"  "}),i.jsx("div",{className:"bg-[var(--bg-card)] border border-[var(--border-color)] rounded-[2rem] overflow-hidden shadow-sm divide-y divide-[var(--border-color)]",children:B.map(de=>i.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-[var(--bg-main)] transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-9 h-9 rounded-xl bg-[var(--bg-main)] flex items-center justify-center text-[var(--text-muted)] shadow-inner",children:i.jsx("i",{className:`fa-solid ${de.icon}`})}),i.jsx("span",{className:"text-[11px] font-black uppercase tracking-tight text-[var(--text-main)]",children:de.label})]}),i.jsx("button",{onClick:()=>u(de.id,o[de.id]===!1),className:`w-11 h-6 rounded-full transition-all relative ${o[de.id]!==!1?"bg-[var(--primary)]":"bg-[var(--text-muted)]/20"}`,children:i.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${o[de.id]!==!1?"right-1":"left-1"}`})})]},de.id))})]});case"data":return i.jsx("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:i.jsxs(Me,{padding:"lg",className:"border-rose-100 bg-rose-50/20",children:[i.jsx(Y,{variant:"h2",className:"text-rose-600 mb-2",children:" "}),i.jsx("p",{className:"text-[11px] text-slate-500 mb-6 leading-relaxed",children:"      .       ."}),i.jsx("button",{onClick:()=>{confirm("     ?")&&(localStorage.clear(),window.location.reload())},className:"w-full py-5 rounded-[1.8rem] bg-white text-rose-500 border-2 border-rose-100 text-[10px] font-black uppercase tracking-widest hover:bg-rose-500 hover:text-white hover:border-rose-500 transition-all shadow-sm",children:"   '"})]})});case"feedback":return i.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[i.jsx(Y,{variant:"tiny",className:"text-violet-500 font-black mb-2 uppercase",children:"   "}),i.jsxs("form",{onSubmit:z,className:"space-y-4",children:[i.jsx("textarea",{value:_,onChange:de=>T(de.target.value),placeholder:"    ...",className:"w-full bg-[var(--bg-card)] border border-[var(--border-color)] rounded-[1.5rem] p-5 text-sm font-medium focus:ring-4 focus:ring-indigo-100 outline-none transition-all shadow-sm min-h-[160px] resize-none leading-relaxed text-[var(--text-main)]"}),i.jsx("button",{type:"submit",disabled:!_.trim()||S,className:`w-full py-5 rounded-[1.8rem] font-black uppercase tracking-widest text-[10px] transition-all shadow-lg flex items-center justify-center gap-3 ${S?"bg-emerald-500 text-white shadow-emerald-100":"bg-indigo-600 text-white shadow-indigo-100 hover:scale-[1.02] active:scale-95"}`,children:S?"!":"  "})]})]});default:return null}};return i.jsxs("div",{className:"h-screen flex flex-col lg:flex-row overflow-hidden relative bg-[var(--bg-main)]",children:[i.jsxs("div",{className:`flex-1 flex flex-col min-w-0 h-full relative transition-all duration-300 ${R&&v?"-translate-x-full absolute":"translate-x-0 relative"}`,children:[i.jsxs("header",{className:"px-6 py-8 md:px-10 md:py-10 bg-[var(--bg-card)] border-b border-[var(--border-color)] sticky top-0 z-20 shrink-0",children:[i.jsx(Y,{variant:"h1",className:"text-2xl md:text-3xl font-black tracking-tight",children:""}),i.jsx(Y,{variant:"tiny",className:"text-[var(--text-muted)] mt-1 uppercase tracking-[0.2em] text-[8px] md:text-[9px]",children:"  12TR"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-8 space-y-2",children:G.map(B=>i.jsxs(Me,{padding:"none",onClick:()=>x(B.id),className:`p-4 md:p-5 flex items-center justify-between group transition-all cursor-pointer border ${v===B.id?"bg-[var(--bg-card)] border-[var(--primary)] shadow-xl":"bg-[var(--bg-card)] border-[var(--border-color)] hover:border-[var(--primary)]/30 shadow-sm"}`,children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[i.jsx("div",{className:`w-10 md:w-12 h-10 md:h-12 rounded-2xl flex items-center justify-center shrink-0 shadow-inner bg-[var(--bg-main)] transition-all ${B.color}`,children:i.jsx("i",{className:`fa-solid ${B.icon} text-lg`})}),i.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[i.jsx(Y,{variant:"h3",className:"text-[12px] md:text-[13px] font-black uppercase tracking-tight truncate group-hover:text-[var(--primary)] transition-colors",children:B.label}),i.jsx("p",{className:"text-[9px] font-bold text-[var(--text-muted)] uppercase truncate mt-0.5",children:B.desc})]})]}),i.jsx("i",{className:"fa-solid fa-chevron-right text-[10px] text-[var(--text-muted)] group-hover:text-[var(--primary)] group-hover:translate-x-1 transition-all"})]},B.id))})]}),i.jsxs("div",{className:`flex h-full border-l border-[var(--border-color)] z-[110] bg-[var(--bg-card)] shrink-0 transition-all duration-300 ${R?v?"fixed inset-0 w-full translate-x-0":"fixed inset-0 w-full translate-x-full":""}`,children:[!R&&i.jsx("div",{onMouseDown:D,className:`w-[1px] h-full cursor-col-resize hover:bg-[var(--primary)] z-[120] transition-colors ${I?"bg-[var(--primary)]":"bg-[var(--border-color)]"}`}),i.jsx("div",{style:{width:R?"100vw":O},className:"h-full bg-[var(--bg-card)] relative overflow-hidden flex flex-col shadow-2xl",children:v?i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("header",{className:"p-6 md:p-8 border-b border-[var(--border-color)] flex justify-between items-center bg-[var(--bg-card)] shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[R&&i.jsx("button",{onClick:()=>x(null),className:"w-10 h-10 rounded-2xl bg-[var(--bg-main)] flex items-center justify-center text-[var(--text-muted)]",children:i.jsx("i",{className:"fa-solid fa-chevron-left text-xs"})}),i.jsx("div",{className:"w-10 md:w-11 h-10 md:h-11 rounded-2xl flex items-center justify-center text-white shadow-lg bg-[var(--primary)]",children:i.jsx("i",{className:`fa-solid ${(le=G.find(B=>B.id===v))==null?void 0:le.icon}`})}),i.jsx(Y,{variant:"h2",className:"text-base md:text-lg font-black uppercase tracking-tight",children:(X=G.find(B=>B.id===v))==null?void 0:X.label})]}),!R&&i.jsx("button",{onClick:()=>x(null),className:"w-10 h-10 rounded-2xl bg-[var(--bg-main)] flex items-center justify-center text-[var(--text-muted)] hover:text-[var(--text-main)] transition-all",children:i.jsx("i",{className:"fa-solid fa-xmark text-sm"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 md:p-12 bg-[var(--bg-main)]/30",children:i.jsx("div",{className:"max-w-xl mx-auto",children:te()})}),i.jsx("footer",{className:"p-6 md:p-8 border-t border-[var(--border-color)] bg-[var(--bg-card)] shrink-0 pb-safe",children:i.jsx(Fe,{onClick:()=>x(null),className:"w-full rounded-2xl py-4 font-black uppercase tracking-widest text-[10px] shadow-sm",children:""})})]}):!R&&i.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-12 text-center opacity-5 grayscale pointer-events-none select-none",children:[i.jsx("i",{className:"fa-solid fa-gear text-9xl mb-8"}),i.jsx(Y,{variant:"h2",className:"text-2xl font-black uppercase tracking-widest",children:" "})]})})]})]})},$_=({item:l,onClose:t})=>{const{shoppingItems:n,shoppingStores:s,updateShoppingItem:o,deleteShoppingItem:u}=$e(),[p,g]=A.useState(l),[v,x]=A.useState(""),[y,N]=A.useState(""),w=S=>{const M={...p,...S};g(M),o(M)},j=S=>{S.preventDefault();const M=parseFloat(v);if(isNaN(M)||!y.trim())return;const I={id:Math.random().toString(36).substr(2,9),price:M,storeName:y.trim(),date:Date.now()},D=p.priceHistory||[];w({priceHistory:[I,...D]}),x(""),N("")},_=S=>{const M=(p.priceHistory||[]).filter(I=>I.id!==S);w({priceHistory:M})},T=A.useMemo(()=>{const M=n.filter(I=>I.name.toLowerCase()===l.name.toLowerCase()).flatMap(I=>I.priceHistory||[]).map(I=>I.price);return M.length>0?Math.min(...M):null},[n,l.name]);return i.jsxs("div",{className:"h-full flex flex-col bg-white animate-in slide-in-from-right duration-300",children:[i.jsxs("header",{className:"p-4 md:p-6 border-b border-slate-50 flex justify-between items-center bg-white sticky top-0 z-10",children:[i.jsx(Y,{variant:"h2",className:"text-lg md:text-xl",children:" "}),i.jsx("button",{onClick:t,className:"w-9 h-9 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400 hover:text-slate-900 transition-colors",children:i.jsx("i",{className:"fa-solid fa-xmark text-lg"})})]}),i.jsxs("div",{className:"flex-1 p-5 md:p-8 space-y-6 overflow-y-auto custom-scrollbar",children:[i.jsxs("section",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black uppercase ml-1",children:""}),i.jsx("input",{value:p.name,onChange:S=>w({name:S.target.value}),className:"w-full bg-slate-50 border border-slate-100 rounded-2xl py-3 px-5 text-lg font-black focus:ring-4 focus:ring-orange-100 outline-none transition-all"})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black uppercase ml-1",children:" / "}),i.jsx("textarea",{value:p.note||"",onChange:S=>w({note:S.target.value}),className:"w-full bg-slate-50 border border-slate-100 rounded-2xl p-4 text-sm font-medium focus:ring-4 focus:ring-orange-100 outline-none min-h-[80px] resize-none leading-relaxed",placeholder:" ?  ..."})]})]}),T!==null&&i.jsxs("section",{className:"bg-emerald-50 p-5 md:p-6 rounded-[1.5rem] md:rounded-[2rem] border border-emerald-100",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("i",{className:"fa-solid fa-trophy text-emerald-500 text-xs"}),i.jsx(Y,{variant:"tiny",className:"text-emerald-600 font-black uppercase tracking-widest text-[9px]",children:" "})]}),i.jsxs("p",{className:"text-sm font-bold text-emerald-800 leading-tight",children:['   "',l.name,'": ',i.jsx("br",{}),i.jsxs("span",{className:"text-xl md:text-2xl font-black underline decoration-emerald-200 underline-offset-4",children:[T," "]})]})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsxs(Y,{variant:"tiny",className:"text-slate-900 font-black uppercase flex items-center gap-2 text-[9px]",children:[i.jsx("i",{className:"fa-solid fa-pen-nib text-orange-500"}),"  "]}),i.jsxs("form",{onSubmit:j,className:"grid grid-cols-2 gap-2 bg-slate-50/50 p-3 rounded-2xl border border-slate-100",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-[7px] font-black uppercase text-slate-400 ml-1",children:""}),i.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",value:v,onChange:S=>x(S.target.value),placeholder:"0.00 ",className:"w-full bg-white border border-slate-100 rounded-xl py-3 px-3 text-xs font-bold outline-none focus:ring-2 focus:ring-orange-200"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-[7px] font-black uppercase text-slate-400 ml-1",children:""}),i.jsx("input",{list:"stores-list",value:y,onChange:S=>N(S.target.value),placeholder:"...",className:"w-full bg-white border border-slate-100 rounded-xl py-3 px-3 text-xs font-bold outline-none focus:ring-2 focus:ring-orange-200"})]}),i.jsx("datalist",{id:"stores-list",children:s.map(S=>i.jsx("option",{value:S.name},S.id))}),i.jsx("button",{type:"submit",className:"col-span-2 mt-1 py-3 bg-slate-900 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-orange-600 transition-all active:scale-95 shadow-md",children:"  "})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx(Y,{variant:"tiny",className:"text-slate-400 font-black uppercase ml-1",children:" "}),i.jsxs("div",{className:"space-y-2",children:[(p.priceHistory||[]).map(S=>i.jsxs("div",{className:"flex items-center justify-between p-3.5 bg-white rounded-2xl border border-slate-50 group/log shadow-sm",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm font-black text-slate-800",children:[S.price," "]}),i.jsx(Xe,{variant:"slate",className:"text-[8px] py-0 px-1.5 opacity-60",children:S.storeName})]}),i.jsx("div",{className:"text-[8px] font-black text-slate-300 uppercase mt-1 tracking-wider",children:new Date(S.date).toLocaleDateString("uk-UA",{day:"numeric",month:"short"})})]}),i.jsx("button",{onClick:()=>_(S.id),className:"w-8 h-8 rounded-lg text-slate-200 hover:text-rose-500 hover:bg-rose-50 transition-all flex items-center justify-center",children:i.jsx("i",{className:"fa-solid fa-trash-can text-xs"})})]},S.id)),(!p.priceHistory||p.priceHistory.length===0)&&i.jsx("div",{className:"text-center py-8 bg-slate-50/50 rounded-2xl border border-dashed border-slate-200",children:i.jsx("p",{className:"text-[10px] font-bold text-slate-300 uppercase tracking-widest",children:" "})})]})]})]}),i.jsxs("footer",{className:"p-4 md:p-6 border-t border-slate-50 bg-slate-50/30 flex gap-3 shrink-0 mb-safe",children:[i.jsx("button",{onClick:()=>{confirm("  ?")&&(u(l.id),t())},className:"w-12 h-12 rounded-2xl bg-rose-50 text-rose-500 flex items-center justify-center hover:bg-rose-500 hover:text-white transition-all shadow-sm",children:i.jsx("i",{className:"fa-solid fa-trash-can"})}),i.jsx(Fe,{onClick:t,className:"flex-1 rounded-2xl py-3 font-black tracking-widest text-[10px]",children:""})]})]})},F_=()=>{var de;const{shoppingStores:l,shoppingItems:t,addStore:n,updateStore:s,deleteStore:o,addShoppingItem:u,toggleShoppingItem:p,deleteShoppingItem:g,detailsWidth:v}=$e(),{startResizing:x,isResizing:y}=qn(400,700),[N,w]=A.useState("all"),[j,_]=A.useState(null),[T,S]=A.useState(!1),[M,I]=A.useState(""),[D,O]=A.useState(""),[R,$]=A.useState(window.innerWidth<768),[k,z]=A.useState(!1);A.useEffect(()=>{const U=()=>$(window.innerWidth<768);return window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},[]);const G=A.useMemo(()=>N==="all"?t:t.filter(U=>U.storeId===N),[t,N]),V=A.useMemo(()=>[...G].sort((U,Q)=>U.isBought===Q.isBought?0:U.isBought?1:-1),[G]),te=U=>{const W=t.filter(pe=>pe.name.toLowerCase()===U.toLowerCase()).flatMap(pe=>pe.priceHistory||[]).map(pe=>pe.price);return W.length>0?Math.min(...W):null},le=U=>{U.preventDefault(),M.trim()&&(n(M.trim()),I(""),S(!1))},X=U=>{U.preventDefault(),D.trim()&&N!=="all"&&(u(D.trim(),N),O(""))},B=U=>{w(U),R&&z(!0)};return i.jsxs("div",{className:"h-screen flex bg-[var(--bg-main)] overflow-hidden relative",children:[i.jsxs("aside",{className:`w-full md:w-64 border-r border-[var(--border-color)] bg-[var(--bg-card)] flex flex-col shrink-0 transition-transform duration-300 ${R&&k?"-translate-x-full absolute":"translate-x-0 relative"}`,children:[i.jsxs("header",{className:"p-6 md:p-8 border-b border-[var(--border-color)] flex justify-between items-center bg-white sticky top-0 z-10",children:[i.jsxs("div",{children:[i.jsx(Y,{variant:"h2",className:"text-lg md:text-xl",children:""}),i.jsx(Y,{variant:"tiny",className:"text-[var(--text-muted)] tracking-tighter",children:"Price Strategy"})]}),i.jsx("button",{onClick:()=>S(!0),className:"w-10 h-10 rounded-2xl bg-orange-50 text-orange-600 flex items-center justify-center hover:bg-orange-600 hover:text-white transition-all shadow-sm",children:i.jsx("i",{className:"fa-solid fa-plus text-xs"})})]}),i.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto no-scrollbar",children:[i.jsxs("button",{onClick:()=>B("all"),className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl transition-all ${N==="all"?"bg-orange-50 text-orange-600 ring-1 ring-orange-100 shadow-sm font-black":"text-[var(--text-muted)] hover:bg-[var(--bg-main)]"}`,children:[i.jsx("i",{className:"fa-solid fa-layer-group text-xs w-4 text-center"}),i.jsx("span",{className:"text-[11px] uppercase tracking-widest",children:" "}),i.jsx("span",{className:"ml-auto text-[8px] opacity-40",children:t.length})]}),i.jsx("div",{className:"my-4 border-t border-[var(--border-color)] opacity-50"}),T&&i.jsx("form",{onSubmit:le,className:"px-2 mb-2 animate-in slide-in-from-top-2",children:i.jsx("input",{autoFocus:!0,value:M,onChange:U=>I(U.target.value),onBlur:()=>!M&&S(!1),placeholder:" ...",className:"w-full bg-[var(--bg-main)] border border-orange-200 rounded-xl py-3 px-4 text-[10px] font-black uppercase outline-none"})}),l.map(U=>i.jsxs("div",{className:"group relative",children:[i.jsxs("button",{onClick:()=>B(U.id),className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl transition-all ${N===U.id?"bg-orange-50 text-orange-600 ring-1 ring-orange-100 shadow-sm font-black":"text-[var(--text-muted)] hover:bg-[var(--bg-main)]"}`,children:[i.jsx("i",{className:`fa-solid ${U.icon} text-xs w-4 text-center`,style:{color:U.color}}),i.jsx("span",{className:"text-[11px] uppercase tracking-widest truncate pr-6",children:U.name}),i.jsx("span",{className:"ml-auto text-[8px] opacity-40",children:t.filter(Q=>Q.storeId===U.id).length})]}),i.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx("button",{onClick:()=>{confirm(" ?")&&o(U.id)},className:"text-[10px] hover:text-rose-500 transition-colors p-2",children:i.jsx("i",{className:"fa-solid fa-trash"})})})]},U.id))]})]}),i.jsxs("main",{className:`flex-1 flex flex-col bg-[var(--bg-main)] relative min-w-0 transition-transform duration-300 ${R&&!k?"translate-x-full":"translate-x-0"}`,children:[i.jsxs("header",{className:"px-6 md:px-10 py-5 md:py-8 border-b border-[var(--border-color)] flex flex-col md:flex-row justify-between items-start md:items-center bg-[var(--bg-card)] sticky top-0 z-10 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 w-full",children:[R&&i.jsx("button",{onClick:()=>z(!1),className:"w-9 h-9 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400 mr-1",children:i.jsx("i",{className:"fa-solid fa-chevron-left"})}),i.jsxs(Y,{variant:"h2",className:"text-xl md:text-2xl font-black uppercase tracking-tight text-[var(--text-main)] flex items-center gap-3 truncate",children:[i.jsx("i",{className:`fa-solid ${N==="all"?"fa-layer-group":"fa-shop"} opacity-20 text-base md:text-lg`}),N==="all"?" ":((de=l.find(U=>U.id===N))==null?void 0:de.name)||""]})]}),N!=="all"&&i.jsxs("form",{onSubmit:X,className:"flex gap-2 w-full md:w-auto",children:[i.jsx("input",{value:D,onChange:U=>O(U.target.value),placeholder:" ?",className:"flex-1 bg-[var(--bg-main)] border border-[var(--border-color)] rounded-xl px-4 py-3 md:py-2 text-[12px] font-bold outline-none md:w-64 focus:ring-2 focus:ring-orange-500 transition-all"}),i.jsx(Fe,{type:"submit",size:"sm",className:"rounded-xl font-black shadow-lg shrink-0 px-5",children:""})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 md:p-10",children:i.jsx("div",{className:"flex flex-col gap-2 max-w-xl mx-auto md:mx-0",children:V.length>0?V.map(U=>{const Q=l.find(ve=>ve.id===U.storeId),W=te(U.name),pe=U.priceHistory&&U.priceHistory.length>0?U.priceHistory[0]:null;return i.jsxs(Me,{padding:"none",onClick:()=>_(U.id),className:`p-4 flex items-center justify-between group transition-all cursor-pointer ${U.isBought?"opacity-40 grayscale bg-slate-50":"bg-white border-slate-100 hover:border-orange-200 shadow-sm hover:shadow-md"}`,children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[i.jsx("button",{onClick:ve=>{ve.stopPropagation(),p(U.id)},className:`w-7 h-7 rounded-lg border-2 flex items-center justify-center transition-all shrink-0 ${U.isBought?"bg-emerald-500 border-emerald-500 text-white shadow-inner":"border-slate-200 bg-white hover:border-orange-400"}`,children:U.isBought&&i.jsx("i",{className:"fa-solid fa-check text-xs"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-wrap",children:[i.jsx("span",{className:`text-[13px] md:text-sm font-bold truncate max-w-[150px] md:max-w-none ${U.isBought?"line-through text-slate-400":"text-slate-800"}`,children:U.name}),pe&&i.jsxs(Xe,{variant:"orange",className:"text-[8px] font-black",children:[pe.price," "]})]}),i.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mt-1.5 flex-wrap",children:[N==="all"&&Q&&i.jsx(Xe,{variant:"slate",className:"text-[7px] py-0 px-1 uppercase opacity-60 tracking-tighter",children:Q.name}),W&&!U.isBought&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-1 h-1 rounded-full bg-emerald-500 animate-pulse"}),i.jsxs("span",{className:"text-[8px] font-black text-emerald-600 uppercase tracking-widest",children:["Best: ",W," "]})]}),pe&&i.jsxs("span",{className:"text-[7px] font-bold text-slate-300 uppercase truncate",children:[" : ",pe.storeName]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3 shrink-0 ml-2",children:[U.note&&i.jsx("i",{className:"fa-solid fa-comment-dots text-orange-200 text-[10px] animate-bounce"}),i.jsx("i",{className:"fa-solid fa-chevron-right text-[10px] text-slate-200 group-hover:text-orange-400 group-hover:translate-x-0.5 transition-all"})]})]},U.id)}):i.jsxs("div",{className:"py-20 text-center opacity-10 flex flex-col items-center select-none pointer-events-none",children:[i.jsx("i",{className:"fa-solid fa-basket-shopping text-7xl mb-6"}),i.jsx(Y,{variant:"h2",className:"text-xl",children:" "}),i.jsx(Y,{variant:"body",className:"mt-2 text-xs",children:"    "})]})})})]}),j&&i.jsxs("div",{className:"fixed md:relative inset-0 md:inset-auto flex h-full border-l border-[var(--border-color)] z-[100] md:z-40 bg-white md:bg-[var(--bg-card)] shrink-0 transition-all duration-300",children:[!R&&i.jsx("div",{onMouseDown:x,className:`w-[1px] h-full cursor-col-resize hover:bg-orange-500 z-[110] transition-colors ${y?"bg-orange-500":"bg-[var(--border-color)]/50"}`}),i.jsx("div",{style:{width:R?"100vw":v},className:"h-full bg-white relative overflow-hidden flex flex-col shadow-2xl",children:i.jsx($_,{item:t.find(U=>U.id===j),onClose:()=>_(null)})})]})]})},Y_=()=>{var I;const{activeTab:l,setActiveTab:t,tasks:n,pendingUndo:s,undoLastAction:o,character:u,projects:p,aiEnabled:g,theme:v}=$e(),[x,y]=zs.useState(!1),[N,w]=A.useState(!1),[j,_]=A.useState([]),T=new Date().setHours(0,0,0,0);A.useEffect(()=>{document.documentElement.setAttribute("data-theme",v)},[v]),A.useEffect(()=>{const O=setInterval(()=>{const R=Date.now(),$=R-6e4,k=n.filter(z=>!z.isDeleted&&z.status!==Ne.DONE&&z.scheduledDate&&z.scheduledDate<=R&&z.scheduledDate>$);k.length>0&&k.forEach(z=>_(G=>[{id:Math.random().toString(),task:z},...G]))},6e4);return()=>clearInterval(O)},[n]);const S=zs.useMemo(()=>({today:n.filter(D=>!D.isDeleted&&D.status!==Ne.DONE&&D.scheduledDate&&new Date(D.scheduledDate).setHours(0,0,0,0)===T).length,inbox:n.filter(D=>!D.isDeleted&&D.status===Ne.INBOX&&D.category!=="note"&&!D.projectId&&!D.scheduledDate).length,next_actions:n.filter(D=>!D.isDeleted&&D.status===Ne.NEXT_ACTION).length,notes:n.filter(D=>!D.isDeleted&&D.category==="note"&&D.status!==Ne.DONE).length,calendar:n.filter(D=>!D.isDeleted&&D.status!==Ne.DONE&&!!D.scheduledDate).length,trash:n.filter(D=>D.isDeleted).length}),[n,T]),M=()=>{switch(l){case"today":return i.jsx(j_,{});case"dashboard":return i.jsx(l_,{character:u,tasks:n.filter(D=>!D.isDeleted),projects:p});case"map":return i.jsx(i_,{});case"inbox":return i.jsx(eu,{});case"next_actions":return i.jsx(eu,{showNextActions:!0});case"diary":return i.jsx(A_,{});case"notes":return i.jsx(E_,{});case"habits":return i.jsx(__,{});case"people":return i.jsx(G_,{});case"hobbies":return i.jsx(y_,{});case"shopping":return i.jsx(F_,{});case"completed":return i.jsx(eu,{showCompleted:!0});case"calendar":return i.jsx(g_,{});case"projects":return i.jsx(S_,{});case"hashtags":return i.jsx(v_,{tasks:n.filter(D=>!D.isDeleted)});case"trash":return i.jsx(D_,{});case"character":return i.jsx(q_,{});case"settings":return i.jsx(P_,{});case"focus":return i.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-12 text-center bg-[var(--bg-main)]",children:[i.jsx("div",{className:"w-24 h-24 bg-[var(--primary)]/10 text-[var(--primary)] rounded-full flex items-center justify-center text-4xl mb-6",children:i.jsx("i",{className:"fa-solid fa-bullseye"})}),i.jsx("h2",{className:"text-3xl font-black mb-4",children:" "}),i.jsx("button",{onClick:()=>y(!0),className:"px-10 py-4 bg-[var(--primary)] text-white rounded-2xl font-black shadow-xl",children:"  "})]});default:return null}};return i.jsxs("div",{className:"flex min-h-screen bg-[var(--bg-main)] text-[var(--text-main)] transition-colors duration-500 overflow-hidden",children:[i.jsx(vv,{activeTab:l,setActiveTab:t,counts:S}),i.jsxs("main",{className:"flex-1 overflow-y-auto relative",children:[M(),x&&i.jsx(b_,{taskTitle:((I=n.find(D=>!D.isDeleted))==null?void 0:I.title)||"  ",onExit:()=>y(!1)}),g&&!N&&i.jsx("button",{onClick:()=>w(!0),className:"fixed bottom-8 right-8 w-14 h-14 rounded-2xl bg-[var(--primary)] text-white shadow-2xl flex items-center justify-center z-40",children:i.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-xl"})})]}),i.jsxs("div",{className:`fixed top-0 right-0 h-screen bg-[var(--bg-card)]/90 border-l border-[var(--border-color)] flex flex-col backdrop-blur-xl transition-all duration-300 z-[100] ${N?"w-80 translate-x-0":"w-0 translate-x-full invisible"}`,children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-[var(--border-color)]",children:[i.jsxs("h3",{className:"font-black text-lg flex items-center gap-3",children:[i.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-[var(--primary)]"})," "]}),i.jsx("button",{onClick:()=>w(!1),className:"text-[var(--text-muted)]",children:i.jsx("i",{className:"fa-solid fa-chevron-right text-xs"})})]}),i.jsx("div",{className:"flex-1 p-6 space-y-4 overflow-y-auto",children:i.jsx("div",{className:"bg-[var(--primary)]/5 p-4 rounded-2xl border border-[var(--primary)]/10 text-sm font-medium leading-relaxed",children:"!    .   ?"})})]})]})},Z_=()=>i.jsx(gv,{children:i.jsx(Y_,{})}),Ox=document.getElementById("root");if(!Ox)throw new Error("Could not find root element to mount to");const J_=mv.createRoot(Ox);J_.render(i.jsx(zs.StrictMode,{children:i.jsx(Z_,{})}));
